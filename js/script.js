"use strict";
function r(a, b) {
    var c = [1, -1]
        , d = Math.random() * (a - b) + b;
    return d *= c[Math.round(1 * Math.random())]
}
function init_wow() {
    !function(a) {
        var b = new WOW({
            boxClass: "wow",
            animateClass: "animated",
            offset: 90,
            mobile: !1,
            live: !0
        });
        a("body").hasClass("appear-animate") && b.init()
    }(jQuery)
}
function shuffle(a) {
    for (var b, c, d = a.length; 0 !== d; )
        c = Math.floor(Math.random() * d),
            d -= 1,
            b = a[d],
            a[d] = a[c],
            a[c] = b;
    return a
}
if (function(a, b) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
            if (!a.document)
                throw new Error("jQuery requires a window with a document");
            return b(a)
        }
            : b(a)
    }("undefined" != typeof window ? window : this, function(a, b) {
        function c(a) {
            var b = "length" in a && a.length
                , c = _.type(a);
            return "function" !== c && !_.isWindow(a) && (!(1 !== a.nodeType || !b) || ("array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a))
        }
        function d(a, b, c) {
            if (_.isFunction(b))
                return _.grep(a, function(a, d) {
                    return !!b.call(a, d, a) !== c
                });
            if (b.nodeType)
                return _.grep(a, function(a) {
                    return a === b !== c
                });
            if ("string" == typeof b) {
                if (ha.test(b))
                    return _.filter(b, a, c);
                b = _.filter(b, a)
            }
            return _.grep(a, function(a) {
                return U.call(b, a) >= 0 !== c
            })
        }
        function e(a, b) {
            for (; (a = a[b]) && 1 !== a.nodeType; )
                ;
            return a
        }
        function f(a) {
            var b = oa[a] = {};
            return _.each(a.match(na) || [], function(a, c) {
                b[c] = !0
            }),
                b
        }
        function g() {
            Z.removeEventListener("DOMContentLoaded", g, !1),
                a.removeEventListener("load", g, !1),
                _.ready()
        }
        function h() {
            Object.defineProperty(this.cache = {}, 0, {
                get: function() {
                    return {}
                }
            }),
                this.expando = _.expando + h.uid++
        }
        function i(a, b, c) {
            var d;
            if (void 0 === c && 1 === a.nodeType)
                if (d = "data-" + b.replace(ua, "-$1").toLowerCase(),
                        c = a.getAttribute(d),
                    "string" == typeof c) {
                    try {
                        c = "true" === c || "false" !== c && ("null" === c ? null  : +c + "" === c ? +c : ta.test(c) ? _.parseJSON(c) : c)
                    } catch (a) {}
                    sa.set(a, b, c)
                } else
                    c = void 0;
            return c
        }
        function j() {
            return !0
        }
        function k() {
            return !1
        }
        function l() {
            try {
                return Z.activeElement
            } catch (a) {}
        }
        function m(a, b) {
            return _.nodeName(a, "table") && _.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
        }
        function n(a) {
            return a.type = (null  !== a.getAttribute("type")) + "/" + a.type,
                a
        }
        function o(a) {
            var b = Ka.exec(a.type);
            return b ? a.type = b[1] : a.removeAttribute("type"),
                a
        }
        function p(a, b) {
            for (var c = 0, d = a.length; d > c; c++)
                ra.set(a[c], "globalEval", !b || ra.get(b[c], "globalEval"))
        }
        function q(a, b) {
            var c, d, e, f, g, h, i, j;
            if (1 === b.nodeType) {
                if (ra.hasData(a) && (f = ra.access(a),
                        g = ra.set(b, f),
                        j = f.events)) {
                    delete g.handle,
                        g.events = {};
                    for (e in j)
                        for (c = 0,
                                 d = j[e].length; d > c; c++)
                            _.event.add(b, e, j[e][c])
                }
                sa.hasData(a) && (h = sa.access(a),
                    i = _.extend({}, h),
                    sa.set(b, i))
            }
        }
        function r(a, b) {
            var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
            return void 0 === b || b && _.nodeName(a, b) ? _.merge([a], c) : c
        }
        function s(a, b) {
            var c = b.nodeName.toLowerCase();
            "input" === c && ya.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
        }
        function t(b, c) {
            var d, e = _(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : _.css(e[0], "display");
            return e.detach(),
                f
        }
        function u(a) {
            var b = Z
                , c = Oa[a];
            return c || (c = t(a, b),
            "none" !== c && c || (Na = (Na || _("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),
                b = Na[0].contentDocument,
                b.write(),
                b.close(),
                c = t(a, b),
                Na.detach()),
                Oa[a] = c),
                c
        }
        function v(a, b, c) {
            var d, e, f, g, h = a.style;
            return c = c || Ra(a),
            c && (g = c.getPropertyValue(b) || c[b]),
            c && ("" !== g || _.contains(a.ownerDocument, a) || (g = _.style(a, b)),
            Qa.test(g) && Pa.test(b) && (d = h.width,
                e = h.minWidth,
                f = h.maxWidth,
                h.minWidth = h.maxWidth = h.width = g,
                g = c.width,
                h.width = d,
                h.minWidth = e,
                h.maxWidth = f)),
                void 0 !== g ? g + "" : g
        }
        function w(a, b) {
            return {
                get: function() {
                    return a() ? void delete this.get : (this.get = b).apply(this, arguments)
                }
            }
        }
        function x(a, b) {
            if (b in a)
                return b;
            for (var c = b[0].toUpperCase() + b.slice(1), d = b, e = Xa.length; e--; )
                if (b = Xa[e] + c,
                    b in a)
                    return b;
            return d
        }
        function y(a, b, c) {
            var d = Ta.exec(b);
            return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
        }
        function z(a, b, c, d, e) {
            for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)
                "margin" === c && (g += _.css(a, c + wa[f], !0, e)),
                    d ? ("content" === c && (g -= _.css(a, "padding" + wa[f], !0, e)),
                    "margin" !== c && (g -= _.css(a, "border" + wa[f] + "Width", !0, e))) : (g += _.css(a, "padding" + wa[f], !0, e),
                    "padding" !== c && (g += _.css(a, "border" + wa[f] + "Width", !0, e)));
            return g
        }
        function A(a, b, c) {
            var d = !0
                , e = "width" === b ? a.offsetWidth : a.offsetHeight
                , f = Ra(a)
                , g = "border-box" === _.css(a, "boxSizing", !1, f);
            if (0 >= e || null  == e) {
                if (e = v(a, b, f),
                    (0 > e || null  == e) && (e = a.style[b]),
                        Qa.test(e))
                    return e;
                d = g && (Y.boxSizingReliable() || e === a.style[b]),
                    e = parseFloat(e) || 0
            }
            return e + z(a, b, c || (g ? "border" : "content"), d, f) + "px"
        }
        function B(a, b) {
            for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
                d = a[g],
                d.style && (f[g] = ra.get(d, "olddisplay"),
                    c = d.style.display,
                    b ? (f[g] || "none" !== c || (d.style.display = ""),
                    "" === d.style.display && xa(d) && (f[g] = ra.access(d, "olddisplay", u(d.nodeName)))) : (e = xa(d),
                    "none" === c && e || ra.set(d, "olddisplay", e ? c : _.css(d, "display"))));
            for (g = 0; h > g; g++)
                d = a[g],
                d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
            return a
        }
        function C(a, b, c, d, e) {
            return new C.prototype.init(a,b,c,d,e)
        }
        function D() {
            return setTimeout(function() {
                Ya = void 0
            }),
                Ya = _.now()
        }
        function E(a, b) {
            var c, d = 0, e = {
                height: a
            };
            for (b = b ? 1 : 0; 4 > d; d += 2 - b)
                c = wa[d],
                    e["margin" + c] = e["padding" + c] = a;
            return b && (e.opacity = e.width = a),
                e
        }
        function F(a, b, c) {
            for (var d, e = (cb[b] || []).concat(cb["*"]), f = 0, g = e.length; g > f; f++)
                if (d = e[f].call(c, b, a))
                    return d
        }
        function G(a, b, c) {
            var d, e, f, g, h, i, j, k, l = this, m = {}, n = a.style, o = a.nodeType && xa(a), p = ra.get(a, "fxshow");
            c.queue || (h = _._queueHooks(a, "fx"),
            null  == h.unqueued && (h.unqueued = 0,
                    i = h.empty.fire,
                    h.empty.fire = function() {
                        h.unqueued || i()
                    }
            ),
                h.unqueued++,
                l.always(function() {
                    l.always(function() {
                        h.unqueued--,
                        _.queue(a, "fx").length || h.empty.fire()
                    })
                })),
            1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [n.overflow, n.overflowX, n.overflowY],
                j = _.css(a, "display"),
                k = "none" === j ? ra.get(a, "olddisplay") || u(a.nodeName) : j,
            "inline" === k && "none" === _.css(a, "float") && (n.display = "inline-block")),
            c.overflow && (n.overflow = "hidden",
                l.always(function() {
                    n.overflow = c.overflow[0],
                        n.overflowX = c.overflow[1],
                        n.overflowY = c.overflow[2]
                }));
            for (d in b)
                if (e = b[d],
                        $a.exec(e)) {
                    if (delete b[d],
                            f = f || "toggle" === e,
                        e === (o ? "hide" : "show")) {
                        if ("show" !== e || !p || void 0 === p[d])
                            continue;o = !0
                    }
                    m[d] = p && p[d] || _.style(a, d)
                } else
                    j = void 0;
            if (_.isEmptyObject(m))
                "inline" === ("none" === j ? u(a.nodeName) : j) && (n.display = j);
            else {
                p ? "hidden" in p && (o = p.hidden) : p = ra.access(a, "fxshow", {}),
                f && (p.hidden = !o),
                    o ? _(a).show() : l.done(function() {
                        _(a).hide()
                    }),
                    l.done(function() {
                        var b;
                        ra.remove(a, "fxshow");
                        for (b in m)
                            _.style(a, b, m[b])
                    });
                for (d in m)
                    g = F(o ? p[d] : 0, d, l),
                    d in p || (p[d] = g.start,
                    o && (g.end = g.start,
                        g.start = "width" === d || "height" === d ? 1 : 0))
            }
        }
        function H(a, b) {
            var c, d, e, f, g;
            for (c in a)
                if (d = _.camelCase(c),
                        e = b[d],
                        f = a[c],
                    _.isArray(f) && (e = f[1],
                        f = a[c] = f[0]),
                    c !== d && (a[d] = f,
                        delete a[c]),
                        g = _.cssHooks[d],
                    g && "expand" in g) {
                    f = g.expand(f),
                        delete a[d];
                    for (c in f)
                        c in a || (a[c] = f[c],
                            b[c] = e)
                } else
                    b[d] = e
        }
        function I(a, b, c) {
            var d, e, f = 0, g = bb.length, h = _.Deferred().always(function() {
                delete i.elem
            }), i = function() {
                if (e)
                    return !1;
                for (var b = Ya || D(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)
                    j.tweens[g].run(f);
                return h.notifyWith(a, [j, f, c]),
                    1 > f && i ? c : (h.resolveWith(a, [j]),
                        !1)
            }
                , j = h.promise({
                elem: a,
                props: _.extend({}, b),
                opts: _.extend(!0, {
                    specialEasing: {}
                }, c),
                originalProperties: b,
                originalOptions: c,
                startTime: Ya || D(),
                duration: c.duration,
                tweens: [],
                createTween: function(b, c) {
                    var d = _.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                    return j.tweens.push(d),
                        d
                },
                stop: function(b) {
                    var c = 0
                        , d = b ? j.tweens.length : 0;
                    if (e)
                        return this;
                    for (e = !0; d > c; c++)
                        j.tweens[c].run(1);
                    return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]),
                        this
                }
            }), k = j.props;
            for (H(k, j.opts.specialEasing); g > f; f++)
                if (d = bb[f].call(j, a, k, j.opts))
                    return d;
            return _.map(k, F, j),
            _.isFunction(j.opts.start) && j.opts.start.call(a, j),
                _.fx.timer(_.extend(i, {
                    elem: a,
                    anim: j,
                    queue: j.opts.queue
                })),
                j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
        }
        function J(a) {
            return function(b, c) {
                "string" != typeof b && (c = b,
                    b = "*");
                var d, e = 0, f = b.toLowerCase().match(na) || [];
                if (_.isFunction(c))
                    for (; d = f[e++]; )
                        "+" === d[0] ? (d = d.slice(1) || "*",
                            (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
            }
        }
        function K(a, b, c, d) {
            function e(h) {
                var i;
                return f[h] = !0,
                    _.each(a[h] || [], function(a, h) {
                        var j = h(b, c, d);
                        return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j),
                            e(j),
                            !1)
                    }),
                    i
            }
            var f = {}
                , g = a === tb;
            return e(b.dataTypes[0]) || !f["*"] && e("*")
        }
        function L(a, b) {
            var c, d, e = _.ajaxSettings.flatOptions || {};
            for (c in b)
                void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
            return d && _.extend(!0, a, d),
                a
        }
        function M(a, b, c) {
            for (var d, e, f, g, h = a.contents, i = a.dataTypes; "*" === i[0]; )
                i.shift(),
                void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
            if (d)
                for (e in h)
                    if (h[e] && h[e].test(d)) {
                        i.unshift(e);
                        break
                    }
            if (i[0] in c)
                f = i[0];
            else {
                for (e in c) {
                    if (!i[0] || a.converters[e + " " + i[0]]) {
                        f = e;
                        break
                    }
                    g || (g = e)
                }
                f = f || g
            }
            return f ? (f !== i[0] && i.unshift(f),
                c[f]) : void 0
        }
        function N(a, b, c, d) {
            var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
            if (k[1])
                for (g in a.converters)
                    j[g.toLowerCase()] = a.converters[g];
            for (f = k.shift(); f; )
                if (a.responseFields[f] && (c[a.responseFields[f]] = b),
                    !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
                        i = f,
                        f = k.shift())
                    if ("*" === f)
                        f = i;
                    else if ("*" !== i && i !== f) {
                        if (g = j[i + " " + f] || j["* " + f],
                                !g)
                            for (e in j)
                                if (h = e.split(" "),
                                    h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                    g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0],
                                        k.unshift(h[1]));
                                    break
                                }
                        if (g !== !0)
                            if (g && a.throws)
                                b = g(b);
                            else
                                try {
                                    b = g(b)
                                } catch (a) {
                                    return {
                                        state: "parsererror",
                                        error: g ? a : "No conversion from " + i + " to " + f
                                    }
                                }
                    }
            return {
                state: "success",
                data: b
            }
        }
        function O(a, b, c, d) {
            var e;
            if (_.isArray(b))
                _.each(b, function(b, e) {
                    c || yb.test(a) ? d(a, e) : O(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
                });
            else if (c || "object" !== _.type(b))
                d(a, b);
            else
                for (e in b)
                    O(a + "[" + e + "]", b[e], c, d)
        }
        function P(a) {
            return _.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
        }
        var Q = []
            , R = Q.slice
            , S = Q.concat
            , T = Q.push
            , U = Q.indexOf
            , V = {}
            , W = V.toString
            , X = V.hasOwnProperty
            , Y = {}
            , Z = a.document
            , $ = "2.1.4"
            , _ = function(a, b) {
                return new _.fn.init(a,b)
            }
            , aa = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
            , ba = /^-ms-/
            , ca = /-([\da-z])/gi
            , da = function(a, b) {
                return b.toUpperCase()
            }
            ;
        _.fn = _.prototype = {
            jquery: $,
            constructor: _,
            selector: "",
            length: 0,
            toArray: function() {
                return R.call(this)
            },
            get: function(a) {
                return null  != a ? 0 > a ? this[a + this.length] : this[a] : R.call(this)
            },
            pushStack: function(a) {
                var b = _.merge(this.constructor(), a);
                return b.prevObject = this,
                    b.context = this.context,
                    b
            },
            each: function(a, b) {
                return _.each(this, a, b)
            },
            map: function(a) {
                return this.pushStack(_.map(this, function(b, c) {
                    return a.call(b, c, b)
                }))
            },
            slice: function() {
                return this.pushStack(R.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(a) {
                var b = this.length
                    , c = +a + (0 > a ? b : 0);
                return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor(null )
            },
            push: T,
            sort: Q.sort,
            splice: Q.splice
        },
            _.extend = _.fn.extend = function() {
                var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
                for ("boolean" == typeof g && (j = g,
                    g = arguments[h] || {},
                    h++),
                     "object" == typeof g || _.isFunction(g) || (g = {}),
                     h === i && (g = this,
                         h--); i > h; h++)
                    if (null  != (a = arguments[h]))
                        for (b in a)
                            c = g[b],
                                d = a[b],
                            g !== d && (j && d && (_.isPlainObject(d) || (e = _.isArray(d))) ? (e ? (e = !1,
                                f = c && _.isArray(c) ? c : []) : f = c && _.isPlainObject(c) ? c : {},
                                g[b] = _.extend(j, f, d)) : void 0 !== d && (g[b] = d));
                return g
            }
            ,
            _.extend({
                expando: "jQuery" + ($ + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function(a) {
                    throw new Error(a)
                },
                noop: function() {},
                isFunction: function(a) {
                    return "function" === _.type(a)
                },
                isArray: Array.isArray,
                isWindow: function(a) {
                    return null  != a && a === a.window
                },
                isNumeric: function(a) {
                    return !_.isArray(a) && a - parseFloat(a) + 1 >= 0
                },
                isPlainObject: function(a) {
                    return "object" === _.type(a) && !a.nodeType && !_.isWindow(a) && !(a.constructor && !X.call(a.constructor.prototype, "isPrototypeOf"))
                },
                isEmptyObject: function(a) {
                    var b;
                    for (b in a)
                        return !1;
                    return !0
                },
                type: function(a) {
                    return null  == a ? a + "" : "object" == typeof a || "function" == typeof a ? V[W.call(a)] || "object" : typeof a
                },
                globalEval: function(a) {
                    var b, c = eval;
                    a = _.trim(a),
                    a && (1 === a.indexOf("use strict") ? (b = Z.createElement("script"),
                        b.text = a,
                        Z.head.appendChild(b).parentNode.removeChild(b)) : c(a))
                },
                camelCase: function(a) {
                    return a.replace(ba, "ms-").replace(ca, da)
                },
                nodeName: function(a, b) {
                    return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
                },
                each: function(a, b, d) {
                    var e, f = 0, g = a.length, h = c(a);
                    if (d) {
                        if (h)
                            for (; g > f && (e = b.apply(a[f], d),
                            e !== !1); f++)
                                ;
                        else
                            for (f in a)
                                if (e = b.apply(a[f], d),
                                    e === !1)
                                    break
                    } else if (h)
                        for (; g > f && (e = b.call(a[f], f, a[f]),
                        e !== !1); f++)
                            ;
                    else
                        for (f in a)
                            if (e = b.call(a[f], f, a[f]),
                                e === !1)
                                break;
                    return a
                },
                trim: function(a) {
                    return null  == a ? "" : (a + "").replace(aa, "")
                },
                makeArray: function(a, b) {
                    var d = b || [];
                    return null  != a && (c(Object(a)) ? _.merge(d, "string" == typeof a ? [a] : a) : T.call(d, a)),
                        d
                },
                inArray: function(a, b, c) {
                    return null  == b ? -1 : U.call(b, a, c)
                },
                merge: function(a, b) {
                    for (var c = +b.length, d = 0, e = a.length; c > d; d++)
                        a[e++] = b[d];
                    return a.length = e,
                        a
                },
                grep: function(a, b, c) {
                    for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
                        d = !b(a[f], f),
                        d !== h && e.push(a[f]);
                    return e
                },
                map: function(a, b, d) {
                    var e, f = 0, g = a.length, h = c(a), i = [];
                    if (h)
                        for (; g > f; f++)
                            e = b(a[f], f, d),
                            null  != e && i.push(e);
                    else
                        for (f in a)
                            e = b(a[f], f, d),
                            null  != e && i.push(e);
                    return S.apply([], i)
                },
                guid: 1,
                proxy: function(a, b) {
                    var c, d, e;
                    return "string" == typeof b && (c = a[b],
                        b = a,
                        a = c),
                        _.isFunction(a) ? (d = R.call(arguments, 2),
                            e = function() {
                                return a.apply(b || this, d.concat(R.call(arguments)))
                            }
                            ,
                            e.guid = a.guid = a.guid || _.guid++,
                            e) : void 0
                },
                now: Date.now,
                support: Y
            }),
            _.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
                V["[object " + b + "]"] = b.toLowerCase()
            });
        var ea = function(a) {
            function b(a, b, c, d) {
                var e, f, g, h, i, j, l, n, o, p;
                if ((b ? b.ownerDocument || b : O) !== G && F(b),
                        b = b || G,
                        c = c || [],
                        h = b.nodeType,
                    "string" != typeof a || !a || 1 !== h && 9 !== h && 11 !== h)
                    return c;
                if (!d && I) {
                    if (11 !== h && (e = sa.exec(a)))
                        if (g = e[1]) {
                            if (9 === h) {
                                if (f = b.getElementById(g),
                                    !f || !f.parentNode)
                                    return c;
                                if (f.id === g)
                                    return c.push(f),
                                        c
                            } else if (b.ownerDocument && (f = b.ownerDocument.getElementById(g)) && M(b, f) && f.id === g)
                                return c.push(f),
                                    c
                        } else {
                            if (e[2])
                                return $.apply(c, b.getElementsByTagName(a)),
                                    c;
                            if ((g = e[3]) && v.getElementsByClassName)
                                return $.apply(c, b.getElementsByClassName(g)),
                                    c
                        }
                    if (v.qsa && (!J || !J.test(a))) {
                        if (n = l = N,
                                o = b,
                                p = 1 !== h && a,
                            1 === h && "object" !== b.nodeName.toLowerCase()) {
                            for (j = z(a),
                                     (l = b.getAttribute("id")) ? n = l.replace(ua, "\\$&") : b.setAttribute("id", n),
                                     n = "[id='" + n + "'] ",
                                     i = j.length; i--; )
                                j[i] = n + m(j[i]);
                            o = ta.test(a) && k(b.parentNode) || b,
                                p = j.join(",")
                        }
                        if (p)
                            try {
                                return $.apply(c, o.querySelectorAll(p)),
                                    c
                            } catch (a) {} finally {
                                l || b.removeAttribute("id")
                            }
                    }
                }
                return B(a.replace(ia, "$1"), b, c, d)
            }
            function c() {
                function a(c, d) {
                    return b.push(c + " ") > w.cacheLength && delete a[b.shift()],
                        a[c + " "] = d
                }
                var b = [];
                return a
            }
            function d(a) {
                return a[N] = !0,
                    a
            }
            function e(a) {
                var b = G.createElement("div");
                try {
                    return !!a(b)
                } catch (a) {
                    return !1
                } finally {
                    b.parentNode && b.parentNode.removeChild(b),
                        b = null
                }
            }
            function f(a, b) {
                for (var c = a.split("|"), d = a.length; d--; )
                    w.attrHandle[c[d]] = b
            }
            function g(a, b) {
                var c = b && a
                    , d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || V) - (~a.sourceIndex || V);
                if (d)
                    return d;
                if (c)
                    for (; c = c.nextSibling; )
                        if (c === b)
                            return -1;
                return a ? 1 : -1
            }
            function h(a) {
                return function(b) {
                    var c = b.nodeName.toLowerCase();
                    return "input" === c && b.type === a
                }
            }
            function i(a) {
                return function(b) {
                    var c = b.nodeName.toLowerCase();
                    return ("input" === c || "button" === c) && b.type === a
                }
            }
            function j(a) {
                return d(function(b) {
                    return b = +b,
                        d(function(c, d) {
                            for (var e, f = a([], c.length, b), g = f.length; g--; )
                                c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                        })
                })
            }
            function k(a) {
                return a && "undefined" != typeof a.getElementsByTagName && a
            }
            function l() {}
            function m(a) {
                for (var b = 0, c = a.length, d = ""; c > b; b++)
                    d += a[b].value;
                return d
            }
            function n(a, b, c) {
                var d = b.dir
                    , e = c && "parentNode" === d
                    , f = Q++;
                return b.first ? function(b, c, f) {
                    for (; b = b[d]; )
                        if (1 === b.nodeType || e)
                            return a(b, c, f)
                }
                    : function(b, c, g) {
                    var h, i, j = [P, f];
                    if (g) {
                        for (; b = b[d]; )
                            if ((1 === b.nodeType || e) && a(b, c, g))
                                return !0
                    } else
                        for (; b = b[d]; )
                            if (1 === b.nodeType || e) {
                                if (i = b[N] || (b[N] = {}),
                                    (h = i[d]) && h[0] === P && h[1] === f)
                                    return j[2] = h[2];
                                if (i[d] = j,
                                        j[2] = a(b, c, g))
                                    return !0
                            }
                }
            }
            function o(a) {
                return a.length > 1 ? function(b, c, d) {
                    for (var e = a.length; e--; )
                        if (!a[e](b, c, d))
                            return !1;
                    return !0
                }
                    : a[0]
            }
            function p(a, c, d) {
                for (var e = 0, f = c.length; f > e; e++)
                    b(a, c[e], d);
                return d
            }
            function q(a, b, c, d, e) {
                for (var f, g = [], h = 0, i = a.length, j = null  != b; i > h; h++)
                    (f = a[h]) && (!c || c(f, d, e)) && (g.push(f),
                    j && b.push(h));
                return g
            }
            function r(a, b, c, e, f, g) {
                return e && !e[N] && (e = r(e)),
                f && !f[N] && (f = r(f, g)),
                    d(function(d, g, h, i) {
                        var j, k, l, m = [], n = [], o = g.length, r = d || p(b || "*", h.nodeType ? [h] : h, []), s = !a || !d && b ? r : q(r, m, a, h, i), t = c ? f || (d ? a : o || e) ? [] : g : s;
                        if (c && c(s, t, h, i),
                                e)
                            for (j = q(t, n),
                                     e(j, [], h, i),
                                     k = j.length; k--; )
                                (l = j[k]) && (t[n[k]] = !(s[n[k]] = l));
                        if (d) {
                            if (f || a) {
                                if (f) {
                                    for (j = [],
                                             k = t.length; k--; )
                                        (l = t[k]) && j.push(s[k] = l);
                                    f(null , t = [], j, i)
                                }
                                for (k = t.length; k--; )
                                    (l = t[k]) && (j = f ? aa(d, l) : m[k]) > -1 && (d[j] = !(g[j] = l))
                            }
                        } else
                            t = q(t === g ? t.splice(o, t.length) : t),
                                f ? f(null , g, t, i) : $.apply(g, t)
                    })
            }
            function s(a) {
                for (var b, c, d, e = a.length, f = w.relative[a[0].type], g = f || w.relative[" "], h = f ? 1 : 0, i = n(function(a) {
                    return a === b
                }, g, !0), j = n(function(a) {
                    return aa(b, a) > -1
                }, g, !0), k = [function(a, c, d) {
                    var e = !f && (d || c !== C) || ((b = c).nodeType ? i(a, c, d) : j(a, c, d));
                    return b = null ,
                        e
                }
                ]; e > h; h++)
                    if (c = w.relative[a[h].type])
                        k = [n(o(k), c)];
                    else {
                        if (c = w.filter[a[h].type].apply(null , a[h].matches),
                                c[N]) {
                            for (d = ++h; e > d && !w.relative[a[d].type]; d++)
                                ;
                            return r(h > 1 && o(k), h > 1 && m(a.slice(0, h - 1).concat({
                                    value: " " === a[h - 2].type ? "*" : ""
                                })).replace(ia, "$1"), c, d > h && s(a.slice(h, d)), e > d && s(a = a.slice(d)), e > d && m(a))
                        }
                        k.push(c)
                    }
                return o(k)
            }
            function t(a, c) {
                var e = c.length > 0
                    , f = a.length > 0
                    , g = function(d, g, h, i, j) {
                        var k, l, m, n = 0, o = "0", p = d && [], r = [], s = C, t = d || f && w.find.TAG("*", j), u = P += null  == s ? 1 : Math.random() || .1, v = t.length;
                        for (j && (C = g !== G && g); o !== v && null  != (k = t[o]); o++) {
                            if (f && k) {
                                for (l = 0; m = a[l++]; )
                                    if (m(k, g, h)) {
                                        i.push(k);
                                        break
                                    }
                                j && (P = u)
                            }
                            e && ((k = !m && k) && n--,
                            d && p.push(k))
                        }
                        if (n += o,
                            e && o !== n) {
                            for (l = 0; m = c[l++]; )
                                m(p, r, g, h);
                            if (d) {
                                if (n > 0)
                                    for (; o--; )
                                        p[o] || r[o] || (r[o] = Y.call(i));
                                r = q(r)
                            }
                            $.apply(i, r),
                            j && !d && r.length > 0 && n + c.length > 1 && b.uniqueSort(i)
                        }
                        return j && (P = u,
                            C = s),
                            p
                    }
                    ;
                return e ? d(g) : g
            }
            var u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N = "sizzle" + 1 * new Date, O = a.document, P = 0, Q = 0, R = c(), S = c(), T = c(), U = function(a, b) {
                    return a === b && (E = !0),
                        0
                }
                , V = 1 << 31, W = {}.hasOwnProperty, X = [], Y = X.pop, Z = X.push, $ = X.push, _ = X.slice, aa = function(a, b) {
                    for (var c = 0, d = a.length; d > c; c++)
                        if (a[c] === b)
                            return c;
                    return -1
                }
                , ba = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", ca = "[\\x20\\t\\r\\n\\f]", da = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", ea = da.replace("w", "w#"), fa = "\\[" + ca + "*(" + da + ")(?:" + ca + "*([*^$|!~]?=)" + ca + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ea + "))|)" + ca + "*\\]", ga = ":(" + da + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + fa + ")*)|.*)\\)|)", ha = new RegExp(ca + "+","g"), ia = new RegExp("^" + ca + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ca + "+$","g"), ja = new RegExp("^" + ca + "*," + ca + "*"), ka = new RegExp("^" + ca + "*([>+~]|" + ca + ")" + ca + "*"), la = new RegExp("=" + ca + "*([^\\]'\"]*?)" + ca + "*\\]","g"), ma = new RegExp(ga), na = new RegExp("^" + ea + "$"), oa = {
                    ID: new RegExp("^#(" + da + ")"),
                    CLASS: new RegExp("^\\.(" + da + ")"),
                    TAG: new RegExp("^(" + da.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + fa),
                    PSEUDO: new RegExp("^" + ga),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ca + "*(even|odd|(([+-]|)(\\d*)n|)" + ca + "*(?:([+-]|)" + ca + "*(\\d+)|))" + ca + "*\\)|)","i"),
                    bool: new RegExp("^(?:" + ba + ")$","i"),
                    needsContext: new RegExp("^" + ca + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ca + "*((?:-\\d)?\\d*)" + ca + "*\\)|)(?=[^-]|$)","i")
                }, pa = /^(?:input|select|textarea|button)$/i, qa = /^h\d$/i, ra = /^[^{]+\{\s*\[native \w/, sa = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ta = /[+~]/, ua = /'|\\/g, va = new RegExp("\\\\([\\da-f]{1,6}" + ca + "?|(" + ca + ")|.)","ig"), wa = function(a, b, c) {
                    var d = "0x" + b - 65536;
                    return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
                }
                , xa = function() {
                    F()
                }
                ;
            try {
                $.apply(X = _.call(O.childNodes), O.childNodes),
                    X[O.childNodes.length].nodeType
            } catch (a) {
                $ = {
                    apply: X.length ? function(a, b) {
                        Z.apply(a, _.call(b))
                    }
                        : function(a, b) {
                        for (var c = a.length, d = 0; a[c++] = b[d++]; )
                            ;
                        a.length = c - 1
                    }
                }
            }
            v = b.support = {},
                y = b.isXML = function(a) {
                    var b = a && (a.ownerDocument || a).documentElement;
                    return !!b && "HTML" !== b.nodeName
                }
                ,
                F = b.setDocument = function(a) {
                    var b, c, d = a ? a.ownerDocument || a : O;
                    return d !== G && 9 === d.nodeType && d.documentElement ? (G = d,
                        H = d.documentElement,
                        c = d.defaultView,
                    c && c !== c.top && (c.addEventListener ? c.addEventListener("unload", xa, !1) : c.attachEvent && c.attachEvent("onunload", xa)),
                        I = !y(d),
                        v.attributes = e(function(a) {
                            return a.className = "i",
                                !a.getAttribute("className")
                        }),
                        v.getElementsByTagName = e(function(a) {
                            return a.appendChild(d.createComment("")),
                                !a.getElementsByTagName("*").length
                        }),
                        v.getElementsByClassName = ra.test(d.getElementsByClassName),
                        v.getById = e(function(a) {
                            return H.appendChild(a).id = N,
                            !d.getElementsByName || !d.getElementsByName(N).length
                        }),
                        v.getById ? (w.find.ID = function(a, b) {
                                if ("undefined" != typeof b.getElementById && I) {
                                    var c = b.getElementById(a);
                                    return c && c.parentNode ? [c] : []
                                }
                            }
                                ,
                                w.filter.ID = function(a) {
                                    var b = a.replace(va, wa);
                                    return function(a) {
                                        return a.getAttribute("id") === b
                                    }
                                }
                        ) : (delete w.find.ID,
                                w.filter.ID = function(a) {
                                    var b = a.replace(va, wa);
                                    return function(a) {
                                        var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                                        return c && c.value === b
                                    }
                                }
                        ),
                        w.find.TAG = v.getElementsByTagName ? function(a, b) {
                            return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : v.qsa ? b.querySelectorAll(a) : void 0
                        }
                            : function(a, b) {
                            var c, d = [], e = 0, f = b.getElementsByTagName(a);
                            if ("*" === a) {
                                for (; c = f[e++]; )
                                    1 === c.nodeType && d.push(c);
                                return d
                            }
                            return f
                        }
                        ,
                        w.find.CLASS = v.getElementsByClassName && function(a, b) {
                                return I ? b.getElementsByClassName(a) : void 0
                            }
                        ,
                        K = [],
                        J = [],
                    (v.qsa = ra.test(d.querySelectorAll)) && (e(function(a) {
                        H.appendChild(a).innerHTML = "<a id='" + N + "'></a><select id='" + N + "-\f]' msallowcapture=''><option selected=''></option></select>",
                        a.querySelectorAll("[msallowcapture^='']").length && J.push("[*^$]=" + ca + "*(?:''|\"\")"),
                        a.querySelectorAll("[selected]").length || J.push("\\[" + ca + "*(?:value|" + ba + ")"),
                        a.querySelectorAll("[id~=" + N + "-]").length || J.push("~="),
                        a.querySelectorAll(":checked").length || J.push(":checked"),
                        a.querySelectorAll("a#" + N + "+*").length || J.push(".#.+[+~]")
                    }),
                        e(function(a) {
                            var b = d.createElement("input");
                            b.setAttribute("type", "hidden"),
                                a.appendChild(b).setAttribute("name", "D"),
                            a.querySelectorAll("[name=d]").length && J.push("name" + ca + "*[*^$|!~]?="),
                            a.querySelectorAll(":enabled").length || J.push(":enabled", ":disabled"),
                                a.querySelectorAll("*,:x"),
                                J.push(",.*:")
                        })),
                    (v.matchesSelector = ra.test(L = H.matches || H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && e(function(a) {
                        v.disconnectedMatch = L.call(a, "div"),
                            L.call(a, "[s!='']:x"),
                            K.push("!=", ga)
                    }),
                        J = J.length && new RegExp(J.join("|")),
                        K = K.length && new RegExp(K.join("|")),
                        b = ra.test(H.compareDocumentPosition),
                        M = b || ra.test(H.contains) ? function(a, b) {
                            var c = 9 === a.nodeType ? a.documentElement : a
                                , d = b && b.parentNode;
                            return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
                        }
                            : function(a, b) {
                            if (b)
                                for (; b = b.parentNode; )
                                    if (b === a)
                                        return !0;
                            return !1
                        }
                        ,
                        U = b ? function(a, b) {
                            if (a === b)
                                return E = !0,
                                    0;
                            var c = !a.compareDocumentPosition - !b.compareDocumentPosition;
                            return c ? c : (c = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1,
                                1 & c || !v.sortDetached && b.compareDocumentPosition(a) === c ? a === d || a.ownerDocument === O && M(O, a) ? -1 : b === d || b.ownerDocument === O && M(O, b) ? 1 : D ? aa(D, a) - aa(D, b) : 0 : 4 & c ? -1 : 1)
                        }
                            : function(a, b) {
                            if (a === b)
                                return E = !0,
                                    0;
                            var c, e = 0, f = a.parentNode, h = b.parentNode, i = [a], j = [b];
                            if (!f || !h)
                                return a === d ? -1 : b === d ? 1 : f ? -1 : h ? 1 : D ? aa(D, a) - aa(D, b) : 0;
                            if (f === h)
                                return g(a, b);
                            for (c = a; c = c.parentNode; )
                                i.unshift(c);
                            for (c = b; c = c.parentNode; )
                                j.unshift(c);
                            for (; i[e] === j[e]; )
                                e++;
                            return e ? g(i[e], j[e]) : i[e] === O ? -1 : j[e] === O ? 1 : 0
                        }
                        ,
                        d) : G
                }
                ,
                b.matches = function(a, c) {
                    return b(a, null , null , c)
                }
                ,
                b.matchesSelector = function(a, c) {
                    if ((a.ownerDocument || a) !== G && F(a),
                            c = c.replace(la, "='$1']"),
                        v.matchesSelector && I && (!K || !K.test(c)) && (!J || !J.test(c)))
                        try {
                            var d = L.call(a, c);
                            if (d || v.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                                return d
                        } catch (a) {}
                    return b(c, G, null , [a]).length > 0
                }
                ,
                b.contains = function(a, b) {
                    return (a.ownerDocument || a) !== G && F(a),
                        M(a, b)
                }
                ,
                b.attr = function(a, b) {
                    (a.ownerDocument || a) !== G && F(a);
                    var c = w.attrHandle[b.toLowerCase()]
                        , d = c && W.call(w.attrHandle, b.toLowerCase()) ? c(a, b, !I) : void 0;
                    return void 0 !== d ? d : v.attributes || !I ? a.getAttribute(b) : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
                }
                ,
                b.error = function(a) {
                    throw new Error("Syntax error, unrecognized expression: " + a)
                }
                ,
                b.uniqueSort = function(a) {
                    var b, c = [], d = 0, e = 0;
                    if (E = !v.detectDuplicates,
                            D = !v.sortStable && a.slice(0),
                            a.sort(U),
                            E) {
                        for (; b = a[e++]; )
                            b === a[e] && (d = c.push(e));
                        for (; d--; )
                            a.splice(c[d], 1)
                    }
                    return D = null ,
                        a
                }
                ,
                x = b.getText = function(a) {
                    var b, c = "", d = 0, e = a.nodeType;
                    if (e) {
                        if (1 === e || 9 === e || 11 === e) {
                            if ("string" == typeof a.textContent)
                                return a.textContent;
                            for (a = a.firstChild; a; a = a.nextSibling)
                                c += x(a)
                        } else if (3 === e || 4 === e)
                            return a.nodeValue
                    } else
                        for (; b = a[d++]; )
                            c += x(b);
                    return c
                }
                ,
                w = b.selectors = {
                    cacheLength: 50,
                    createPseudo: d,
                    match: oa,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function(a) {
                            return a[1] = a[1].replace(va, wa),
                                a[3] = (a[3] || a[4] || a[5] || "").replace(va, wa),
                            "~=" === a[2] && (a[3] = " " + a[3] + " "),
                                a.slice(0, 4)
                        },
                        CHILD: function(a) {
                            return a[1] = a[1].toLowerCase(),
                                "nth" === a[1].slice(0, 3) ? (a[3] || b.error(a[0]),
                                    a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])),
                                    a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && b.error(a[0]),
                                a
                        },
                        PSEUDO: function(a) {
                            var b, c = !a[6] && a[2];
                            return oa.CHILD.test(a[0]) ? null  : (a[3] ? a[2] = a[4] || a[5] || "" : c && ma.test(c) && (b = z(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b),
                                a[2] = c.slice(0, b)),
                                a.slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function(a) {
                            var b = a.replace(va, wa).toLowerCase();
                            return "*" === a ? function() {
                                return !0
                            }
                                : function(a) {
                                return a.nodeName && a.nodeName.toLowerCase() === b
                            }
                        },
                        CLASS: function(a) {
                            var b = R[a + " "];
                            return b || (b = new RegExp("(^|" + ca + ")" + a + "(" + ca + "|$)")) && R(a, function(a) {
                                    return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                                })
                        },
                        ATTR: function(a, c, d) {
                            return function(e) {
                                var f = b.attr(e, a);
                                return null  == f ? "!=" === c : !c || (f += "",
                                    "=" === c ? f === d : "!=" === c ? f !== d : "^=" === c ? d && 0 === f.indexOf(d) : "*=" === c ? d && f.indexOf(d) > -1 : "$=" === c ? d && f.slice(-d.length) === d : "~=" === c ? (" " + f.replace(ha, " ") + " ").indexOf(d) > -1 : "|=" === c && (f === d || f.slice(0, d.length + 1) === d + "-"))
                            }
                        },
                        CHILD: function(a, b, c, d, e) {
                            var f = "nth" !== a.slice(0, 3)
                                , g = "last" !== a.slice(-4)
                                , h = "of-type" === b;
                            return 1 === d && 0 === e ? function(a) {
                                return !!a.parentNode
                            }
                                : function(b, c, i) {
                                var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                                if (q) {
                                    if (f) {
                                        for (; p; ) {
                                            for (l = b; l = l[p]; )
                                                if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)
                                                    return !1;
                                            o = p = "only" === a && !o && "nextSibling"
                                        }
                                        return !0
                                    }
                                    if (o = [g ? q.firstChild : q.lastChild],
                                        g && s) {
                                        for (k = q[N] || (q[N] = {}),
                                                 j = k[a] || [],
                                                 n = j[0] === P && j[1],
                                                 m = j[0] === P && j[2],
                                                 l = n && q.childNodes[n]; l = ++n && l && l[p] || (m = n = 0) || o.pop(); )
                                            if (1 === l.nodeType && ++m && l === b) {
                                                k[a] = [P, n, m];
                                                break
                                            }
                                    } else if (s && (j = (b[N] || (b[N] = {}))[a]) && j[0] === P)
                                        m = j[1];
                                    else
                                        for (; (l = ++n && l && l[p] || (m = n = 0) || o.pop()) && ((h ? l.nodeName.toLowerCase() !== r : 1 !== l.nodeType) || !++m || (s && ((l[N] || (l[N] = {}))[a] = [P, m]),
                                        l !== b)); )
                                            ;
                                    return m -= e,
                                    m === d || m % d === 0 && m / d >= 0
                                }
                            }
                        },
                        PSEUDO: function(a, c) {
                            var e, f = w.pseudos[a] || w.setFilters[a.toLowerCase()] || b.error("unsupported pseudo: " + a);
                            return f[N] ? f(c) : f.length > 1 ? (e = [a, a, "", c],
                                    w.setFilters.hasOwnProperty(a.toLowerCase()) ? d(function(a, b) {
                                        for (var d, e = f(a, c), g = e.length; g--; )
                                            d = aa(a, e[g]),
                                                a[d] = !(b[d] = e[g])
                                    }) : function(a) {
                                        return f(a, 0, e)
                                    }
                            ) : f
                        }
                    },
                    pseudos: {
                        not: d(function(a) {
                            var b = []
                                , c = []
                                , e = A(a.replace(ia, "$1"));
                            return e[N] ? d(function(a, b, c, d) {
                                for (var f, g = e(a, null , d, []), h = a.length; h--; )
                                    (f = g[h]) && (a[h] = !(b[h] = f))
                            }) : function(a, d, f) {
                                return b[0] = a,
                                    e(b, null , f, c),
                                    b[0] = null ,
                                    !c.pop()
                            }
                        }),
                        has: d(function(a) {
                            return function(c) {
                                return b(a, c).length > 0
                            }
                        }),
                        contains: d(function(a) {
                            return a = a.replace(va, wa),
                                function(b) {
                                    return (b.textContent || b.innerText || x(b)).indexOf(a) > -1
                                }
                        }),
                        lang: d(function(a) {
                            return na.test(a || "") || b.error("unsupported lang: " + a),
                                a = a.replace(va, wa).toLowerCase(),
                                function(b) {
                                    var c;
                                    do
                                        if (c = I ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                                            return c = c.toLowerCase(),
                                            c === a || 0 === c.indexOf(a + "-");
                                    while ((b = b.parentNode) && 1 === b.nodeType);return !1
                                }
                        }),
                        target: function(b) {
                            var c = a.location && a.location.hash;
                            return c && c.slice(1) === b.id
                        },
                        root: function(a) {
                            return a === H
                        },
                        focus: function(a) {
                            return a === G.activeElement && (!G.hasFocus || G.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                        },
                        enabled: function(a) {
                            return a.disabled === !1
                        },
                        disabled: function(a) {
                            return a.disabled === !0
                        },
                        checked: function(a) {
                            var b = a.nodeName.toLowerCase();
                            return "input" === b && !!a.checked || "option" === b && !!a.selected
                        },
                        selected: function(a) {
                            return a.parentNode && a.parentNode.selectedIndex,
                            a.selected === !0
                        },
                        empty: function(a) {
                            for (a = a.firstChild; a; a = a.nextSibling)
                                if (a.nodeType < 6)
                                    return !1;
                            return !0
                        },
                        parent: function(a) {
                            return !w.pseudos.empty(a)
                        },
                        header: function(a) {
                            return qa.test(a.nodeName)
                        },
                        input: function(a) {
                            return pa.test(a.nodeName)
                        },
                        button: function(a) {
                            var b = a.nodeName.toLowerCase();
                            return "input" === b && "button" === a.type || "button" === b
                        },
                        text: function(a) {
                            var b;
                            return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null  == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                        },
                        first: j(function() {
                            return [0]
                        }),
                        last: j(function(a, b) {
                            return [b - 1]
                        }),
                        eq: j(function(a, b, c) {
                            return [0 > c ? c + b : c]
                        }),
                        even: j(function(a, b) {
                            for (var c = 0; b > c; c += 2)
                                a.push(c);
                            return a
                        }),
                        odd: j(function(a, b) {
                            for (var c = 1; b > c; c += 2)
                                a.push(c);
                            return a
                        }),
                        lt: j(function(a, b, c) {
                            for (var d = 0 > c ? c + b : c; --d >= 0; )
                                a.push(d);
                            return a
                        }),
                        gt: j(function(a, b, c) {
                            for (var d = 0 > c ? c + b : c; ++d < b; )
                                a.push(d);
                            return a
                        })
                    }
                },
                w.pseudos.nth = w.pseudos.eq;
            for (u in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            })
                w.pseudos[u] = h(u);
            for (u in {
                submit: !0,
                reset: !0
            })
                w.pseudos[u] = i(u);
            return l.prototype = w.filters = w.pseudos,
                w.setFilters = new l,
                z = b.tokenize = function(a, c) {
                    var d, e, f, g, h, i, j, k = S[a + " "];
                    if (k)
                        return c ? 0 : k.slice(0);
                    for (h = a,
                             i = [],
                             j = w.preFilter; h; ) {
                        (!d || (e = ja.exec(h))) && (e && (h = h.slice(e[0].length) || h),
                            i.push(f = [])),
                            d = !1,
                        (e = ka.exec(h)) && (d = e.shift(),
                            f.push({
                                value: d,
                                type: e[0].replace(ia, " ")
                            }),
                            h = h.slice(d.length));
                        for (g in w.filter)
                            !(e = oa[g].exec(h)) || j[g] && !(e = j[g](e)) || (d = e.shift(),
                                f.push({
                                    value: d,
                                    type: g,
                                    matches: e
                                }),
                                h = h.slice(d.length));
                        if (!d)
                            break
                    }
                    return c ? h.length : h ? b.error(a) : S(a, i).slice(0)
                }
                ,
                A = b.compile = function(a, b) {
                    var c, d = [], e = [], f = T[a + " "];
                    if (!f) {
                        for (b || (b = z(a)),
                                 c = b.length; c--; )
                            f = s(b[c]),
                                f[N] ? d.push(f) : e.push(f);
                        f = T(a, t(e, d)),
                            f.selector = a
                    }
                    return f
                }
                ,
                B = b.select = function(a, b, c, d) {
                    var e, f, g, h, i, j = "function" == typeof a && a, l = !d && z(a = j.selector || a);
                    if (c = c || [],
                        1 === l.length) {
                        if (f = l[0] = l[0].slice(0),
                            f.length > 2 && "ID" === (g = f[0]).type && v.getById && 9 === b.nodeType && I && w.relative[f[1].type]) {
                            if (b = (w.find.ID(g.matches[0].replace(va, wa), b) || [])[0],
                                    !b)
                                return c;
                            j && (b = b.parentNode),
                                a = a.slice(f.shift().value.length)
                        }
                        for (e = oa.needsContext.test(a) ? 0 : f.length; e-- && (g = f[e],
                            !w.relative[h = g.type]); )
                            if ((i = w.find[h]) && (d = i(g.matches[0].replace(va, wa), ta.test(f[0].type) && k(b.parentNode) || b))) {
                                if (f.splice(e, 1),
                                        a = d.length && m(f),
                                        !a)
                                    return $.apply(c, d),
                                        c;
                                break
                            }
                    }
                    return (j || A(a, l))(d, b, !I, c, ta.test(a) && k(b.parentNode) || b),
                        c
                }
                ,
                v.sortStable = N.split("").sort(U).join("") === N,
                v.detectDuplicates = !!E,
                F(),
                v.sortDetached = e(function(a) {
                    return 1 & a.compareDocumentPosition(G.createElement("div"))
                }),
            e(function(a) {
                return a.innerHTML = "<a href='#'></a>",
                "#" === a.firstChild.getAttribute("href")
            }) || f("type|href|height|width", function(a, b, c) {
                return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
            }),
            v.attributes && e(function(a) {
                return a.innerHTML = "<input/>",
                    a.firstChild.setAttribute("value", ""),
                "" === a.firstChild.getAttribute("value")
            }) || f("value", function(a, b, c) {
                return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
            }),
            e(function(a) {
                return null  == a.getAttribute("disabled")
            }) || f(ba, function(a, b, c) {
                var d;
                return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
            }),
                b
        }(a);
        _.find = ea,
            _.expr = ea.selectors,
            _.expr[":"] = _.expr.pseudos,
            _.unique = ea.uniqueSort,
            _.text = ea.getText,
            _.isXMLDoc = ea.isXML,
            _.contains = ea.contains;
        var fa = _.expr.match.needsContext
            , ga = /^<(\w+)\s*\/?>(?:<\/\1>|)$/
            , ha = /^.[^:#\[\.,]*$/;
        _.filter = function(a, b, c) {
            var d = b[0];
            return c && (a = ":not(" + a + ")"),
                1 === b.length && 1 === d.nodeType ? _.find.matchesSelector(d, a) ? [d] : [] : _.find.matches(a, _.grep(b, function(a) {
                    return 1 === a.nodeType
                }))
        }
            ,
            _.fn.extend({
                find: function(a) {
                    var b, c = this.length, d = [], e = this;
                    if ("string" != typeof a)
                        return this.pushStack(_(a).filter(function() {
                            for (b = 0; c > b; b++)
                                if (_.contains(e[b], this))
                                    return !0
                        }));
                    for (b = 0; c > b; b++)
                        _.find(a, e[b], d);
                    return d = this.pushStack(c > 1 ? _.unique(d) : d),
                        d.selector = this.selector ? this.selector + " " + a : a,
                        d
                },
                filter: function(a) {
                    return this.pushStack(d(this, a || [], !1))
                },
                not: function(a) {
                    return this.pushStack(d(this, a || [], !0))
                },
                is: function(a) {
                    return !!d(this, "string" == typeof a && fa.test(a) ? _(a) : a || [], !1).length
                }
            });
        var ia, ja = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, ka = _.fn.init = function(a, b) {
                var c, d;
                if (!a)
                    return this;
                if ("string" == typeof a) {
                    if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null , a, null ] : ja.exec(a),
                        !c || !c[1] && b)
                        return !b || b.jquery ? (b || ia).find(a) : this.constructor(b).find(a);
                    if (c[1]) {
                        if (b = b instanceof _ ? b[0] : b,
                                _.merge(this, _.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : Z, !0)),
                            ga.test(c[1]) && _.isPlainObject(b))
                            for (c in b)
                                _.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                        return this
                    }
                    return d = Z.getElementById(c[2]),
                    d && d.parentNode && (this.length = 1,
                        this[0] = d),
                        this.context = Z,
                        this.selector = a,
                        this
                }
                return a.nodeType ? (this.context = this[0] = a,
                    this.length = 1,
                    this) : _.isFunction(a) ? "undefined" != typeof ia.ready ? ia.ready(a) : a(_) : (void 0 !== a.selector && (this.selector = a.selector,
                    this.context = a.context),
                    _.makeArray(a, this))
            }
            ;
        ka.prototype = _.fn,
            ia = _(Z);
        var la = /^(?:parents|prev(?:Until|All))/
            , ma = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        _.extend({
            dir: function(a, b, c) {
                for (var d = [], e = void 0 !== c; (a = a[b]) && 9 !== a.nodeType; )
                    if (1 === a.nodeType) {
                        if (e && _(a).is(c))
                            break;
                        d.push(a)
                    }
                return d
            },
            sibling: function(a, b) {
                for (var c = []; a; a = a.nextSibling)
                    1 === a.nodeType && a !== b && c.push(a);
                return c
            }
        }),
            _.fn.extend({
                has: function(a) {
                    var b = _(a, this)
                        , c = b.length;
                    return this.filter(function() {
                        for (var a = 0; c > a; a++)
                            if (_.contains(this, b[a]))
                                return !0
                    })
                },
                closest: function(a, b) {
                    for (var c, d = 0, e = this.length, f = [], g = fa.test(a) || "string" != typeof a ? _(a, b || this.context) : 0; e > d; d++)
                        for (c = this[d]; c && c !== b; c = c.parentNode)
                            if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && _.find.matchesSelector(c, a))) {
                                f.push(c);
                                break
                            }
                    return this.pushStack(f.length > 1 ? _.unique(f) : f)
                },
                index: function(a) {
                    return a ? "string" == typeof a ? U.call(_(a), this[0]) : U.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                },
                add: function(a, b) {
                    return this.pushStack(_.unique(_.merge(this.get(), _(a, b))))
                },
                addBack: function(a) {
                    return this.add(null  == a ? this.prevObject : this.prevObject.filter(a))
                }
            }),
            _.each({
                parent: function(a) {
                    var b = a.parentNode;
                    return b && 11 !== b.nodeType ? b : null
                },
                parents: function(a) {
                    return _.dir(a, "parentNode")
                },
                parentsUntil: function(a, b, c) {
                    return _.dir(a, "parentNode", c)
                },
                next: function(a) {
                    return e(a, "nextSibling")
                },
                prev: function(a) {
                    return e(a, "previousSibling")
                },
                nextAll: function(a) {
                    return _.dir(a, "nextSibling")
                },
                prevAll: function(a) {
                    return _.dir(a, "previousSibling")
                },
                nextUntil: function(a, b, c) {
                    return _.dir(a, "nextSibling", c)
                },
                prevUntil: function(a, b, c) {
                    return _.dir(a, "previousSibling", c)
                },
                siblings: function(a) {
                    return _.sibling((a.parentNode || {}).firstChild, a)
                },
                children: function(a) {
                    return _.sibling(a.firstChild)
                },
                contents: function(a) {
                    return a.contentDocument || _.merge([], a.childNodes)
                }
            }, function(a, b) {
                _.fn[a] = function(c, d) {
                    var e = _.map(this, b, c);
                    return "Until" !== a.slice(-5) && (d = c),
                    d && "string" == typeof d && (e = _.filter(d, e)),
                    this.length > 1 && (ma[a] || _.unique(e),
                    la.test(a) && e.reverse()),
                        this.pushStack(e)
                }
            });
        var na = /\S+/g
            , oa = {};
        _.Callbacks = function(a) {
            a = "string" == typeof a ? oa[a] || f(a) : _.extend({}, a);
            var b, c, d, e, g, h, i = [], j = !a.once && [], k = function(f) {
                for (b = a.memory && f,
                         c = !0,
                         h = e || 0,
                         e = 0,
                         g = i.length,
                         d = !0; i && g > h; h++)
                    if (i[h].apply(f[0], f[1]) === !1 && a.stopOnFalse) {
                        b = !1;
                        break
                    }
                d = !1,
                i && (j ? j.length && k(j.shift()) : b ? i = [] : l.disable())
            }
                , l = {
                add: function() {
                    if (i) {
                        var c = i.length;
                        !function b(c) {
                            _.each(c, function(c, d) {
                                var e = _.type(d);
                                "function" === e ? a.unique && l.has(d) || i.push(d) : d && d.length && "string" !== e && b(d)
                            })
                        }(arguments),
                            d ? g = i.length : b && (e = c,
                                k(b))
                    }
                    return this
                },
                remove: function() {
                    return i && _.each(arguments, function(a, b) {
                        for (var c; (c = _.inArray(b, i, c)) > -1; )
                            i.splice(c, 1),
                            d && (g >= c && g--,
                            h >= c && h--)
                    }),
                        this
                },
                has: function(a) {
                    return a ? _.inArray(a, i) > -1 : !(!i || !i.length)
                },
                empty: function() {
                    return i = [],
                        g = 0,
                        this
                },
                disable: function() {
                    return i = j = b = void 0,
                        this
                },
                disabled: function() {
                    return !i
                },
                lock: function() {
                    return j = void 0,
                    b || l.disable(),
                        this
                },
                locked: function() {
                    return !j
                },
                fireWith: function(a, b) {
                    return !i || c && !j || (b = b || [],
                        b = [a, b.slice ? b.slice() : b],
                        d ? j.push(b) : k(b)),
                        this
                },
                fire: function() {
                    return l.fireWith(this, arguments),
                        this
                },
                fired: function() {
                    return !!c
                }
            };
            return l
        }
            ,
            _.extend({
                Deferred: function(a) {
                    var b = [["resolve", "done", _.Callbacks("once memory"), "resolved"], ["reject", "fail", _.Callbacks("once memory"), "rejected"], ["notify", "progress", _.Callbacks("memory")]]
                        , c = "pending"
                        , d = {
                        state: function() {
                            return c
                        },
                        always: function() {
                            return e.done(arguments).fail(arguments),
                                this
                        },
                        then: function() {
                            var a = arguments;
                            return _.Deferred(function(c) {
                                _.each(b, function(b, f) {
                                    var g = _.isFunction(a[b]) && a[b];
                                    e[f[1]](function() {
                                        var a = g && g.apply(this, arguments);
                                        a && _.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                                    })
                                }),
                                    a = null
                            }).promise()
                        },
                        promise: function(a) {
                            return null  != a ? _.extend(a, d) : d
                        }
                    }
                        , e = {};
                    return d.pipe = d.then,
                        _.each(b, function(a, f) {
                            var g = f[2]
                                , h = f[3];
                            d[f[1]] = g.add,
                            h && g.add(function() {
                                c = h
                            }, b[1 ^ a][2].disable, b[2][2].lock),
                                e[f[0]] = function() {
                                    return e[f[0] + "With"](this === e ? d : this, arguments),
                                        this
                                }
                                ,
                                e[f[0] + "With"] = g.fireWith
                        }),
                        d.promise(e),
                    a && a.call(e, e),
                        e
                },
                when: function(a) {
                    var b, c, d, e = 0, f = R.call(arguments), g = f.length, h = 1 !== g || a && _.isFunction(a.promise) ? g : 0, i = 1 === h ? a : _.Deferred(), j = function(a, c, d) {
                            return function(e) {
                                c[a] = this,
                                    d[a] = arguments.length > 1 ? R.call(arguments) : e,
                                    d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d)
                            }
                        }
                        ;
                    if (g > 1)
                        for (b = new Array(g),
                                 c = new Array(g),
                                 d = new Array(g); g > e; e++)
                            f[e] && _.isFunction(f[e].promise) ? f[e].promise().done(j(e, d, f)).fail(i.reject).progress(j(e, c, b)) : --h;
                    return h || i.resolveWith(d, f),
                        i.promise()
                }
            });
        var pa;
        _.fn.ready = function(a) {
            return _.ready.promise().done(a),
                this
        }
            ,
            _.extend({
                isReady: !1,
                readyWait: 1,
                holdReady: function(a) {
                    a ? _.readyWait++ : _.ready(!0)
                },
                ready: function(a) {
                    (a === !0 ? --_.readyWait : _.isReady) || (_.isReady = !0,
                    a !== !0 && --_.readyWait > 0 || (pa.resolveWith(Z, [_]),
                    _.fn.triggerHandler && (_(Z).triggerHandler("ready"),
                        _(Z).off("ready"))))
                }
            }),
            _.ready.promise = function(b) {
                return pa || (pa = _.Deferred(),
                    "complete" === Z.readyState ? setTimeout(_.ready) : (Z.addEventListener("DOMContentLoaded", g, !1),
                        a.addEventListener("load", g, !1))),
                    pa.promise(b)
            }
            ,
            _.ready.promise();
        var qa = _.access = function(a, b, c, d, e, f, g) {
                var h = 0
                    , i = a.length
                    , j = null  == c;
                if ("object" === _.type(c)) {
                    e = !0;
                    for (h in c)
                        _.access(a, b, h, c[h], !0, f, g)
                } else if (void 0 !== d && (e = !0,
                    _.isFunction(d) || (g = !0),
                    j && (g ? (b.call(a, d),
                        b = null ) : (j = b,
                            b = function(a, b, c) {
                                return j.call(_(a), c)
                            }
                    )),
                        b))
                    for (; i > h; h++)
                        b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
                return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
            }
            ;
        _.acceptData = function(a) {
            return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
        }
            ,
            h.uid = 1,
            h.accepts = _.acceptData,
            h.prototype = {
                key: function(a) {
                    if (!h.accepts(a))
                        return 0;
                    var b = {}
                        , c = a[this.expando];
                    if (!c) {
                        c = h.uid++;
                        try {
                            b[this.expando] = {
                                value: c
                            },
                                Object.defineProperties(a, b)
                        } catch (d) {
                            b[this.expando] = c,
                                _.extend(a, b)
                        }
                    }
                    return this.cache[c] || (this.cache[c] = {}),
                        c
                },
                set: function(a, b, c) {
                    var d, e = this.key(a), f = this.cache[e];
                    if ("string" == typeof b)
                        f[b] = c;
                    else if (_.isEmptyObject(f))
                        _.extend(this.cache[e], b);
                    else
                        for (d in b)
                            f[d] = b[d];
                    return f
                },
                get: function(a, b) {
                    var c = this.cache[this.key(a)];
                    return void 0 === b ? c : c[b]
                },
                access: function(a, b, c) {
                    var d;
                    return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b),
                        void 0 !== d ? d : this.get(a, _.camelCase(b))) : (this.set(a, b, c),
                        void 0 !== c ? c : b)
                },
                remove: function(a, b) {
                    var c, d, e, f = this.key(a), g = this.cache[f];
                    if (void 0 === b)
                        this.cache[f] = {};
                    else {
                        _.isArray(b) ? d = b.concat(b.map(_.camelCase)) : (e = _.camelCase(b),
                            b in g ? d = [b, e] : (d = e,
                                d = d in g ? [d] : d.match(na) || [])),
                            c = d.length;
                        for (; c--; )
                            delete g[d[c]]
                    }
                },
                hasData: function(a) {
                    return !_.isEmptyObject(this.cache[a[this.expando]] || {})
                },
                discard: function(a) {
                    a[this.expando] && delete this.cache[a[this.expando]]
                }
            };
        var ra = new h
            , sa = new h
            , ta = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
            , ua = /([A-Z])/g;
        _.extend({
            hasData: function(a) {
                return sa.hasData(a) || ra.hasData(a)
            },
            data: function(a, b, c) {
                return sa.access(a, b, c)
            },
            removeData: function(a, b) {
                sa.remove(a, b)
            },
            _data: function(a, b, c) {
                return ra.access(a, b, c)
            },
            _removeData: function(a, b) {
                ra.remove(a, b)
            }
        }),
            _.fn.extend({
                data: function(a, b) {
                    var c, d, e, f = this[0], g = f && f.attributes;
                    if (void 0 === a) {
                        if (this.length && (e = sa.get(f),
                            1 === f.nodeType && !ra.get(f, "hasDataAttrs"))) {
                            for (c = g.length; c--; )
                                g[c] && (d = g[c].name,
                                0 === d.indexOf("data-") && (d = _.camelCase(d.slice(5)),
                                    i(f, d, e[d])));
                            ra.set(f, "hasDataAttrs", !0)
                        }
                        return e
                    }
                    return "object" == typeof a ? this.each(function() {
                        sa.set(this, a)
                    }) : qa(this, function(b) {
                        var c, d = _.camelCase(a);
                        if (f && void 0 === b) {
                            if (c = sa.get(f, a),
                                void 0 !== c)
                                return c;
                            if (c = sa.get(f, d),
                                void 0 !== c)
                                return c;
                            if (c = i(f, d, void 0),
                                void 0 !== c)
                                return c
                        } else
                            this.each(function() {
                                var c = sa.get(this, d);
                                sa.set(this, d, b),
                                -1 !== a.indexOf("-") && void 0 !== c && sa.set(this, a, b)
                            })
                    }, null , b, arguments.length > 1, null , !0)
                },
                removeData: function(a) {
                    return this.each(function() {
                        sa.remove(this, a)
                    })
                }
            }),
            _.extend({
                queue: function(a, b, c) {
                    var d;
                    return a ? (b = (b || "fx") + "queue",
                        d = ra.get(a, b),
                    c && (!d || _.isArray(c) ? d = ra.access(a, b, _.makeArray(c)) : d.push(c)),
                    d || []) : void 0
                },
                dequeue: function(a, b) {
                    b = b || "fx";
                    var c = _.queue(a, b)
                        , d = c.length
                        , e = c.shift()
                        , f = _._queueHooks(a, b)
                        , g = function() {
                            _.dequeue(a, b)
                        }
                        ;
                    "inprogress" === e && (e = c.shift(),
                        d--),
                    e && ("fx" === b && c.unshift("inprogress"),
                        delete f.stop,
                        e.call(a, g, f)),
                    !d && f && f.empty.fire()
                },
                _queueHooks: function(a, b) {
                    var c = b + "queueHooks";
                    return ra.get(a, c) || ra.access(a, c, {
                            empty: _.Callbacks("once memory").add(function() {
                                ra.remove(a, [b + "queue", c])
                            })
                        })
                }
            }),
            _.fn.extend({
                queue: function(a, b) {
                    var c = 2;
                    return "string" != typeof a && (b = a,
                        a = "fx",
                        c--),
                        arguments.length < c ? _.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                            var c = _.queue(this, a, b);
                            _._queueHooks(this, a),
                            "fx" === a && "inprogress" !== c[0] && _.dequeue(this, a)
                        })
                },
                dequeue: function(a) {
                    return this.each(function() {
                        _.dequeue(this, a)
                    })
                },
                clearQueue: function(a) {
                    return this.queue(a || "fx", [])
                },
                promise: function(a, b) {
                    var c, d = 1, e = _.Deferred(), f = this, g = this.length, h = function() {
                            --d || e.resolveWith(f, [f])
                        }
                        ;
                    for ("string" != typeof a && (b = a,
                        a = void 0),
                             a = a || "fx"; g--; )
                        c = ra.get(f[g], a + "queueHooks"),
                        c && c.empty && (d++,
                            c.empty.add(h));
                    return h(),
                        e.promise(b)
                }
            });
        var va = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
            , wa = ["Top", "Right", "Bottom", "Left"]
            , xa = function(a, b) {
            return a = b || a,
            "none" === _.css(a, "display") || !_.contains(a.ownerDocument, a)
        }
            , ya = /^(?:checkbox|radio)$/i;
        !function() {
            var a = Z.createDocumentFragment()
                , b = a.appendChild(Z.createElement("div"))
                , c = Z.createElement("input");
            c.setAttribute("type", "radio"),
                c.setAttribute("checked", "checked"),
                c.setAttribute("name", "t"),
                b.appendChild(c),
                Y.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked,
                b.innerHTML = "<textarea>x</textarea>",
                Y.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
        }();
        var za = "undefined";
        Y.focusinBubbles = "onfocusin" in a;
        var Aa = /^key/
            , Ba = /^(?:mouse|pointer|contextmenu)|click/
            , Ca = /^(?:focusinfocus|focusoutblur)$/
            , Da = /^([^.]*)(?:\.(.+)|)$/;
        _.event = {
            global: {},
            add: function(a, b, c, d, e) {
                var f, g, h, i, j, k, l, m, n, o, p, q = ra.get(a);
                if (q)
                    for (c.handler && (f = c,
                        c = f.handler,
                        e = f.selector),
                         c.guid || (c.guid = _.guid++),
                         (i = q.events) || (i = q.events = {}),
                         (g = q.handle) || (g = q.handle = function(b) {
                                 return typeof _ !== za && _.event.triggered !== b.type ? _.event.dispatch.apply(a, arguments) : void 0
                             }
                         ),
                             b = (b || "").match(na) || [""],
                             j = b.length; j--; )
                        h = Da.exec(b[j]) || [],
                            n = p = h[1],
                            o = (h[2] || "").split(".").sort(),
                        n && (l = _.event.special[n] || {},
                            n = (e ? l.delegateType : l.bindType) || n,
                            l = _.event.special[n] || {},
                            k = _.extend({
                                type: n,
                                origType: p,
                                data: d,
                                handler: c,
                                guid: c.guid,
                                selector: e,
                                needsContext: e && _.expr.match.needsContext.test(e),
                                namespace: o.join(".")
                            }, f),
                        (m = i[n]) || (m = i[n] = [],
                            m.delegateCount = 0,
                        l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g, !1)),
                        l.add && (l.add.call(a, k),
                        k.handler.guid || (k.handler.guid = c.guid)),
                            e ? m.splice(m.delegateCount++, 0, k) : m.push(k),
                            _.event.global[n] = !0)
            },
            remove: function(a, b, c, d, e) {
                var f, g, h, i, j, k, l, m, n, o, p, q = ra.hasData(a) && ra.get(a);
                if (q && (i = q.events)) {
                    for (b = (b || "").match(na) || [""],
                             j = b.length; j--; )
                        if (h = Da.exec(b[j]) || [],
                                n = p = h[1],
                                o = (h[2] || "").split(".").sort(),
                                n) {
                            for (l = _.event.special[n] || {},
                                     n = (d ? l.delegateType : l.bindType) || n,
                                     m = i[n] || [],
                                     h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                                     g = f = m.length; f--; )
                                k = m[f],
                                !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1),
                                k.selector && m.delegateCount--,
                                l.remove && l.remove.call(a, k));
                            g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || _.removeEvent(a, n, q.handle),
                                delete i[n])
                        } else
                            for (n in i)
                                _.event.remove(a, n + b[j], c, d, !0);
                    _.isEmptyObject(i) && (delete q.handle,
                        ra.remove(a, "events"))
                }
            },
            trigger: function(b, c, d, e) {
                var f, g, h, i, j, k, l, m = [d || Z], n = X.call(b, "type") ? b.type : b, o = X.call(b, "namespace") ? b.namespace.split(".") : [];
                if (g = h = d = d || Z,
                    3 !== d.nodeType && 8 !== d.nodeType && !Ca.test(n + _.event.triggered) && (n.indexOf(".") >= 0 && (o = n.split("."),
                        n = o.shift(),
                        o.sort()),
                        j = n.indexOf(":") < 0 && "on" + n,
                        b = b[_.expando] ? b : new _.Event(n,"object" == typeof b && b),
                        b.isTrigger = e ? 2 : 3,
                        b.namespace = o.join("."),
                        b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)") : null ,
                        b.result = void 0,
                    b.target || (b.target = d),
                        c = null  == c ? [b] : _.makeArray(c, [b]),
                        l = _.event.special[n] || {},
                    e || !l.trigger || l.trigger.apply(d, c) !== !1)) {
                    if (!e && !l.noBubble && !_.isWindow(d)) {
                        for (i = l.delegateType || n,
                             Ca.test(i + n) || (g = g.parentNode); g; g = g.parentNode)
                            m.push(g),
                                h = g;
                        h === (d.ownerDocument || Z) && m.push(h.defaultView || h.parentWindow || a)
                    }
                    for (f = 0; (g = m[f++]) && !b.isPropagationStopped(); )
                        b.type = f > 1 ? i : l.bindType || n,
                            k = (ra.get(g, "events") || {})[b.type] && ra.get(g, "handle"),
                        k && k.apply(g, c),
                            k = j && g[j],
                        k && k.apply && _.acceptData(g) && (b.result = k.apply(g, c),
                        b.result === !1 && b.preventDefault());
                    return b.type = n,
                    e || b.isDefaultPrevented() || l._default && l._default.apply(m.pop(), c) !== !1 || !_.acceptData(d) || j && _.isFunction(d[n]) && !_.isWindow(d) && (h = d[j],
                    h && (d[j] = null ),
                        _.event.triggered = n,
                        d[n](),
                        _.event.triggered = void 0,
                    h && (d[j] = h)),
                        b.result
                }
            },
            dispatch: function(a) {
                a = _.event.fix(a);
                var b, c, d, e, f, g = [], h = R.call(arguments), i = (ra.get(this, "events") || {})[a.type] || [], j = _.event.special[a.type] || {};
                if (h[0] = a,
                        a.delegateTarget = this,
                    !j.preDispatch || j.preDispatch.call(this, a) !== !1) {
                    for (g = _.event.handlers.call(this, a, i),
                             b = 0; (e = g[b++]) && !a.isPropagationStopped(); )
                        for (a.currentTarget = e.elem,
                                 c = 0; (f = e.handlers[c++]) && !a.isImmediatePropagationStopped(); )
                            (!a.namespace_re || a.namespace_re.test(f.namespace)) && (a.handleObj = f,
                                a.data = f.data,
                                d = ((_.event.special[f.origType] || {}).handle || f.handler).apply(e.elem, h),
                            void 0 !== d && (a.result = d) === !1 && (a.preventDefault(),
                                a.stopPropagation()));
                    return j.postDispatch && j.postDispatch.call(this, a),
                        a.result
                }
            },
            handlers: function(a, b) {
                var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
                if (h && i.nodeType && (!a.button || "click" !== a.type))
                    for (; i !== this; i = i.parentNode || this)
                        if (i.disabled !== !0 || "click" !== a.type) {
                            for (d = [],
                                     c = 0; h > c; c++)
                                f = b[c],
                                    e = f.selector + " ",
                                void 0 === d[e] && (d[e] = f.needsContext ? _(e, this).index(i) >= 0 : _.find(e, this, null , [i]).length),
                                d[e] && d.push(f);
                            d.length && g.push({
                                elem: i,
                                handlers: d
                            })
                        }
                return h < b.length && g.push({
                    elem: this,
                    handlers: b.slice(h)
                }),
                    g
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function(a, b) {
                    return null  == a.which && (a.which = null  != b.charCode ? b.charCode : b.keyCode),
                        a
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function(a, b) {
                    var c, d, e, f = b.button;
                    return null  == a.pageX && null  != b.clientX && (c = a.target.ownerDocument || Z,
                        d = c.documentElement,
                        e = c.body,
                        a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0),
                        a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)),
                    a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
                        a
                }
            },
            fix: function(a) {
                if (a[_.expando])
                    return a;
                var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
                for (g || (this.fixHooks[e] = g = Ba.test(e) ? this.mouseHooks : Aa.test(e) ? this.keyHooks : {}),
                         d = g.props ? this.props.concat(g.props) : this.props,
                         a = new _.Event(f),
                         b = d.length; b--; )
                    c = d[b],
                        a[c] = f[c];
                return a.target || (a.target = Z),
                3 === a.target.nodeType && (a.target = a.target.parentNode),
                    g.filter ? g.filter(a, f) : a
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        return this !== l() && this.focus ? (this.focus(),
                            !1) : void 0
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        return this === l() && this.blur ? (this.blur(),
                            !1) : void 0
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        return "checkbox" === this.type && this.click && _.nodeName(this, "input") ? (this.click(),
                            !1) : void 0
                    },
                    _default: function(a) {
                        return _.nodeName(a.target, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(a) {
                        void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                    }
                }
            },
            simulate: function(a, b, c, d) {
                var e = _.extend(new _.Event, c, {
                    type: a,
                    isSimulated: !0,
                    originalEvent: {}
                });
                d ? _.event.trigger(e, null , b) : _.event.dispatch.call(b, e),
                e.isDefaultPrevented() && c.preventDefault()
            }
        },
            _.removeEvent = function(a, b, c) {
                a.removeEventListener && a.removeEventListener(b, c, !1)
            }
            ,
            _.Event = function(a, b) {
                return this instanceof _.Event ? (a && a.type ? (this.originalEvent = a,
                    this.type = a.type,
                    this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? j : k) : this.type = a,
                b && _.extend(this, b),
                    this.timeStamp = a && a.timeStamp || _.now(),
                    void (this[_.expando] = !0)) : new _.Event(a,b)
            }
            ,
            _.Event.prototype = {
                isDefaultPrevented: k,
                isPropagationStopped: k,
                isImmediatePropagationStopped: k,
                preventDefault: function() {
                    var a = this.originalEvent;
                    this.isDefaultPrevented = j,
                    a && a.preventDefault && a.preventDefault()
                },
                stopPropagation: function() {
                    var a = this.originalEvent;
                    this.isPropagationStopped = j,
                    a && a.stopPropagation && a.stopPropagation()
                },
                stopImmediatePropagation: function() {
                    var a = this.originalEvent;
                    this.isImmediatePropagationStopped = j,
                    a && a.stopImmediatePropagation && a.stopImmediatePropagation(),
                        this.stopPropagation()
                }
            },
            _.each({
                mouseenter: "mouseover",
                mouseleave: "mouseout",
                pointerenter: "pointerover",
                pointerleave: "pointerout"
            }, function(a, b) {
                _.event.special[a] = {
                    delegateType: b,
                    bindType: b,
                    handle: function(a) {
                        var c, d = this, e = a.relatedTarget, f = a.handleObj;
                        return (!e || e !== d && !_.contains(d, e)) && (a.type = f.origType,
                            c = f.handler.apply(this, arguments),
                            a.type = b),
                            c
                    }
                }
            }),
        Y.focusinBubbles || _.each({
            focus: "focusin",
            blur: "focusout"
        }, function(a, b) {
            var c = function(a) {
                    _.event.simulate(b, a.target, _.event.fix(a), !0)
                }
                ;
            _.event.special[b] = {
                setup: function() {
                    var d = this.ownerDocument || this
                        , e = ra.access(d, b);
                    e || d.addEventListener(a, c, !0),
                        ra.access(d, b, (e || 0) + 1)
                },
                teardown: function() {
                    var d = this.ownerDocument || this
                        , e = ra.access(d, b) - 1;
                    e ? ra.access(d, b, e) : (d.removeEventListener(a, c, !0),
                        ra.remove(d, b))
                }
            }
        }),
            _.fn.extend({
                on: function(a, b, c, d, e) {
                    var f, g;
                    if ("object" == typeof a) {
                        "string" != typeof b && (c = c || b,
                            b = void 0);
                        for (g in a)
                            this.on(g, b, c, a[g], e);
                        return this
                    }
                    if (null  == c && null  == d ? (d = b,
                            c = b = void 0) : null  == d && ("string" == typeof b ? (d = c,
                            c = void 0) : (d = c,
                            c = b,
                            b = void 0)),
                        d === !1)
                        d = k;
                    else if (!d)
                        return this;
                    return 1 === e && (f = d,
                        d = function(a) {
                            return _().off(a),
                                f.apply(this, arguments)
                        }
                        ,
                        d.guid = f.guid || (f.guid = _.guid++)),
                        this.each(function() {
                            _.event.add(this, a, d, c, b)
                        })
                },
                one: function(a, b, c, d) {
                    return this.on(a, b, c, d, 1)
                },
                off: function(a, b, c) {
                    var d, e;
                    if (a && a.preventDefault && a.handleObj)
                        return d = a.handleObj,
                            _(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler),
                            this;
                    if ("object" == typeof a) {
                        for (e in a)
                            this.off(e, b, a[e]);
                        return this
                    }
                    return (b === !1 || "function" == typeof b) && (c = b,
                        b = void 0),
                    c === !1 && (c = k),
                        this.each(function() {
                            _.event.remove(this, a, c, b)
                        })
                },
                trigger: function(a, b) {
                    return this.each(function() {
                        _.event.trigger(a, b, this)
                    })
                },
                triggerHandler: function(a, b) {
                    var c = this[0];
                    return c ? _.event.trigger(a, b, c, !0) : void 0
                }
            });
        var Ea = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
            , Fa = /<([\w:]+)/
            , Ga = /<|&#?\w+;/
            , Ha = /<(?:script|style|link)/i
            , Ia = /checked\s*(?:[^=]|=\s*.checked.)/i
            , Ja = /^$|\/(?:java|ecma)script/i
            , Ka = /^true\/(.*)/
            , La = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
            , Ma = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        Ma.optgroup = Ma.option,
            Ma.tbody = Ma.tfoot = Ma.colgroup = Ma.caption = Ma.thead,
            Ma.th = Ma.td,
            _.extend({
                clone: function(a, b, c) {
                    var d, e, f, g, h = a.cloneNode(!0), i = _.contains(a.ownerDocument, a);
                    if (!(Y.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || _.isXMLDoc(a)))
                        for (g = r(h),
                                 f = r(a),
                                 d = 0,
                                 e = f.length; e > d; d++)
                            s(f[d], g[d]);
                    if (b)
                        if (c)
                            for (f = f || r(a),
                                     g = g || r(h),
                                     d = 0,
                                     e = f.length; e > d; d++)
                                q(f[d], g[d]);
                        else
                            q(a, h);
                    return g = r(h, "script"),
                    g.length > 0 && p(g, !i && r(a, "script")),
                        h
                },
                buildFragment: function(a, b, c, d) {
                    for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, n = a.length; n > m; m++)
                        if (e = a[m],
                            e || 0 === e)
                            if ("object" === _.type(e))
                                _.merge(l, e.nodeType ? [e] : e);
                            else if (Ga.test(e)) {
                                for (f = f || k.appendChild(b.createElement("div")),
                                         g = (Fa.exec(e) || ["", ""])[1].toLowerCase(),
                                         h = Ma[g] || Ma._default,
                                         f.innerHTML = h[1] + e.replace(Ea, "<$1></$2>") + h[2],
                                         j = h[0]; j--; )
                                    f = f.lastChild;
                                _.merge(l, f.childNodes),
                                    f = k.firstChild,
                                    f.textContent = ""
                            } else
                                l.push(b.createTextNode(e));
                    for (k.textContent = "",
                             m = 0; e = l[m++]; )
                        if ((!d || -1 === _.inArray(e, d)) && (i = _.contains(e.ownerDocument, e),
                                f = r(k.appendChild(e), "script"),
                            i && p(f),
                                c))
                            for (j = 0; e = f[j++]; )
                                Ja.test(e.type || "") && c.push(e);
                    return k
                },
                cleanData: function(a) {
                    for (var b, c, d, e, f = _.event.special, g = 0; void 0 !== (c = a[g]); g++) {
                        if (_.acceptData(c) && (e = c[ra.expando],
                            e && (b = ra.cache[e]))) {
                            if (b.events)
                                for (d in b.events)
                                    f[d] ? _.event.remove(c, d) : _.removeEvent(c, d, b.handle);
                            ra.cache[e] && delete ra.cache[e]
                        }
                        delete sa.cache[c[sa.expando]]
                    }
                }
            }),
            _.fn.extend({
                text: function(a) {
                    return qa(this, function(a) {
                        return void 0 === a ? _.text(this) : this.empty().each(function() {
                            (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = a)
                        })
                    }, null , a, arguments.length)
                },
                append: function() {
                    return this.domManip(arguments, function(a) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                            var b = m(this, a);
                            b.appendChild(a)
                        }
                    })
                },
                prepend: function() {
                    return this.domManip(arguments, function(a) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                            var b = m(this, a);
                            b.insertBefore(a, b.firstChild)
                        }
                    })
                },
                before: function() {
                    return this.domManip(arguments, function(a) {
                        this.parentNode && this.parentNode.insertBefore(a, this)
                    })
                },
                after: function() {
                    return this.domManip(arguments, function(a) {
                        this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
                    })
                },
                remove: function(a, b) {
                    for (var c, d = a ? _.filter(a, this) : this, e = 0; null  != (c = d[e]); e++)
                        b || 1 !== c.nodeType || _.cleanData(r(c)),
                        c.parentNode && (b && _.contains(c.ownerDocument, c) && p(r(c, "script")),
                            c.parentNode.removeChild(c));
                    return this
                },
                empty: function() {
                    for (var a, b = 0; null  != (a = this[b]); b++)
                        1 === a.nodeType && (_.cleanData(r(a, !1)),
                            a.textContent = "");
                    return this
                },
                clone: function(a, b) {
                    return a = null  != a && a,
                        b = null  == b ? a : b,
                        this.map(function() {
                            return _.clone(this, a, b)
                        })
                },
                html: function(a) {
                    return qa(this, function(a) {
                        var b = this[0] || {}
                            , c = 0
                            , d = this.length;
                        if (void 0 === a && 1 === b.nodeType)
                            return b.innerHTML;
                        if ("string" == typeof a && !Ha.test(a) && !Ma[(Fa.exec(a) || ["", ""])[1].toLowerCase()]) {
                            a = a.replace(Ea, "<$1></$2>");
                            try {
                                for (; d > c; c++)
                                    b = this[c] || {},
                                    1 === b.nodeType && (_.cleanData(r(b, !1)),
                                        b.innerHTML = a);
                                b = 0
                            } catch (a) {}
                        }
                        b && this.empty().append(a)
                    }, null , a, arguments.length)
                },
                replaceWith: function() {
                    var a = arguments[0];
                    return this.domManip(arguments, function(b) {
                        a = this.parentNode,
                            _.cleanData(r(this)),
                        a && a.replaceChild(b, this)
                    }),
                        a && (a.length || a.nodeType) ? this : this.remove()
                },
                detach: function(a) {
                    return this.remove(a, !0)
                },
                domManip: function(a, b) {
                    a = S.apply([], a);
                    var c, d, e, f, g, h, i = 0, j = this.length, k = this, l = j - 1, m = a[0], p = _.isFunction(m);
                    if (p || j > 1 && "string" == typeof m && !Y.checkClone && Ia.test(m))
                        return this.each(function(c) {
                            var d = k.eq(c);
                            p && (a[0] = m.call(this, c, d.html())),
                                d.domManip(a, b)
                        });
                    if (j && (c = _.buildFragment(a, this[0].ownerDocument, !1, this),
                            d = c.firstChild,
                        1 === c.childNodes.length && (c = d),
                            d)) {
                        for (e = _.map(r(c, "script"), n),
                                 f = e.length; j > i; i++)
                            g = c,
                            i !== l && (g = _.clone(g, !0, !0),
                            f && _.merge(e, r(g, "script"))),
                                b.call(this[i], g, i);
                        if (f)
                            for (h = e[e.length - 1].ownerDocument,
                                     _.map(e, o),
                                     i = 0; f > i; i++)
                                g = e[i],
                                Ja.test(g.type || "") && !ra.access(g, "globalEval") && _.contains(h, g) && (g.src ? _._evalUrl && _._evalUrl(g.src) : _.globalEval(g.textContent.replace(La, "")))
                    }
                    return this
                }
            }),
            _.each({
                appendTo: "append",
                prependTo: "prepend",
                insertBefore: "before",
                insertAfter: "after",
                replaceAll: "replaceWith"
            }, function(a, b) {
                _.fn[a] = function(a) {
                    for (var c, d = [], e = _(a), f = e.length - 1, g = 0; f >= g; g++)
                        c = g === f ? this : this.clone(!0),
                            _(e[g])[b](c),
                            T.apply(d, c.get());
                    return this.pushStack(d)
                }
            });
        var Na, Oa = {}, Pa = /^margin/, Qa = new RegExp("^(" + va + ")(?!px)[a-z%]+$","i"), Ra = function(b) {
                return b.ownerDocument.defaultView.opener ? b.ownerDocument.defaultView.getComputedStyle(b, null ) : a.getComputedStyle(b, null )
            }
            ;
        !function() {
            function b() {
                g.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
                    g.innerHTML = "",
                    e.appendChild(f);
                var b = a.getComputedStyle(g, null );
                c = "1%" !== b.top,
                    d = "4px" === b.width,
                    e.removeChild(f)
            }
            var c, d, e = Z.documentElement, f = Z.createElement("div"), g = Z.createElement("div");
            g.style && (g.style.backgroundClip = "content-box",
                g.cloneNode(!0).style.backgroundClip = "",
                Y.clearCloneStyle = "content-box" === g.style.backgroundClip,
                f.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",
                f.appendChild(g),
            a.getComputedStyle && _.extend(Y, {
                pixelPosition: function() {
                    return b(),
                        c
                },
                boxSizingReliable: function() {
                    return null  == d && b(),
                        d
                },
                reliableMarginRight: function() {
                    var b, c = g.appendChild(Z.createElement("div"));
                    return c.style.cssText = g.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                        c.style.marginRight = c.style.width = "0",
                        g.style.width = "1px",
                        e.appendChild(f),
                        b = !parseFloat(a.getComputedStyle(c, null ).marginRight),
                        e.removeChild(f),
                        g.removeChild(c),
                        b
                }
            }))
        }(),
            _.swap = function(a, b, c, d) {
                var e, f, g = {};
                for (f in b)
                    g[f] = a.style[f],
                        a.style[f] = b[f];
                e = c.apply(a, d || []);
                for (f in b)
                    a.style[f] = g[f];
                return e
            }
        ;
        var Sa = /^(none|table(?!-c[ea]).+)/
            , Ta = new RegExp("^(" + va + ")(.*)$","i")
            , Ua = new RegExp("^([+-])=(" + va + ")","i")
            , Va = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }
            , Wa = {
            letterSpacing: "0",
            fontWeight: "400"
        }
            , Xa = ["Webkit", "O", "Moz", "ms"];
        _.extend({
            cssHooks: {
                opacity: {
                    get: function(a, b) {
                        if (b) {
                            var c = v(a, "opacity");
                            return "" === c ? "1" : c
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                float: "cssFloat"
            },
            style: function(a, b, c, d) {
                if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                    var e, f, g, h = _.camelCase(b), i = a.style;
                    return b = _.cssProps[h] || (_.cssProps[h] = x(i, h)),
                        g = _.cssHooks[b] || _.cssHooks[h],
                        void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c,
                        "string" === f && (e = Ua.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(_.css(a, b)),
                            f = "number"),
                            void (null  != c && c === c && ("number" !== f || _.cssNumber[h] || (c += "px"),
                            Y.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"),
                            g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c))))
                }
            },
            css: function(a, b, c, d) {
                var e, f, g, h = _.camelCase(b);
                return b = _.cssProps[h] || (_.cssProps[h] = x(a.style, h)),
                    g = _.cssHooks[b] || _.cssHooks[h],
                g && "get" in g && (e = g.get(a, !0, c)),
                void 0 === e && (e = v(a, b, d)),
                "normal" === e && b in Wa && (e = Wa[b]),
                    "" === c || c ? (f = parseFloat(e),
                        c === !0 || _.isNumeric(f) ? f || 0 : e) : e
            }
        }),
            _.each(["height", "width"], function(a, b) {
                _.cssHooks[b] = {
                    get: function(a, c, d) {
                        return c ? Sa.test(_.css(a, "display")) && 0 === a.offsetWidth ? _.swap(a, Va, function() {
                            return A(a, b, d)
                        }) : A(a, b, d) : void 0
                    },
                    set: function(a, c, d) {
                        var e = d && Ra(a);
                        return y(a, c, d ? z(a, b, d, "border-box" === _.css(a, "boxSizing", !1, e), e) : 0)
                    }
                }
            }),
            _.cssHooks.marginRight = w(Y.reliableMarginRight, function(a, b) {
                return b ? _.swap(a, {
                    display: "inline-block"
                }, v, [a, "marginRight"]) : void 0
            }),
            _.each({
                margin: "",
                padding: "",
                border: "Width"
            }, function(a, b) {
                _.cssHooks[a + b] = {
                    expand: function(c) {
                        for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)
                            e[a + wa[d] + b] = f[d] || f[d - 2] || f[0];
                        return e
                    }
                },
                Pa.test(a) || (_.cssHooks[a + b].set = y)
            }),
            _.fn.extend({
                css: function(a, b) {
                    return qa(this, function(a, b, c) {
                        var d, e, f = {}, g = 0;
                        if (_.isArray(b)) {
                            for (d = Ra(a),
                                     e = b.length; e > g; g++)
                                f[b[g]] = _.css(a, b[g], !1, d);
                            return f
                        }
                        return void 0 !== c ? _.style(a, b, c) : _.css(a, b)
                    }, a, b, arguments.length > 1)
                },
                show: function() {
                    return B(this, !0)
                },
                hide: function() {
                    return B(this)
                },
                toggle: function(a) {
                    return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                        xa(this) ? _(this).show() : _(this).hide()
                    })
                }
            }),
            _.Tween = C,
            C.prototype = {
                constructor: C,
                init: function(a, b, c, d, e, f) {
                    this.elem = a,
                        this.prop = c,
                        this.easing = e || "swing",
                        this.options = b,
                        this.start = this.now = this.cur(),
                        this.end = d,
                        this.unit = f || (_.cssNumber[c] ? "" : "px")
                },
                cur: function() {
                    var a = C.propHooks[this.prop];
                    return a && a.get ? a.get(this) : C.propHooks._default.get(this)
                },
                run: function(a) {
                    var b, c = C.propHooks[this.prop];
                    return this.options.duration ? this.pos = b = _.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a,
                        this.now = (this.end - this.start) * b + this.start,
                    this.options.step && this.options.step.call(this.elem, this.now, this),
                        c && c.set ? c.set(this) : C.propHooks._default.set(this),
                        this
                }
            },
            C.prototype.init.prototype = C.prototype,
            C.propHooks = {
                _default: {
                    get: function(a) {
                        var b;
                        return null  == a.elem[a.prop] || a.elem.style && null  != a.elem.style[a.prop] ? (b = _.css(a.elem, a.prop, ""),
                            b && "auto" !== b ? b : 0) : a.elem[a.prop]
                    },
                    set: function(a) {
                        _.fx.step[a.prop] ? _.fx.step[a.prop](a) : a.elem.style && (null  != a.elem.style[_.cssProps[a.prop]] || _.cssHooks[a.prop]) ? _.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
                    }
                }
            },
            C.propHooks.scrollTop = C.propHooks.scrollLeft = {
                set: function(a) {
                    a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
                }
            },
            _.easing = {
                linear: function(a) {
                    return a
                },
                swing: function(a) {
                    return .5 - Math.cos(a * Math.PI) / 2
                }
            },
            _.fx = C.prototype.init,
            _.fx.step = {};
        var Ya, Za, $a = /^(?:toggle|show|hide)$/, _a = new RegExp("^(?:([+-])=|)(" + va + ")([a-z%]*)$","i"), ab = /queueHooks$/, bb = [G], cb = {
            "*": [function(a, b) {
                var c = this.createTween(a, b)
                    , d = c.cur()
                    , e = _a.exec(b)
                    , f = e && e[3] || (_.cssNumber[a] ? "" : "px")
                    , g = (_.cssNumber[a] || "px" !== f && +d) && _a.exec(_.css(c.elem, a))
                    , h = 1
                    , i = 20;
                if (g && g[3] !== f) {
                    f = f || g[3],
                        e = e || [],
                        g = +d || 1;
                    do
                        h = h || ".5",
                            g /= h,
                            _.style(c.elem, a, g + f);
                    while (h !== (h = c.cur() / d) && 1 !== h && --i)
                }
                return e && (g = c.start = +g || +d || 0,
                    c.unit = f,
                    c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]),
                    c
            }
            ]
        };
        _.Animation = _.extend(I, {
            tweener: function(a, b) {
                _.isFunction(a) ? (b = a,
                    a = ["*"]) : a = a.split(" ");
                for (var c, d = 0, e = a.length; e > d; d++)
                    c = a[d],
                        cb[c] = cb[c] || [],
                        cb[c].unshift(b)
            },
            prefilter: function(a, b) {
                b ? bb.unshift(a) : bb.push(a)
            }
        }),
            _.speed = function(a, b, c) {
                var d = a && "object" == typeof a ? _.extend({}, a) : {
                    complete: c || !c && b || _.isFunction(a) && a,
                    duration: a,
                    easing: c && b || b && !_.isFunction(b) && b
                };
                return d.duration = _.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in _.fx.speeds ? _.fx.speeds[d.duration] : _.fx.speeds._default,
                (null  == d.queue || d.queue === !0) && (d.queue = "fx"),
                    d.old = d.complete,
                    d.complete = function() {
                        _.isFunction(d.old) && d.old.call(this),
                        d.queue && _.dequeue(this, d.queue)
                    }
                    ,
                    d
            }
            ,
            _.fn.extend({
                fadeTo: function(a, b, c, d) {
                    return this.filter(xa).css("opacity", 0).show().end().animate({
                        opacity: b
                    }, a, c, d)
                },
                animate: function(a, b, c, d) {
                    var e = _.isEmptyObject(a)
                        , f = _.speed(b, c, d)
                        , g = function() {
                            var b = I(this, _.extend({}, a), f);
                            (e || ra.get(this, "finish")) && b.stop(!0)
                        }
                        ;
                    return g.finish = g,
                        e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
                },
                stop: function(a, b, c) {
                    var d = function(a) {
                            var b = a.stop;
                            delete a.stop,
                                b(c)
                        }
                        ;
                    return "string" != typeof a && (c = b,
                        b = a,
                        a = void 0),
                    b && a !== !1 && this.queue(a || "fx", []),
                        this.each(function() {
                            var b = !0
                                , e = null  != a && a + "queueHooks"
                                , f = _.timers
                                , g = ra.get(this);
                            if (e)
                                g[e] && g[e].stop && d(g[e]);
                            else
                                for (e in g)
                                    g[e] && g[e].stop && ab.test(e) && d(g[e]);
                            for (e = f.length; e--; )
                                f[e].elem !== this || null  != a && f[e].queue !== a || (f[e].anim.stop(c),
                                    b = !1,
                                    f.splice(e, 1));
                            (b || !c) && _.dequeue(this, a)
                        })
                },
                finish: function(a) {
                    return a !== !1 && (a = a || "fx"),
                        this.each(function() {
                            var b, c = ra.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = _.timers, g = d ? d.length : 0;
                            for (c.finish = !0,
                                     _.queue(this, a, []),
                                 e && e.stop && e.stop.call(this, !0),
                                     b = f.length; b--; )
                                f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0),
                                    f.splice(b, 1));
                            for (b = 0; g > b; b++)
                                d[b] && d[b].finish && d[b].finish.call(this);
                            delete c.finish
                        })
                }
            }),
            _.each(["toggle", "show", "hide"], function(a, b) {
                var c = _.fn[b];
                _.fn[b] = function(a, d, e) {
                    return null  == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(E(b, !0), a, d, e)
                }
            }),
            _.each({
                slideDown: E("show"),
                slideUp: E("hide"),
                slideToggle: E("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, function(a, b) {
                _.fn[a] = function(a, c, d) {
                    return this.animate(b, a, c, d)
                }
            }),
            _.timers = [],
            _.fx.tick = function() {
                var a, b = 0, c = _.timers;
                for (Ya = _.now(); b < c.length; b++)
                    a = c[b],
                    a() || c[b] !== a || c.splice(b--, 1);
                c.length || _.fx.stop(),
                    Ya = void 0
            }
            ,
            _.fx.timer = function(a) {
                _.timers.push(a),
                    a() ? _.fx.start() : _.timers.pop()
            }
            ,
            _.fx.interval = 13,
            _.fx.start = function() {
                Za || (Za = setInterval(_.fx.tick, _.fx.interval))
            }
            ,
            _.fx.stop = function() {
                clearInterval(Za),
                    Za = null
            }
            ,
            _.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            },
            _.fn.delay = function(a, b) {
                return a = _.fx ? _.fx.speeds[a] || a : a,
                    b = b || "fx",
                    this.queue(b, function(b, c) {
                        var d = setTimeout(b, a);
                        c.stop = function() {
                            clearTimeout(d)
                        }
                    })
            }
            ,
            function() {
                var a = Z.createElement("input")
                    , b = Z.createElement("select")
                    , c = b.appendChild(Z.createElement("option"));
                a.type = "checkbox",
                    Y.checkOn = "" !== a.value,
                    Y.optSelected = c.selected,
                    b.disabled = !0,
                    Y.optDisabled = !c.disabled,
                    a = Z.createElement("input"),
                    a.value = "t",
                    a.type = "radio",
                    Y.radioValue = "t" === a.value
            }();
        var db, eb, fb = _.expr.attrHandle;
        _.fn.extend({
            attr: function(a, b) {
                return qa(this, _.attr, a, b, arguments.length > 1)
            },
            removeAttr: function(a) {
                return this.each(function() {
                    _.removeAttr(this, a)
                })
            }
        }),
            _.extend({
                attr: function(a, b, c) {
                    var d, e, f = a.nodeType;
                    if (a && 3 !== f && 8 !== f && 2 !== f)
                        return typeof a.getAttribute === za ? _.prop(a, b, c) : (1 === f && _.isXMLDoc(a) || (b = b.toLowerCase(),
                            d = _.attrHooks[b] || (_.expr.match.bool.test(b) ? eb : db)),
                            void 0 === c ? d && "get" in d && null  !== (e = d.get(a, b)) ? e : (e = _.find.attr(a, b),
                                null  == e ? void 0 : e) : null  !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""),
                                c) : void _.removeAttr(a, b))
                },
                removeAttr: function(a, b) {
                    var c, d, e = 0, f = b && b.match(na);
                    if (f && 1 === a.nodeType)
                        for (; c = f[e++]; )
                            d = _.propFix[c] || c,
                            _.expr.match.bool.test(c) && (a[d] = !1),
                                a.removeAttribute(c)
                },
                attrHooks: {
                    type: {
                        set: function(a, b) {
                            if (!Y.radioValue && "radio" === b && _.nodeName(a, "input")) {
                                var c = a.value;
                                return a.setAttribute("type", b),
                                c && (a.value = c),
                                    b
                            }
                        }
                    }
                }
            }),
            eb = {
                set: function(a, b, c) {
                    return b === !1 ? _.removeAttr(a, c) : a.setAttribute(c, c),
                        c
                }
            },
            _.each(_.expr.match.bool.source.match(/\w+/g), function(a, b) {
                var c = fb[b] || _.find.attr;
                fb[b] = function(a, b, d) {
                    var e, f;
                    return d || (f = fb[b],
                        fb[b] = e,
                        e = null  != c(a, b, d) ? b.toLowerCase() : null ,
                        fb[b] = f),
                        e
                }
            });
        var gb = /^(?:input|select|textarea|button)$/i;
        _.fn.extend({
            prop: function(a, b) {
                return qa(this, _.prop, a, b, arguments.length > 1)
            },
            removeProp: function(a) {
                return this.each(function() {
                    delete this[_.propFix[a] || a]
                })
            }
        }),
            _.extend({
                propFix: {
                    for: "htmlFor",
                    class: "className"
                },
                prop: function(a, b, c) {
                    var d, e, f, g = a.nodeType;
                    if (a && 3 !== g && 8 !== g && 2 !== g)
                        return f = 1 !== g || !_.isXMLDoc(a),
                        f && (b = _.propFix[b] || b,
                            e = _.propHooks[b]),
                            void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null  !== (d = e.get(a, b)) ? d : a[b]
                },
                propHooks: {
                    tabIndex: {
                        get: function(a) {
                            return a.hasAttribute("tabindex") || gb.test(a.nodeName) || a.href ? a.tabIndex : -1
                        }
                    }
                }
            }),
        Y.optSelected || (_.propHooks.selected = {
            get: function(a) {
                var b = a.parentNode;
                return b && b.parentNode && b.parentNode.selectedIndex,
                    null
            }
        }),
            _.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
                _.propFix[this.toLowerCase()] = this
            });
        var hb = /[\t\r\n\f]/g;
        _.fn.extend({
            addClass: function(a) {
                var b, c, d, e, f, g, h = "string" == typeof a && a, i = 0, j = this.length;
                if (_.isFunction(a))
                    return this.each(function(b) {
                        _(this).addClass(a.call(this, b, this.className))
                    });
                if (h)
                    for (b = (a || "").match(na) || []; j > i; i++)
                        if (c = this[i],
                                d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hb, " ") : " ")) {
                            for (f = 0; e = b[f++]; )
                                d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                            g = _.trim(d),
                            c.className !== g && (c.className = g)
                        }
                return this
            },
            removeClass: function(a) {
                var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a, i = 0, j = this.length;
                if (_.isFunction(a))
                    return this.each(function(b) {
                        _(this).removeClass(a.call(this, b, this.className))
                    });
                if (h)
                    for (b = (a || "").match(na) || []; j > i; i++)
                        if (c = this[i],
                                d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hb, " ") : "")) {
                            for (f = 0; e = b[f++]; )
                                for (; d.indexOf(" " + e + " ") >= 0; )
                                    d = d.replace(" " + e + " ", " ");
                            g = a ? _.trim(d) : "",
                            c.className !== g && (c.className = g)
                        }
                return this
            },
            toggleClass: function(a, b) {
                var c = typeof a;
                return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : _.isFunction(a) ? this.each(function(c) {
                    _(this).toggleClass(a.call(this, c, this.className, b), b)
                }) : this.each(function() {
                    if ("string" === c)
                        for (var b, d = 0, e = _(this), f = a.match(na) || []; b = f[d++]; )
                            e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                    else
                        (c === za || "boolean" === c) && (this.className && ra.set(this, "__className__", this.className),
                            this.className = this.className || a === !1 ? "" : ra.get(this, "__className__") || "")
                })
            },
            hasClass: function(a) {
                for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
                    if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(hb, " ").indexOf(b) >= 0)
                        return !0;
                return !1
            }
        });
        var ib = /\r/g;
        _.fn.extend({
            val: function(a) {
                var b, c, d, e = this[0];
                return arguments.length ? (d = _.isFunction(a),
                    this.each(function(c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, _(this).val()) : a,
                            null  == e ? e = "" : "number" == typeof e ? e += "" : _.isArray(e) && (e = _.map(e, function(a) {
                                return null  == a ? "" : a + ""
                            })),
                            b = _.valHooks[this.type] || _.valHooks[this.nodeName.toLowerCase()],
                        b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    })) : e ? (b = _.valHooks[e.type] || _.valHooks[e.nodeName.toLowerCase()],
                    b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value,
                        "string" == typeof c ? c.replace(ib, "") : null  == c ? "" : c)) : void 0
            }
        }),
            _.extend({
                valHooks: {
                    option: {
                        get: function(a) {
                            var b = _.find.attr(a, "value");
                            return null  != b ? b : _.trim(_.text(a))
                        }
                    },
                    select: {
                        get: function(a) {
                            for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null  : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
                                if (c = d[i],
                                    (c.selected || i === e) && (Y.optDisabled ? !c.disabled : null  === c.getAttribute("disabled")) && (!c.parentNode.disabled || !_.nodeName(c.parentNode, "optgroup"))) {
                                    if (b = _(c).val(),
                                            f)
                                        return b;
                                    g.push(b)
                                }
                            return g
                        },
                        set: function(a, b) {
                            for (var c, d, e = a.options, f = _.makeArray(b), g = e.length; g--; )
                                d = e[g],
                                (d.selected = _.inArray(d.value, f) >= 0) && (c = !0);
                            return c || (a.selectedIndex = -1),
                                f
                        }
                    }
                }
            }),
            _.each(["radio", "checkbox"], function() {
                _.valHooks[this] = {
                    set: function(a, b) {
                        return _.isArray(b) ? a.checked = _.inArray(_(a).val(), b) >= 0 : void 0
                    }
                },
                Y.checkOn || (_.valHooks[this].get = function(a) {
                        return null  === a.getAttribute("value") ? "on" : a.value
                    }
                )
            }),
            _.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
                _.fn[b] = function(a, c) {
                    return arguments.length > 0 ? this.on(b, null , a, c) : this.trigger(b)
                }
            }),
            _.fn.extend({
                hover: function(a, b) {
                    return this.mouseenter(a).mouseleave(b || a)
                },
                bind: function(a, b, c) {
                    return this.on(a, null , b, c)
                },
                unbind: function(a, b) {
                    return this.off(a, null , b)
                },
                delegate: function(a, b, c, d) {
                    return this.on(b, a, c, d)
                },
                undelegate: function(a, b, c) {
                    return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
                }
            });
        var jb = _.now()
            , kb = /\?/;
        _.parseJSON = function(a) {
            return JSON.parse(a + "")
        }
            ,
            _.parseXML = function(a) {
                var b, c;
                if (!a || "string" != typeof a)
                    return null ;
                try {
                    c = new DOMParser,
                        b = c.parseFromString(a, "text/xml")
                } catch (a) {
                    b = void 0
                }
                return (!b || b.getElementsByTagName("parsererror").length) && _.error("Invalid XML: " + a),
                    b
            }
        ;
        var lb = /#.*$/
            , mb = /([?&])_=[^&]*/
            , nb = /^(.*?):[ \t]*([^\r\n]*)$/gm
            , ob = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/
            , pb = /^(?:GET|HEAD)$/
            , qb = /^\/\//
            , rb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/
            , sb = {}
            , tb = {}
            , ub = "*/".concat("*")
            , vb = a.location.href
            , wb = rb.exec(vb.toLowerCase()) || [];
        _.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: vb,
                type: "GET",
                isLocal: ob.test(wb[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": ub,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /xml/,
                    html: /html/,
                    json: /json/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": _.parseJSON,
                    "text xml": _.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(a, b) {
                return b ? L(L(a, _.ajaxSettings), b) : L(_.ajaxSettings, a)
            },
            ajaxPrefilter: J(sb),
            ajaxTransport: J(tb),
            ajax: function(a, b) {
                function c(a, b, c, g) {
                    var i, k, r, s, u, w = b;
                    2 !== t && (t = 2,
                    h && clearTimeout(h),
                        d = void 0,
                        f = g || "",
                        v.readyState = a > 0 ? 4 : 0,
                        i = a >= 200 && 300 > a || 304 === a,
                    c && (s = M(l, v, c)),
                        s = N(l, s, v, i),
                        i ? (l.ifModified && (u = v.getResponseHeader("Last-Modified"),
                        u && (_.lastModified[e] = u),
                            u = v.getResponseHeader("etag"),
                        u && (_.etag[e] = u)),
                            204 === a || "HEAD" === l.type ? w = "nocontent" : 304 === a ? w = "notmodified" : (w = s.state,
                                k = s.data,
                                r = s.error,
                                i = !r)) : (r = w,
                        (a || !w) && (w = "error",
                        0 > a && (a = 0))),
                        v.status = a,
                        v.statusText = (b || w) + "",
                        i ? o.resolveWith(m, [k, w, v]) : o.rejectWith(m, [v, w, r]),
                        v.statusCode(q),
                        q = void 0,
                    j && n.trigger(i ? "ajaxSuccess" : "ajaxError", [v, l, i ? k : r]),
                        p.fireWith(m, [v, w]),
                    j && (n.trigger("ajaxComplete", [v, l]),
                    --_.active || _.event.trigger("ajaxStop")))
                }
                "object" == typeof a && (b = a,
                    a = void 0),
                    b = b || {};
                var d, e, f, g, h, i, j, k, l = _.ajaxSetup({}, b), m = l.context || l, n = l.context && (m.nodeType || m.jquery) ? _(m) : _.event, o = _.Deferred(), p = _.Callbacks("once memory"), q = l.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                    readyState: 0,
                    getResponseHeader: function(a) {
                        var b;
                        if (2 === t) {
                            if (!g)
                                for (g = {}; b = nb.exec(f); )
                                    g[b[1].toLowerCase()] = b[2];
                            b = g[a.toLowerCase()]
                        }
                        return null  == b ? null  : b
                    },
                    getAllResponseHeaders: function() {
                        return 2 === t ? f : null
                    },
                    setRequestHeader: function(a, b) {
                        var c = a.toLowerCase();
                        return t || (a = s[c] = s[c] || a,
                            r[a] = b),
                            this
                    },
                    overrideMimeType: function(a) {
                        return t || (l.mimeType = a),
                            this
                    },
                    statusCode: function(a) {
                        var b;
                        if (a)
                            if (2 > t)
                                for (b in a)
                                    q[b] = [q[b], a[b]];
                            else
                                v.always(a[v.status]);
                        return this
                    },
                    abort: function(a) {
                        var b = a || u;
                        return d && d.abort(b),
                            c(0, b),
                            this
                    }
                };
                if (o.promise(v).complete = p.add,
                        v.success = v.done,
                        v.error = v.fail,
                        l.url = ((a || l.url || vb) + "").replace(lb, "").replace(qb, wb[1] + "//"),
                        l.type = b.method || b.type || l.method || l.type,
                        l.dataTypes = _.trim(l.dataType || "*").toLowerCase().match(na) || [""],
                    null  == l.crossDomain && (i = rb.exec(l.url.toLowerCase()),
                        l.crossDomain = !(!i || i[1] === wb[1] && i[2] === wb[2] && (i[3] || ("http:" === i[1] ? "80" : "443")) === (wb[3] || ("http:" === wb[1] ? "80" : "443")))),
                    l.data && l.processData && "string" != typeof l.data && (l.data = _.param(l.data, l.traditional)),
                        K(sb, l, b, v),
                    2 === t)
                    return v;
                j = _.event && l.global,
                j && 0 === _.active++ && _.event.trigger("ajaxStart"),
                    l.type = l.type.toUpperCase(),
                    l.hasContent = !pb.test(l.type),
                    e = l.url,
                l.hasContent || (l.data && (e = l.url += (kb.test(e) ? "&" : "?") + l.data,
                    delete l.data),
                l.cache === !1 && (l.url = mb.test(e) ? e.replace(mb, "$1_=" + jb++) : e + (kb.test(e) ? "&" : "?") + "_=" + jb++)),
                l.ifModified && (_.lastModified[e] && v.setRequestHeader("If-Modified-Since", _.lastModified[e]),
                _.etag[e] && v.setRequestHeader("If-None-Match", _.etag[e])),
                (l.data && l.hasContent && l.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", l.contentType),
                    v.setRequestHeader("Accept", l.dataTypes[0] && l.accepts[l.dataTypes[0]] ? l.accepts[l.dataTypes[0]] + ("*" !== l.dataTypes[0] ? ", " + ub + "; q=0.01" : "") : l.accepts["*"]);
                for (k in l.headers)
                    v.setRequestHeader(k, l.headers[k]);
                if (l.beforeSend && (l.beforeSend.call(m, v, l) === !1 || 2 === t))
                    return v.abort();
                u = "abort";
                for (k in {
                    success: 1,
                    error: 1,
                    complete: 1
                })
                    v[k](l[k]);
                if (d = K(tb, l, b, v)) {
                    v.readyState = 1,
                    j && n.trigger("ajaxSend", [v, l]),
                    l.async && l.timeout > 0 && (h = setTimeout(function() {
                        v.abort("timeout")
                    }, l.timeout));
                    try {
                        t = 1,
                            d.send(r, c)
                    } catch (a) {
                        if (!(2 > t))
                            throw a;
                        c(-1, a)
                    }
                } else
                    c(-1, "No Transport");
                return v
            },
            getJSON: function(a, b, c) {
                return _.get(a, b, c, "json")
            },
            getScript: function(a, b) {
                return _.get(a, void 0, b, "script")
            }
        }),
            _.each(["get", "post"], function(a, b) {
                _[b] = function(a, c, d, e) {
                    return _.isFunction(c) && (e = e || d,
                        d = c,
                        c = void 0),
                        _.ajax({
                            url: a,
                            type: b,
                            dataType: e,
                            data: c,
                            success: d
                        })
                }
            }),
            _._evalUrl = function(a) {
                return _.ajax({
                    url: a,
                    type: "GET",
                    dataType: "script",
                    async: !1,
                    global: !1,
                    throws: !0
                })
            }
            ,
            _.fn.extend({
                wrapAll: function(a) {
                    var b;
                    return _.isFunction(a) ? this.each(function(b) {
                        _(this).wrapAll(a.call(this, b))
                    }) : (this[0] && (b = _(a, this[0].ownerDocument).eq(0).clone(!0),
                    this[0].parentNode && b.insertBefore(this[0]),
                        b.map(function() {
                            for (var a = this; a.firstElementChild; )
                                a = a.firstElementChild;
                            return a
                        }).append(this)),
                        this)
                },
                wrapInner: function(a) {
                    return _.isFunction(a) ? this.each(function(b) {
                        _(this).wrapInner(a.call(this, b))
                    }) : this.each(function() {
                        var b = _(this)
                            , c = b.contents();
                        c.length ? c.wrapAll(a) : b.append(a)
                    })
                },
                wrap: function(a) {
                    var b = _.isFunction(a);
                    return this.each(function(c) {
                        _(this).wrapAll(b ? a.call(this, c) : a)
                    })
                },
                unwrap: function() {
                    return this.parent().each(function() {
                        _.nodeName(this, "body") || _(this).replaceWith(this.childNodes)
                    }).end()
                }
            }),
            _.expr.filters.hidden = function(a) {
                return a.offsetWidth <= 0 && a.offsetHeight <= 0
            }
            ,
            _.expr.filters.visible = function(a) {
                return !_.expr.filters.hidden(a)
            }
        ;
        var xb = /%20/g
            , yb = /\[\]$/
            , zb = /\r?\n/g
            , Ab = /^(?:submit|button|image|reset|file)$/i
            , Bb = /^(?:input|select|textarea|keygen)/i;
        _.param = function(a, b) {
            var c, d = [], e = function(a, b) {
                    b = _.isFunction(b) ? b() : null  == b ? "" : b,
                        d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
                }
                ;
            if (void 0 === b && (b = _.ajaxSettings && _.ajaxSettings.traditional),
                _.isArray(a) || a.jquery && !_.isPlainObject(a))
                _.each(a, function() {
                    e(this.name, this.value)
                });
            else
                for (c in a)
                    O(c, a[c], b, e);
            return d.join("&").replace(xb, "+")
        }
            ,
            _.fn.extend({
                serialize: function() {
                    return _.param(this.serializeArray())
                },
                serializeArray: function() {
                    return this.map(function() {
                        var a = _.prop(this, "elements");
                        return a ? _.makeArray(a) : this
                    }).filter(function() {
                        var a = this.type;
                        return this.name && !_(this).is(":disabled") && Bb.test(this.nodeName) && !Ab.test(a) && (this.checked || !ya.test(a))
                    }).map(function(a, b) {
                        var c = _(this).val();
                        return null  == c ? null  : _.isArray(c) ? _.map(c, function(a) {
                            return {
                                name: b.name,
                                value: a.replace(zb, "\r\n")
                            }
                        }) : {
                            name: b.name,
                            value: c.replace(zb, "\r\n")
                        }
                    }).get()
                }
            }),
            _.ajaxSettings.xhr = function() {
                try {
                    return new XMLHttpRequest
                } catch (a) {}
            }
        ;
        var Cb = 0
            , Db = {}
            , Eb = {
            0: 200,
            1223: 204
        }
            , Fb = _.ajaxSettings.xhr();
        a.attachEvent && a.attachEvent("onunload", function() {
            for (var a in Db)
                Db[a]()
        }),
            Y.cors = !!Fb && "withCredentials" in Fb,
            Y.ajax = Fb = !!Fb,
            _.ajaxTransport(function(a) {
                var b;
                return Y.cors || Fb && !a.crossDomain ? {
                    send: function(c, d) {
                        var e, f = a.xhr(), g = ++Cb;
                        if (f.open(a.type, a.url, a.async, a.username, a.password),
                                a.xhrFields)
                            for (e in a.xhrFields)
                                f[e] = a.xhrFields[e];
                        a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType),
                        a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                        for (e in c)
                            f.setRequestHeader(e, c[e]);
                        b = function(a) {
                            return function() {
                                b && (delete Db[g],
                                    b = f.onload = f.onerror = null ,
                                    "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Eb[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {
                                        text: f.responseText
                                    } : void 0, f.getAllResponseHeaders()))
                            }
                        }
                            ,
                            f.onload = b(),
                            f.onerror = b("error"),
                            b = Db[g] = b("abort");
                        try {
                            f.send(a.hasContent && a.data || null )
                        } catch (a) {
                            if (b)
                                throw a
                        }
                    },
                    abort: function() {
                        b && b()
                    }
                } : void 0
            }),
            _.ajaxSetup({
                accepts: {
                    script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                contents: {
                    script: /(?:java|ecma)script/
                },
                converters: {
                    "text script": function(a) {
                        return _.globalEval(a),
                            a
                    }
                }
            }),
            _.ajaxPrefilter("script", function(a) {
                void 0 === a.cache && (a.cache = !1),
                a.crossDomain && (a.type = "GET")
            }),
            _.ajaxTransport("script", function(a) {
                if (a.crossDomain) {
                    var b, c;
                    return {
                        send: function(d, e) {
                            b = _("<script>").prop({
                                async: !0,
                                charset: a.scriptCharset,
                                src: a.url
                            }).on("load.error", c = function(a) {
                                    b.remove(),
                                        c = null ,
                                    a && e("error" === a.type ? 404 : 200, a.type)
                                }
                            ),
                                Z.head.appendChild(b[0])
                        },
                        abort: function() {
                            c && c()
                        }
                    }
                }
            });
        var Gb = []
            , Hb = /(=)\?(?=&|$)|\?\?/;
        _.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var a = Gb.pop() || _.expando + "_" + jb++;
                return this[a] = !0,
                    a
            }
        }),
            _.ajaxPrefilter("json jsonp", function(b, c, d) {
                var e, f, g, h = b.jsonp !== !1 && (Hb.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Hb.test(b.data) && "data");
                return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = _.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
                    h ? b[h] = b[h].replace(Hb, "$1" + e) : b.jsonp !== !1 && (b.url += (kb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
                    b.converters["script json"] = function() {
                        return g || _.error(e + " was not called"),
                            g[0]
                    }
                    ,
                    b.dataTypes[0] = "json",
                    f = a[e],
                    a[e] = function() {
                        g = arguments
                    }
                    ,
                    d.always(function() {
                        a[e] = f,
                        b[e] && (b.jsonpCallback = c.jsonpCallback,
                            Gb.push(e)),
                        g && _.isFunction(f) && f(g[0]),
                            g = f = void 0
                    }),
                    "script") : void 0
            }),
            _.parseHTML = function(a, b, c) {
                if (!a || "string" != typeof a)
                    return null ;
                "boolean" == typeof b && (c = b,
                    b = !1),
                    b = b || Z;
                var d = ga.exec(a)
                    , e = !c && [];
                return d ? [b.createElement(d[1])] : (d = _.buildFragment([a], b, e),
                e && e.length && _(e).remove(),
                    _.merge([], d.childNodes))
            }
        ;
        var Ib = _.fn.load;
        _.fn.load = function(a, b, c) {
            if ("string" != typeof a && Ib)
                return Ib.apply(this, arguments);
            var d, e, f, g = this, h = a.indexOf(" ");
            return h >= 0 && (d = _.trim(a.slice(h)),
                a = a.slice(0, h)),
                _.isFunction(b) ? (c = b,
                    b = void 0) : b && "object" == typeof b && (e = "POST"),
            g.length > 0 && _.ajax({
                url: a,
                type: e,
                dataType: "html",
                data: b
            }).done(function(a) {
                f = arguments,
                    g.html(d ? _("<div>").append(_.parseHTML(a)).find(d) : a)
            }).complete(c && function(a, b) {
                    g.each(c, f || [a.responseText, b, a])
                }
            ),
                this
        }
            ,
            _.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
                _.fn[b] = function(a) {
                    return this.on(b, a)
                }
            }),
            _.expr.filters.animated = function(a) {
                return _.grep(_.timers, function(b) {
                    return a === b.elem
                }).length
            }
        ;
        var Jb = a.document.documentElement;
        _.offset = {
            setOffset: function(a, b, c) {
                var d, e, f, g, h, i, j, k = _.css(a, "position"), l = _(a), m = {};
                "static" === k && (a.style.position = "relative"),
                    h = l.offset(),
                    f = _.css(a, "top"),
                    i = _.css(a, "left"),
                    j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1,
                    j ? (d = l.position(),
                        g = d.top,
                        e = d.left) : (g = parseFloat(f) || 0,
                        e = parseFloat(i) || 0),
                _.isFunction(b) && (b = b.call(a, c, h)),
                null  != b.top && (m.top = b.top - h.top + g),
                null  != b.left && (m.left = b.left - h.left + e),
                    "using" in b ? b.using.call(a, m) : l.css(m)
            }
        },
            _.fn.extend({
                offset: function(a) {
                    if (arguments.length)
                        return void 0 === a ? this : this.each(function(b) {
                            _.offset.setOffset(this, a, b)
                        });
                    var b, c, d = this[0], e = {
                        top: 0,
                        left: 0
                    }, f = d && d.ownerDocument;
                    return f ? (b = f.documentElement,
                        _.contains(b, d) ? (typeof d.getBoundingClientRect !== za && (e = d.getBoundingClientRect()),
                            c = P(f),
                        {
                            top: e.top + c.pageYOffset - b.clientTop,
                            left: e.left + c.pageXOffset - b.clientLeft
                        }) : e) : void 0
                },
                position: function() {
                    if (this[0]) {
                        var a, b, c = this[0], d = {
                            top: 0,
                            left: 0
                        };
                        return "fixed" === _.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(),
                            b = this.offset(),
                        _.nodeName(a[0], "html") || (d = a.offset()),
                            d.top += _.css(a[0], "borderTopWidth", !0),
                            d.left += _.css(a[0], "borderLeftWidth", !0)),
                        {
                            top: b.top - d.top - _.css(c, "marginTop", !0),
                            left: b.left - d.left - _.css(c, "marginLeft", !0)
                        }
                    }
                },
                offsetParent: function() {
                    return this.map(function() {
                        for (var a = this.offsetParent || Jb; a && !_.nodeName(a, "html") && "static" === _.css(a, "position"); )
                            a = a.offsetParent;
                        return a || Jb
                    })
                }
            }),
            _.each({
                scrollLeft: "pageXOffset",
                scrollTop: "pageYOffset"
            }, function(b, c) {
                var d = "pageYOffset" === c;
                _.fn[b] = function(e) {
                    return qa(this, function(b, e, f) {
                        var g = P(b);
                        return void 0 === f ? g ? g[c] : b[e] : void (g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f)
                    }, b, e, arguments.length, null )
                }
            }),
            _.each(["top", "left"], function(a, b) {
                _.cssHooks[b] = w(Y.pixelPosition, function(a, c) {
                    return c ? (c = v(a, b),
                        Qa.test(c) ? _(a).position()[b] + "px" : c) : void 0
                })
            }),
            _.each({
                Height: "height",
                Width: "width"
            }, function(a, b) {
                _.each({
                    padding: "inner" + a,
                    content: b,
                    "": "outer" + a
                }, function(c, d) {
                    _.fn[d] = function(d, e) {
                        var f = arguments.length && (c || "boolean" != typeof d)
                            , g = c || (d === !0 || e === !0 ? "margin" : "border");
                        return qa(this, function(b, c, d) {
                            var e;
                            return _.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement,
                                Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? _.css(b, c, g) : _.style(b, c, d, g)
                        }, b, f ? d : void 0, f, null )
                    }
                })
            }),
            _.fn.size = function() {
                return this.length
            }
            ,
            _.fn.andSelf = _.fn.addBack,
        "function" == typeof define && define.amd && define("jquery", [], function() {
            return _
        });
        var Kb = a.jQuery
            , Lb = a.$;
        return _.noConflict = function(b) {
            return a.$ === _ && (a.$ = Lb),
            b && a.jQuery === _ && (a.jQuery = Kb),
                _
        }
            ,
        typeof b === za && (a.jQuery = a.$ = _),
            _
    }),
    "undefined" == typeof jQuery)
    throw new Error("Bootstrap's JavaScript requires jQuery");
+function(a) {
    var b = a.fn.jquery.split(" ")[0].split(".");
    if (b[0] < 2 && b[1] < 9 || 1 == b[0] && 9 == b[1] && b[2] < 1)
        throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")
}(jQuery),
    +function(a) {
        function b() {
            var a = document.createElement("bootstrap")
                , b = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
            for (var c in b)
                if (void 0 !== a.style[c])
                    return {
                        end: b[c]
                    };
            return !1
        }
        a.fn.emulateTransitionEnd = function(b) {
            var c = !1
                , d = this;
            a(this).one("bsTransitionEnd", function() {
                c = !0
            });
            var e = function() {
                    c || a(d).trigger(a.support.transition.end)
                }
                ;
            return setTimeout(e, b),
                this
        }
            ,
            a(function() {
                a.support.transition = b(),
                a.support.transition && (a.event.special.bsTransitionEnd = {
                    bindType: a.support.transition.end,
                    delegateType: a.support.transition.end,
                    handle: function(b) {
                        return a(b.target).is(this) ? b.handleObj.handler.apply(this, arguments) : void 0
                    }
                })
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var c = a(this)
                    , e = c.data("bs.alert");
                e || c.data("bs.alert", e = new d(this)),
                "string" == typeof b && e[b].call(c)
            })
        }
        var c = '[data-dismiss="alert"]'
            , d = function(b) {
                a(b).on("click", c, this.close)
            }
            ;
        d.VERSION = "3.3.5",
            d.TRANSITION_DURATION = 150,
            d.prototype.close = function(b) {
                function c() {
                    g.detach().trigger("closed.bs.alert").remove()
                }
                var e = a(this)
                    , f = e.attr("data-target");
                f || (f = e.attr("href"),
                    f = f && f.replace(/.*(?=#[^\s]*$)/, ""));
                var g = a(f);
                b && b.preventDefault(),
                g.length || (g = e.closest(".alert")),
                    g.trigger(b = a.Event("close.bs.alert")),
                b.isDefaultPrevented() || (g.removeClass("in"),
                    a.support.transition && g.hasClass("fade") ? g.one("bsTransitionEnd", c).emulateTransitionEnd(d.TRANSITION_DURATION) : c())
            }
        ;
        var e = a.fn.alert;
        a.fn.alert = b,
            a.fn.alert.Constructor = d,
            a.fn.alert.noConflict = function() {
                return a.fn.alert = e,
                    this
            }
            ,
            a(document).on("click.bs.alert.data-api", c, d.prototype.close)
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.button")
                    , f = "object" == typeof b && b;
                e || d.data("bs.button", e = new c(this,f)),
                    "toggle" == b ? e.toggle() : b && e.setState(b)
            })
        }
        var c = function(b, d) {
                this.$element = a(b),
                    this.options = a.extend({}, c.DEFAULTS, d),
                    this.isLoading = !1
            }
            ;
        c.VERSION = "3.3.5",
            c.DEFAULTS = {
                loadingText: "loading..."
            },
            c.prototype.setState = function(b) {
                var c = "disabled"
                    , d = this.$element
                    , e = d.is("input") ? "val" : "html"
                    , f = d.data();
                b += "Text",
                null  == f.resetText && d.data("resetText", d[e]()),
                    setTimeout(a.proxy(function() {
                        d[e](null  == f[b] ? this.options[b] : f[b]),
                            "loadingText" == b ? (this.isLoading = !0,
                                d.addClass(c).attr(c, c)) : this.isLoading && (this.isLoading = !1,
                                d.removeClass(c).removeAttr(c))
                    }, this), 0)
            }
            ,
            c.prototype.toggle = function() {
                var a = !0
                    , b = this.$element.closest('[data-toggle="buttons"]');
                if (b.length) {
                    var c = this.$element.find("input");
                    "radio" == c.prop("type") ? (c.prop("checked") && (a = !1),
                        b.find(".active").removeClass("active"),
                        this.$element.addClass("active")) : "checkbox" == c.prop("type") && (c.prop("checked") !== this.$element.hasClass("active") && (a = !1),
                        this.$element.toggleClass("active")),
                        c.prop("checked", this.$element.hasClass("active")),
                    a && c.trigger("change")
                } else
                    this.$element.attr("aria-pressed", !this.$element.hasClass("active")),
                        this.$element.toggleClass("active")
            }
        ;
        var d = a.fn.button;
        a.fn.button = b,
            a.fn.button.Constructor = c,
            a.fn.button.noConflict = function() {
                return a.fn.button = d,
                    this
            }
            ,
            a(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(c) {
                var d = a(c.target);
                d.hasClass("btn") || (d = d.closest(".btn")),
                    b.call(d, "toggle"),
                a(c.target).is('input[type="radio"]') || a(c.target).is('input[type="checkbox"]') || c.preventDefault()
            }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function(b) {
                a(b.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(b.type))
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.carousel")
                    , f = a.extend({}, c.DEFAULTS, d.data(), "object" == typeof b && b)
                    , g = "string" == typeof b ? b : f.slide;
                e || d.data("bs.carousel", e = new c(this,f)),
                    "number" == typeof b ? e.to(b) : g ? e[g]() : f.interval && e.pause().cycle()
            })
        }
        var c = function(b, c) {
                this.$element = a(b),
                    this.$indicators = this.$element.find(".carousel-indicators"),
                    this.options = c,
                    this.paused = null ,
                    this.sliding = null ,
                    this.interval = null ,
                    this.$active = null ,
                    this.$items = null ,
                this.options.keyboard && this.$element.on("keydown.bs.carousel", a.proxy(this.keydown, this)),
                "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", a.proxy(this.pause, this)).on("mouseleave.bs.carousel", a.proxy(this.cycle, this))
            }
            ;
        c.VERSION = "3.3.5",
            c.TRANSITION_DURATION = 600,
            c.DEFAULTS = {
                interval: 5e3,
                pause: "hover",
                wrap: !0,
                keyboard: !0
            },
            c.prototype.keydown = function(a) {
                if (!/input|textarea/i.test(a.target.tagName)) {
                    switch (a.which) {
                        case 37:
                            this.prev();
                            break;
                        case 39:
                            this.next();
                            break;
                        default:
                            return
                    }
                    a.preventDefault()
                }
            }
            ,
            c.prototype.cycle = function(b) {
                return b || (this.paused = !1),
                this.interval && clearInterval(this.interval),
                this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)),
                    this
            }
            ,
            c.prototype.getItemIndex = function(a) {
                return this.$items = a.parent().children(".item"),
                    this.$items.index(a || this.$active)
            }
            ,
            c.prototype.getItemForDirection = function(a, b) {
                var c = this.getItemIndex(b)
                    , d = "prev" == a && 0 === c || "next" == a && c == this.$items.length - 1;
                if (d && !this.options.wrap)
                    return b;
                var e = "prev" == a ? -1 : 1
                    , f = (c + e) % this.$items.length;
                return this.$items.eq(f)
            }
            ,
            c.prototype.to = function(a) {
                var b = this
                    , c = this.getItemIndex(this.$active = this.$element.find(".item.active"));
                return a > this.$items.length - 1 || 0 > a ? void 0 : this.sliding ? this.$element.one("slid.bs.carousel", function() {
                    b.to(a)
                }) : c == a ? this.pause().cycle() : this.slide(a > c ? "next" : "prev", this.$items.eq(a))
            }
            ,
            c.prototype.pause = function(b) {
                return b || (this.paused = !0),
                this.$element.find(".next, .prev").length && a.support.transition && (this.$element.trigger(a.support.transition.end),
                    this.cycle(!0)),
                    this.interval = clearInterval(this.interval),
                    this
            }
            ,
            c.prototype.next = function() {
                return this.sliding ? void 0 : this.slide("next")
            }
            ,
            c.prototype.prev = function() {
                return this.sliding ? void 0 : this.slide("prev")
            }
            ,
            c.prototype.slide = function(b, d) {
                var e = this.$element.find(".item.active")
                    , f = d || this.getItemForDirection(b, e)
                    , g = this.interval
                    , h = "next" == b ? "left" : "right"
                    , i = this;
                if (f.hasClass("active"))
                    return this.sliding = !1;
                var j = f[0]
                    , k = a.Event("slide.bs.carousel", {
                    relatedTarget: j,
                    direction: h
                });
                if (this.$element.trigger(k),
                        !k.isDefaultPrevented()) {
                    if (this.sliding = !0,
                        g && this.pause(),
                            this.$indicators.length) {
                        this.$indicators.find(".active").removeClass("active");
                        var l = a(this.$indicators.children()[this.getItemIndex(f)]);
                        l && l.addClass("active")
                    }
                    var m = a.Event("slid.bs.carousel", {
                        relatedTarget: j,
                        direction: h
                    });
                    return a.support.transition && this.$element.hasClass("slide") ? (f.addClass(b),
                        f[0].offsetWidth,
                        e.addClass(h),
                        f.addClass(h),
                        e.one("bsTransitionEnd", function() {
                            f.removeClass([b, h].join(" ")).addClass("active"),
                                e.removeClass(["active", h].join(" ")),
                                i.sliding = !1,
                                setTimeout(function() {
                                    i.$element.trigger(m)
                                }, 0)
                        }).emulateTransitionEnd(c.TRANSITION_DURATION)) : (e.removeClass("active"),
                        f.addClass("active"),
                        this.sliding = !1,
                        this.$element.trigger(m)),
                    g && this.cycle(),
                        this
                }
            }
        ;
        var d = a.fn.carousel;
        a.fn.carousel = b,
            a.fn.carousel.Constructor = c,
            a.fn.carousel.noConflict = function() {
                return a.fn.carousel = d,
                    this
            }
        ;
        var e = function(c) {
                var d, e = a(this), f = a(e.attr("data-target") || (d = e.attr("href")) && d.replace(/.*(?=#[^\s]+$)/, ""));
                if (f.hasClass("carousel")) {
                    var g = a.extend({}, f.data(), e.data())
                        , h = e.attr("data-slide-to");
                    h && (g.interval = !1),
                        b.call(f, g),
                    h && f.data("bs.carousel").to(h),
                        c.preventDefault()
                }
            }
            ;
        a(document).on("click.bs.carousel.data-api", "[data-slide]", e).on("click.bs.carousel.data-api", "[data-slide-to]", e),
            a(window).on("load", function() {
                a('[data-ride="carousel"]').each(function() {
                    var c = a(this);
                    b.call(c, c.data())
                })
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            var c, d = b.attr("data-target") || (c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "");
            return a(d)
        }
        function c(b) {
            return this.each(function() {
                var c = a(this)
                    , e = c.data("bs.collapse")
                    , f = a.extend({}, d.DEFAULTS, c.data(), "object" == typeof b && b);
                !e && f.toggle && /show|hide/.test(b) && (f.toggle = !1),
                e || c.data("bs.collapse", e = new d(this,f)),
                "string" == typeof b && e[b]()
            })
        }
        var d = function(b, c) {
                this.$element = a(b),
                    this.options = a.extend({}, d.DEFAULTS, c),
                    this.$trigger = a('[data-toggle="collapse"][href="#' + b.id + '"],[data-toggle="collapse"][data-target="#' + b.id + '"]'),
                    this.transitioning = null ,
                    this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger),
                this.options.toggle && this.toggle()
            }
            ;
        d.VERSION = "3.3.5",
            d.TRANSITION_DURATION = 350,
            d.DEFAULTS = {
                toggle: !0
            },
            d.prototype.dimension = function() {
                var a = this.$element.hasClass("width");
                return a ? "width" : "height"
            }
            ,
            d.prototype.show = function() {
                if (!this.transitioning && !this.$element.hasClass("in")) {
                    var b, e = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
                    if (!(e && e.length && (b = e.data("bs.collapse"),
                        b && b.transitioning))) {
                        var f = a.Event("show.bs.collapse");
                        if (this.$element.trigger(f),
                                !f.isDefaultPrevented()) {
                            e && e.length && (c.call(e, "hide"),
                            b || e.data("bs.collapse", null ));
                            var g = this.dimension();
                            this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded", !0),
                                this.$trigger.removeClass("collapsed").attr("aria-expanded", !0),
                                this.transitioning = 1;
                            var h = function() {
                                    this.$element.removeClass("collapsing").addClass("collapse in")[g](""),
                                        this.transitioning = 0,
                                        this.$element.trigger("shown.bs.collapse")
                                }
                                ;
                            if (!a.support.transition)
                                return h.call(this);
                            var i = a.camelCase(["scroll", g].join("-"));
                            this.$element.one("bsTransitionEnd", a.proxy(h, this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])
                        }
                    }
                }
            }
            ,
            d.prototype.hide = function() {
                if (!this.transitioning && this.$element.hasClass("in")) {
                    var b = a.Event("hide.bs.collapse");
                    if (this.$element.trigger(b),
                            !b.isDefaultPrevented()) {
                        var c = this.dimension();
                        this.$element[c](this.$element[c]())[0].offsetHeight,
                            this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1),
                            this.$trigger.addClass("collapsed").attr("aria-expanded", !1),
                            this.transitioning = 1;
                        var e = function() {
                                this.transitioning = 0,
                                    this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                            }
                            ;
                        return a.support.transition ? void this.$element[c](0).one("bsTransitionEnd", a.proxy(e, this)).emulateTransitionEnd(d.TRANSITION_DURATION) : e.call(this)
                    }
                }
            }
            ,
            d.prototype.toggle = function() {
                this[this.$element.hasClass("in") ? "hide" : "show"]()
            }
            ,
            d.prototype.getParent = function() {
                return a(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(a.proxy(function(c, d) {
                    var e = a(d);
                    this.addAriaAndCollapsedClass(b(e), e)
                }, this)).end()
            }
            ,
            d.prototype.addAriaAndCollapsedClass = function(a, b) {
                var c = a.hasClass("in");
                a.attr("aria-expanded", c),
                    b.toggleClass("collapsed", !c).attr("aria-expanded", c)
            }
        ;
        var e = a.fn.collapse;
        a.fn.collapse = c,
            a.fn.collapse.Constructor = d,
            a.fn.collapse.noConflict = function() {
                return a.fn.collapse = e,
                    this
            }
            ,
            a(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(d) {
                var e = a(this);
                e.attr("data-target") || d.preventDefault();
                var f = b(e)
                    , g = f.data("bs.collapse")
                    , h = g ? "toggle" : e.data();
                c.call(f, h)
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            var c = b.attr("data-target");
            c || (c = b.attr("href"),
                c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, ""));
            var d = c && a(c);
            return d && d.length ? d : b.parent()
        }
        function c(c) {
            c && 3 === c.which || (a(e).remove(),
                a(f).each(function() {
                    var d = a(this)
                        , e = b(d)
                        , f = {
                        relatedTarget: this
                    };
                    e.hasClass("open") && (c && "click" == c.type && /input|textarea/i.test(c.target.tagName) && a.contains(e[0], c.target) || (e.trigger(c = a.Event("hide.bs.dropdown", f)),
                    c.isDefaultPrevented() || (d.attr("aria-expanded", "false"),
                        e.removeClass("open").trigger("hidden.bs.dropdown", f))))
                }))
        }
        function d(b) {
            return this.each(function() {
                var c = a(this)
                    , d = c.data("bs.dropdown");
                d || c.data("bs.dropdown", d = new g(this)),
                "string" == typeof b && d[b].call(c)
            })
        }
        var e = ".dropdown-backdrop"
            , f = '[data-toggle="dropdown"]'
            , g = function(b) {
                a(b).on("click.bs.dropdown", this.toggle)
            }
            ;
        g.VERSION = "3.3.5",
            g.prototype.toggle = function(d) {
                var e = a(this);
                if (!e.is(".disabled, :disabled")) {
                    var f = b(e)
                        , g = f.hasClass("open");
                    if (c(),
                            !g) {
                        "ontouchstart" in document.documentElement && !f.closest(".navbar-nav").length && a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click", c);
                        var h = {
                            relatedTarget: this
                        };
                        if (f.trigger(d = a.Event("show.bs.dropdown", h)),
                                d.isDefaultPrevented())
                            return;
                        e.trigger("focus").attr("aria-expanded", "true"),
                            f.toggleClass("open").trigger("shown.bs.dropdown", h)
                    }
                    return !1
                }
            }
            ,
            g.prototype.keydown = function(c) {
                if (/(38|40|27|32)/.test(c.which) && !/input|textarea/i.test(c.target.tagName)) {
                    var d = a(this);
                    if (c.preventDefault(),
                            c.stopPropagation(),
                            !d.is(".disabled, :disabled")) {
                        var e = b(d)
                            , g = e.hasClass("open");
                        if (!g && 27 != c.which || g && 27 == c.which)
                            return 27 == c.which && e.find(f).trigger("focus"),
                                d.trigger("click");
                        var h = " li:not(.disabled):visible a"
                            , i = e.find(".dropdown-menu" + h);
                        if (i.length) {
                            var j = i.index(c.target);
                            38 == c.which && j > 0 && j--,
                            40 == c.which && j < i.length - 1 && j++,
                            ~j || (j = 0),
                                i.eq(j).trigger("focus")
                        }
                    }
                }
            }
        ;
        var h = a.fn.dropdown;
        a.fn.dropdown = d,
            a.fn.dropdown.Constructor = g,
            a.fn.dropdown.noConflict = function() {
                return a.fn.dropdown = h,
                    this
            }
            ,
            a(document).on("click.bs.dropdown.data-api", c).on("click.bs.dropdown.data-api", ".dropdown form", function(a) {
                a.stopPropagation()
            }).on("click.bs.dropdown.data-api", f, g.prototype.toggle).on("keydown.bs.dropdown.data-api", f, g.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", g.prototype.keydown)
    }(jQuery),
    +function(a) {
        function b(b, d) {
            return this.each(function() {
                var e = a(this)
                    , f = e.data("bs.modal")
                    , g = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b);
                f || e.data("bs.modal", f = new c(this,g)),
                    "string" == typeof b ? f[b](d) : g.show && f.show(d)
            })
        }
        var c = function(b, c) {
                this.options = c,
                    this.$body = a(document.body),
                    this.$element = a(b),
                    this.$dialog = this.$element.find(".modal-dialog"),
                    this.$backdrop = null ,
                    this.isShown = null ,
                    this.originalBodyPad = null ,
                    this.scrollbarWidth = 0,
                    this.ignoreBackdropClick = !1,
                this.options.remote && this.$element.find(".modal-content").load(this.options.remote, a.proxy(function() {
                    this.$element.trigger("loaded.bs.modal")
                }, this))
            }
            ;
        c.VERSION = "3.3.5",
            c.TRANSITION_DURATION = 300,
            c.BACKDROP_TRANSITION_DURATION = 150,
            c.DEFAULTS = {
                backdrop: !0,
                keyboard: !0,
                show: !0
            },
            c.prototype.toggle = function(a) {
                return this.isShown ? this.hide() : this.show(a)
            }
            ,
            c.prototype.show = function(b) {
                var d = this
                    , e = a.Event("show.bs.modal", {
                    relatedTarget: b
                });
                this.$element.trigger(e),
                this.isShown || e.isDefaultPrevented() || (this.isShown = !0,
                    this.checkScrollbar(),
                    this.setScrollbar(),
                    this.$body.addClass("modal-open"),
                    this.escape(),
                    this.resize(),
                    this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)),
                    this.$dialog.on("mousedown.dismiss.bs.modal", function() {
                        d.$element.one("mouseup.dismiss.bs.modal", function(b) {
                            a(b.target).is(d.$element) && (d.ignoreBackdropClick = !0)
                        })
                    }),
                    this.backdrop(function() {
                        var e = a.support.transition && d.$element.hasClass("fade");
                        d.$element.parent().length || d.$element.appendTo(d.$body),
                            d.$element.show().scrollTop(0),
                            d.adjustDialog(),
                        e && d.$element[0].offsetWidth,
                            d.$element.addClass("in"),
                            d.enforceFocus();
                        var f = a.Event("shown.bs.modal", {
                            relatedTarget: b
                        });
                        e ? d.$dialog.one("bsTransitionEnd", function() {
                            d.$element.trigger("focus").trigger(f)
                        }).emulateTransitionEnd(c.TRANSITION_DURATION) : d.$element.trigger("focus").trigger(f)
                    }))
            }
            ,
            c.prototype.hide = function(b) {
                b && b.preventDefault(),
                    b = a.Event("hide.bs.modal"),
                    this.$element.trigger(b),
                this.isShown && !b.isDefaultPrevented() && (this.isShown = !1,
                    this.escape(),
                    this.resize(),
                    a(document).off("focusin.bs.modal"),
                    this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
                    this.$dialog.off("mousedown.dismiss.bs.modal"),
                    a.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", a.proxy(this.hideModal, this)).emulateTransitionEnd(c.TRANSITION_DURATION) : this.hideModal())
            }
            ,
            c.prototype.enforceFocus = function() {
                a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function(a) {
                    this.$element[0] === a.target || this.$element.has(a.target).length || this.$element.trigger("focus")
                }, this))
            }
            ,
            c.prototype.escape = function() {
                this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", a.proxy(function(a) {
                    27 == a.which && this.hide()
                }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal")
            }
            ,
            c.prototype.resize = function() {
                this.isShown ? a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this)) : a(window).off("resize.bs.modal")
            }
            ,
            c.prototype.hideModal = function() {
                var a = this;
                this.$element.hide(),
                    this.backdrop(function() {
                        a.$body.removeClass("modal-open"),
                            a.resetAdjustments(),
                            a.resetScrollbar(),
                            a.$element.trigger("hidden.bs.modal")
                    })
            }
            ,
            c.prototype.removeBackdrop = function() {
                this.$backdrop && this.$backdrop.remove(),
                    this.$backdrop = null
            }
            ,
            c.prototype.backdrop = function(b) {
                var d = this
                    , e = this.$element.hasClass("fade") ? "fade" : "";
                if (this.isShown && this.options.backdrop) {
                    var f = a.support.transition && e;
                    if (this.$backdrop = a(document.createElement("div")).addClass("modal-backdrop " + e).appendTo(this.$body),
                            this.$element.on("click.dismiss.bs.modal", a.proxy(function(a) {
                                return this.ignoreBackdropClick ? void (this.ignoreBackdropClick = !1) : void (a.target === a.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide()))
                            }, this)),
                        f && this.$backdrop[0].offsetWidth,
                            this.$backdrop.addClass("in"),
                            !b)
                        return;
                    f ? this.$backdrop.one("bsTransitionEnd", b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : b()
                } else if (!this.isShown && this.$backdrop) {
                    this.$backdrop.removeClass("in");
                    var g = function() {
                            d.removeBackdrop(),
                            b && b()
                        }
                        ;
                    a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : g()
                } else
                    b && b()
            }
            ,
            c.prototype.handleUpdate = function() {
                this.adjustDialog()
            }
            ,
            c.prototype.adjustDialog = function() {
                var a = this.$element[0].scrollHeight > document.documentElement.clientHeight;
                this.$element.css({
                    paddingLeft: !this.bodyIsOverflowing && a ? this.scrollbarWidth : "",
                    paddingRight: this.bodyIsOverflowing && !a ? this.scrollbarWidth : ""
                })
            }
            ,
            c.prototype.resetAdjustments = function() {
                this.$element.css({
                    paddingLeft: "",
                    paddingRight: ""
                })
            }
            ,
            c.prototype.checkScrollbar = function() {
                var a = window.innerWidth;
                if (!a) {
                    var b = document.documentElement.getBoundingClientRect();
                    a = b.right - Math.abs(b.left)
                }
                this.bodyIsOverflowing = document.body.clientWidth < a,
                    this.scrollbarWidth = this.measureScrollbar()
            }
            ,
            c.prototype.setScrollbar = function() {
                var a = parseInt(this.$body.css("padding-right") || 0, 10);
                this.originalBodyPad = document.body.style.paddingRight || "",
                this.bodyIsOverflowing && this.$body.css("padding-right", a + this.scrollbarWidth)
            }
            ,
            c.prototype.resetScrollbar = function() {
                this.$body.css("padding-right", this.originalBodyPad)
            }
            ,
            c.prototype.measureScrollbar = function() {
                var a = document.createElement("div");
                a.className = "modal-scrollbar-measure",
                    this.$body.append(a);
                var b = a.offsetWidth - a.clientWidth;
                return this.$body[0].removeChild(a),
                    b
            }
        ;
        var d = a.fn.modal;
        a.fn.modal = b,
            a.fn.modal.Constructor = c,
            a.fn.modal.noConflict = function() {
                return a.fn.modal = d,
                    this
            }
            ,
            a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(c) {
                var d = a(this)
                    , e = d.attr("href")
                    , f = a(d.attr("data-target") || e && e.replace(/.*(?=#[^\s]+$)/, ""))
                    , g = f.data("bs.modal") ? "toggle" : a.extend({
                    remote: !/#/.test(e) && e
                }, f.data(), d.data());
                d.is("a") && c.preventDefault(),
                    f.one("show.bs.modal", function(a) {
                        a.isDefaultPrevented() || f.one("hidden.bs.modal", function() {
                            d.is(":visible") && d.trigger("focus")
                        })
                    }),
                    b.call(f, g, this)
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.tooltip")
                    , f = "object" == typeof b && b;
                (e || !/destroy|hide/.test(b)) && (e || d.data("bs.tooltip", e = new c(this,f)),
                "string" == typeof b && e[b]())
            })
        }
        var c = function(a, b) {
                this.type = null ,
                    this.options = null ,
                    this.enabled = null ,
                    this.timeout = null ,
                    this.hoverState = null ,
                    this.$element = null ,
                    this.inState = null ,
                    this.init("tooltip", a, b)
            }
            ;
        c.VERSION = "3.3.5",
            c.TRANSITION_DURATION = 150,
            c.DEFAULTS = {
                animation: !0,
                placement: "top",
                selector: !1,
                template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
                trigger: "hover focus",
                title: "",
                delay: 0,
                html: !1,
                container: !1,
                viewport: {
                    selector: "body",
                    padding: 0
                }
            },
            c.prototype.init = function(b, c, d) {
                if (this.enabled = !0,
                        this.type = b,
                        this.$element = a(c),
                        this.options = this.getOptions(d),
                        this.$viewport = this.options.viewport && a(a.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport),
                        this.inState = {
                            click: !1,
                            hover: !1,
                            focus: !1
                        },
                    this.$element[0] instanceof document.constructor && !this.options.selector)
                    throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
                for (var e = this.options.trigger.split(" "), f = e.length; f--; ) {
                    var g = e[f];
                    if ("click" == g)
                        this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this));
                    else if ("manual" != g) {
                        var h = "hover" == g ? "mouseenter" : "focusin"
                            , i = "hover" == g ? "mouseleave" : "focusout";
                        this.$element.on(h + "." + this.type, this.options.selector, a.proxy(this.enter, this)),
                            this.$element.on(i + "." + this.type, this.options.selector, a.proxy(this.leave, this))
                    }
                }
                this.options.selector ? this._options = a.extend({}, this.options, {
                    trigger: "manual",
                    selector: ""
                }) : this.fixTitle()
            }
            ,
            c.prototype.getDefaults = function() {
                return c.DEFAULTS
            }
            ,
            c.prototype.getOptions = function(b) {
                return b = a.extend({}, this.getDefaults(), this.$element.data(), b),
                b.delay && "number" == typeof b.delay && (b.delay = {
                    show: b.delay,
                    hide: b.delay
                }),
                    b
            }
            ,
            c.prototype.getDelegateOptions = function() {
                var b = {}
                    , c = this.getDefaults();
                return this._options && a.each(this._options, function(a, d) {
                    c[a] != d && (b[a] = d)
                }),
                    b
            }
            ,
            c.prototype.enter = function(b) {
                var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
                return c || (c = new this.constructor(b.currentTarget,this.getDelegateOptions()),
                    a(b.currentTarget).data("bs." + this.type, c)),
                b instanceof a.Event && (c.inState["focusin" == b.type ? "focus" : "hover"] = !0),
                    c.tip().hasClass("in") || "in" == c.hoverState ? void (c.hoverState = "in") : (clearTimeout(c.timeout),
                        c.hoverState = "in",
                        c.options.delay && c.options.delay.show ? void (c.timeout = setTimeout(function() {
                            "in" == c.hoverState && c.show()
                        }, c.options.delay.show)) : c.show())
            }
            ,
            c.prototype.isInStateTrue = function() {
                for (var a in this.inState)
                    if (this.inState[a])
                        return !0;
                return !1
            }
            ,
            c.prototype.leave = function(b) {
                var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
                return c || (c = new this.constructor(b.currentTarget,this.getDelegateOptions()),
                    a(b.currentTarget).data("bs." + this.type, c)),
                b instanceof a.Event && (c.inState["focusout" == b.type ? "focus" : "hover"] = !1),
                    c.isInStateTrue() ? void 0 : (clearTimeout(c.timeout),
                        c.hoverState = "out",
                        c.options.delay && c.options.delay.hide ? void (c.timeout = setTimeout(function() {
                            "out" == c.hoverState && c.hide()
                        }, c.options.delay.hide)) : c.hide())
            }
            ,
            c.prototype.show = function() {
                var b = a.Event("show.bs." + this.type);
                if (this.hasContent() && this.enabled) {
                    this.$element.trigger(b);
                    var d = a.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
                    if (b.isDefaultPrevented() || !d)
                        return;
                    var e = this
                        , f = this.tip()
                        , g = this.getUID(this.type);
                    this.setContent(),
                        f.attr("id", g),
                        this.$element.attr("aria-describedby", g),
                    this.options.animation && f.addClass("fade");
                    var h = "function" == typeof this.options.placement ? this.options.placement.call(this, f[0], this.$element[0]) : this.options.placement
                        , i = /\s?auto?\s?/i
                        , j = i.test(h);
                    j && (h = h.replace(i, "") || "top"),
                        f.detach().css({
                            top: 0,
                            left: 0,
                            display: "block"
                        }).addClass(h).data("bs." + this.type, this),
                        this.options.container ? f.appendTo(this.options.container) : f.insertAfter(this.$element),
                        this.$element.trigger("inserted.bs." + this.type);
                    var k = this.getPosition()
                        , l = f[0].offsetWidth
                        , m = f[0].offsetHeight;
                    if (j) {
                        var n = h
                            , o = this.getPosition(this.$viewport);
                        h = "bottom" == h && k.bottom + m > o.bottom ? "top" : "top" == h && k.top - m < o.top ? "bottom" : "right" == h && k.right + l > o.width ? "left" : "left" == h && k.left - l < o.left ? "right" : h,
                            f.removeClass(n).addClass(h)
                    }
                    var p = this.getCalculatedOffset(h, k, l, m);
                    this.applyPlacement(p, h);
                    var q = function() {
                            var a = e.hoverState;
                            e.$element.trigger("shown.bs." + e.type),
                                e.hoverState = null ,
                            "out" == a && e.leave(e)
                        }
                        ;
                    a.support.transition && this.$tip.hasClass("fade") ? f.one("bsTransitionEnd", q).emulateTransitionEnd(c.TRANSITION_DURATION) : q()
                }
            }
            ,
            c.prototype.applyPlacement = function(b, c) {
                var d = this.tip()
                    , e = d[0].offsetWidth
                    , f = d[0].offsetHeight
                    , g = parseInt(d.css("margin-top"), 10)
                    , h = parseInt(d.css("margin-left"), 10);
                isNaN(g) && (g = 0),
                isNaN(h) && (h = 0),
                    b.top += g,
                    b.left += h,
                    a.offset.setOffset(d[0], a.extend({
                        using: function(a) {
                            d.css({
                                top: Math.round(a.top),
                                left: Math.round(a.left)
                            })
                        }
                    }, b), 0),
                    d.addClass("in");
                var i = d[0].offsetWidth
                    , j = d[0].offsetHeight;
                "top" == c && j != f && (b.top = b.top + f - j);
                var k = this.getViewportAdjustedDelta(c, b, i, j);
                k.left ? b.left += k.left : b.top += k.top;
                var l = /top|bottom/.test(c)
                    , m = l ? 2 * k.left - e + i : 2 * k.top - f + j
                    , n = l ? "offsetWidth" : "offsetHeight";
                d.offset(b),
                    this.replaceArrow(m, d[0][n], l)
            }
            ,
            c.prototype.replaceArrow = function(a, b, c) {
                this.arrow().css(c ? "left" : "top", 50 * (1 - a / b) + "%").css(c ? "top" : "left", "")
            }
            ,
            c.prototype.setContent = function() {
                var a = this.tip()
                    , b = this.getTitle();
                a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b),
                    a.removeClass("fade in top bottom left right")
            }
            ,
            c.prototype.hide = function(b) {
                function d() {
                    "in" != e.hoverState && f.detach(),
                        e.$element.removeAttr("aria-describedby").trigger("hidden.bs." + e.type),
                    b && b()
                }
                var e = this
                    , f = a(this.$tip)
                    , g = a.Event("hide.bs." + this.type);
                return this.$element.trigger(g),
                    g.isDefaultPrevented() ? void 0 : (f.removeClass("in"),
                        a.support.transition && f.hasClass("fade") ? f.one("bsTransitionEnd", d).emulateTransitionEnd(c.TRANSITION_DURATION) : d(),
                        this.hoverState = null ,
                        this)
            }
            ,
            c.prototype.fixTitle = function() {
                var a = this.$element;
                (a.attr("title") || "string" != typeof a.attr("data-original-title")) && a.attr("data-original-title", a.attr("title") || "").attr("title", "")
            }
            ,
            c.prototype.hasContent = function() {
                return this.getTitle()
            }
            ,
            c.prototype.getPosition = function(b) {
                b = b || this.$element;
                var c = b[0]
                    , d = "BODY" == c.tagName
                    , e = c.getBoundingClientRect();
                null  == e.width && (e = a.extend({}, e, {
                    width: e.right - e.left,
                    height: e.bottom - e.top
                }));
                var f = d ? {
                    top: 0,
                    left: 0
                } : b.offset()
                    , g = {
                    scroll: d ? document.documentElement.scrollTop || document.body.scrollTop : b.scrollTop()
                }
                    , h = d ? {
                    width: a(window).width(),
                    height: a(window).height()
                } : null ;
                return a.extend({}, e, g, h, f)
            }
            ,
            c.prototype.getCalculatedOffset = function(a, b, c, d) {
                return "bottom" == a ? {
                    top: b.top + b.height,
                    left: b.left + b.width / 2 - c / 2
                } : "top" == a ? {
                    top: b.top - d,
                    left: b.left + b.width / 2 - c / 2
                } : "left" == a ? {
                    top: b.top + b.height / 2 - d / 2,
                    left: b.left - c
                } : {
                    top: b.top + b.height / 2 - d / 2,
                    left: b.left + b.width
                }
            }
            ,
            c.prototype.getViewportAdjustedDelta = function(a, b, c, d) {
                var e = {
                    top: 0,
                    left: 0
                };
                if (!this.$viewport)
                    return e;
                var f = this.options.viewport && this.options.viewport.padding || 0
                    , g = this.getPosition(this.$viewport);
                if (/right|left/.test(a)) {
                    var h = b.top - f - g.scroll
                        , i = b.top + f - g.scroll + d;
                    h < g.top ? e.top = g.top - h : i > g.top + g.height && (e.top = g.top + g.height - i)
                } else {
                    var j = b.left - f
                        , k = b.left + f + c;
                    j < g.left ? e.left = g.left - j : k > g.right && (e.left = g.left + g.width - k)
                }
                return e
            }
            ,
            c.prototype.getTitle = function() {
                var a, b = this.$element, c = this.options;
                return a = b.attr("data-original-title") || ("function" == typeof c.title ? c.title.call(b[0]) : c.title)
            }
            ,
            c.prototype.getUID = function(a) {
                do
                    a += ~~(1e6 * Math.random());
                while (document.getElementById(a));return a
            }
            ,
            c.prototype.tip = function() {
                if (!this.$tip && (this.$tip = a(this.options.template),
                    1 != this.$tip.length))
                    throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
                return this.$tip
            }
            ,
            c.prototype.arrow = function() {
                return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
            }
            ,
            c.prototype.enable = function() {
                this.enabled = !0
            }
            ,
            c.prototype.disable = function() {
                this.enabled = !1
            }
            ,
            c.prototype.toggleEnabled = function() {
                this.enabled = !this.enabled
            }
            ,
            c.prototype.toggle = function(b) {
                var c = this;
                b && (c = a(b.currentTarget).data("bs." + this.type),
                c || (c = new this.constructor(b.currentTarget,this.getDelegateOptions()),
                    a(b.currentTarget).data("bs." + this.type, c))),
                    b ? (c.inState.click = !c.inState.click,
                        c.isInStateTrue() ? c.enter(c) : c.leave(c)) : c.tip().hasClass("in") ? c.leave(c) : c.enter(c)
            }
            ,
            c.prototype.destroy = function() {
                var a = this;
                clearTimeout(this.timeout),
                    this.hide(function() {
                        a.$element.off("." + a.type).removeData("bs." + a.type),
                        a.$tip && a.$tip.detach(),
                            a.$tip = null ,
                            a.$arrow = null ,
                            a.$viewport = null
                    })
            }
        ;
        var d = a.fn.tooltip;
        a.fn.tooltip = b,
            a.fn.tooltip.Constructor = c,
            a.fn.tooltip.noConflict = function() {
                return a.fn.tooltip = d,
                    this
            }
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.popover")
                    , f = "object" == typeof b && b;
                (e || !/destroy|hide/.test(b)) && (e || d.data("bs.popover", e = new c(this,f)),
                "string" == typeof b && e[b]())
            })
        }
        var c = function(a, b) {
                this.init("popover", a, b)
            }
            ;
        if (!a.fn.tooltip)
            throw new Error("Popover requires tooltip.js");
        c.VERSION = "3.3.5",
            c.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
                placement: "right",
                trigger: "click",
                content: "",
                template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
            }),
            c.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype),
            c.prototype.constructor = c,
            c.prototype.getDefaults = function() {
                return c.DEFAULTS
            }
            ,
            c.prototype.setContent = function() {
                var a = this.tip()
                    , b = this.getTitle()
                    , c = this.getContent();
                a.find(".popover-title")[this.options.html ? "html" : "text"](b),
                    a.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof c ? "html" : "append" : "text"](c),
                    a.removeClass("fade top bottom left right in"),
                a.find(".popover-title").html() || a.find(".popover-title").hide()
            }
            ,
            c.prototype.hasContent = function() {
                return this.getTitle() || this.getContent()
            }
            ,
            c.prototype.getContent = function() {
                var a = this.$element
                    , b = this.options;
                return a.attr("data-content") || ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
            }
            ,
            c.prototype.arrow = function() {
                return this.$arrow = this.$arrow || this.tip().find(".arrow")
            }
        ;
        var d = a.fn.popover;
        a.fn.popover = b,
            a.fn.popover.Constructor = c,
            a.fn.popover.noConflict = function() {
                return a.fn.popover = d,
                    this
            }
    }(jQuery),
    +function(a) {
        function b(c, d) {
            this.$body = a(document.body),
                this.$scrollElement = a(a(c).is(document.body) ? window : c),
                this.options = a.extend({}, b.DEFAULTS, d),
                this.selector = (this.options.target || "") + " .nav li > a",
                this.offsets = [],
                this.targets = [],
                this.activeTarget = null ,
                this.scrollHeight = 0,
                this.$scrollElement.on("scroll.bs.scrollspy", a.proxy(this.process, this)),
                this.refresh(),
                this.process()
        }
        function c(c) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.scrollspy")
                    , f = "object" == typeof c && c;
                e || d.data("bs.scrollspy", e = new b(this,f)),
                "string" == typeof c && e[c]()
            })
        }
        b.VERSION = "3.3.5",
            b.DEFAULTS = {
                offset: 10
            },
            b.prototype.getScrollHeight = function() {
                return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
            }
            ,
            b.prototype.refresh = function() {
                var b = this
                    , c = "offset"
                    , d = 0;
                this.offsets = [],
                    this.targets = [],
                    this.scrollHeight = this.getScrollHeight(),
                a.isWindow(this.$scrollElement[0]) || (c = "position",
                    d = this.$scrollElement.scrollTop()),
                    this.$body.find(this.selector).map(function() {
                        var b = a(this)
                            , e = b.data("target") || b.attr("href")
                            , f = /^#./.test(e) && a(e);
                        return f && f.length && f.is(":visible") && [[f[c]().top + d, e]] || null
                    }).sort(function(a, b) {
                        return a[0] - b[0]
                    }).each(function() {
                        b.offsets.push(this[0]),
                            b.targets.push(this[1])
                    })
            }
            ,
            b.prototype.process = function() {
                var a, b = this.$scrollElement.scrollTop() + this.options.offset, c = this.getScrollHeight(), d = this.options.offset + c - this.$scrollElement.height(), e = this.offsets, f = this.targets, g = this.activeTarget;
                if (this.scrollHeight != c && this.refresh(),
                    b >= d)
                    return g != (a = f[f.length - 1]) && this.activate(a);
                if (g && b < e[0])
                    return this.activeTarget = null ,
                        this.clear();
                for (a = e.length; a--; )
                    g != f[a] && b >= e[a] && (void 0 === e[a + 1] || b < e[a + 1]) && this.activate(f[a])
            }
            ,
            b.prototype.activate = function(b) {
                this.activeTarget = b,
                    this.clear();
                var c = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]'
                    , d = a(c).parents("li").addClass("active");
                d.parent(".dropdown-menu").length && (d = d.closest("li.dropdown").addClass("active")),
                    d.trigger("activate.bs.scrollspy")
            }
            ,
            b.prototype.clear = function() {
                a(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
            }
        ;
        var d = a.fn.scrollspy;
        a.fn.scrollspy = c,
            a.fn.scrollspy.Constructor = b,
            a.fn.scrollspy.noConflict = function() {
                return a.fn.scrollspy = d,
                    this
            }
            ,
            a(window).on("load.bs.scrollspy.data-api", function() {
                a('[data-spy="scroll"]').each(function() {
                    var b = a(this);
                    c.call(b, b.data())
                })
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.tab");
                e || d.data("bs.tab", e = new c(this)),
                "string" == typeof b && e[b]()
            })
        }
        var c = function(b) {
                this.element = a(b)
            }
            ;
        c.VERSION = "3.3.5",
            c.TRANSITION_DURATION = 150,
            c.prototype.show = function() {
                var b = this.element
                    , c = b.closest("ul:not(.dropdown-menu)")
                    , d = b.data("target");
                if (d || (d = b.attr("href"),
                        d = d && d.replace(/.*(?=#[^\s]*$)/, "")),
                        !b.parent("li").hasClass("active")) {
                    var e = c.find(".active:last a")
                        , f = a.Event("hide.bs.tab", {
                        relatedTarget: b[0]
                    })
                        , g = a.Event("show.bs.tab", {
                        relatedTarget: e[0]
                    });
                    if (e.trigger(f),
                            b.trigger(g),
                        !g.isDefaultPrevented() && !f.isDefaultPrevented()) {
                        var h = a(d);
                        this.activate(b.closest("li"), c),
                            this.activate(h, h.parent(), function() {
                                e.trigger({
                                    type: "hidden.bs.tab",
                                    relatedTarget: b[0]
                                }),
                                    b.trigger({
                                        type: "shown.bs.tab",
                                        relatedTarget: e[0]
                                    })
                            })
                    }
                }
            }
            ,
            c.prototype.activate = function(b, d, e) {
                function f() {
                    g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1),
                        b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0),
                        h ? (b[0].offsetWidth,
                            b.addClass("in")) : b.removeClass("fade"),
                    b.parent(".dropdown-menu").length && b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0),
                    e && e()
                }
                var g = d.find("> .active")
                    , h = e && a.support.transition && (g.length && g.hasClass("fade") || !!d.find("> .fade").length);
                g.length && h ? g.one("bsTransitionEnd", f).emulateTransitionEnd(c.TRANSITION_DURATION) : f(),
                    g.removeClass("in")
            }
        ;
        var d = a.fn.tab;
        a.fn.tab = b,
            a.fn.tab.Constructor = c,
            a.fn.tab.noConflict = function() {
                return a.fn.tab = d,
                    this
            }
        ;
        var e = function(c) {
                c.preventDefault(),
                    b.call(a(this), "show")
            }
            ;
        a(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', e).on("click.bs.tab.data-api", '[data-toggle="pill"]', e)
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.affix")
                    , f = "object" == typeof b && b;
                e || d.data("bs.affix", e = new c(this,f)),
                "string" == typeof b && e[b]()
            })
        }
        var c = function(b, d) {
                this.options = a.extend({}, c.DEFAULTS, d),
                    this.$target = a(this.options.target).on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", a.proxy(this.checkPositionWithEventLoop, this)),
                    this.$element = a(b),
                    this.affixed = null ,
                    this.unpin = null ,
                    this.pinnedOffset = null ,
                    this.checkPosition()
            }
            ;
        c.VERSION = "3.3.5",
            c.RESET = "affix affix-top affix-bottom",
            c.DEFAULTS = {
                offset: 0,
                target: window
            },
            c.prototype.getState = function(a, b, c, d) {
                var e = this.$target.scrollTop()
                    , f = this.$element.offset()
                    , g = this.$target.height();
                if (null  != c && "top" == this.affixed)
                    return c > e && "top";
                if ("bottom" == this.affixed)
                    return null  != c ? !(e + this.unpin <= f.top) && "bottom" : !(a - d >= e + g) && "bottom";
                var h = null  == this.affixed
                    , i = h ? e : f.top
                    , j = h ? g : b;
                return null  != c && c >= e ? "top" : null  != d && i + j >= a - d && "bottom"
            }
            ,
            c.prototype.getPinnedOffset = function() {
                if (this.pinnedOffset)
                    return this.pinnedOffset;
                this.$element.removeClass(c.RESET).addClass("affix");
                var a = this.$target.scrollTop()
                    , b = this.$element.offset();
                return this.pinnedOffset = b.top - a
            }
            ,
            c.prototype.checkPositionWithEventLoop = function() {
                setTimeout(a.proxy(this.checkPosition, this), 1)
            }
            ,
            c.prototype.checkPosition = function() {
                if (this.$element.is(":visible")) {
                    var b = this.$element.height()
                        , d = this.options.offset
                        , e = d.top
                        , f = d.bottom
                        , g = Math.max(a(document).height(), a(document.body).height());
                    "object" != typeof d && (f = e = d),
                    "function" == typeof e && (e = d.top(this.$element)),
                    "function" == typeof f && (f = d.bottom(this.$element));
                    var h = this.getState(g, b, e, f);
                    if (this.affixed != h) {
                        null  != this.unpin && this.$element.css("top", "");
                        var i = "affix" + (h ? "-" + h : "")
                            , j = a.Event(i + ".bs.affix");
                        if (this.$element.trigger(j),
                                j.isDefaultPrevented())
                            return;
                        this.affixed = h,
                            this.unpin = "bottom" == h ? this.getPinnedOffset() : null ,
                            this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix", "affixed") + ".bs.affix")
                    }
                    "bottom" == h && this.$element.offset({
                        top: g - b - f
                    })
                }
            }
        ;
        var d = a.fn.affix;
        a.fn.affix = b,
            a.fn.affix.Constructor = c,
            a.fn.affix.noConflict = function() {
                return a.fn.affix = d,
                    this
            }
            ,
            a(window).on("load", function() {
                a('[data-spy="affix"]').each(function() {
                    var c = a(this)
                        , d = c.data();
                    d.offset = d.offset || {},
                    null  != d.offsetBottom && (d.offset.bottom = d.offsetBottom),
                    null  != d.offsetTop && (d.offset.top = d.offsetTop),
                        b.call(c, d)
                })
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            var c, d = b.attr("data-target") || (c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "");
            return a(d)
        }
        function c(b) {
            return this.each(function() {
                var c = a(this)
                    , e = c.data("bs.collapse")
                    , f = a.extend({}, d.DEFAULTS, c.data(), "object" == typeof b && b);
                !e && f.toggle && /show|hide/.test(b) && (f.toggle = !1),
                e || c.data("bs.collapse", e = new d(this,f)),
                "string" == typeof b && e[b]()
            })
        }
        var d = function(b, c) {
                this.$element = a(b),
                    this.options = a.extend({}, d.DEFAULTS, c),
                    this.$trigger = a('[data-toggle="collapse"][href="#' + b.id + '"],[data-toggle="collapse"][data-target="#' + b.id + '"]'),
                    this.transitioning = null ,
                    this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger),
                this.options.toggle && this.toggle()
            }
            ;
        d.VERSION = "3.3.5",
            d.TRANSITION_DURATION = 350,
            d.DEFAULTS = {
                toggle: !0
            },
            d.prototype.dimension = function() {
                var a = this.$element.hasClass("width");
                return a ? "width" : "height"
            }
            ,
            d.prototype.show = function() {
                if (!this.transitioning && !this.$element.hasClass("in")) {
                    var b, e = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
                    if (!(e && e.length && (b = e.data("bs.collapse"),
                        b && b.transitioning))) {
                        var f = a.Event("show.bs.collapse");
                        if (this.$element.trigger(f),
                                !f.isDefaultPrevented()) {
                            e && e.length && (c.call(e, "hide"),
                            b || e.data("bs.collapse", null ));
                            var g = this.dimension();
                            this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded", !0),
                                this.$trigger.removeClass("collapsed").attr("aria-expanded", !0),
                                this.transitioning = 1;
                            var h = function() {
                                    this.$element.removeClass("collapsing").addClass("collapse in")[g](""),
                                        this.transitioning = 0,
                                        this.$element.trigger("shown.bs.collapse")
                                }
                                ;
                            if (!a.support.transition)
                                return h.call(this);
                            var i = a.camelCase(["scroll", g].join("-"));
                            this.$element.one("bsTransitionEnd", a.proxy(h, this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])
                        }
                    }
                }
            }
            ,
            d.prototype.hide = function() {
                if (!this.transitioning && this.$element.hasClass("in")) {
                    var b = a.Event("hide.bs.collapse");
                    if (this.$element.trigger(b),
                            !b.isDefaultPrevented()) {
                        var c = this.dimension();
                        this.$element[c](this.$element[c]())[0].offsetHeight,
                            this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1),
                            this.$trigger.addClass("collapsed").attr("aria-expanded", !1),
                            this.transitioning = 1;
                        var e = function() {
                                this.transitioning = 0,
                                    this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                            }
                            ;
                        return a.support.transition ? void this.$element[c](0).one("bsTransitionEnd", a.proxy(e, this)).emulateTransitionEnd(d.TRANSITION_DURATION) : e.call(this)
                    }
                }
            }
            ,
            d.prototype.toggle = function() {
                this[this.$element.hasClass("in") ? "hide" : "show"]()
            }
            ,
            d.prototype.getParent = function() {
                return a(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(a.proxy(function(c, d) {
                    var e = a(d);
                    this.addAriaAndCollapsedClass(b(e), e)
                }, this)).end()
            }
            ,
            d.prototype.addAriaAndCollapsedClass = function(a, b) {
                var c = a.hasClass("in");
                a.attr("aria-expanded", c),
                    b.toggleClass("collapsed", !c).attr("aria-expanded", c)
            }
        ;
        var e = a.fn.collapse;
        a.fn.collapse = c,
            a.fn.collapse.Constructor = d,
            a.fn.collapse.noConflict = function() {
                return a.fn.collapse = e,
                    this
            }
            ,
            a(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(d) {
                var e = a(this);
                e.attr("data-target") || d.preventDefault();
                var f = b(e)
                    , g = f.data("bs.collapse")
                    , h = g ? "toggle" : e.data();
                c.call(f, h)
            })
    }(jQuery),
    +function(a) {
        function b() {
            var a = document.createElement("bootstrap")
                , b = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
            for (var c in b)
                if (void 0 !== a.style[c])
                    return {
                        end: b[c]
                    };
            return !1
        }
        a.fn.emulateTransitionEnd = function(b) {
            var c = !1
                , d = this;
            a(this).one("bsTransitionEnd", function() {
                c = !0
            });
            var e = function() {
                    c || a(d).trigger(a.support.transition.end)
                }
                ;
            return setTimeout(e, b),
                this
        }
            ,
            a(function() {
                a.support.transition = b(),
                a.support.transition && (a.event.special.bsTransitionEnd = {
                    bindType: a.support.transition.end,
                    delegateType: a.support.transition.end,
                    handle: function(b) {
                        return a(b.target).is(this) ? b.handleObj.handler.apply(this, arguments) : void 0
                    }
                })
            })
    }(jQuery),
    +function(a) {
        function b(b) {
            return this.each(function() {
                var d = a(this)
                    , e = d.data("bs.tab");
                e || d.data("bs.tab", e = new c(this)),
                "string" == typeof b && e[b]()
            })
        }
        var c = function(b) {
                this.element = a(b)
            }
            ;
        c.VERSION = "3.3.5",
            c.TRANSITION_DURATION = 150,
            c.prototype.show = function() {
                var b = this.element
                    , c = b.closest("ul:not(.dropdown-menu)")
                    , d = b.data("target");
                if (d || (d = b.attr("href"),
                        d = d && d.replace(/.*(?=#[^\s]*$)/, "")),
                        !b.parent("li").hasClass("active")) {
                    var e = c.find(".active:last a")
                        , f = a.Event("hide.bs.tab", {
                        relatedTarget: b[0]
                    })
                        , g = a.Event("show.bs.tab", {
                        relatedTarget: e[0]
                    });
                    if (e.trigger(f),
                            b.trigger(g),
                        !g.isDefaultPrevented() && !f.isDefaultPrevented()) {
                        var h = a(d);
                        this.activate(b.closest("li"), c),
                            this.activate(h, h.parent(), function() {
                                e.trigger({
                                    type: "hidden.bs.tab",
                                    relatedTarget: b[0]
                                }),
                                    b.trigger({
                                        type: "shown.bs.tab",
                                        relatedTarget: e[0]
                                    })
                            })
                    }
                }
            }
            ,
            c.prototype.activate = function(b, d, e) {
                function f() {
                    g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1),
                        b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0),
                        h ? (b[0].offsetWidth,
                            b.addClass("in")) : b.removeClass("fade"),
                    b.parent(".dropdown-menu").length && b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0),
                    e && e()
                }
                var g = d.find("> .active")
                    , h = e && a.support.transition && (g.length && g.hasClass("fade") || !!d.find("> .fade").length);
                g.length && h ? g.one("bsTransitionEnd", f).emulateTransitionEnd(c.TRANSITION_DURATION) : f(),
                    g.removeClass("in")
            }
        ;
        var d = a.fn.tab;
        a.fn.tab = b,
            a.fn.tab.Constructor = c,
            a.fn.tab.noConflict = function() {
                return a.fn.tab = d,
                    this
            }
        ;
        var e = function(c) {
                c.preventDefault(),
                    b.call(a(this), "show")
            }
            ;
        a(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', e).on("click.bs.tab.data-api", '[data-toggle="pill"]', e)
    }(jQuery);
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
        var d = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
            , e = function(a, b, c) {
            var d, e, f = a.cycle;
            for (d in f)
                e = f[d],
                    a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
            delete a.cycle
        }
            , f = function(a, b, d) {
            c.call(this, a, b, d),
                this._cycle = 0,
                this._yoyo = this.vars.yoyo === !0,
                this._repeat = this.vars.repeat || 0,
                this._repeatDelay = this.vars.repeatDelay || 0,
                this._dirty = !0,
                this.render = f.prototype.render
        }
            , g = 1e-10
            , h = c._internals
            , i = h.isSelector
            , j = h.isArray
            , k = f.prototype = c.to({}, .1, {})
            , l = [];
        f.version = "1.18.5",
            k.constructor = f,
            k.kill()._gc = !1,
            f.killTweensOf = f.killDelayedCallsTo = c.killTweensOf,
            f.getTweensOf = c.getTweensOf,
            f.lagSmoothing = c.lagSmoothing,
            f.ticker = c.ticker,
            f.render = c.render,
            k.invalidate = function() {
                return this._yoyo = this.vars.yoyo === !0,
                    this._repeat = this.vars.repeat || 0,
                    this._repeatDelay = this.vars.repeatDelay || 0,
                    this._uncache(!0),
                    c.prototype.invalidate.call(this)
            }
            ,
            k.updateTo = function(a, b) {
                var d, e = this.ratio, f = this.vars.immediateRender || a.immediateRender;
                b && this._startTime < this._timeline._time && (this._startTime = this._timeline._time,
                    this._uncache(!1),
                    this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
                for (d in a)
                    this.vars[d] = a[d];
                if (this._initted || f)
                    if (b)
                        this._initted = !1,
                        f && this.render(0, !0, !0);
                    else if (this._gc && this._enabled(!0, !1),
                        this._notifyPluginsOfEnabled && this._firstPT && c._onPluginEvent("_onDisable", this),
                        this._time / this._duration > .998) {
                        var g = this._totalTime;
                        this.render(0, !0, !1),
                            this._initted = !1,
                            this.render(g, !0, !1)
                    } else if (this._initted = !1,
                            this._init(),
                        this._time > 0 || f)
                        for (var h, i = 1 / (1 - e), j = this._firstPT; j; )
                            h = j.s + j.c,
                                j.c *= i,
                                j.s = h - j.c,
                                j = j._next;
                return this
            }
            ,
            k.render = function(a, b, c) {
                this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
                var d, e, f, i, j, k, l, m, n = this._dirty ? this.totalDuration() : this._totalDuration, o = this._time, p = this._totalTime, q = this._cycle, r = this._duration, s = this._rawPrevTime;
                if (a >= n - 1e-7 ? (this._totalTime = n,
                        this._cycle = this._repeat,
                        this._yoyo && 0 !== (1 & this._cycle) ? (this._time = 0,
                            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = r,
                            this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1),
                    this._reversed || (d = !0,
                        e = "onComplete",
                        c = c || this._timeline.autoRemoveChildren),
                    0 === r && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0),
                    (0 > s || 0 >= a && a >= -1e-7 || s === g && "isPause" !== this.data) && s !== a && (c = !0,
                    s > g && (e = "onReverseComplete")),
                        this._rawPrevTime = m = !b || a || s === a ? a : g)) : 1e-7 > a ? (this._totalTime = this._time = this._cycle = 0,
                        this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
                    (0 !== p || 0 === r && s > 0) && (e = "onReverseComplete",
                        d = this._reversed),
                    0 > a && (this._active = !1,
                    0 === r && (this._initted || !this.vars.lazy || c) && (s >= 0 && (c = !0),
                        this._rawPrevTime = m = !b || a || s === a ? a : g)),
                    this._initted || (c = !0)) : (this._totalTime = this._time = a,
                    0 !== this._repeat && (i = r + this._repeatDelay,
                        this._cycle = this._totalTime / i >> 0,
                    0 !== this._cycle && this._cycle === this._totalTime / i && a >= p && this._cycle--,
                        this._time = this._totalTime - this._cycle * i,
                    this._yoyo && 0 !== (1 & this._cycle) && (this._time = r - this._time),
                        this._time > r ? this._time = r : this._time < 0 && (this._time = 0)),
                        this._easeType ? (j = this._time / r,
                            k = this._easeType,
                            l = this._easePower,
                        (1 === k || 3 === k && j >= .5) && (j = 1 - j),
                        3 === k && (j *= 2),
                            1 === l ? j *= j : 2 === l ? j *= j * j : 3 === l ? j *= j * j * j : 4 === l && (j *= j * j * j * j),
                            1 === k ? this.ratio = 1 - j : 2 === k ? this.ratio = j : this._time / r < .5 ? this.ratio = j / 2 : this.ratio = 1 - j / 2) : this.ratio = this._ease.getRatio(this._time / r)),
                    o === this._time && !c && q === this._cycle)
                    return void (p !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
                if (!this._initted) {
                    if (this._init(),
                        !this._initted || this._gc)
                        return;
                    if (!c && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration))
                        return this._time = o,
                            this._totalTime = p,
                            this._rawPrevTime = s,
                            this._cycle = q,
                            h.lazyTweens.push(this),
                            void (this._lazy = [a, b]);
                    this._time && !d ? this.ratio = this._ease.getRatio(this._time / r) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                }
                for (this._lazy !== !1 && (this._lazy = !1),
                     this._active || !this._paused && this._time !== o && a >= 0 && (this._active = !0),
                     0 === p && (2 === this._initted && a > 0 && this._init(),
                     this._startAt && (a >= 0 ? this._startAt.render(a, b, c) : e || (e = "_dummyGS")),
                     this.vars.onStart && (0 !== this._totalTime || 0 === r) && (b || this._callback("onStart"))),
                         f = this._firstPT; f; )
                    f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s,
                        f = f._next;
                this._onUpdate && (0 > a && this._startAt && this._startTime && this._startAt.render(a, b, c),
                b || (this._totalTime !== p || e) && this._callback("onUpdate")),
                this._cycle !== q && (b || this._gc || this.vars.onRepeat && this._callback("onRepeat")),
                e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(a, b, c),
                d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                    this._active = !1),
                !b && this.vars[e] && this._callback(e),
                0 === r && this._rawPrevTime === g && m !== g && (this._rawPrevTime = 0))
            }
            ,
            f.to = function(a, b, c) {
                return new f(a,b,c)
            }
            ,
            f.from = function(a, b, c) {
                return c.runBackwards = !0,
                    c.immediateRender = 0 != c.immediateRender,
                    new f(a,b,c)
            }
            ,
            f.fromTo = function(a, b, c, d) {
                return d.startAt = c,
                    d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
                    new f(a,b,d)
            }
            ,
            f.staggerTo = f.allTo = function(a, b, g, h, k, m, n) {
                h = h || 0;
                var o, p, q, r, s = 0, t = [], u = function() {
                    g.onComplete && g.onComplete.apply(g.onCompleteScope || this, arguments),
                        k.apply(n || g.callbackScope || this, m || l)
                }
                    , v = g.cycle, w = g.startAt && g.startAt.cycle;
                for (j(a) || ("string" == typeof a && (a = c.selector(a) || a),
                i(a) && (a = d(a))),
                         a = a || [],
                     0 > h && (a = d(a),
                         a.reverse(),
                         h *= -1),
                         o = a.length - 1,
                         q = 0; o >= q; q++) {
                    p = {};
                    for (r in g)
                        p[r] = g[r];
                    if (v && (e(p, a, q),
                        null  != p.duration && (b = p.duration,
                            delete p.duration)),
                            w) {
                        w = p.startAt = {};
                        for (r in g.startAt)
                            w[r] = g.startAt[r];
                        e(p.startAt, a, q)
                    }
                    p.delay = s + (p.delay || 0),
                    q === o && k && (p.onComplete = u),
                        t[q] = new f(a[q],b,p),
                        s += h
                }
                return t
            }
            ,
            f.staggerFrom = f.allFrom = function(a, b, c, d, e, g, h) {
                return c.runBackwards = !0,
                    c.immediateRender = 0 != c.immediateRender,
                    f.staggerTo(a, b, c, d, e, g, h)
            }
            ,
            f.staggerFromTo = f.allFromTo = function(a, b, c, d, e, g, h, i) {
                return d.startAt = c,
                    d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
                    f.staggerTo(a, b, d, e, g, h, i)
            }
            ,
            f.delayedCall = function(a, b, c, d, e) {
                return new f(b,0,{
                    delay: a,
                    onComplete: b,
                    onCompleteParams: c,
                    callbackScope: d,
                    onReverseComplete: b,
                    onReverseCompleteParams: c,
                    immediateRender: !1,
                    useFrames: e,
                    overwrite: 0
                })
            }
            ,
            f.set = function(a, b) {
                return new f(a,0,b)
            }
            ,
            f.isTweening = function(a) {
                return c.getTweensOf(a, !0).length > 0
            }
        ;
        var m = function(a, b) {
                for (var d = [], e = 0, f = a._first; f; )
                    f instanceof c ? d[e++] = f : (b && (d[e++] = f),
                        d = d.concat(m(f, b)),
                        e = d.length),
                        f = f._next;
                return d
            }
            , n = f.getAllTweens = function(b) {
                return m(a._rootTimeline, b).concat(m(a._rootFramesTimeline, b))
            }
            ;
        f.killAll = function(a, c, d, e) {
            null  == c && (c = !0),
            null  == d && (d = !0);
            var f, g, h, i = n(0 != e), j = i.length, k = c && d && e;
            for (h = 0; j > h; h++)
                g = i[h],
                (k || g instanceof b || (f = g.target === g.vars.onComplete) && d || c && !f) && (a ? g.totalTime(g._reversed ? 0 : g.totalDuration()) : g._enabled(!1, !1))
        }
            ,
            f.killChildTweensOf = function(a, b) {
                if (null  != a) {
                    var e, g, k, l, m, n = h.tweenLookup;
                    if ("string" == typeof a && (a = c.selector(a) || a),
                        i(a) && (a = d(a)),
                            j(a))
                        for (l = a.length; --l > -1; )
                            f.killChildTweensOf(a[l], b);
                    else {
                        e = [];
                        for (k in n)
                            for (g = n[k].target.parentNode; g; )
                                g === a && (e = e.concat(n[k].tweens)),
                                    g = g.parentNode;
                        for (m = e.length,
                                 l = 0; m > l; l++)
                            b && e[l].totalTime(e[l].totalDuration()),
                                e[l]._enabled(!1, !1)
                    }
                }
            }
        ;
        var o = function(a, c, d, e) {
                c = c !== !1,
                    d = d !== !1,
                    e = e !== !1;
                for (var f, g, h = n(e), i = c && d && e, j = h.length; --j > -1; )
                    g = h[j],
                    (i || g instanceof b || (f = g.target === g.vars.onComplete) && d || c && !f) && g.paused(a)
            }
            ;
        return f.pauseAll = function(a, b, c) {
            o(!0, a, b, c)
        }
            ,
            f.resumeAll = function(a, b, c) {
                o(!1, a, b, c)
            }
            ,
            f.globalTimeScale = function(b) {
                var d = a._rootTimeline
                    , e = c.ticker.time;
                return arguments.length ? (b = b || g,
                    d._startTime = e - (e - d._startTime) * d._timeScale / b,
                    d = a._rootFramesTimeline,
                    e = c.ticker.frame,
                    d._startTime = e - (e - d._startTime) * d._timeScale / b,
                    d._timeScale = a._rootTimeline._timeScale = b,
                    b) : d._timeScale
            }
            ,
            k.progress = function(a, b) {
                return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration()
            }
            ,
            k.totalProgress = function(a, b) {
                return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration()
            }
            ,
            k.time = function(a, b) {
                return arguments.length ? (this._dirty && this.totalDuration(),
                a > this._duration && (a = this._duration),
                    this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)),
                    this.totalTime(a, b)) : this._time
            }
            ,
            k.duration = function(b) {
                return arguments.length ? a.prototype.duration.call(this, b) : this._duration
            }
            ,
            k.totalDuration = function(a) {
                return arguments.length ? -1 === this._repeat ? this : this.duration((a - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat,
                    this._dirty = !1),
                    this._totalDuration)
            }
            ,
            k.repeat = function(a) {
                return arguments.length ? (this._repeat = a,
                    this._uncache(!0)) : this._repeat
            }
            ,
            k.repeatDelay = function(a) {
                return arguments.length ? (this._repeatDelay = a,
                    this._uncache(!0)) : this._repeatDelay
            }
            ,
            k.yoyo = function(a) {
                return arguments.length ? (this._yoyo = a,
                    this) : this._yoyo
            }
            ,
            f
    }, !0),
        _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
            var d = function(a) {
                b.call(this, a),
                    this._labels = {},
                    this.autoRemoveChildren = this.vars.autoRemoveChildren === !0,
                    this.smoothChildTiming = this.vars.smoothChildTiming === !0,
                    this._sortChildren = !0,
                    this._onUpdate = this.vars.onUpdate;
                var c, d, e = this.vars;
                for (d in e)
                    c = e[d],
                    i(c) && -1 !== c.join("").indexOf("{self}") && (e[d] = this._swapSelfInParams(c));
                i(e.tweens) && this.add(e.tweens, 0, e.align, e.stagger)
            }
                , e = 1e-10
                , f = c._internals
                , g = d._internals = {}
                , h = f.isSelector
                , i = f.isArray
                , j = f.lazyTweens
                , k = f.lazyRender
                , l = _gsScope._gsDefine.globals
                , m = function(a) {
                var b, c = {};
                for (b in a)
                    c[b] = a[b];
                return c
            }
                , n = function(a, b, c) {
                var d, e, f = a.cycle;
                for (d in f)
                    e = f[d],
                        a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
                delete a.cycle
            }
                , o = g.pauseCallback = function() {}
                , p = function(a) {
                var b, c = [], d = a.length;
                for (b = 0; b !== d; c.push(a[b++]))
                    ;
                return c
            }
                , q = d.prototype = new b;
            return d.version = "1.18.5",
                q.constructor = d,
                q.kill()._gc = q._forcingPlayhead = q._hasPause = !1,
                q.to = function(a, b, d, e) {
                    var f = d.repeat && l.TweenMax || c;
                    return b ? this.add(new f(a,b,d), e) : this.set(a, d, e)
                }
                ,
                q.from = function(a, b, d, e) {
                    return this.add((d.repeat && l.TweenMax || c).from(a, b, d), e)
                }
                ,
                q.fromTo = function(a, b, d, e, f) {
                    var g = e.repeat && l.TweenMax || c;
                    return b ? this.add(g.fromTo(a, b, d, e), f) : this.set(a, e, f)
                }
                ,
                q.staggerTo = function(a, b, e, f, g, i, j, k) {
                    var l, o, q = new d({
                        onComplete: i,
                        onCompleteParams: j,
                        callbackScope: k,
                        smoothChildTiming: this.smoothChildTiming
                    }), r = e.cycle;
                    for ("string" == typeof a && (a = c.selector(a) || a),
                             a = a || [],
                         h(a) && (a = p(a)),
                             f = f || 0,
                         0 > f && (a = p(a),
                             a.reverse(),
                             f *= -1),
                             o = 0; o < a.length; o++)
                        l = m(e),
                        l.startAt && (l.startAt = m(l.startAt),
                        l.startAt.cycle && n(l.startAt, a, o)),
                        r && (n(l, a, o),
                        null  != l.duration && (b = l.duration,
                            delete l.duration)),
                            q.to(a[o], b, l, o * f);
                    return this.add(q, g)
                }
                ,
                q.staggerFrom = function(a, b, c, d, e, f, g, h) {
                    return c.immediateRender = 0 != c.immediateRender,
                        c.runBackwards = !0,
                        this.staggerTo(a, b, c, d, e, f, g, h)
                }
                ,
                q.staggerFromTo = function(a, b, c, d, e, f, g, h, i) {
                    return d.startAt = c,
                        d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
                        this.staggerTo(a, b, d, e, f, g, h, i)
                }
                ,
                q.call = function(a, b, d, e) {
                    return this.add(c.delayedCall(0, a, b, d), e)
                }
                ,
                q.set = function(a, b, d) {
                    return d = this._parseTimeOrLabel(d, 0, !0),
                    null  == b.immediateRender && (b.immediateRender = d === this._time && !this._paused),
                        this.add(new c(a,0,b), d)
                }
                ,
                d.exportRoot = function(a, b) {
                    a = a || {},
                    null  == a.smoothChildTiming && (a.smoothChildTiming = !0);
                    var e, f, g = new d(a), h = g._timeline;
                    for (null  == b && (b = !0),
                             h._remove(g, !0),
                             g._startTime = 0,
                             g._rawPrevTime = g._time = g._totalTime = h._time,
                             e = h._first; e; )
                        f = e._next,
                        b && e instanceof c && e.target === e.vars.onComplete || g.add(e, e._startTime - e._delay),
                            e = f;
                    return h.add(g, 0),
                        g
                }
                ,
                q.add = function(e, f, g, h) {
                    var j, k, l, m, n, o;
                    if ("number" != typeof f && (f = this._parseTimeOrLabel(f, 0, !0, e)),
                            !(e instanceof a)) {
                        if (e instanceof Array || e && e.push && i(e)) {
                            for (g = g || "normal",
                                     h = h || 0,
                                     j = f,
                                     k = e.length,
                                     l = 0; k > l; l++)
                                i(m = e[l]) && (m = new d({
                                    tweens: m
                                })),
                                    this.add(m, j),
                                "string" != typeof m && "function" != typeof m && ("sequence" === g ? j = m._startTime + m.totalDuration() / m._timeScale : "start" === g && (m._startTime -= m.delay())),
                                    j += h;
                            return this._uncache(!0)
                        }
                        if ("string" == typeof e)
                            return this.addLabel(e, f);
                        if ("function" != typeof e)
                            throw "Cannot add " + e + " into the timeline; it is not a tween, timeline, function, or string.";
                        e = c.delayedCall(0, e)
                    }
                    if (b.prototype.add.call(this, e, f),
                        (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                        for (n = this,
                                 o = n.rawTime() > e._startTime; n._timeline; )
                            o && n._timeline.smoothChildTiming ? n.totalTime(n._totalTime, !0) : n._gc && n._enabled(!0, !1),
                                n = n._timeline;
                    return this
                }
                ,
                q.remove = function(b) {
                    if (b instanceof a) {
                        this._remove(b, !1);
                        var c = b._timeline = b.vars.useFrames ? a._rootFramesTimeline : a._rootTimeline;
                        return b._startTime = (b._paused ? b._pauseTime : c._time) - (b._reversed ? b.totalDuration() - b._totalTime : b._totalTime) / b._timeScale,
                            this
                    }
                    if (b instanceof Array || b && b.push && i(b)) {
                        for (var d = b.length; --d > -1; )
                            this.remove(b[d]);
                        return this
                    }
                    return "string" == typeof b ? this.removeLabel(b) : this.kill(null , b)
                }
                ,
                q._remove = function(a, c) {
                    b.prototype._remove.call(this, a, c);
                    var d = this._last;
                    return d ? this._time > d._startTime + d._totalDuration / d._timeScale && (this._time = this.duration(),
                        this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0,
                        this
                }
                ,
                q.append = function(a, b) {
                    return this.add(a, this._parseTimeOrLabel(null , b, !0, a))
                }
                ,
                q.insert = q.insertMultiple = function(a, b, c, d) {
                    return this.add(a, b || 0, c, d)
                }
                ,
                q.appendMultiple = function(a, b, c, d) {
                    return this.add(a, this._parseTimeOrLabel(null , b, !0, a), c, d)
                }
                ,
                q.addLabel = function(a, b) {
                    return this._labels[a] = this._parseTimeOrLabel(b),
                        this
                }
                ,
                q.addPause = function(a, b, d, e) {
                    var f = c.delayedCall(0, o, d, e || this);
                    return f.vars.onComplete = f.vars.onReverseComplete = b,
                        f.data = "isPause",
                        this._hasPause = !0,
                        this.add(f, a)
                }
                ,
                q.removeLabel = function(a) {
                    return delete this._labels[a],
                        this
                }
                ,
                q.getLabelTime = function(a) {
                    return null  != this._labels[a] ? this._labels[a] : -1
                }
                ,
                q._parseTimeOrLabel = function(b, c, d, e) {
                    var f;
                    if (e instanceof a && e.timeline === this)
                        this.remove(e);
                    else if (e && (e instanceof Array || e.push && i(e)))
                        for (f = e.length; --f > -1; )
                            e[f] instanceof a && e[f].timeline === this && this.remove(e[f]);
                    if ("string" == typeof c)
                        return this._parseTimeOrLabel(c, d && "number" == typeof b && null  == this._labels[c] ? b - this.duration() : 0, d);
                    if (c = c || 0,
                        "string" != typeof b || !isNaN(b) && null  == this._labels[b])
                        null  == b && (b = this.duration());
                    else {
                        if (f = b.indexOf("="),
                            -1 === f)
                            return null  == this._labels[b] ? d ? this._labels[b] = this.duration() + c : c : this._labels[b] + c;
                        c = parseInt(b.charAt(f - 1) + "1", 10) * Number(b.substr(f + 1)),
                            b = f > 1 ? this._parseTimeOrLabel(b.substr(0, f - 1), 0, d) : this.duration()
                    }
                    return Number(b) + c
                }
                ,
                q.seek = function(a, b) {
                    return this.totalTime("number" == typeof a ? a : this._parseTimeOrLabel(a), b !== !1)
                }
                ,
                q.stop = function() {
                    return this.paused(!0)
                }
                ,
                q.gotoAndPlay = function(a, b) {
                    return this.play(a, b)
                }
                ,
                q.gotoAndStop = function(a, b) {
                    return this.pause(a, b)
                }
                ,
                q.render = function(a, b, c) {
                    this._gc && this._enabled(!0, !1);
                    var d, f, g, h, i, l, m, n = this._dirty ? this.totalDuration() : this._totalDuration, o = this._time, p = this._startTime, q = this._timeScale, r = this._paused;
                    if (a >= n - 1e-7)
                        this._totalTime = this._time = n,
                        this._reversed || this._hasPausedChild() || (f = !0,
                            h = "onComplete",
                            i = !!this._timeline.autoRemoveChildren,
                        0 === this._duration && (0 >= a && a >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === e) && this._rawPrevTime !== a && this._first && (i = !0,
                        this._rawPrevTime > e && (h = "onReverseComplete"))),
                            this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                            a = n + 1e-4;
                    else if (1e-7 > a)
                        if (this._totalTime = this._time = 0,
                            (0 !== o || 0 === this._duration && this._rawPrevTime !== e && (this._rawPrevTime > 0 || 0 > a && this._rawPrevTime >= 0)) && (h = "onReverseComplete",
                                f = this._reversed),
                            0 > a)
                            this._active = !1,
                                this._timeline.autoRemoveChildren && this._reversed ? (i = f = !0,
                                    h = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (i = !0),
                                this._rawPrevTime = a;
                        else {
                            if (this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                                0 === a && f)
                                for (d = this._first; d && 0 === d._startTime; )
                                    d._duration || (f = !1),
                                        d = d._next;
                            a = 0,
                            this._initted || (i = !0)
                        }
                    else {
                        if (this._hasPause && !this._forcingPlayhead && !b) {
                            if (a >= o)
                                for (d = this._first; d && d._startTime <= a && !l; )
                                    d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (l = d),
                                        d = d._next;
                            else
                                for (d = this._last; d && d._startTime >= a && !l; )
                                    d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (l = d),
                                        d = d._prev;
                            l && (this._time = a = l._startTime,
                                this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                        }
                        this._totalTime = this._time = this._rawPrevTime = a
                    }
                    if (this._time !== o && this._first || c || i || l) {
                        if (this._initted || (this._initted = !0),
                            this._active || !this._paused && this._time !== o && a > 0 && (this._active = !0),
                            0 === o && this.vars.onStart && (0 === this._time && this._duration || b || this._callback("onStart")),
                                m = this._time,
                            m >= o)
                            for (d = this._first; d && (g = d._next,
                            m === this._time && (!this._paused || r)); )
                                (d._active || d._startTime <= m && !d._paused && !d._gc) && (l === d && this.pause(),
                                    d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                                    d = g;
                        else
                            for (d = this._last; d && (g = d._prev,
                            m === this._time && (!this._paused || r)); ) {
                                if (d._active || d._startTime <= o && !d._paused && !d._gc) {
                                    if (l === d) {
                                        for (l = d._prev; l && l.endTime() > this._time; )
                                            l.render(l._reversed ? l.totalDuration() - (a - l._startTime) * l._timeScale : (a - l._startTime) * l._timeScale, b, c),
                                                l = l._prev;
                                        l = null ,
                                            this.pause()
                                    }
                                    d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                                }
                                d = g
                            }
                        this._onUpdate && (b || (j.length && k(),
                            this._callback("onUpdate"))),
                        h && (this._gc || (p === this._startTime || q !== this._timeScale) && (0 === this._time || n >= this.totalDuration()) && (f && (j.length && k(),
                        this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                            this._active = !1),
                        !b && this.vars[h] && this._callback(h)))
                    }
                }
                ,
                q._hasPausedChild = function() {
                    for (var a = this._first; a; ) {
                        if (a._paused || a instanceof d && a._hasPausedChild())
                            return !0;
                        a = a._next
                    }
                    return !1
                }
                ,
                q.getChildren = function(a, b, d, e) {
                    e = e || -9999999999;
                    for (var f = [], g = this._first, h = 0; g; )
                        g._startTime < e || (g instanceof c ? b !== !1 && (f[h++] = g) : (d !== !1 && (f[h++] = g),
                        a !== !1 && (f = f.concat(g.getChildren(!0, b, d)),
                            h = f.length))),
                            g = g._next;
                    return f
                }
                ,
                q.getTweensOf = function(a, b) {
                    var d, e, f = this._gc, g = [], h = 0;
                    for (f && this._enabled(!0, !0),
                             d = c.getTweensOf(a),
                             e = d.length; --e > -1; )
                        (d[e].timeline === this || b && this._contains(d[e])) && (g[h++] = d[e]);
                    return f && this._enabled(!1, !0),
                        g
                }
                ,
                q.recent = function() {
                    return this._recent
                }
                ,
                q._contains = function(a) {
                    for (var b = a.timeline; b; ) {
                        if (b === this)
                            return !0;
                        b = b.timeline
                    }
                    return !1
                }
                ,
                q.shiftChildren = function(a, b, c) {
                    c = c || 0;
                    for (var d, e = this._first, f = this._labels; e; )
                        e._startTime >= c && (e._startTime += a),
                            e = e._next;
                    if (b)
                        for (d in f)
                            f[d] >= c && (f[d] += a);
                    return this._uncache(!0)
                }
                ,
                q._kill = function(a, b) {
                    if (!a && !b)
                        return this._enabled(!1, !1);
                    for (var c = b ? this.getTweensOf(b) : this.getChildren(!0, !0, !1), d = c.length, e = !1; --d > -1; )
                        c[d]._kill(a, b) && (e = !0);
                    return e
                }
                ,
                q.clear = function(a) {
                    var b = this.getChildren(!1, !0, !0)
                        , c = b.length;
                    for (this._time = this._totalTime = 0; --c > -1; )
                        b[c]._enabled(!1, !1);
                    return a !== !1 && (this._labels = {}),
                        this._uncache(!0)
                }
                ,
                q.invalidate = function() {
                    for (var b = this._first; b; )
                        b.invalidate(),
                            b = b._next;
                    return a.prototype.invalidate.call(this)
                }
                ,
                q._enabled = function(a, c) {
                    if (a === this._gc)
                        for (var d = this._first; d; )
                            d._enabled(a, !0),
                                d = d._next;
                    return b.prototype._enabled.call(this, a, c)
                }
                ,
                q.totalTime = function(b, c, d) {
                    this._forcingPlayhead = !0;
                    var e = a.prototype.totalTime.apply(this, arguments);
                    return this._forcingPlayhead = !1,
                        e
                }
                ,
                q.duration = function(a) {
                    return arguments.length ? (0 !== this.duration() && 0 !== a && this.timeScale(this._duration / a),
                        this) : (this._dirty && this.totalDuration(),
                        this._duration)
                }
                ,
                q.totalDuration = function(a) {
                    if (!arguments.length) {
                        if (this._dirty) {
                            for (var b, c, d = 0, e = this._last, f = 999999999999; e; )
                                b = e._prev,
                                e._dirty && e.totalDuration(),
                                    e._startTime > f && this._sortChildren && !e._paused ? this.add(e, e._startTime - e._delay) : f = e._startTime,
                                e._startTime < 0 && !e._paused && (d -= e._startTime,
                                this._timeline.smoothChildTiming && (this._startTime += e._startTime / this._timeScale),
                                    this.shiftChildren(-e._startTime, !1, -9999999999),
                                    f = 0),
                                    c = e._startTime + e._totalDuration / e._timeScale,
                                c > d && (d = c),
                                    e = b;
                            this._duration = this._totalDuration = d,
                                this._dirty = !1
                        }
                        return this._totalDuration
                    }
                    return a && this.totalDuration() ? this.timeScale(this._totalDuration / a) : this
                }
                ,
                q.paused = function(b) {
                    if (!b)
                        for (var c = this._first, d = this._time; c; )
                            c._startTime === d && "isPause" === c.data && (c._rawPrevTime = 0),
                                c = c._next;
                    return a.prototype.paused.apply(this, arguments)
                }
                ,
                q.usesFrames = function() {
                    for (var b = this._timeline; b._timeline; )
                        b = b._timeline;
                    return b === a._rootFramesTimeline
                }
                ,
                q.rawTime = function() {
                    return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
                }
                ,
                d
        }, !0),
        _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function(a, b, c) {
            var d = function(b) {
                a.call(this, b),
                    this._repeat = this.vars.repeat || 0,
                    this._repeatDelay = this.vars.repeatDelay || 0,
                    this._cycle = 0,
                    this._yoyo = this.vars.yoyo === !0,
                    this._dirty = !0
            }
                , e = 1e-10
                , f = b._internals
                , g = f.lazyTweens
                , h = f.lazyRender
                , i = new c(null ,null ,1,0)
                , j = d.prototype = new a;
            return j.constructor = d,
                j.kill()._gc = !1,
                d.version = "1.18.5",
                j.invalidate = function() {
                    return this._yoyo = this.vars.yoyo === !0,
                        this._repeat = this.vars.repeat || 0,
                        this._repeatDelay = this.vars.repeatDelay || 0,
                        this._uncache(!0),
                        a.prototype.invalidate.call(this)
                }
                ,
                j.addCallback = function(a, c, d, e) {
                    return this.add(b.delayedCall(0, a, d, e), c)
                }
                ,
                j.removeCallback = function(a, b) {
                    if (a)
                        if (null  == b)
                            this._kill(null , a);
                        else
                            for (var c = this.getTweensOf(a, !1), d = c.length, e = this._parseTimeOrLabel(b); --d > -1; )
                                c[d]._startTime === e && c[d]._enabled(!1, !1);
                    return this
                }
                ,
                j.removePause = function(b) {
                    return this.removeCallback(a._internals.pauseCallback, b)
                }
                ,
                j.tweenTo = function(a, c) {
                    c = c || {};
                    var d, e, f, g = {
                        ease: i,
                        useFrames: this.usesFrames(),
                        immediateRender: !1
                    };
                    for (e in c)
                        g[e] = c[e];
                    return g.time = this._parseTimeOrLabel(a),
                        d = Math.abs(Number(g.time) - this._time) / this._timeScale || .001,
                        f = new b(this,d,g),
                        g.onStart = function() {
                            f.target.paused(!0),
                            f.vars.time !== f.target.time() && d === f.duration() && f.duration(Math.abs(f.vars.time - f.target.time()) / f.target._timeScale),
                            c.onStart && f._callback("onStart")
                        }
                        ,
                        f
                }
                ,
                j.tweenFromTo = function(a, b, c) {
                    c = c || {},
                        a = this._parseTimeOrLabel(a),
                        c.startAt = {
                            onComplete: this.seek,
                            onCompleteParams: [a],
                            callbackScope: this
                        },
                        c.immediateRender = c.immediateRender !== !1;
                    var d = this.tweenTo(b, c);
                    return d.duration(Math.abs(d.vars.time - a) / this._timeScale || .001)
                }
                ,
                j.render = function(a, b, c) {
                    this._gc && this._enabled(!0, !1);
                    var d, f, i, j, k, l, m, n, o = this._dirty ? this.totalDuration() : this._totalDuration, p = this._duration, q = this._time, r = this._totalTime, s = this._startTime, t = this._timeScale, u = this._rawPrevTime, v = this._paused, w = this._cycle;
                    if (a >= o - 1e-7)
                        this._locked || (this._totalTime = o,
                            this._cycle = this._repeat),
                        this._reversed || this._hasPausedChild() || (f = !0,
                            j = "onComplete",
                            k = !!this._timeline.autoRemoveChildren,
                        0 === this._duration && (0 >= a && a >= -1e-7 || 0 > u || u === e) && u !== a && this._first && (k = !0,
                        u > e && (j = "onReverseComplete"))),
                            this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                            this._yoyo && 0 !== (1 & this._cycle) ? this._time = a = 0 : (this._time = p,
                                a = p + 1e-4);
                    else if (1e-7 > a)
                        if (this._locked || (this._totalTime = this._cycle = 0),
                                this._time = 0,
                            (0 !== q || 0 === p && u !== e && (u > 0 || 0 > a && u >= 0) && !this._locked) && (j = "onReverseComplete",
                                f = this._reversed),
                            0 > a)
                            this._active = !1,
                                this._timeline.autoRemoveChildren && this._reversed ? (k = f = !0,
                                    j = "onReverseComplete") : u >= 0 && this._first && (k = !0),
                                this._rawPrevTime = a;
                        else {
                            if (this._rawPrevTime = p || !b || a || this._rawPrevTime === a ? a : e,
                                0 === a && f)
                                for (d = this._first; d && 0 === d._startTime; )
                                    d._duration || (f = !1),
                                        d = d._next;
                            a = 0,
                            this._initted || (k = !0)
                        }
                    else if (0 === p && 0 > u && (k = !0),
                            this._time = this._rawPrevTime = a,
                        this._locked || (this._totalTime = a,
                        0 !== this._repeat && (l = p + this._repeatDelay,
                            this._cycle = this._totalTime / l >> 0,
                        0 !== this._cycle && this._cycle === this._totalTime / l && a >= r && this._cycle--,
                            this._time = this._totalTime - this._cycle * l,
                        this._yoyo && 0 !== (1 & this._cycle) && (this._time = p - this._time),
                            this._time > p ? (this._time = p,
                                a = p + 1e-4) : this._time < 0 ? this._time = a = 0 : a = this._time)),
                        this._hasPause && !this._forcingPlayhead && !b) {
                        if (a = this._time,
                            a >= q)
                            for (d = this._first; d && d._startTime <= a && !m; )
                                d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (m = d),
                                    d = d._next;
                        else
                            for (d = this._last; d && d._startTime >= a && !m; )
                                d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (m = d),
                                    d = d._prev;
                        m && (this._time = a = m._startTime,
                            this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                    }
                    if (this._cycle !== w && !this._locked) {
                        var x = this._yoyo && 0 !== (1 & w)
                            , y = x === (this._yoyo && 0 !== (1 & this._cycle))
                            , z = this._totalTime
                            , A = this._cycle
                            , B = this._rawPrevTime
                            , C = this._time;
                        if (this._totalTime = w * p,
                                this._cycle < w ? x = !x : this._totalTime += p,
                                this._time = q,
                                this._rawPrevTime = 0 === p ? u - 1e-4 : u,
                                this._cycle = w,
                                this._locked = !0,
                                q = x ? 0 : p,
                                this.render(q, b, 0 === p),
                            b || this._gc || this.vars.onRepeat && this._callback("onRepeat"),
                            q !== this._time)
                            return;
                        if (y && (q = x ? p + 1e-4 : -1e-4,
                                this.render(q, !0, !1)),
                                this._locked = !1,
                            this._paused && !v)
                            return;
                        this._time = C,
                            this._totalTime = z,
                            this._cycle = A,
                            this._rawPrevTime = B
                    }
                    if (!(this._time !== q && this._first || c || k || m))
                        return void (r !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
                    if (this._initted || (this._initted = !0),
                        this._active || !this._paused && this._totalTime !== r && a > 0 && (this._active = !0),
                        0 === r && this.vars.onStart && (0 === this._totalTime && this._totalDuration || b || this._callback("onStart")),
                            n = this._time,
                        n >= q)
                        for (d = this._first; d && (i = d._next,
                        n === this._time && (!this._paused || v)); )
                            (d._active || d._startTime <= this._time && !d._paused && !d._gc) && (m === d && this.pause(),
                                d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                                d = i;
                    else
                        for (d = this._last; d && (i = d._prev,
                        n === this._time && (!this._paused || v)); ) {
                            if (d._active || d._startTime <= q && !d._paused && !d._gc) {
                                if (m === d) {
                                    for (m = d._prev; m && m.endTime() > this._time; )
                                        m.render(m._reversed ? m.totalDuration() - (a - m._startTime) * m._timeScale : (a - m._startTime) * m._timeScale, b, c),
                                            m = m._prev;
                                    m = null ,
                                        this.pause()
                                }
                                d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                            }
                            d = i
                        }
                    this._onUpdate && (b || (g.length && h(),
                        this._callback("onUpdate"))),
                    j && (this._locked || this._gc || (s === this._startTime || t !== this._timeScale) && (0 === this._time || o >= this.totalDuration()) && (f && (g.length && h(),
                    this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                        this._active = !1),
                    !b && this.vars[j] && this._callback(j)))
                }
                ,
                j.getActive = function(a, b, c) {
                    null  == a && (a = !0),
                    null  == b && (b = !0),
                    null  == c && (c = !1);
                    var d, e, f = [], g = this.getChildren(a, b, c), h = 0, i = g.length;
                    for (d = 0; i > d; d++)
                        e = g[d],
                        e.isActive() && (f[h++] = e);
                    return f
                }
                ,
                j.getLabelAfter = function(a) {
                    a || 0 !== a && (a = this._time);
                    var b, c = this.getLabelsArray(), d = c.length;
                    for (b = 0; d > b; b++)
                        if (c[b].time > a)
                            return c[b].name;
                    return null
                }
                ,
                j.getLabelBefore = function(a) {
                    null  == a && (a = this._time);
                    for (var b = this.getLabelsArray(), c = b.length; --c > -1; )
                        if (b[c].time < a)
                            return b[c].name;
                    return null
                }
                ,
                j.getLabelsArray = function() {
                    var a, b = [], c = 0;
                    for (a in this._labels)
                        b[c++] = {
                            time: this._labels[a],
                            name: a
                        };
                    return b.sort(function(a, b) {
                        return a.time - b.time
                    }),
                        b
                }
                ,
                j.progress = function(a, b) {
                    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration()
                }
                ,
                j.totalProgress = function(a, b) {
                    return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration()
                }
                ,
                j.totalDuration = function(b) {
                    return arguments.length ? -1 !== this._repeat && b ? this.timeScale(this.totalDuration() / b) : this : (this._dirty && (a.prototype.totalDuration.call(this),
                        this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat),
                        this._totalDuration)
                }
                ,
                j.time = function(a, b) {
                    return arguments.length ? (this._dirty && this.totalDuration(),
                    a > this._duration && (a = this._duration),
                        this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)),
                        this.totalTime(a, b)) : this._time
                }
                ,
                j.repeat = function(a) {
                    return arguments.length ? (this._repeat = a,
                        this._uncache(!0)) : this._repeat
                }
                ,
                j.repeatDelay = function(a) {
                    return arguments.length ? (this._repeatDelay = a,
                        this._uncache(!0)) : this._repeatDelay
                }
                ,
                j.yoyo = function(a) {
                    return arguments.length ? (this._yoyo = a,
                        this) : this._yoyo
                }
                ,
                j.currentLabel = function(a) {
                    return arguments.length ? this.seek(a, !0) : this.getLabelBefore(this._time + 1e-8)
                }
                ,
                d
        }, !0),
        function() {
            var a = 180 / Math.PI
                , b = []
                , c = []
                , d = []
                , e = {}
                , f = _gsScope._gsDefine.globals
                , g = function(a, b, c, d) {
                c === d && (c = d - (d - b) / 1e6),
                a === b && (b = a + (c - a) / 1e6),
                    this.a = a,
                    this.b = b,
                    this.c = c,
                    this.d = d,
                    this.da = d - a,
                    this.ca = c - a,
                    this.ba = b - a
            }
                , h = ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,"
                , i = function(a, b, c, d) {
                var e = {
                    a: a
                }
                    , f = {}
                    , g = {}
                    , h = {
                    c: d
                }
                    , i = (a + b) / 2
                    , j = (b + c) / 2
                    , k = (c + d) / 2
                    , l = (i + j) / 2
                    , m = (j + k) / 2
                    , n = (m - l) / 8;
                return e.b = i + (a - i) / 4,
                    f.b = l + n,
                    e.c = f.a = (e.b + f.b) / 2,
                    f.c = g.a = (l + m) / 2,
                    g.b = m - n,
                    h.b = k + (d - k) / 4,
                    g.c = h.a = (g.b + h.b) / 2,
                    [e, f, g, h]
            }
                , j = function(a, e, f, g, h) {
                var j, k, l, m, n, o, p, q, r, s, t, u, v, w = a.length - 1, x = 0, y = a[0].a;
                for (j = 0; w > j; j++)
                    n = a[x],
                        k = n.a,
                        l = n.d,
                        m = a[x + 1].d,
                        h ? (t = b[j],
                            u = c[j],
                            v = (u + t) * e * .25 / (g ? .5 : d[j] || .5),
                            o = l - (l - k) * (g ? .5 * e : 0 !== t ? v / t : 0),
                            p = l + (m - l) * (g ? .5 * e : 0 !== u ? v / u : 0),
                            q = l - (o + ((p - o) * (3 * t / (t + u) + .5) / 4 || 0))) : (o = l - (l - k) * e * .5,
                            p = l + (m - l) * e * .5,
                            q = l - (o + p) / 2),
                        o += q,
                        p += q,
                        n.c = r = o,
                        0 !== j ? n.b = y : n.b = y = n.a + .6 * (n.c - n.a),
                        n.da = l - k,
                        n.ca = r - k,
                        n.ba = y - k,
                        f ? (s = i(k, y, r, l),
                            a.splice(x, 1, s[0], s[1], s[2], s[3]),
                            x += 4) : x++,
                        y = p;
                n = a[x],
                    n.b = y,
                    n.c = y + .4 * (n.d - y),
                    n.da = n.d - n.a,
                    n.ca = n.c - n.a,
                    n.ba = y - n.a,
                f && (s = i(n.a, y, n.c, n.d),
                    a.splice(x, 1, s[0], s[1], s[2], s[3]))
            }
                , k = function(a, d, e, f) {
                var h, i, j, k, l, m, n = [];
                if (f)
                    for (a = [f].concat(a),
                             i = a.length; --i > -1; )
                        "string" == typeof (m = a[i][d]) && "=" === m.charAt(1) && (a[i][d] = f[d] + Number(m.charAt(0) + m.substr(2)));
                if (h = a.length - 2,
                    0 > h)
                    return n[0] = new g(a[0][d],0,0,a[-1 > h ? 0 : 1][d]),
                        n;
                for (i = 0; h > i; i++)
                    j = a[i][d],
                        k = a[i + 1][d],
                        n[i] = new g(j,0,0,k),
                    e && (l = a[i + 2][d],
                        b[i] = (b[i] || 0) + (k - j) * (k - j),
                        c[i] = (c[i] || 0) + (l - k) * (l - k));
                return n[i] = new g(a[i][d],0,0,a[i + 1][d]),
                    n
            }
                , l = function(a, f, g, i, l, m) {
                var n, o, p, q, r, s, t, u, v = {}, w = [], x = m || a[0];
                l = "string" == typeof l ? "," + l + "," : h,
                null  == f && (f = 1);
                for (o in a[0])
                    w.push(o);
                if (a.length > 1) {
                    for (u = a[a.length - 1],
                             t = !0,
                             n = w.length; --n > -1; )
                        if (o = w[n],
                            Math.abs(x[o] - u[o]) > .05) {
                            t = !1;
                            break
                        }
                    t && (a = a.concat(),
                    m && a.unshift(m),
                        a.push(a[1]),
                        m = a[a.length - 3])
                }
                for (b.length = c.length = d.length = 0,
                         n = w.length; --n > -1; )
                    o = w[n],
                        e[o] = -1 !== l.indexOf("," + o + ","),
                        v[o] = k(a, o, e[o], m);
                for (n = b.length; --n > -1; )
                    b[n] = Math.sqrt(b[n]),
                        c[n] = Math.sqrt(c[n]);
                if (!i) {
                    for (n = w.length; --n > -1; )
                        if (e[o])
                            for (p = v[w[n]],
                                     s = p.length - 1,
                                     q = 0; s > q; q++)
                                r = p[q + 1].da / c[q] + p[q].da / b[q] || 0,
                                    d[q] = (d[q] || 0) + r * r;
                    for (n = d.length; --n > -1; )
                        d[n] = Math.sqrt(d[n])
                }
                for (n = w.length,
                         q = g ? 4 : 1; --n > -1; )
                    o = w[n],
                        p = v[o],
                        j(p, f, g, i, e[o]),
                    t && (p.splice(0, q),
                        p.splice(p.length - q, q));
                return v
            }
                , m = function(a, b, c) {
                b = b || "soft";
                var d, e, f, h, i, j, k, l, m, n, o, p = {}, q = "cubic" === b ? 3 : 2, r = "soft" === b, s = [];
                if (r && c && (a = [c].concat(a)),
                    null  == a || a.length < q + 1)
                    throw "invalid Bezier data";
                for (m in a[0])
                    s.push(m);
                for (j = s.length; --j > -1; ) {
                    for (m = s[j],
                             p[m] = i = [],
                             n = 0,
                             l = a.length,
                             k = 0; l > k; k++)
                        d = null  == c ? a[k][m] : "string" == typeof (o = a[k][m]) && "=" === o.charAt(1) ? c[m] + Number(o.charAt(0) + o.substr(2)) : Number(o),
                        r && k > 1 && l - 1 > k && (i[n++] = (d + i[n - 2]) / 2),
                            i[n++] = d;
                    for (l = n - q + 1,
                             n = 0,
                             k = 0; l > k; k += q)
                        d = i[k],
                            e = i[k + 1],
                            f = i[k + 2],
                            h = 2 === q ? 0 : i[k + 3],
                            i[n++] = o = 3 === q ? new g(d,e,f,h) : new g(d,(2 * e + d) / 3,(2 * e + f) / 3,f);
                    i.length = n
                }
                return p
            }
                , n = function(a, b, c) {
                for (var d, e, f, g, h, i, j, k, l, m, n, o = 1 / c, p = a.length; --p > -1; )
                    for (m = a[p],
                             f = m.a,
                             g = m.d - f,
                             h = m.c - f,
                             i = m.b - f,
                             d = e = 0,
                             k = 1; c >= k; k++)
                        j = o * k,
                            l = 1 - j,
                            d = e - (e = (j * j * g + 3 * l * (j * h + l * i)) * j),
                            n = p * c + k - 1,
                            b[n] = (b[n] || 0) + d * d
            }
                , o = function(a, b) {
                b = b >> 0 || 6;
                var c, d, e, f, g = [], h = [], i = 0, j = 0, k = b - 1, l = [], m = [];
                for (c in a)
                    n(a[c], g, b);
                for (e = g.length,
                         d = 0; e > d; d++)
                    i += Math.sqrt(g[d]),
                        f = d % b,
                        m[f] = i,
                    f === k && (j += i,
                        f = d / b >> 0,
                        l[f] = m,
                        h[f] = j,
                        i = 0,
                        m = []);
                return {
                    length: j,
                    lengths: h,
                    segments: l
                }
            }
                , p = _gsScope._gsDefine.plugin({
                propName: "bezier",
                priority: -1,
                version: "1.3.6",
                API: 2,
                global: !0,
                init: function(a, b, c) {
                    this._target = a,
                    b instanceof Array && (b = {
                        values: b
                    }),
                        this._func = {},
                        this._round = {},
                        this._props = [],
                        this._timeRes = null  == b.timeResolution ? 6 : parseInt(b.timeResolution, 10);
                    var d, e, f, g, h, i = b.values || [], j = {}, k = i[0], n = b.autoRotate || c.vars.orientToBezier;
                    this._autoRotate = n ? n instanceof Array ? n : [["x", "y", "rotation", n === !0 ? 0 : Number(n) || 0]] : null ;
                    for (d in k)
                        this._props.push(d);
                    for (f = this._props.length; --f > -1; )
                        d = this._props[f],
                            this._overwriteProps.push(d),
                            e = this._func[d] = "function" == typeof a[d],
                            j[d] = e ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)]() : parseFloat(a[d]),
                        h || j[d] !== i[0][d] && (h = j);
                    if (this._beziers = "cubic" !== b.type && "quadratic" !== b.type && "soft" !== b.type ? l(i, isNaN(b.curviness) ? 1 : b.curviness, !1, "thruBasic" === b.type, b.correlate, h) : m(i, b.type, j),
                            this._segCount = this._beziers[d].length,
                            this._timeRes) {
                        var p = o(this._beziers, this._timeRes);
                        this._length = p.length,
                            this._lengths = p.lengths,
                            this._segments = p.segments,
                            this._l1 = this._li = this._s1 = this._si = 0,
                            this._l2 = this._lengths[0],
                            this._curSeg = this._segments[0],
                            this._s2 = this._curSeg[0],
                            this._prec = 1 / this._curSeg.length
                    }
                    if (n = this._autoRotate)
                        for (this._initialRotations = [],
                             n[0] instanceof Array || (this._autoRotate = n = [n]),
                                 f = n.length; --f > -1; ) {
                            for (g = 0; 3 > g; g++)
                                d = n[f][g],
                                    this._func[d] = "function" == typeof a[d] && a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)];
                            d = n[f][2],
                                this._initialRotations[f] = (this._func[d] ? this._func[d].call(this._target) : this._target[d]) || 0
                        }
                    return this._startRatio = c.vars.runBackwards ? 1 : 0,
                        !0
                },
                set: function(b) {
                    var c, d, e, f, g, h, i, j, k, l, m = this._segCount, n = this._func, o = this._target, p = b !== this._startRatio;
                    if (this._timeRes) {
                        if (k = this._lengths,
                                l = this._curSeg,
                                b *= this._length,
                                e = this._li,
                            b > this._l2 && m - 1 > e) {
                            for (j = m - 1; j > e && (this._l2 = k[++e]) <= b; )
                                ;
                            this._l1 = k[e - 1],
                                this._li = e,
                                this._curSeg = l = this._segments[e],
                                this._s2 = l[this._s1 = this._si = 0]
                        } else if (b < this._l1 && e > 0) {
                            for (; e > 0 && (this._l1 = k[--e]) >= b; )
                                ;
                            0 === e && b < this._l1 ? this._l1 = 0 : e++,
                                this._l2 = k[e],
                                this._li = e,
                                this._curSeg = l = this._segments[e],
                                this._s1 = l[(this._si = l.length - 1) - 1] || 0,
                                this._s2 = l[this._si]
                        }
                        if (c = e,
                                b -= this._l1,
                                e = this._si,
                            b > this._s2 && e < l.length - 1) {
                            for (j = l.length - 1; j > e && (this._s2 = l[++e]) <= b; )
                                ;
                            this._s1 = l[e - 1],
                                this._si = e
                        } else if (b < this._s1 && e > 0) {
                            for (; e > 0 && (this._s1 = l[--e]) >= b; )
                                ;
                            0 === e && b < this._s1 ? this._s1 = 0 : e++,
                                this._s2 = l[e],
                                this._si = e
                        }
                        h = (e + (b - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                    } else
                        c = 0 > b ? 0 : b >= 1 ? m - 1 : m * b >> 0,
                            h = (b - c * (1 / m)) * m;
                    for (d = 1 - h,
                             e = this._props.length; --e > -1; )
                        f = this._props[e],
                            g = this._beziers[f][c],
                            i = (h * h * g.da + 3 * d * (h * g.ca + d * g.ba)) * h + g.a,
                        this._round[f] && (i = Math.round(i)),
                            n[f] ? o[f](i) : o[f] = i;
                    if (this._autoRotate) {
                        var q, r, s, t, u, v, w, x = this._autoRotate;
                        for (e = x.length; --e > -1; )
                            f = x[e][2],
                                v = x[e][3] || 0,
                                w = x[e][4] === !0 ? 1 : a,
                                g = this._beziers[x[e][0]],
                                q = this._beziers[x[e][1]],
                            g && q && (g = g[c],
                                q = q[c],
                                r = g.a + (g.b - g.a) * h,
                                t = g.b + (g.c - g.b) * h,
                                r += (t - r) * h,
                                t += (g.c + (g.d - g.c) * h - t) * h,
                                s = q.a + (q.b - q.a) * h,
                                u = q.b + (q.c - q.b) * h,
                                s += (u - s) * h,
                                u += (q.c + (q.d - q.c) * h - u) * h,
                                i = p ? Math.atan2(u - s, t - r) * w + v : this._initialRotations[e],
                                n[f] ? o[f](i) : o[f] = i)
                    }
                }
            })
                , q = p.prototype;
            p.bezierThrough = l,
                p.cubicToQuadratic = i,
                p._autoCSS = !0,
                p.quadraticToCubic = function(a, b, c) {
                    return new g(a,(2 * b + a) / 3,(2 * b + c) / 3,c)
                }
                ,
                p._cssRegister = function() {
                    var a = f.CSSPlugin;
                    if (a) {
                        var b = a._internals
                            , c = b._parseToProxy
                            , d = b._setPluginRatio
                            , e = b.CSSPropTween;
                        b._registerComplexSpecialProp("bezier", {
                            parser: function(a, b, f, g, h, i) {
                                b instanceof Array && (b = {
                                    values: b
                                }),
                                    i = new p;
                                var j, k, l, m = b.values, n = m.length - 1, o = [], q = {};
                                if (0 > n)
                                    return h;
                                for (j = 0; n >= j; j++)
                                    l = c(a, m[j], g, h, i, n !== j),
                                        o[j] = l.end;
                                for (k in b)
                                    q[k] = b[k];
                                return q.values = o,
                                    h = new e(a,"bezier",0,0,l.pt,2),
                                    h.data = l,
                                    h.plugin = i,
                                    h.setRatio = d,
                                0 === q.autoRotate && (q.autoRotate = !0),
                                !q.autoRotate || q.autoRotate instanceof Array || (j = q.autoRotate === !0 ? 0 : Number(q.autoRotate),
                                    q.autoRotate = null  != l.end.left ? [["left", "top", "rotation", j, !1]] : null  != l.end.x && [["x", "y", "rotation", j, !1]]),
                                q.autoRotate && (g._transform || g._enableTransforms(!1),
                                    l.autoRotate = g._target._gsTransform,
                                    l.proxy.rotation = l.autoRotate.rotation || 0),
                                    i._onInitTween(l.proxy, q, g._tween),
                                    h
                            }
                        })
                    }
                }
                ,
                q._roundProps = function(a, b) {
                    for (var c = this._overwriteProps, d = c.length; --d > -1; )
                        (a[c[d]] || a.bezier || a.bezierThrough) && (this._round[c[d]] = b)
                }
                ,
                q._kill = function(a) {
                    var b, c, d = this._props;
                    for (b in this._beziers)
                        if (b in a)
                            for (delete this._beziers[b],
                                     delete this._func[b],
                                     c = d.length; --c > -1; )
                                d[c] === b && d.splice(c, 1);
                    return this._super._kill.call(this, a)
                }
        }(),
        _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(a, b) {
            var c, d, e, f, g = function() {
                a.call(this, "css"),
                    this._overwriteProps.length = 0,
                    this.setRatio = g.prototype.setRatio
            }
                , h = _gsScope._gsDefine.globals, i = {}, j = g.prototype = new a("css");
            j.constructor = g,
                g.version = "1.18.5",
                g.API = 2,
                g.defaultTransformPerspective = 0,
                g.defaultSkewType = "compensated",
                g.defaultSmoothOrigin = !0,
                j = "px",
                g.suffixMap = {
                    top: j,
                    right: j,
                    bottom: j,
                    left: j,
                    width: j,
                    height: j,
                    fontSize: j,
                    padding: j,
                    margin: j,
                    perspective: j,
                    lineHeight: ""
                };
            var k, l, m, n, o, p, q = /(?:\-|\.|\b)(\d|\.|e\-)+/g, r = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, s = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, t = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, u = /(?:\d|\-|\+|=|#|\.)*/g, v = /opacity *= *([^)]*)/i, w = /opacity:([^;]*)/i, x = /alpha\(opacity *=.+?\)/i, y = /^(rgb|hsl)/, z = /([A-Z])/g, A = /-([a-z])/gi, B = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, C = function(a, b) {
                return b.toUpperCase()
            }
                , D = /(?:Left|Right|Width)/i, E = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, F = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, G = /,(?=[^\)]*(?:\(|$))/gi, H = /[\s,\(]/i, I = Math.PI / 180, J = 180 / Math.PI, K = {}, L = document, M = function(a) {
                return L.createElementNS ? L.createElementNS("http://www.w3.org/1999/xhtml", a) : L.createElement(a)
            }
                , N = M("div"), O = M("img"), P = g._internals = {
                _specialProps: i
            }, Q = navigator.userAgent, R = function() {
                var a = Q.indexOf("Android")
                    , b = M("a");
                return m = -1 !== Q.indexOf("Safari") && -1 === Q.indexOf("Chrome") && (-1 === a || Number(Q.substr(a + 8, 1)) > 3),
                    o = m && Number(Q.substr(Q.indexOf("Version/") + 8, 1)) < 6,
                    n = -1 !== Q.indexOf("Firefox"),
                (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Q) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Q)) && (p = parseFloat(RegExp.$1)),
                !!b && (b.style.cssText = "top:1px;opacity:.55;",
                    /^0.55/.test(b.style.opacity))
            }(), S = function(a) {
                return v.test("string" == typeof a ? a : (a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
            }
                , T = function(a) {
                window.console && console.log(a)
            }
                , U = "", V = "", W = function(a, b) {
                b = b || N;
                var c, d, e = b.style;
                if (void 0 !== e[a])
                    return a;
                for (a = a.charAt(0).toUpperCase() + a.substr(1),
                         c = ["O", "Moz", "ms", "Ms", "Webkit"],
                         d = 5; --d > -1 && void 0 === e[c[d] + a]; )
                    ;
                return d >= 0 ? (V = 3 === d ? "ms" : c[d],
                    U = "-" + V.toLowerCase() + "-",
                V + a) : null
            }
                , X = L.defaultView ? L.defaultView.getComputedStyle : function() {}
                , Y = g.getStyle = function(a, b, c, d, e) {
                var f;
                return R || "opacity" !== b ? (!d && a.style[b] ? f = a.style[b] : (c = c || X(a)) ? f = c[b] || c.getPropertyValue(b) || c.getPropertyValue(b.replace(z, "-$1").toLowerCase()) : a.currentStyle && (f = a.currentStyle[b]),
                    null  == e || f && "none" !== f && "auto" !== f && "auto auto" !== f ? f : e) : S(a)
            }
                , Z = P.convertToPixels = function(a, c, d, e, f) {
                if ("px" === e || !e)
                    return d;
                if ("auto" === e || !d)
                    return 0;
                var h, i, j, k = D.test(c), l = a, m = N.style, n = 0 > d, o = 1 === d;
                if (n && (d = -d),
                    o && (d *= 100),
                    "%" === e && -1 !== c.indexOf("border"))
                    h = d / 100 * (k ? a.clientWidth : a.clientHeight);
                else {
                    if (m.cssText = "border:0 solid red;position:" + Y(a, "position") + ";line-height:0;",
                        "%" !== e && l.appendChild && "v" !== e.charAt(0) && "rem" !== e)
                        m[k ? "borderLeftWidth" : "borderTopWidth"] = d + e;
                    else {
                        if (l = a.parentNode || L.body,
                                i = l._gsCache,
                                j = b.ticker.frame,
                            i && k && i.time === j)
                            return i.width * d / 100;
                        m[k ? "width" : "height"] = d + e
                    }
                    l.appendChild(N),
                        h = parseFloat(N[k ? "offsetWidth" : "offsetHeight"]),
                        l.removeChild(N),
                    k && "%" === e && g.cacheWidths !== !1 && (i = l._gsCache = l._gsCache || {},
                        i.time = j,
                        i.width = h / d * 100),
                    0 !== h || f || (h = Z(a, c, d, e, !0))
                }
                return o && (h /= 100),
                    n ? -h : h
            }
                , $ = P.calculateOffset = function(a, b, c) {
                if ("absolute" !== Y(a, "position", c))
                    return 0;
                var d = "left" === b ? "Left" : "Top"
                    , e = Y(a, "margin" + d, c);
                return a["offset" + d] - (Z(a, b, parseFloat(e), e.replace(u, "")) || 0)
            }
                , _ = function(a, b) {
                var c, d, e, f = {};
                if (b = b || X(a, null ))
                    if (c = b.length)
                        for (; --c > -1; )
                            e = b[c],
                            (-1 === e.indexOf("-transform") || Aa === e) && (f[e.replace(A, C)] = b.getPropertyValue(e));
                    else
                        for (c in b)
                            (-1 === c.indexOf("Transform") || za === c) && (f[c] = b[c]);
                else if (b = a.currentStyle || a.style)
                    for (c in b)
                        "string" == typeof c && void 0 === f[c] && (f[c.replace(A, C)] = b[c]);
                return R || (f.opacity = S(a)),
                    d = Na(a, b, !1),
                    f.rotation = d.rotation,
                    f.skewX = d.skewX,
                    f.scaleX = d.scaleX,
                    f.scaleY = d.scaleY,
                    f.x = d.x,
                    f.y = d.y,
                Ca && (f.z = d.z,
                    f.rotationX = d.rotationX,
                    f.rotationY = d.rotationY,
                    f.scaleZ = d.scaleZ),
                f.filters && delete f.filters,
                    f
            }
                , aa = function(a, b, c, d, e) {
                var f, g, h, i = {}, j = a.style;
                for (g in c)
                    "cssText" !== g && "length" !== g && isNaN(g) && (b[g] !== (f = c[g]) || e && e[g]) && -1 === g.indexOf("Origin") && ("number" == typeof f || "string" == typeof f) && (i[g] = "auto" !== f || "left" !== g && "top" !== g ? "" !== f && "auto" !== f && "none" !== f || "string" != typeof b[g] || "" === b[g].replace(t, "") ? f : 0 : $(a, g),
                    void 0 !== j[g] && (h = new pa(j,g,j[g],h)));
                if (d)
                    for (g in d)
                        "className" !== g && (i[g] = d[g]);
                return {
                    difs: i,
                    firstMPT: h
                }
            }
                , ba = {
                width: ["Left", "Right"],
                height: ["Top", "Bottom"]
            }, ca = ["marginLeft", "marginRight", "marginTop", "marginBottom"], da = function(a, b, c) {
                if ("svg" === (a.nodeName + "").toLowerCase())
                    return (c || X(a))[b] || 0;
                if (a.getBBox && Ka(a))
                    return a.getBBox()[b] || 0;
                var d = parseFloat("width" === b ? a.offsetWidth : a.offsetHeight)
                    , e = ba[b]
                    , f = e.length;
                for (c = c || X(a, null ); --f > -1; )
                    d -= parseFloat(Y(a, "padding" + e[f], c, !0)) || 0,
                        d -= parseFloat(Y(a, "border" + e[f] + "Width", c, !0)) || 0;
                return d
            }
                , ea = function(a, b) {
                if ("contain" === a || "auto" === a || "auto auto" === a)
                    return a + " ";
                (null  == a || "" === a) && (a = "0 0");
                var c, d = a.split(" "), e = -1 !== a.indexOf("left") ? "0%" : -1 !== a.indexOf("right") ? "100%" : d[0], f = -1 !== a.indexOf("top") ? "0%" : -1 !== a.indexOf("bottom") ? "100%" : d[1];
                if (d.length > 3 && !b) {
                    for (d = a.split(", ").join(",").split(","),
                             a = [],
                             c = 0; c < d.length; c++)
                        a.push(ea(d[c]));
                    return a.join(",")
                }
                return null  == f ? f = "center" === e ? "50%" : "0" : "center" === f && (f = "50%"),
                ("center" === e || isNaN(parseFloat(e)) && -1 === (e + "").indexOf("=")) && (e = "50%"),
                    a = e + " " + f + (d.length > 2 ? " " + d[2] : ""),
                b && (b.oxp = -1 !== e.indexOf("%"),
                    b.oyp = -1 !== f.indexOf("%"),
                    b.oxr = "=" === e.charAt(1),
                    b.oyr = "=" === f.charAt(1),
                    b.ox = parseFloat(e.replace(t, "")),
                    b.oy = parseFloat(f.replace(t, "")),
                    b.v = a),
                b || a
            }
                , fa = function(a, b) {
                return "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) : parseFloat(a) - parseFloat(b) || 0
            }
                , ga = function(a, b) {
                return null  == a ? b : "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) + b : parseFloat(a) || 0
            }
                , ha = function(a, b, c, d) {
                var e, f, g, h, i, j = 1e-6;
                return null  == a ? h = b : "number" == typeof a ? h = a : (e = 360,
                    f = a.split("_"),
                    i = "=" === a.charAt(1),
                    g = (i ? parseInt(a.charAt(0) + "1", 10) * parseFloat(f[0].substr(2)) : parseFloat(f[0])) * (-1 === a.indexOf("rad") ? 1 : J) - (i ? 0 : b),
                f.length && (d && (d[c] = b + g),
                -1 !== a.indexOf("short") && (g %= e,
                g !== g % (e / 2) && (g = 0 > g ? g + e : g - e)),
                    -1 !== a.indexOf("_cw") && 0 > g ? g = (g + 9999999999 * e) % e - (g / e | 0) * e : -1 !== a.indexOf("ccw") && g > 0 && (g = (g - 9999999999 * e) % e - (g / e | 0) * e)),
                    h = b + g),
                j > h && h > -j && (h = 0),
                    h
            }
                , ia = {
                aqua: [0, 255, 255],
                lime: [0, 255, 0],
                silver: [192, 192, 192],
                black: [0, 0, 0],
                maroon: [128, 0, 0],
                teal: [0, 128, 128],
                blue: [0, 0, 255],
                navy: [0, 0, 128],
                white: [255, 255, 255],
                fuchsia: [255, 0, 255],
                olive: [128, 128, 0],
                yellow: [255, 255, 0],
                orange: [255, 165, 0],
                gray: [128, 128, 128],
                purple: [128, 0, 128],
                green: [0, 128, 0],
                red: [255, 0, 0],
                pink: [255, 192, 203],
                cyan: [0, 255, 255],
                transparent: [255, 255, 255, 0]
            }, ja = function(a, b, c) {
                return a = 0 > a ? a + 1 : a > 1 ? a - 1 : a,
                255 * (1 > 6 * a ? b + (c - b) * a * 6 : .5 > a ? c : 2 > 3 * a ? b + (c - b) * (2 / 3 - a) * 6 : b) + .5 | 0
            }
                , ka = g.parseColor = function(a, b) {
                var c, d, e, f, g, h, i, j, k, l, m;
                if (a)
                    if ("number" == typeof a)
                        c = [a >> 16, a >> 8 & 255, 255 & a];
                    else {
                        if ("," === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)),
                                ia[a])
                            c = ia[a];
                        else if ("#" === a.charAt(0))
                            4 === a.length && (d = a.charAt(1),
                                e = a.charAt(2),
                                f = a.charAt(3),
                                a = "#" + d + d + e + e + f + f),
                                a = parseInt(a.substr(1), 16),
                                c = [a >> 16, a >> 8 & 255, 255 & a];
                        else if ("hsl" === a.substr(0, 3))
                            if (c = m = a.match(q),
                                    b) {
                                if (-1 !== a.indexOf("="))
                                    return a.match(r)
                            } else
                                g = Number(c[0]) % 360 / 360,
                                    h = Number(c[1]) / 100,
                                    i = Number(c[2]) / 100,
                                    e = .5 >= i ? i * (h + 1) : i + h - i * h,
                                    d = 2 * i - e,
                                c.length > 3 && (c[3] = Number(a[3])),
                                    c[0] = ja(g + 1 / 3, d, e),
                                    c[1] = ja(g, d, e),
                                    c[2] = ja(g - 1 / 3, d, e);
                        else
                            c = a.match(q) || ia.transparent;
                        c[0] = Number(c[0]),
                            c[1] = Number(c[1]),
                            c[2] = Number(c[2]),
                        c.length > 3 && (c[3] = Number(c[3]))
                    }
                else
                    c = ia.black;
                return b && !m && (d = c[0] / 255,
                    e = c[1] / 255,
                    f = c[2] / 255,
                    j = Math.max(d, e, f),
                    k = Math.min(d, e, f),
                    i = (j + k) / 2,
                    j === k ? g = h = 0 : (l = j - k,
                        h = i > .5 ? l / (2 - j - k) : l / (j + k),
                        g = j === d ? (e - f) / l + (f > e ? 6 : 0) : j === e ? (f - d) / l + 2 : (d - e) / l + 4,
                        g *= 60),
                    c[0] = g + .5 | 0,
                    c[1] = 100 * h + .5 | 0,
                    c[2] = 100 * i + .5 | 0),
                    c
            }
                , la = function(a, b) {
                var c, d, e, f = a.match(ma) || [], g = 0, h = f.length ? "" : a;
                for (c = 0; c < f.length; c++)
                    d = f[c],
                        e = a.substr(g, a.indexOf(d, g) - g),
                        g += e.length + d.length,
                        d = ka(d, b),
                    3 === d.length && d.push(1),
                        h += e + (b ? "hsla(" + d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : "rgba(" + d.join(",")) + ")";
                return h + a.substr(g)
            }
                , ma = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
            for (j in ia)
                ma += "|" + j + "\\b";
            ma = new RegExp(ma + ")","gi"),
                g.colorStringFilter = function(a) {
                    var b, c = a[0] + a[1];
                    ma.test(c) && (b = -1 !== c.indexOf("hsl(") || -1 !== c.indexOf("hsla("),
                        a[0] = la(a[0], b),
                        a[1] = la(a[1], b)),
                        ma.lastIndex = 0
                }
                ,
            b.defaultStringFilter || (b.defaultStringFilter = g.colorStringFilter);
            var na = function(a, b, c, d) {
                if (null  == a)
                    return function(a) {
                        return a
                    }
                        ;
                var e, f = b ? (a.match(ma) || [""])[0] : "", g = a.split(f).join("").match(s) || [], h = a.substr(0, a.indexOf(g[0])), i = ")" === a.charAt(a.length - 1) ? ")" : "", j = -1 !== a.indexOf(" ") ? " " : ",", k = g.length, l = k > 0 ? g[0].replace(q, "") : "";
                return k ? e = b ? function(a) {
                    var b, m, n, o;
                    if ("number" == typeof a)
                        a += l;
                    else if (d && G.test(a)) {
                        for (o = a.replace(G, "|").split("|"),
                                 n = 0; n < o.length; n++)
                            o[n] = e(o[n]);
                        return o.join(",")
                    }
                    if (b = (a.match(ma) || [f])[0],
                            m = a.split(b).join("").match(s) || [],
                            n = m.length,
                        k > n--)
                        for (; ++n < k; )
                            m[n] = c ? m[(n - 1) / 2 | 0] : g[n];
                    return h + m.join(j) + j + b + i + (-1 !== a.indexOf("inset") ? " inset" : "")
                }
                    : function(a) {
                    var b, f, m;
                    if ("number" == typeof a)
                        a += l;
                    else if (d && G.test(a)) {
                        for (f = a.replace(G, "|").split("|"),
                                 m = 0; m < f.length; m++)
                            f[m] = e(f[m]);
                        return f.join(",")
                    }
                    if (b = a.match(s) || [],
                            m = b.length,
                        k > m--)
                        for (; ++m < k; )
                            b[m] = c ? b[(m - 1) / 2 | 0] : g[m];
                    return h + b.join(j) + i
                }
                    : function(a) {
                    return a
                }
            }
                , oa = function(a) {
                return a = a.split(","),
                    function(b, c, d, e, f, g, h) {
                        var i, j = (c + "").split(" ");
                        for (h = {},
                                 i = 0; 4 > i; i++)
                            h[a[i]] = j[i] = j[i] || j[(i - 1) / 2 >> 0];
                        return e.parse(b, h, f, g)
                    }
            }
                , pa = (P._setPluginRatio = function(a) {
                    this.plugin.setRatio(a);
                    for (var b, c, d, e, f, g = this.data, h = g.proxy, i = g.firstMPT, j = 1e-6; i; )
                        b = h[i.v],
                            i.r ? b = Math.round(b) : j > b && b > -j && (b = 0),
                            i.t[i.p] = b,
                            i = i._next;
                    if (g.autoRotate && (g.autoRotate.rotation = h.rotation),
                        1 === a || 0 === a)
                        for (i = g.firstMPT,
                                 f = 1 === a ? "e" : "b"; i; ) {
                            if (c = i.t,
                                    c.type) {
                                if (1 === c.type) {
                                    for (e = c.xs0 + c.s + c.xs1,
                                             d = 1; d < c.l; d++)
                                        e += c["xn" + d] + c["xs" + (d + 1)];
                                    c[f] = e
                                }
                            } else
                                c[f] = c.s + c.xs0;
                            i = i._next
                        }
                }
                    ,
                    function(a, b, c, d, e) {
                        this.t = a,
                            this.p = b,
                            this.v = c,
                            this.r = e,
                        d && (d._prev = this,
                            this._next = d)
                    }
            )
                , qa = (P._parseToProxy = function(a, b, c, d, e, f) {
                    var g, h, i, j, k, l = d, m = {}, n = {}, o = c._transform, p = K;
                    for (c._transform = null ,
                             K = b,
                             d = k = c.parse(a, b, d, e),
                             K = p,
                         f && (c._transform = o,
                         l && (l._prev = null ,
                         l._prev && (l._prev._next = null ))); d && d !== l; ) {
                        if (d.type <= 1 && (h = d.p,
                                n[h] = d.s + d.c,
                                m[h] = d.s,
                            f || (j = new pa(d,"s",h,j,d.r),
                                d.c = 0),
                            1 === d.type))
                            for (g = d.l; --g > 0; )
                                i = "xn" + g,
                                    h = d.p + "_" + i,
                                    n[h] = d.data[i],
                                    m[h] = d[i],
                                f || (j = new pa(d,i,h,j,d.rxp[i]));
                        d = d._next
                    }
                    return {
                        proxy: m,
                        end: n,
                        firstMPT: j,
                        pt: k
                    }
                }
                    ,
                    P.CSSPropTween = function(a, b, d, e, g, h, i, j, k, l, m) {
                        this.t = a,
                            this.p = b,
                            this.s = d,
                            this.c = e,
                            this.n = i || b,
                        a instanceof qa || f.push(this.n),
                            this.r = j,
                            this.type = h || 0,
                        k && (this.pr = k,
                            c = !0),
                            this.b = void 0 === l ? d : l,
                            this.e = void 0 === m ? d + e : m,
                        g && (this._next = g,
                            g._prev = this)
                    }
            )
                , ra = function(a, b, c, d, e, f) {
                var g = new qa(a,b,c,d - c,e,-1,f);
                return g.b = c,
                    g.e = g.xs0 = d,
                    g
            }
                , sa = g.parseComplex = function(a, b, c, d, e, f, h, i, j, l) {
                c = c || f || "",
                    h = new qa(a,b,0,0,h,l ? 2 : 1,null ,!1,i,c,d),
                    d += "",
                e && ma.test(d + c) && (d = [c, d],
                    g.colorStringFilter(d),
                    c = d[0],
                    d = d[1]);
                var m, n, o, p, s, t, u, v, w, x, y, z, A, B = c.split(", ").join(",").split(" "), C = d.split(", ").join(",").split(" "), D = B.length, E = k !== !1;
                for ((-1 !== d.indexOf(",") || -1 !== c.indexOf(",")) && (B = B.join(" ").replace(G, ", ").split(" "),
                    C = C.join(" ").replace(G, ", ").split(" "),
                    D = B.length),
                     D !== C.length && (B = (f || "").split(" "),
                         D = B.length),
                         h.plugin = j,
                         h.setRatio = l,
                         ma.lastIndex = 0,
                         m = 0; D > m; m++)
                    if (p = B[m],
                            s = C[m],
                            v = parseFloat(p),
                        v || 0 === v)
                        h.appendXtra("", v, fa(s, v), s.replace(r, ""), E && -1 !== s.indexOf("px"), !0);
                    else if (e && ma.test(p))
                        z = s.indexOf(")") + 1,
                            z = ")" + (z ? s.substr(z) : ""),
                            A = -1 !== s.indexOf("hsl") && R,
                            p = ka(p, A),
                            s = ka(s, A),
                            w = p.length + s.length > 6,
                            w && !R && 0 === s[3] ? (h["xs" + h.l] += h.l ? " transparent" : "transparent",
                                h.e = h.e.split(C[m]).join("transparent")) : (R || (w = !1),
                                A ? h.appendXtra(w ? "hsla(" : "hsl(", p[0], fa(s[0], p[0]), ",", !1, !0).appendXtra("", p[1], fa(s[1], p[1]), "%,", !1).appendXtra("", p[2], fa(s[2], p[2]), w ? "%," : "%" + z, !1) : h.appendXtra(w ? "rgba(" : "rgb(", p[0], s[0] - p[0], ",", !0, !0).appendXtra("", p[1], s[1] - p[1], ",", !0).appendXtra("", p[2], s[2] - p[2], w ? "," : z, !0),
                            w && (p = p.length < 4 ? 1 : p[3],
                                h.appendXtra("", p, (s.length < 4 ? 1 : s[3]) - p, z, !1))),
                            ma.lastIndex = 0;
                    else if (t = p.match(q)) {
                        if (u = s.match(r),
                            !u || u.length !== t.length)
                            return h;
                        for (o = 0,
                                 n = 0; n < t.length; n++)
                            y = t[n],
                                x = p.indexOf(y, o),
                                h.appendXtra(p.substr(o, x - o), Number(y), fa(u[n], y), "", E && "px" === p.substr(x + y.length, 2), 0 === n),
                                o = x + y.length;
                        h["xs" + h.l] += p.substr(o)
                    } else
                        h["xs" + h.l] += h.l || h["xs" + h.l] ? " " + s : s;
                if (-1 !== d.indexOf("=") && h.data) {
                    for (z = h.xs0 + h.data.s,
                             m = 1; m < h.l; m++)
                        z += h["xs" + m] + h.data["xn" + m];
                    h.e = z + h["xs" + m]
                }
                return h.l || (h.type = -1,
                    h.xs0 = h.e),
                h.xfirst || h
            }
                , ta = 9;
            for (j = qa.prototype,
                     j.l = j.pr = 0; --ta > 0; )
                j["xn" + ta] = 0,
                    j["xs" + ta] = "";
            j.xs0 = "",
                j._next = j._prev = j.xfirst = j.data = j.plugin = j.setRatio = j.rxp = null ,
                j.appendXtra = function(a, b, c, d, e, f) {
                    var g = this
                        , h = g.l;
                    return g["xs" + h] += f && (h || g["xs" + h]) ? " " + a : a || "",
                        c || 0 === h || g.plugin ? (g.l++,
                            g.type = g.setRatio ? 2 : 1,
                            g["xs" + g.l] = d || "",
                            h > 0 ? (g.data["xn" + h] = b + c,
                                g.rxp["xn" + h] = e,
                                g["xn" + h] = b,
                            g.plugin || (g.xfirst = new qa(g,"xn" + h,b,c,g.xfirst || g,0,g.n,e,g.pr),
                                g.xfirst.xs0 = 0),
                                g) : (g.data = {
                                s: b + c
                            },
                                g.rxp = {},
                                g.s = b,
                                g.c = c,
                                g.r = e,
                                g)) : (g["xs" + h] += b + (d || ""),
                            g)
                }
            ;
            var ua = function(a, b) {
                    b = b || {},
                        this.p = b.prefix ? W(a) || a : a,
                        i[a] = i[this.p] = this,
                        this.format = b.formatter || na(b.defaultValue, b.color, b.collapsible, b.multi),
                    b.parser && (this.parse = b.parser),
                        this.clrs = b.color,
                        this.multi = b.multi,
                        this.keyword = b.keyword,
                        this.dflt = b.defaultValue,
                        this.pr = b.priority || 0
                }
                , va = P._registerComplexSpecialProp = function(a, b, c) {
                    "object" != typeof b && (b = {
                        parser: c
                    });
                    var d, e, f = a.split(","), g = b.defaultValue;
                    for (c = c || [g],
                             d = 0; d < f.length; d++)
                        b.prefix = 0 === d && b.prefix,
                            b.defaultValue = c[d] || g,
                            e = new ua(f[d],b)
                }
                , wa = function(a) {
                    if (!i[a]) {
                        var b = a.charAt(0).toUpperCase() + a.substr(1) + "Plugin";
                        va(a, {
                            parser: function(a, c, d, e, f, g, j) {
                                var k = h.com.greensock.plugins[b];
                                return k ? (k._cssRegister(),
                                    i[d].parse(a, c, d, e, f, g, j)) : (T("Error: " + b + " js file not loaded."),
                                    f)
                            }
                        })
                    }
                }
                ;
            j = ua.prototype,
                j.parseComplex = function(a, b, c, d, e, f) {
                    var g, h, i, j, k, l, m = this.keyword;
                    if (this.multi && (G.test(c) || G.test(b) ? (h = b.replace(G, "|").split("|"),
                            i = c.replace(G, "|").split("|")) : m && (h = [b],
                            i = [c])),
                            i) {
                        for (j = i.length > h.length ? i.length : h.length,
                                 g = 0; j > g; g++)
                            b = h[g] = h[g] || this.dflt,
                                c = i[g] = i[g] || this.dflt,
                            m && (k = b.indexOf(m),
                                l = c.indexOf(m),
                            k !== l && (-1 === l ? h[g] = h[g].split(m).join("") : -1 === k && (h[g] += " " + m)));
                        b = h.join(", "),
                            c = i.join(", ")
                    }
                    return sa(a, this.p, b, c, this.clrs, this.dflt, d, this.pr, e, f)
                }
                ,
                j.parse = function(a, b, c, d, f, g, h) {
                    return this.parseComplex(a.style, this.format(Y(a, this.p, e, !1, this.dflt)), this.format(b), f, g)
                }
                ,
                g.registerSpecialProp = function(a, b, c) {
                    va(a, {
                        parser: function(a, d, e, f, g, h, i) {
                            var j = new qa(a,e,0,0,g,2,e,!1,c);
                            return j.plugin = h,
                                j.setRatio = b(a, d, f._tween, e),
                                j
                        },
                        priority: c
                    })
                }
                ,
                g.useSVGTransformAttr = m || n;
            var xa, ya = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","), za = W("transform"), Aa = U + "transform", Ba = W("transformOrigin"), Ca = null  !== W("perspective"), Da = P.Transform = function() {
                    this.perspective = parseFloat(g.defaultTransformPerspective) || 0,
                        this.force3D = !(g.defaultForce3D === !1 || !Ca) && (g.defaultForce3D || "auto")
                }
                , Ea = window.SVGElement, Fa = function(a, b, c) {
                    var d, e = L.createElementNS("http://www.w3.org/2000/svg", a), f = /([a-z])([A-Z])/g;
                    for (d in c)
                        e.setAttributeNS(null , d.replace(f, "$1-$2").toLowerCase(), c[d]);
                    return b.appendChild(e),
                        e
                }
                , Ga = L.documentElement, Ha = function() {
                    var a, b, c, d = p || /Android/i.test(Q) && !window.chrome;
                    return L.createElementNS && !d && (a = Fa("svg", Ga),
                        b = Fa("rect", a, {
                            width: 100,
                            height: 50,
                            x: 100
                        }),
                        c = b.getBoundingClientRect().width,
                        b.style[Ba] = "50% 50%",
                        b.style[za] = "scaleX(0.5)",
                        d = c === b.getBoundingClientRect().width && !(n && Ca),
                        Ga.removeChild(a)),
                        d
                }(), Ia = function(a, b, c, d, e, f) {
                    var h, i, j, k, l, m, n, o, p, q, r, s, t, u, v = a._gsTransform, w = Ma(a, !0);
                    v && (t = v.xOrigin,
                        u = v.yOrigin),
                    (!d || (h = d.split(" ")).length < 2) && (n = a.getBBox(),
                        b = ea(b).split(" "),
                        h = [(-1 !== b[0].indexOf("%") ? parseFloat(b[0]) / 100 * n.width : parseFloat(b[0])) + n.x, (-1 !== b[1].indexOf("%") ? parseFloat(b[1]) / 100 * n.height : parseFloat(b[1])) + n.y]),
                        c.xOrigin = k = parseFloat(h[0]),
                        c.yOrigin = l = parseFloat(h[1]),
                    d && w !== La && (m = w[0],
                        n = w[1],
                        o = w[2],
                        p = w[3],
                        q = w[4],
                        r = w[5],
                        s = m * p - n * o,
                        i = k * (p / s) + l * (-o / s) + (o * r - p * q) / s,
                        j = k * (-n / s) + l * (m / s) - (m * r - n * q) / s,
                        k = c.xOrigin = h[0] = i,
                        l = c.yOrigin = h[1] = j),
                    v && (f && (c.xOffset = v.xOffset,
                        c.yOffset = v.yOffset,
                        v = c),
                        e || e !== !1 && g.defaultSmoothOrigin !== !1 ? (i = k - t,
                            j = l - u,
                            v.xOffset += i * w[0] + j * w[2] - i,
                            v.yOffset += i * w[1] + j * w[3] - j) : v.xOffset = v.yOffset = 0),
                    f || a.setAttribute("data-svg-origin", h.join(" "))
                }
                , Ja = function(a) {
                    try {
                        return a.getBBox()
                    } catch (a) {}
                }
                , Ka = function(a) {
                    return !!(Ea && a.getBBox && a.getCTM && Ja(a) && (!a.parentNode || a.parentNode.getBBox && a.parentNode.getCTM))
                }
                , La = [1, 0, 0, 1, 0, 0], Ma = function(a, b) {
                    var c, d, e, f, g, h, i = a._gsTransform || new Da, j = 1e5, k = a.style;
                    if (za ? d = Y(a, Aa, null , !0) : a.currentStyle && (d = a.currentStyle.filter.match(E),
                            d = d && 4 === d.length ? [d[0].substr(4), Number(d[2].substr(4)), Number(d[1].substr(4)), d[3].substr(4), i.x || 0, i.y || 0].join(",") : ""),
                            c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
                        c && za && ((h = "none" === X(a).display) || !a.parentNode) && (h && (f = k.display,
                            k.display = "block"),
                        a.parentNode || (g = 1,
                            Ga.appendChild(a)),
                            d = Y(a, Aa, null , !0),
                            c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
                            f ? k.display = f : h && Ra(k, "display"),
                        g && Ga.removeChild(a)),
                        (i.svg || a.getBBox && Ka(a)) && (c && -1 !== (k[za] + "").indexOf("matrix") && (d = k[za],
                            c = 0),
                            e = a.getAttribute("transform"),
                        c && e && (-1 !== e.indexOf("matrix") ? (d = e,
                            c = 0) : -1 !== e.indexOf("translate") && (d = "matrix(1,0,0,1," + e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")",
                            c = 0))),
                            c)
                        return La;
                    for (e = (d || "").match(q) || [],
                             ta = e.length; --ta > -1; )
                        f = Number(e[ta]),
                            e[ta] = (g = f - (f |= 0)) ? (g * j + (0 > g ? -.5 : .5) | 0) / j + f : f;
                    return b && e.length > 6 ? [e[0], e[1], e[4], e[5], e[12], e[13]] : e
                }
                , Na = P.getTransform = function(a, c, d, e) {
                    if (a._gsTransform && d && !e)
                        return a._gsTransform;
                    var f, h, i, j, k, l, m = d ? a._gsTransform || new Da : new Da, n = m.scaleX < 0, o = 2e-5, p = 1e5, q = Ca ? parseFloat(Y(a, Ba, c, !1, "0 0 0").split(" ")[2]) || m.zOrigin || 0 : 0, r = parseFloat(g.defaultTransformPerspective) || 0;
                    if (m.svg = !(!a.getBBox || !Ka(a)),
                        m.svg && (Ia(a, Y(a, Ba, c, !1, "50% 50%") + "", m, a.getAttribute("data-svg-origin")),
                            xa = g.useSVGTransformAttr || Ha),
                            f = Ma(a),
                        f !== La) {
                        if (16 === f.length) {
                            var s, t, u, v, w, x = f[0], y = f[1], z = f[2], A = f[3], B = f[4], C = f[5], D = f[6], E = f[7], F = f[8], G = f[9], H = f[10], I = f[12], K = f[13], L = f[14], M = f[11], N = Math.atan2(D, H);
                            m.zOrigin && (L = -m.zOrigin,
                                I = F * L - f[12],
                                K = G * L - f[13],
                                L = H * L + m.zOrigin - f[14]),
                                m.rotationX = N * J,
                            N && (v = Math.cos(-N),
                                w = Math.sin(-N),
                                s = B * v + F * w,
                                t = C * v + G * w,
                                u = D * v + H * w,
                                F = B * -w + F * v,
                                G = C * -w + G * v,
                                H = D * -w + H * v,
                                M = E * -w + M * v,
                                B = s,
                                C = t,
                                D = u),
                                N = Math.atan2(-z, H),
                                m.rotationY = N * J,
                            N && (v = Math.cos(-N),
                                w = Math.sin(-N),
                                s = x * v - F * w,
                                t = y * v - G * w,
                                u = z * v - H * w,
                                G = y * w + G * v,
                                H = z * w + H * v,
                                M = A * w + M * v,
                                x = s,
                                y = t,
                                z = u),
                                N = Math.atan2(y, x),
                                m.rotation = N * J,
                            N && (v = Math.cos(-N),
                                w = Math.sin(-N),
                                x = x * v + B * w,
                                t = y * v + C * w,
                                C = y * -w + C * v,
                                D = z * -w + D * v,
                                y = t),
                            m.rotationX && Math.abs(m.rotationX) + Math.abs(m.rotation) > 359.9 && (m.rotationX = m.rotation = 0,
                                m.rotationY = 180 - m.rotationY),
                                m.scaleX = (Math.sqrt(x * x + y * y) * p + .5 | 0) / p,
                                m.scaleY = (Math.sqrt(C * C + G * G) * p + .5 | 0) / p,
                                m.scaleZ = (Math.sqrt(D * D + H * H) * p + .5 | 0) / p,
                                m.rotationX || m.rotationY ? m.skewX = 0 : (m.skewX = B || C ? Math.atan2(B, C) * J + m.rotation : m.skewX || 0,
                                Math.abs(m.skewX) > 90 && Math.abs(m.skewX) < 270 && (n ? (m.scaleX *= -1,
                                    m.skewX += m.rotation <= 0 ? 180 : -180,
                                    m.rotation += m.rotation <= 0 ? 180 : -180) : (m.scaleY *= -1,
                                    m.skewX += m.skewX <= 0 ? 180 : -180))),
                                m.perspective = M ? 1 / (0 > M ? -M : M) : 0,
                                m.x = I,
                                m.y = K,
                                m.z = L,
                            m.svg && (m.x -= m.xOrigin - (m.xOrigin * x - m.yOrigin * B),
                                m.y -= m.yOrigin - (m.yOrigin * y - m.xOrigin * C))
                        } else if (!Ca || e || !f.length || m.x !== f[4] || m.y !== f[5] || !m.rotationX && !m.rotationY) {
                            var O = f.length >= 6
                                , P = O ? f[0] : 1
                                , Q = f[1] || 0
                                , R = f[2] || 0
                                , S = O ? f[3] : 1;
                            m.x = f[4] || 0,
                                m.y = f[5] || 0,
                                i = Math.sqrt(P * P + Q * Q),
                                j = Math.sqrt(S * S + R * R),
                                k = P || Q ? Math.atan2(Q, P) * J : m.rotation || 0,
                                l = R || S ? Math.atan2(R, S) * J + k : m.skewX || 0,
                            Math.abs(l) > 90 && Math.abs(l) < 270 && (n ? (i *= -1,
                                l += 0 >= k ? 180 : -180,
                                k += 0 >= k ? 180 : -180) : (j *= -1,
                                l += 0 >= l ? 180 : -180)),
                                m.scaleX = i,
                                m.scaleY = j,
                                m.rotation = k,
                                m.skewX = l,
                            Ca && (m.rotationX = m.rotationY = m.z = 0,
                                m.perspective = r,
                                m.scaleZ = 1),
                            m.svg && (m.x -= m.xOrigin - (m.xOrigin * P + m.yOrigin * R),
                                m.y -= m.yOrigin - (m.xOrigin * Q + m.yOrigin * S))
                        }
                        m.zOrigin = q;
                        for (h in m)
                            m[h] < o && m[h] > -o && (m[h] = 0)
                    }
                    return d && (a._gsTransform = m,
                    m.svg && (xa && a.style[za] ? b.delayedCall(.001, function() {
                        Ra(a.style, za)
                    }) : !xa && a.getAttribute("transform") && b.delayedCall(.001, function() {
                        a.removeAttribute("transform")
                    }))),
                        m
                }
                , Oa = function(a) {
                    var b, c, d = this.data, e = -d.rotation * I, f = e + d.skewX * I, g = 1e5, h = (Math.cos(e) * d.scaleX * g | 0) / g, i = (Math.sin(e) * d.scaleX * g | 0) / g, j = (Math.sin(f) * -d.scaleY * g | 0) / g, k = (Math.cos(f) * d.scaleY * g | 0) / g, l = this.t.style, m = this.t.currentStyle;
                    if (m) {
                        c = i,
                            i = -j,
                            j = -c,
                            b = m.filter,
                            l.filter = "";
                        var n, o, q = this.t.offsetWidth, r = this.t.offsetHeight, s = "absolute" !== m.position, t = "progid:DXImageTransform.Microsoft.Matrix(M11=" + h + ", M12=" + i + ", M21=" + j + ", M22=" + k, w = d.x + q * d.xPercent / 100, x = d.y + r * d.yPercent / 100;
                        if (null  != d.ox && (n = (d.oxp ? q * d.ox * .01 : d.ox) - q / 2,
                                o = (d.oyp ? r * d.oy * .01 : d.oy) - r / 2,
                                w += n - (n * h + o * i),
                                x += o - (n * j + o * k)),
                                s ? (n = q / 2,
                                    o = r / 2,
                                    t += ", Dx=" + (n - (n * h + o * i) + w) + ", Dy=" + (o - (n * j + o * k) + x) + ")") : t += ", sizingMethod='auto expand')",
                                -1 !== b.indexOf("DXImageTransform.Microsoft.Matrix(") ? l.filter = b.replace(F, t) : l.filter = t + " " + b,
                            (0 === a || 1 === a) && 1 === h && 0 === i && 0 === j && 1 === k && (s && -1 === t.indexOf("Dx=0, Dy=0") || v.test(b) && 100 !== parseFloat(RegExp.$1) || -1 === b.indexOf(b.indexOf("Alpha")) && l.removeAttribute("filter")),
                                !s) {
                            var y, z, A, B = 8 > p ? 1 : -1;
                            for (n = d.ieOffsetX || 0,
                                     o = d.ieOffsetY || 0,
                                     d.ieOffsetX = Math.round((q - ((0 > h ? -h : h) * q + (0 > i ? -i : i) * r)) / 2 + w),
                                     d.ieOffsetY = Math.round((r - ((0 > k ? -k : k) * r + (0 > j ? -j : j) * q)) / 2 + x),
                                     ta = 0; 4 > ta; ta++)
                                z = ca[ta],
                                    y = m[z],
                                    c = -1 !== y.indexOf("px") ? parseFloat(y) : Z(this.t, z, parseFloat(y), y.replace(u, "")) || 0,
                                    A = c !== d[z] ? 2 > ta ? -d.ieOffsetX : -d.ieOffsetY : 2 > ta ? n - d.ieOffsetX : o - d.ieOffsetY,
                                    l[z] = (d[z] = Math.round(c - A * (0 === ta || 2 === ta ? 1 : B))) + "px"
                        }
                    }
                }
                , Pa = P.set3DTransformRatio = P.setTransformRatio = function(a) {
                    var b, c, d, e, f, g, h, i, j, k, l, m, o, p, q, r, s, t, u, v, w, x, y, z = this.data, A = this.t.style, B = z.rotation, C = z.rotationX, D = z.rotationY, E = z.scaleX, F = z.scaleY, G = z.scaleZ, H = z.x, J = z.y, K = z.z, L = z.svg, M = z.perspective, N = z.force3D;
                    if (((1 === a || 0 === a) && "auto" === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !N) && !K && !M && !D && !C && 1 === G || xa && L || !Ca)
                        return void (B || z.skewX || L ? (B *= I,
                            x = z.skewX * I,
                            y = 1e5,
                            b = Math.cos(B) * E,
                            e = Math.sin(B) * E,
                            c = Math.sin(B - x) * -F,
                            f = Math.cos(B - x) * F,
                        x && "simple" === z.skewType && (s = Math.tan(x),
                            s = Math.sqrt(1 + s * s),
                            c *= s,
                            f *= s,
                        z.skewY && (b *= s,
                            e *= s)),
                        L && (H += z.xOrigin - (z.xOrigin * b + z.yOrigin * c) + z.xOffset,
                            J += z.yOrigin - (z.xOrigin * e + z.yOrigin * f) + z.yOffset,
                        xa && (z.xPercent || z.yPercent) && (p = this.t.getBBox(),
                            H += .01 * z.xPercent * p.width,
                            J += .01 * z.yPercent * p.height),
                            p = 1e-6,
                        p > H && H > -p && (H = 0),
                        p > J && J > -p && (J = 0)),
                            u = (b * y | 0) / y + "," + (e * y | 0) / y + "," + (c * y | 0) / y + "," + (f * y | 0) / y + "," + H + "," + J + ")",
                            L && xa ? this.t.setAttribute("transform", "matrix(" + u) : A[za] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + u) : A[za] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + E + ",0,0," + F + "," + H + "," + J + ")");
                    if (n && (p = 1e-4,
                        p > E && E > -p && (E = G = 2e-5),
                        p > F && F > -p && (F = G = 2e-5),
                        !M || z.z || z.rotationX || z.rotationY || (M = 0)),
                        B || z.skewX)
                        B *= I,
                            q = b = Math.cos(B),
                            r = e = Math.sin(B),
                        z.skewX && (B -= z.skewX * I,
                            q = Math.cos(B),
                            r = Math.sin(B),
                        "simple" === z.skewType && (s = Math.tan(z.skewX * I),
                            s = Math.sqrt(1 + s * s),
                            q *= s,
                            r *= s,
                        z.skewY && (b *= s,
                            e *= s))),
                            c = -r,
                            f = q;
                    else {
                        if (!(D || C || 1 !== G || M || L))
                            return void (A[za] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) translate3d(" : "translate3d(") + H + "px," + J + "px," + K + "px)" + (1 !== E || 1 !== F ? " scale(" + E + "," + F + ")" : ""));
                        b = f = 1,
                            c = e = 0
                    }
                    j = 1,
                        d = g = h = i = k = l = 0,
                        m = M ? -1 / M : 0,
                        o = z.zOrigin,
                        p = 1e-6,
                        v = ",",
                        w = "0",
                        B = D * I,
                    B && (q = Math.cos(B),
                        r = Math.sin(B),
                        h = -r,
                        k = m * -r,
                        d = b * r,
                        g = e * r,
                        j = q,
                        m *= q,
                        b *= q,
                        e *= q),
                        B = C * I,
                    B && (q = Math.cos(B),
                        r = Math.sin(B),
                        s = c * q + d * r,
                        t = f * q + g * r,
                        i = j * r,
                        l = m * r,
                        d = c * -r + d * q,
                        g = f * -r + g * q,
                        j *= q,
                        m *= q,
                        c = s,
                        f = t),
                    1 !== G && (d *= G,
                        g *= G,
                        j *= G,
                        m *= G),
                    1 !== F && (c *= F,
                        f *= F,
                        i *= F,
                        l *= F),
                    1 !== E && (b *= E,
                        e *= E,
                        h *= E,
                        k *= E),
                    (o || L) && (o && (H += d * -o,
                        J += g * -o,
                        K += j * -o + o),
                    L && (H += z.xOrigin - (z.xOrigin * b + z.yOrigin * c) + z.xOffset,
                        J += z.yOrigin - (z.xOrigin * e + z.yOrigin * f) + z.yOffset),
                    p > H && H > -p && (H = w),
                    p > J && J > -p && (J = w),
                    p > K && K > -p && (K = 0)),
                        u = z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix3d(" : "matrix3d(",
                        u += (p > b && b > -p ? w : b) + v + (p > e && e > -p ? w : e) + v + (p > h && h > -p ? w : h),
                        u += v + (p > k && k > -p ? w : k) + v + (p > c && c > -p ? w : c) + v + (p > f && f > -p ? w : f),
                        C || D || 1 !== G ? (u += v + (p > i && i > -p ? w : i) + v + (p > l && l > -p ? w : l) + v + (p > d && d > -p ? w : d),
                            u += v + (p > g && g > -p ? w : g) + v + (p > j && j > -p ? w : j) + v + (p > m && m > -p ? w : m) + v) : u += ",0,0,0,0,1,0,",
                        u += H + v + J + v + K + v + (M ? 1 + -K / M : 1) + ")",
                        A[za] = u
                }
                ;
            j = Da.prototype,
                j.x = j.y = j.z = j.skewX = j.skewY = j.rotation = j.rotationX = j.rotationY = j.zOrigin = j.xPercent = j.yPercent = j.xOffset = j.yOffset = 0,
                j.scaleX = j.scaleY = j.scaleZ = 1,
                va("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
                    parser: function(a, b, c, d, f, h, i) {
                        if (d._lastParsedTransform === i)
                            return f;
                        d._lastParsedTransform = i;
                        var j, k, l, m, n, o, p, q, r, s = a._gsTransform, t = a.style, u = 1e-6, v = ya.length, w = i, x = {}, y = "transformOrigin", z = Na(a, e, !0, i.parseTransform);
                        if (d._transform = z,
                            "string" == typeof w.transform && za)
                            k = N.style,
                                k[za] = w.transform,
                                k.display = "block",
                                k.position = "absolute",
                                L.body.appendChild(N),
                                j = Na(N, null , !1),
                            z.svg && (p = z.xOrigin,
                                q = z.yOrigin,
                                j.x -= z.xOffset,
                                j.y -= z.yOffset,
                            (w.transformOrigin || w.svgOrigin) && (l = {},
                                Ia(a, ea(w.transformOrigin), l, w.svgOrigin, w.smoothOrigin, !0),
                                p = l.xOrigin,
                                q = l.yOrigin,
                                j.x -= l.xOffset - z.xOffset,
                                j.y -= l.yOffset - z.yOffset),
                            (p || q) && (r = Ma(N, !0),
                                j.x -= p - (p * r[0] + q * r[2]),
                                j.y -= q - (p * r[1] + q * r[3]))),
                                L.body.removeChild(N),
                            j.perspective || (j.perspective = z.perspective),
                            null  != w.xPercent && (j.xPercent = ga(w.xPercent, z.xPercent)),
                            null  != w.yPercent && (j.yPercent = ga(w.yPercent, z.yPercent));
                        else if ("object" == typeof w) {
                            if (j = {
                                    scaleX: ga(null  != w.scaleX ? w.scaleX : w.scale, z.scaleX),
                                    scaleY: ga(null  != w.scaleY ? w.scaleY : w.scale, z.scaleY),
                                    scaleZ: ga(w.scaleZ, z.scaleZ),
                                    x: ga(w.x, z.x),
                                    y: ga(w.y, z.y),
                                    z: ga(w.z, z.z),
                                    xPercent: ga(w.xPercent, z.xPercent),
                                    yPercent: ga(w.yPercent, z.yPercent),
                                    perspective: ga(w.transformPerspective, z.perspective)
                                },
                                    o = w.directionalRotation,
                                null  != o)
                                if ("object" == typeof o)
                                    for (k in o)
                                        w[k] = o[k];
                                else
                                    w.rotation = o;
                            "string" == typeof w.x && -1 !== w.x.indexOf("%") && (j.x = 0,
                                j.xPercent = ga(w.x, z.xPercent)),
                            "string" == typeof w.y && -1 !== w.y.indexOf("%") && (j.y = 0,
                                j.yPercent = ga(w.y, z.yPercent)),
                                j.rotation = ha("rotation" in w ? w.rotation : "shortRotation" in w ? w.shortRotation + "_short" : "rotationZ" in w ? w.rotationZ : z.rotation - z.skewY, z.rotation - z.skewY, "rotation", x),
                            Ca && (j.rotationX = ha("rotationX" in w ? w.rotationX : "shortRotationX" in w ? w.shortRotationX + "_short" : z.rotationX || 0, z.rotationX, "rotationX", x),
                                j.rotationY = ha("rotationY" in w ? w.rotationY : "shortRotationY" in w ? w.shortRotationY + "_short" : z.rotationY || 0, z.rotationY, "rotationY", x)),
                                j.skewX = ha(w.skewX, z.skewX - z.skewY),
                            (j.skewY = ha(w.skewY, z.skewY)) && (j.skewX += j.skewY,
                                j.rotation += j.skewY)
                        }
                        for (Ca && null  != w.force3D && (z.force3D = w.force3D,
                            n = !0),
                                 z.skewType = w.skewType || z.skewType || g.defaultSkewType,
                                 m = z.force3D || z.z || z.rotationX || z.rotationY || j.z || j.rotationX || j.rotationY || j.perspective,
                             m || null  == w.scale || (j.scaleZ = 1); --v > -1; )
                            c = ya[v],
                                l = j[c] - z[c],
                            (l > u || -u > l || null  != w[c] || null  != K[c]) && (n = !0,
                                f = new qa(z,c,z[c],l,f),
                            c in x && (f.e = x[c]),
                                f.xs0 = 0,
                                f.plugin = h,
                                d._overwriteProps.push(f.n));
                        return l = w.transformOrigin,
                        z.svg && (l || w.svgOrigin) && (p = z.xOffset,
                            q = z.yOffset,
                            Ia(a, ea(l), j, w.svgOrigin, w.smoothOrigin),
                            f = ra(z, "xOrigin", (s ? z : j).xOrigin, j.xOrigin, f, y),
                            f = ra(z, "yOrigin", (s ? z : j).yOrigin, j.yOrigin, f, y),
                        (p !== z.xOffset || q !== z.yOffset) && (f = ra(z, "xOffset", s ? p : z.xOffset, z.xOffset, f, y),
                            f = ra(z, "yOffset", s ? q : z.yOffset, z.yOffset, f, y)),
                            l = xa ? null  : "0px 0px"),
                        (l || Ca && m && z.zOrigin) && (za ? (n = !0,
                            c = Ba,
                            l = (l || Y(a, c, e, !1, "50% 50%")) + "",
                            f = new qa(t,c,0,0,f,-1,y),
                            f.b = t[c],
                            f.plugin = h,
                            Ca ? (k = z.zOrigin,
                                l = l.split(" "),
                                z.zOrigin = (l.length > 2 && (0 === k || "0px" !== l[2]) ? parseFloat(l[2]) : k) || 0,
                                f.xs0 = f.e = l[0] + " " + (l[1] || "50%") + " 0px",
                                f = new qa(z,"zOrigin",0,0,f,-1,f.n),
                                f.b = k,
                                f.xs0 = f.e = z.zOrigin) : f.xs0 = f.e = l) : ea(l + "", z)),
                        n && (d._transformType = z.svg && xa || !m && 3 !== this._transformType ? 2 : 3),
                            f
                    },
                    prefix: !0
                }),
                va("boxShadow", {
                    defaultValue: "0px 0px 0px 0px #999",
                    prefix: !0,
                    color: !0,
                    multi: !0,
                    keyword: "inset"
                }),
                va("borderRadius", {
                    defaultValue: "0px",
                    parser: function(a, b, c, f, g, h) {
                        b = this.format(b);
                        var i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], z = a.style;
                        for (q = parseFloat(a.offsetWidth),
                                 r = parseFloat(a.offsetHeight),
                                 i = b.split(" "),
                                 j = 0; j < y.length; j++)
                            this.p.indexOf("border") && (y[j] = W(y[j])),
                                m = l = Y(a, y[j], e, !1, "0px"),
                            -1 !== m.indexOf(" ") && (l = m.split(" "),
                                m = l[0],
                                l = l[1]),
                                n = k = i[j],
                                o = parseFloat(m),
                                t = m.substr((o + "").length),
                                u = "=" === n.charAt(1),
                                u ? (p = parseInt(n.charAt(0) + "1", 10),
                                    n = n.substr(2),
                                    p *= parseFloat(n),
                                    s = n.substr((p + "").length - (0 > p ? 1 : 0)) || "") : (p = parseFloat(n),
                                    s = n.substr((p + "").length)),
                            "" === s && (s = d[c] || t),
                            s !== t && (v = Z(a, "borderLeft", o, t),
                                w = Z(a, "borderTop", o, t),
                                "%" === s ? (m = v / q * 100 + "%",
                                    l = w / r * 100 + "%") : "em" === s ? (x = Z(a, "borderLeft", 1, "em"),
                                    m = v / x + "em",
                                    l = w / x + "em") : (m = v + "px",
                                    l = w + "px"),
                            u && (n = parseFloat(m) + p + s,
                                k = parseFloat(l) + p + s)),
                                g = sa(z, y[j], m + " " + l, n + " " + k, !1, "0px", g);
                        return g
                    },
                    prefix: !0,
                    formatter: na("0px 0px 0px 0px", !1, !0)
                }),
                va("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
                    defaultValue: "0px",
                    parser: function(a, b, c, d, f, g) {
                        return sa(a.style, c, this.format(Y(a, c, e, !1, "0px 0px")), this.format(b), !1, "0px", f)
                    },
                    prefix: !0,
                    formatter: na("0px 0px", !1, !0)
                }),
                va("backgroundPosition", {
                    defaultValue: "0 0",
                    parser: function(a, b, c, d, f, g) {
                        var h, i, j, k, l, m, n = "background-position", o = e || X(a, null ), q = this.format((o ? p ? o.getPropertyValue(n + "-x") + " " + o.getPropertyValue(n + "-y") : o.getPropertyValue(n) : a.currentStyle.backgroundPositionX + " " + a.currentStyle.backgroundPositionY) || "0 0"), r = this.format(b);
                        if (-1 !== q.indexOf("%") != (-1 !== r.indexOf("%")) && r.split(",").length < 2 && (m = Y(a, "backgroundImage").replace(B, ""),
                            m && "none" !== m)) {
                            for (h = q.split(" "),
                                     i = r.split(" "),
                                     O.setAttribute("src", m),
                                     j = 2; --j > -1; )
                                q = h[j],
                                    k = -1 !== q.indexOf("%"),
                                k !== (-1 !== i[j].indexOf("%")) && (l = 0 === j ? a.offsetWidth - O.width : a.offsetHeight - O.height,
                                    h[j] = k ? parseFloat(q) / 100 * l + "px" : parseFloat(q) / l * 100 + "%");
                            q = h.join(" ")
                        }
                        return this.parseComplex(a.style, q, r, f, g)
                    },
                    formatter: ea
                }),
                va("backgroundSize", {
                    defaultValue: "0 0",
                    formatter: ea
                }),
                va("perspective", {
                    defaultValue: "0px",
                    prefix: !0
                }),
                va("perspectiveOrigin", {
                    defaultValue: "50% 50%",
                    prefix: !0
                }),
                va("transformStyle", {
                    prefix: !0
                }),
                va("backfaceVisibility", {
                    prefix: !0
                }),
                va("userSelect", {
                    prefix: !0
                }),
                va("margin", {
                    parser: oa("marginTop,marginRight,marginBottom,marginLeft")
                }),
                va("padding", {
                    parser: oa("paddingTop,paddingRight,paddingBottom,paddingLeft")
                }),
                va("clip", {
                    defaultValue: "rect(0px,0px,0px,0px)",
                    parser: function(a, b, c, d, f, g) {
                        var h, i, j;
                        return 9 > p ? (i = a.currentStyle,
                            j = 8 > p ? " " : ",",
                            h = "rect(" + i.clipTop + j + i.clipRight + j + i.clipBottom + j + i.clipLeft + ")",
                            b = this.format(b).split(",").join(j)) : (h = this.format(Y(a, this.p, e, !1, this.dflt)),
                            b = this.format(b)),
                            this.parseComplex(a.style, h, b, f, g)
                    }
                }),
                va("textShadow", {
                    defaultValue: "0px 0px 0px #999",
                    color: !0,
                    multi: !0
                }),
                va("autoRound,strictUnits", {
                    parser: function(a, b, c, d, e) {
                        return e
                    }
                }),
                va("border", {
                    defaultValue: "0px solid #000",
                    parser: function(a, b, c, d, f, g) {
                        var h = Y(a, "borderTopWidth", e, !1, "0px")
                            , i = this.format(b).split(" ")
                            , j = i[0].replace(u, "");
                        return "px" !== j && (h = parseFloat(h) / Z(a, "borderTopWidth", 1, j) + j),
                            this.parseComplex(a.style, this.format(h + " " + Y(a, "borderTopStyle", e, !1, "solid") + " " + Y(a, "borderTopColor", e, !1, "#000")), i.join(" "), f, g)
                    },
                    color: !0,
                    formatter: function(a) {
                        var b = a.split(" ");
                        return b[0] + " " + (b[1] || "solid") + " " + (a.match(ma) || ["#000"])[0]
                    }
                }),
                va("borderWidth", {
                    parser: oa("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
                }),
                va("float,cssFloat,styleFloat", {
                    parser: function(a, b, c, d, e, f) {
                        var g = a.style
                            , h = "cssFloat" in g ? "cssFloat" : "styleFloat";
                        return new qa(g,h,0,0,e,-1,c,!1,0,g[h],b)
                    }
                });
            var Qa = function(a) {
                    var b, c = this.t, d = c.filter || Y(this.data, "filter") || "", e = this.s + this.c * a | 0;
                    100 === e && (-1 === d.indexOf("atrix(") && -1 === d.indexOf("radient(") && -1 === d.indexOf("oader(") ? (c.removeAttribute("filter"),
                        b = !Y(this.data, "filter")) : (c.filter = d.replace(x, ""),
                        b = !0)),
                    b || (this.xn1 && (c.filter = d = d || "alpha(opacity=" + e + ")"),
                        -1 === d.indexOf("pacity") ? 0 === e && this.xn1 || (c.filter = d + " alpha(opacity=" + e + ")") : c.filter = d.replace(v, "opacity=" + e))
                }
                ;
            va("opacity,alpha,autoAlpha", {
                defaultValue: "1",
                parser: function(a, b, c, d, f, g) {
                    var h = parseFloat(Y(a, "opacity", e, !1, "1"))
                        , i = a.style
                        , j = "autoAlpha" === c;
                    return "string" == typeof b && "=" === b.charAt(1) && (b = ("-" === b.charAt(0) ? -1 : 1) * parseFloat(b.substr(2)) + h),
                    j && 1 === h && "hidden" === Y(a, "visibility", e) && 0 !== b && (h = 0),
                        R ? f = new qa(i,"opacity",h,b - h,f) : (f = new qa(i,"opacity",100 * h,100 * (b - h),f),
                            f.xn1 = j ? 1 : 0,
                            i.zoom = 1,
                            f.type = 2,
                            f.b = "alpha(opacity=" + f.s + ")",
                            f.e = "alpha(opacity=" + (f.s + f.c) + ")",
                            f.data = a,
                            f.plugin = g,
                            f.setRatio = Qa),
                    j && (f = new qa(i,"visibility",0,0,f,-1,null ,!1,0,0 !== h ? "inherit" : "hidden",0 === b ? "hidden" : "inherit"),
                        f.xs0 = "inherit",
                        d._overwriteProps.push(f.n),
                        d._overwriteProps.push(c)),
                        f
                }
            });
            var Ra = function(a, b) {
                    b && (a.removeProperty ? (("ms" === b.substr(0, 2) || "webkit" === b.substr(0, 6)) && (b = "-" + b),
                        a.removeProperty(b.replace(z, "-$1").toLowerCase())) : a.removeAttribute(b))
                }
                , Sa = function(a) {
                    if (this.t._gsClassPT = this,
                        1 === a || 0 === a) {
                        this.t.setAttribute("class", 0 === a ? this.b : this.e);
                        for (var b = this.data, c = this.t.style; b; )
                            b.v ? c[b.p] = b.v : Ra(c, b.p),
                                b = b._next;
                        1 === a && this.t._gsClassPT === this && (this.t._gsClassPT = null )
                    } else
                        this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
                }
                ;
            va("className", {
                parser: function(a, b, d, f, g, h, i) {
                    var j, k, l, m, n, o = a.getAttribute("class") || "", p = a.style.cssText;
                    if (g = f._classNamePT = new qa(a,d,0,0,g,2),
                            g.setRatio = Sa,
                            g.pr = -11,
                            c = !0,
                            g.b = o,
                            k = _(a, e),
                            l = a._gsClassPT) {
                        for (m = {},
                                 n = l.data; n; )
                            m[n.p] = 1,
                                n = n._next;
                        l.setRatio(1)
                    }
                    return a._gsClassPT = g,
                        g.e = "=" !== b.charAt(1) ? b : o.replace(new RegExp("(?:\\s|^)" + b.substr(2) + "(?![\\w-])"), "") + ("+" === b.charAt(0) ? " " + b.substr(2) : ""),
                        a.setAttribute("class", g.e),
                        j = aa(a, k, _(a), i, m),
                        a.setAttribute("class", o),
                        g.data = j.firstMPT,
                        a.style.cssText = p,
                        g = g.xfirst = f.parse(a, j.difs, g, h)
                }
            });
            var Ta = function(a) {
                    if ((1 === a || 0 === a) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                        var b, c, d, e, f, g = this.t.style, h = i.transform.parse;
                        if ("all" === this.e)
                            g.cssText = "",
                                e = !0;
                        else
                            for (b = this.e.split(" ").join("").split(","),
                                     d = b.length; --d > -1; )
                                c = b[d],
                                i[c] && (i[c].parse === h ? e = !0 : c = "transformOrigin" === c ? Ba : i[c].p),
                                    Ra(g, c);
                        e && (Ra(g, za),
                            f = this.t._gsTransform,
                        f && (f.svg && (this.t.removeAttribute("data-svg-origin"),
                            this.t.removeAttribute("transform")),
                            delete this.t._gsTransform))
                    }
                }
                ;
            for (va("clearProps", {
                parser: function(a, b, d, e, f) {
                    return f = new qa(a,d,0,0,f,2),
                        f.setRatio = Ta,
                        f.e = b,
                        f.pr = -10,
                        f.data = e._tween,
                        c = !0,
                        f
                }
            }),
                     j = "bezier,throwProps,physicsProps,physics2D".split(","),
                     ta = j.length; ta--; )
                wa(j[ta]);
            j = g.prototype,
                j._firstPT = j._lastParsedTransform = j._transform = null ,
                j._onInitTween = function(a, b, h) {
                    if (!a.nodeType)
                        return !1;
                    this._target = a,
                        this._tween = h,
                        this._vars = b,
                        k = b.autoRound,
                        c = !1,
                        d = b.suffixMap || g.suffixMap,
                        e = X(a, ""),
                        f = this._overwriteProps;
                    var j, n, p, q, r, s, t, u, v, x = a.style;
                    if (l && "" === x.zIndex && (j = Y(a, "zIndex", e),
                        ("auto" === j || "" === j) && this._addLazySet(x, "zIndex", 0)),
                        "string" == typeof b && (q = x.cssText,
                            j = _(a, e),
                            x.cssText = q + ";" + b,
                            j = aa(a, j, _(a)).difs,
                        !R && w.test(b) && (j.opacity = parseFloat(RegExp.$1)),
                            b = j,
                            x.cssText = q),
                            b.className ? this._firstPT = n = i.className.parse(a, b.className, "className", this, null , null , b) : this._firstPT = n = this.parse(a, b, null ),
                            this._transformType) {
                        for (v = 3 === this._transformType,
                                 za ? m && (l = !0,
                                 "" === x.zIndex && (t = Y(a, "zIndex", e),
                                 ("auto" === t || "" === t) && this._addLazySet(x, "zIndex", 0)),
                                 o && this._addLazySet(x, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (v ? "visible" : "hidden"))) : x.zoom = 1,
                                 p = n; p && p._next; )
                            p = p._next;
                        u = new qa(a,"transform",0,0,null ,2),
                            this._linkCSSP(u, null , p),
                            u.setRatio = za ? Pa : Oa,
                            u.data = this._transform || Na(a, e, !0),
                            u.tween = h,
                            u.pr = -1,
                            f.pop()
                    }
                    if (c) {
                        for (; n; ) {
                            for (s = n._next,
                                     p = q; p && p.pr > n.pr; )
                                p = p._next;
                            (n._prev = p ? p._prev : r) ? n._prev._next = n : q = n,
                                (n._next = p) ? p._prev = n : r = n,
                                n = s
                        }
                        this._firstPT = q
                    }
                    return !0
                }
                ,
                j.parse = function(a, b, c, f) {
                    var g, h, j, l, m, n, o, p, q, r, s = a.style;
                    for (g in b)
                        n = b[g],
                            h = i[g],
                            h ? c = h.parse(a, n, g, this, c, f, b) : (m = Y(a, g, e) + "",
                                q = "string" == typeof n,
                                "color" === g || "fill" === g || "stroke" === g || -1 !== g.indexOf("Color") || q && y.test(n) ? (q || (n = ka(n),
                                    n = (n.length > 3 ? "rgba(" : "rgb(") + n.join(",") + ")"),
                                    c = sa(s, g, m, n, !0, "transparent", c, 0, f)) : q && H.test(n) ? c = sa(s, g, m, n, !0, null , c, 0, f) : (j = parseFloat(m),
                                    o = j || 0 === j ? m.substr((j + "").length) : "",
                                ("" === m || "auto" === m) && ("width" === g || "height" === g ? (j = da(a, g, e),
                                    o = "px") : "left" === g || "top" === g ? (j = $(a, g, e),
                                    o = "px") : (j = "opacity" !== g ? 0 : 1,
                                    o = "")),
                                    r = q && "=" === n.charAt(1),
                                    r ? (l = parseInt(n.charAt(0) + "1", 10),
                                        n = n.substr(2),
                                        l *= parseFloat(n),
                                        p = n.replace(u, "")) : (l = parseFloat(n),
                                        p = q ? n.replace(u, "") : ""),
                                "" === p && (p = g in d ? d[g] : o),
                                    n = l || 0 === l ? (r ? l + j : l) + p : b[g],
                                o !== p && "" !== p && (l || 0 === l) && j && (j = Z(a, g, j, o),
                                    "%" === p ? (j /= Z(a, g, 100, "%") / 100,
                                    b.strictUnits !== !0 && (m = j + "%")) : "em" === p || "rem" === p || "vw" === p || "vh" === p ? j /= Z(a, g, 1, p) : "px" !== p && (l = Z(a, g, l, p),
                                        p = "px"),
                                r && (l || 0 === l) && (n = l + j + p)),
                                r && (l += j),
                                    !j && 0 !== j || !l && 0 !== l ? void 0 !== s[g] && (n || n + "" != "NaN" && null  != n) ? (c = new qa(s,g,l || j || 0,0,c,-1,g,!1,0,m,n),
                                        c.xs0 = "none" !== n || "display" !== g && -1 === g.indexOf("Style") ? n : m) : T("invalid " + g + " tween value: " + b[g]) : (c = new qa(s,g,j,l - j,c,0,g,k !== !1 && ("px" === p || "zIndex" === g),0,m,n),
                                        c.xs0 = p))),
                        f && c && !c.plugin && (c.plugin = f);
                    return c
                }
                ,
                j.setRatio = function(a) {
                    var b, c, d, e = this._firstPT, f = 1e-6;
                    if (1 !== a || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                        if (a || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                            for (; e; ) {
                                if (b = e.c * a + e.s,
                                        e.r ? b = Math.round(b) : f > b && b > -f && (b = 0),
                                        e.type)
                                    if (1 === e.type)
                                        if (d = e.l,
                                            2 === d)
                                            e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2;
                                        else if (3 === d)
                                            e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3;
                                        else if (4 === d)
                                            e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4;
                                        else if (5 === d)
                                            e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4 + e.xn4 + e.xs5;
                                        else {
                                            for (c = e.xs0 + b + e.xs1,
                                                     d = 1; d < e.l; d++)
                                                c += e["xn" + d] + e["xs" + (d + 1)];
                                            e.t[e.p] = c
                                        }
                                    else
                                        -1 === e.type ? e.t[e.p] = e.xs0 : e.setRatio && e.setRatio(a);
                                else
                                    e.t[e.p] = b + e.xs0;
                                e = e._next
                            }
                        else
                            for (; e; )
                                2 !== e.type ? e.t[e.p] = e.b : e.setRatio(a),
                                    e = e._next;
                    else
                        for (; e; ) {
                            if (2 !== e.type)
                                if (e.r && -1 !== e.type)
                                    if (b = Math.round(e.s + e.c),
                                            e.type) {
                                        if (1 === e.type) {
                                            for (d = e.l,
                                                     c = e.xs0 + b + e.xs1,
                                                     d = 1; d < e.l; d++)
                                                c += e["xn" + d] + e["xs" + (d + 1)];
                                            e.t[e.p] = c
                                        }
                                    } else
                                        e.t[e.p] = b + e.xs0;
                                else
                                    e.t[e.p] = e.e;
                            else
                                e.setRatio(a);
                            e = e._next
                        }
                }
                ,
                j._enableTransforms = function(a) {
                    this._transform = this._transform || Na(this._target, e, !0),
                        this._transformType = this._transform.svg && xa || !a && 3 !== this._transformType ? 2 : 3
                }
            ;
            var Ua = function(a) {
                    this.t[this.p] = this.e,
                        this.data._linkCSSP(this, this._next, null , !0)
                }
                ;
            j._addLazySet = function(a, b, c) {
                var d = this._firstPT = new qa(a,b,0,0,this._firstPT,2);
                d.e = c,
                    d.setRatio = Ua,
                    d.data = this
            }
                ,
                j._linkCSSP = function(a, b, c, d) {
                    return a && (b && (b._prev = a),
                    a._next && (a._next._prev = a._prev),
                        a._prev ? a._prev._next = a._next : this._firstPT === a && (this._firstPT = a._next,
                            d = !0),
                        c ? c._next = a : d || null  !== this._firstPT || (this._firstPT = a),
                        a._next = b,
                        a._prev = c),
                        a
                }
                ,
                j._kill = function(b) {
                    var c, d, e, f = b;
                    if (b.autoAlpha || b.alpha) {
                        f = {};
                        for (d in b)
                            f[d] = b[d];
                        f.opacity = 1,
                        f.autoAlpha && (f.visibility = 1)
                    }
                    return b.className && (c = this._classNamePT) && (e = c.xfirst,
                        e && e._prev ? this._linkCSSP(e._prev, c._next, e._prev._prev) : e === this._firstPT && (this._firstPT = c._next),
                    c._next && this._linkCSSP(c._next, c._next._next, e._prev),
                        this._classNamePT = null ),
                        a.prototype._kill.call(this, f)
                }
            ;
            var Va = function(a, b, c) {
                    var d, e, f, g;
                    if (a.slice)
                        for (e = a.length; --e > -1; )
                            Va(a[e], b, c);
                    else
                        for (d = a.childNodes,
                                 e = d.length; --e > -1; )
                            f = d[e],
                                g = f.type,
                            f.style && (b.push(_(f)),
                            c && c.push(f)),
                            1 !== g && 9 !== g && 11 !== g || !f.childNodes.length || Va(f, b, c)
                }
                ;
            return g.cascadeTo = function(a, c, d) {
                var e, f, g, h, i = b.to(a, c, d), j = [i], k = [], l = [], m = [], n = b._internals.reservedProps;
                for (a = i._targets || i.target,
                         Va(a, k, m),
                         i.render(c, !0, !0),
                         Va(a, l),
                         i.render(0, !0, !0),
                         i._enabled(!0),
                         e = m.length; --e > -1; )
                    if (f = aa(m[e], k[e], l[e]),
                            f.firstMPT) {
                        f = f.difs;
                        for (g in d)
                            n[g] && (f[g] = d[g]);
                        h = {};
                        for (g in f)
                            h[g] = k[e][g];
                        j.push(b.fromTo(m[e], c, h, f))
                    }
                return j
            }
                ,
                a.activate([g]),
                g
        }, !0),
        function() {
            var a = _gsScope._gsDefine.plugin({
                propName: "roundProps",
                version: "1.5",
                priority: -1,
                API: 2,
                init: function(a, b, c) {
                    return this._tween = c,
                        !0
                }
            })
                , b = function(a) {
                for (; a; )
                    a.f || a.blob || (a.r = 1),
                        a = a._next
            }
                , c = a.prototype;
            c._onInitAllProps = function() {
                for (var a, c, d, e = this._tween, f = e.vars.roundProps.join ? e.vars.roundProps : e.vars.roundProps.split(","), g = f.length, h = {}, i = e._propLookup.roundProps; --g > -1; )
                    h[f[g]] = 1;
                for (g = f.length; --g > -1; )
                    for (a = f[g],
                             c = e._firstPT; c; )
                        d = c._next,
                            c.pg ? c.t._roundProps(h, !0) : c.n === a && (2 === c.f && c.t ? b(c.t._firstPT) : (this._add(c.t, a, c.s, c.c),
                            d && (d._prev = c._prev),
                                c._prev ? c._prev._next = d : e._firstPT === c && (e._firstPT = d),
                                c._next = c._prev = null ,
                                e._propLookup[a] = i)),
                            c = d;
                return !1
            }
                ,
                c._add = function(a, b, c, d) {
                    this._addTween(a, b, c, c + d, b, !0),
                        this._overwriteProps.push(b)
                }
        }(),
        function() {
            _gsScope._gsDefine.plugin({
                propName: "attr",
                API: 2,
                version: "0.5.0",
                init: function(a, b, c) {
                    var d;
                    if ("function" != typeof a.setAttribute)
                        return !1;
                    for (d in b)
                        this._addTween(a, "setAttribute", a.getAttribute(d) + "", b[d] + "", d, !1, d),
                            this._overwriteProps.push(d);
                    return !0
                }
            })
        }(),
        _gsScope._gsDefine.plugin({
            propName: "directionalRotation",
            version: "0.2.1",
            API: 2,
            init: function(a, b, c) {
                "object" != typeof b && (b = {
                    rotation: b
                }),
                    this.finals = {};
                var d, e, f, g, h, i, j = b.useRadians === !0 ? 2 * Math.PI : 360, k = 1e-6;
                for (d in b)
                    "useRadians" !== d && (i = (b[d] + "").split("_"),
                        e = i[0],
                        f = parseFloat("function" != typeof a[d] ? a[d] : a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)]()),
                        g = this.finals[d] = "string" == typeof e && "=" === e.charAt(1) ? f + parseInt(e.charAt(0) + "1", 10) * Number(e.substr(2)) : Number(e) || 0,
                        h = g - f,
                    i.length && (e = i.join("_"),
                    -1 !== e.indexOf("short") && (h %= j,
                    h !== h % (j / 2) && (h = 0 > h ? h + j : h - j)),
                        -1 !== e.indexOf("_cw") && 0 > h ? h = (h + 9999999999 * j) % j - (h / j | 0) * j : -1 !== e.indexOf("ccw") && h > 0 && (h = (h - 9999999999 * j) % j - (h / j | 0) * j)),
                    (h > k || -k > h) && (this._addTween(a, d, f, f + h, d),
                        this._overwriteProps.push(d)));
                return !0
            },
            set: function(a) {
                var b;
                if (1 !== a)
                    this._super.setRatio.call(this, a);
                else
                    for (b = this._firstPT; b; )
                        b.f ? b.t[b.p](this.finals[b.p]) : b.t[b.p] = this.finals[b.p],
                            b = b._next
            }
        })._autoCSS = !0,
        _gsScope._gsDefine("easing.Back", ["easing.Ease"], function(a) {
            var b, c, d, e = _gsScope.GreenSockGlobals || _gsScope, f = e.com.greensock, g = 2 * Math.PI, h = Math.PI / 2, i = f._class, j = function(b, c) {
                var d = i("easing." + b, function() {}, !0)
                    , e = d.prototype = new a;
                return e.constructor = d,
                    e.getRatio = c,
                    d
            }
                , k = a.register || function() {}
                , l = function(a, b, c, d, e) {
                var f = i("easing." + a, {
                    easeOut: new b,
                    easeIn: new c,
                    easeInOut: new d
                }, !0);
                return k(f, a),
                    f
            }
                , m = function(a, b, c) {
                this.t = a,
                    this.v = b,
                c && (this.next = c,
                    c.prev = this,
                    this.c = c.v - b,
                    this.gap = c.t - a)
            }
                , n = function(b, c) {
                var d = i("easing." + b, function(a) {
                    this._p1 = a || 0 === a ? a : 1.70158,
                        this._p2 = 1.525 * this._p1
                }, !0)
                    , e = d.prototype = new a;
                return e.constructor = d,
                    e.getRatio = c,
                    e.config = function(a) {
                        return new d(a)
                    }
                    ,
                    d
            }
                , o = l("Back", n("BackOut", function(a) {
                return (a -= 1) * a * ((this._p1 + 1) * a + this._p1) + 1
            }), n("BackIn", function(a) {
                return a * a * ((this._p1 + 1) * a - this._p1)
            }), n("BackInOut", function(a) {
                return (a *= 2) < 1 ? .5 * a * a * ((this._p2 + 1) * a - this._p2) : .5 * ((a -= 2) * a * ((this._p2 + 1) * a + this._p2) + 2)
            })), p = i("easing.SlowMo", function(a, b, c) {
                b = b || 0 === b ? b : .7,
                    null  == a ? a = .7 : a > 1 && (a = 1),
                    this._p = 1 !== a ? b : 0,
                    this._p1 = (1 - a) / 2,
                    this._p2 = a,
                    this._p3 = this._p1 + this._p2,
                    this._calcEnd = c === !0
            }, !0), q = p.prototype = new a;
            return q.constructor = p,
                q.getRatio = function(a) {
                    var b = a + (.5 - a) * this._p;
                    return a < this._p1 ? this._calcEnd ? 1 - (a = 1 - a / this._p1) * a : b - (a = 1 - a / this._p1) * a * a * a * b : a > this._p3 ? this._calcEnd ? 1 - (a = (a - this._p3) / this._p1) * a : b + (a - b) * (a = (a - this._p3) / this._p1) * a * a * a : this._calcEnd ? 1 : b
                }
                ,
                p.ease = new p(.7,.7),
                q.config = p.config = function(a, b, c) {
                    return new p(a,b,c)
                }
                ,
                b = i("easing.SteppedEase", function(a) {
                    a = a || 1,
                        this._p1 = 1 / a,
                        this._p2 = a + 1
                }, !0),
                q = b.prototype = new a,
                q.constructor = b,
                q.getRatio = function(a) {
                    return 0 > a ? a = 0 : a >= 1 && (a = .999999999),
                    (this._p2 * a >> 0) * this._p1
                }
                ,
                q.config = b.config = function(a) {
                    return new b(a)
                }
                ,
                c = i("easing.RoughEase", function(b) {
                    b = b || {};
                    for (var c, d, e, f, g, h, i = b.taper || "none", j = [], k = 0, l = 0 | (b.points || 20), n = l, o = b.randomize !== !1, p = b.clamp === !0, q = b.template instanceof a ? b.template : null , r = "number" == typeof b.strength ? .4 * b.strength : .4; --n > -1; )
                        c = o ? Math.random() : 1 / l * n,
                            d = q ? q.getRatio(c) : c,
                            "none" === i ? e = r : "out" === i ? (f = 1 - c,
                                e = f * f * r) : "in" === i ? e = c * c * r : .5 > c ? (f = 2 * c,
                                e = f * f * .5 * r) : (f = 2 * (1 - c),
                                e = f * f * .5 * r),
                            o ? d += Math.random() * e - .5 * e : n % 2 ? d += .5 * e : d -= .5 * e,
                        p && (d > 1 ? d = 1 : 0 > d && (d = 0)),
                            j[k++] = {
                                x: c,
                                y: d
                            };
                    for (j.sort(function(a, b) {
                        return a.x - b.x
                    }),
                             h = new m(1,1,null ),
                             n = l; --n > -1; )
                        g = j[n],
                            h = new m(g.x,g.y,h);
                    this._prev = new m(0,0,0 !== h.t ? h : h.next)
                }, !0),
                q = c.prototype = new a,
                q.constructor = c,
                q.getRatio = function(a) {
                    var b = this._prev;
                    if (a > b.t) {
                        for (; b.next && a >= b.t; )
                            b = b.next;
                        b = b.prev
                    } else
                        for (; b.prev && a <= b.t; )
                            b = b.prev;
                    return this._prev = b,
                    b.v + (a - b.t) / b.gap * b.c
                }
                ,
                q.config = function(a) {
                    return new c(a)
                }
                ,
                c.ease = new c,
                l("Bounce", j("BounceOut", function(a) {
                    return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375
                }), j("BounceIn", function(a) {
                    return (a = 1 - a) < 1 / 2.75 ? 1 - 7.5625 * a * a : 2 / 2.75 > a ? 1 - (7.5625 * (a -= 1.5 / 2.75) * a + .75) : 2.5 / 2.75 > a ? 1 - (7.5625 * (a -= 2.25 / 2.75) * a + .9375) : 1 - (7.5625 * (a -= 2.625 / 2.75) * a + .984375)
                }), j("BounceInOut", function(a) {
                    var b = .5 > a;
                    return a = b ? 1 - 2 * a : 2 * a - 1,
                        a = 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375,
                        b ? .5 * (1 - a) : .5 * a + .5
                })),
                l("Circ", j("CircOut", function(a) {
                    return Math.sqrt(1 - (a -= 1) * a)
                }), j("CircIn", function(a) {
                    return -(Math.sqrt(1 - a * a) - 1)
                }), j("CircInOut", function(a) {
                    return (a *= 2) < 1 ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1)
                })),
                d = function(b, c, d) {
                    var e = i("easing." + b, function(a, b) {
                        this._p1 = a >= 1 ? a : 1,
                            this._p2 = (b || d) / (1 > a ? a : 1),
                            this._p3 = this._p2 / g * (Math.asin(1 / this._p1) || 0),
                            this._p2 = g / this._p2
                    }, !0)
                        , f = e.prototype = new a;
                    return f.constructor = e,
                        f.getRatio = c,
                        f.config = function(a, b) {
                            return new e(a,b)
                        }
                        ,
                        e
                }
                ,
                l("Elastic", d("ElasticOut", function(a) {
                    return this._p1 * Math.pow(2, -10 * a) * Math.sin((a - this._p3) * this._p2) + 1
                }, .3), d("ElasticIn", function(a) {
                    return -(this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2))
                }, .3), d("ElasticInOut", function(a) {
                    return (a *= 2) < 1 ? -.5 * (this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2) * .5 + 1
                }, .45)),
                l("Expo", j("ExpoOut", function(a) {
                    return 1 - Math.pow(2, -10 * a)
                }), j("ExpoIn", function(a) {
                    return Math.pow(2, 10 * (a - 1)) - .001
                }), j("ExpoInOut", function(a) {
                    return (a *= 2) < 1 ? .5 * Math.pow(2, 10 * (a - 1)) : .5 * (2 - Math.pow(2, -10 * (a - 1)))
                })),
                l("Sine", j("SineOut", function(a) {
                    return Math.sin(a * h)
                }), j("SineIn", function(a) {
                    return -Math.cos(a * h) + 1
                }), j("SineInOut", function(a) {
                    return -.5 * (Math.cos(Math.PI * a) - 1)
                })),
                i("easing.EaseLookup", {
                    find: function(b) {
                        return a.map[b]
                    }
                }, !0),
                k(e.SlowMo, "SlowMo", "ease,"),
                k(c, "RoughEase", "ease,"),
                k(b, "SteppedEase", "ease,"),
                o
        }, !0)
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function(a, b) {
        var c = {}
            , d = a.GreenSockGlobals = a.GreenSockGlobals || a;
        if (!d.TweenLite) {
            var e, f, g, h, i, j = function(a) {
                    var b, c = a.split("."), e = d;
                    for (b = 0; b < c.length; b++)
                        e[c[b]] = e = e[c[b]] || {};
                    return e
                }
                , k = j("com.greensock"), l = 1e-10, m = function(a) {
                    var b, c = [], d = a.length;
                    for (b = 0; b !== d; c.push(a[b++]))
                        ;
                    return c
                }
                , n = function() {}
                , o = function() {
                    var a = Object.prototype.toString
                        , b = a.call([]);
                    return function(c) {
                        return null  != c && (c instanceof Array || "object" == typeof c && !!c.push && a.call(c) === b)
                    }
                }(), p = {}, q = function(e, f, g, h) {
                    this.sc = p[e] ? p[e].sc : [],
                        p[e] = this,
                        this.gsClass = null ,
                        this.func = g;
                    var i = [];
                    this.check = function(k) {
                        for (var l, m, n, o, r, s = f.length, t = s; --s > -1; )
                            (l = p[f[s]] || new q(f[s],[])).gsClass ? (i[s] = l.gsClass,
                                t--) : k && l.sc.push(this);
                        if (0 === t && g) {
                            if (m = ("com.greensock." + e).split("."),
                                    n = m.pop(),
                                    o = j(m.join("."))[n] = this.gsClass = g.apply(g, i),
                                    h)
                                if (d[n] = o,
                                        r = "undefined" != typeof module && module.exports,
                                    !r && "function" == typeof define && define.amd)
                                    define((a.GreenSockAMDPath ? a.GreenSockAMDPath + "/" : "") + e.split(".").pop(), [], function() {
                                        return o
                                    });
                                else if (r)
                                    if (e === b) {
                                        module.exports = c[b] = o;
                                        for (s in c)
                                            o[s] = c[s]
                                    } else
                                        c[b] && (c[b][n] = o);
                            for (s = 0; s < this.sc.length; s++)
                                this.sc[s].check()
                        }
                    }
                        ,
                        this.check(!0)
                }
                , r = a._gsDefine = function(a, b, c, d) {
                    return new q(a,b,c,d)
                }
                , s = k._class = function(a, b, c) {
                    return b = b || function() {}
                        ,
                        r(a, [], function() {
                            return b
                        }, c),
                        b
                }
                ;
            r.globals = d;
            var t = [0, 0, 1, 1]
                , u = []
                , v = s("easing.Ease", function(a, b, c, d) {
                    this._func = a,
                        this._type = c || 0,
                        this._power = d || 0,
                        this._params = b ? t.concat(b) : t
                }, !0)
                , w = v.map = {}
                , x = v.register = function(a, b, c, d) {
                    for (var e, f, g, h, i = b.split(","), j = i.length, l = (c || "easeIn,easeOut,easeInOut").split(","); --j > -1; )
                        for (f = i[j],
                                 e = d ? s("easing." + f, null , !0) : k.easing[f] || {},
                                 g = l.length; --g > -1; )
                            h = l[g],
                                w[f + "." + h] = w[h + f] = e[h] = a.getRatio ? a : a[h] || new a
                }
                ;
            for (g = v.prototype,
                     g._calcEnd = !1,
                     g.getRatio = function(a) {
                         if (this._func)
                             return this._params[0] = a,
                                 this._func.apply(null , this._params);
                         var b = this._type
                             , c = this._power
                             , d = 1 === b ? 1 - a : 2 === b ? a : .5 > a ? 2 * a : 2 * (1 - a);
                         return 1 === c ? d *= d : 2 === c ? d *= d * d : 3 === c ? d *= d * d * d : 4 === c && (d *= d * d * d * d),
                             1 === b ? 1 - d : 2 === b ? d : .5 > a ? d / 2 : 1 - d / 2
                     }
                     ,
                     e = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"],
                     f = e.length; --f > -1; )
                g = e[f] + ",Power" + f,
                    x(new v(null ,null ,1,f), g, "easeOut", !0),
                    x(new v(null ,null ,2,f), g, "easeIn" + (0 === f ? ",easeNone" : "")),
                    x(new v(null ,null ,3,f), g, "easeInOut");
            w.linear = k.easing.Linear.easeIn,
                w.swing = k.easing.Quad.easeInOut;
            var y = s("events.EventDispatcher", function(a) {
                this._listeners = {},
                    this._eventTarget = a || this
            });
            g = y.prototype,
                g.addEventListener = function(a, b, c, d, e) {
                    e = e || 0;
                    var f, g, j = this._listeners[a], k = 0;
                    for (this !== h || i || h.wake(),
                         null  == j && (this._listeners[a] = j = []),
                             g = j.length; --g > -1; )
                        f = j[g],
                            f.c === b && f.s === c ? j.splice(g, 1) : 0 === k && f.pr < e && (k = g + 1);
                    j.splice(k, 0, {
                        c: b,
                        s: c,
                        up: d,
                        pr: e
                    })
                }
                ,
                g.removeEventListener = function(a, b) {
                    var c, d = this._listeners[a];
                    if (d)
                        for (c = d.length; --c > -1; )
                            if (d[c].c === b)
                                return void d.splice(c, 1)
                }
                ,
                g.dispatchEvent = function(a) {
                    var b, c, d, e = this._listeners[a];
                    if (e)
                        for (b = e.length,
                                 c = this._eventTarget; --b > -1; )
                            d = e[b],
                            d && (d.up ? d.c.call(d.s || c, {
                                type: a,
                                target: c
                            }) : d.c.call(d.s || c))
                }
            ;
            var z = a.requestAnimationFrame
                , A = a.cancelAnimationFrame
                , B = Date.now || function() {
                    return (new Date).getTime()
                }
                , C = B();
            for (e = ["ms", "moz", "webkit", "o"],
                     f = e.length; --f > -1 && !z; )
                z = a[e[f] + "RequestAnimationFrame"],
                    A = a[e[f] + "CancelAnimationFrame"] || a[e[f] + "CancelRequestAnimationFrame"];
            s("Ticker", function(a, b) {
                var c, d, e, f, g, j = this, k = B(), m = !(b === !1 || !z) && "auto", o = 500, p = 33, q = "tick", r = function(a) {
                        var b, h, i = B() - C;
                        i > o && (k += i - p),
                            C += i,
                            j.time = (C - k) / 1e3,
                            b = j.time - g,
                        (!c || b > 0 || a === !0) && (j.frame++,
                            g += b + (b >= f ? .004 : f - b),
                            h = !0),
                        a !== !0 && (e = d(r)),
                        h && j.dispatchEvent(q)
                    }
                    ;
                y.call(j),
                    j.time = j.frame = 0,
                    j.tick = function() {
                        r(!0)
                    }
                    ,
                    j.lagSmoothing = function(a, b) {
                        o = a || 1 / l,
                            p = Math.min(b, o, 0)
                    }
                    ,
                    j.sleep = function() {
                        null  != e && (m && A ? A(e) : clearTimeout(e),
                            d = n,
                            e = null ,
                        j === h && (i = !1))
                    }
                    ,
                    j.wake = function(a) {
                        null  !== e ? j.sleep() : a ? k += -C + (C = B()) : j.frame > 10 && (C = B() - o + 5),
                            d = 0 === c ? n : m && z ? z : function(a) {
                                return setTimeout(a, 1e3 * (g - j.time) + 1 | 0)
                            }
                            ,
                        j === h && (i = !0),
                            r(2)
                    }
                    ,
                    j.fps = function(a) {
                        return arguments.length ? (c = a,
                            f = 1 / (c || 60),
                            g = this.time + f,
                            void j.wake()) : c
                    }
                    ,
                    j.useRAF = function(a) {
                        return arguments.length ? (j.sleep(),
                            m = a,
                            void j.fps(c)) : m
                    }
                    ,
                    j.fps(a),
                    setTimeout(function() {
                        "auto" === m && j.frame < 5 && "hidden" !== document.visibilityState && j.useRAF(!1)
                    }, 1500)
            }),
                g = k.Ticker.prototype = new k.events.EventDispatcher,
                g.constructor = k.Ticker;
            var D = s("core.Animation", function(a, b) {
                if (this.vars = b = b || {},
                        this._duration = this._totalDuration = a || 0,
                        this._delay = Number(b.delay) || 0,
                        this._timeScale = 1,
                        this._active = b.immediateRender === !0,
                        this.data = b.data,
                        this._reversed = b.reversed === !0,
                        W) {
                    i || h.wake();
                    var c = this.vars.useFrames ? V : W;
                    c.add(this, c._time),
                    this.vars.paused && this.paused(!0)
                }
            });
            h = D.ticker = new k.Ticker,
                g = D.prototype,
                g._dirty = g._gc = g._initted = g._paused = !1,
                g._totalTime = g._time = 0,
                g._rawPrevTime = -1,
                g._next = g._last = g._onUpdate = g._timeline = g.timeline = null ,
                g._paused = !1;
            var E = function() {
                    i && B() - C > 2e3 && h.wake(),
                        setTimeout(E, 2e3)
                }
                ;
            E(),
                g.play = function(a, b) {
                    return null  != a && this.seek(a, b),
                        this.reversed(!1).paused(!1)
                }
                ,
                g.pause = function(a, b) {
                    return null  != a && this.seek(a, b),
                        this.paused(!0)
                }
                ,
                g.resume = function(a, b) {
                    return null  != a && this.seek(a, b),
                        this.paused(!1)
                }
                ,
                g.seek = function(a, b) {
                    return this.totalTime(Number(a), b !== !1)
                }
                ,
                g.restart = function(a, b) {
                    return this.reversed(!1).paused(!1).totalTime(a ? -this._delay : 0, b !== !1, !0)
                }
                ,
                g.reverse = function(a, b) {
                    return null  != a && this.seek(a || this.totalDuration(), b),
                        this.reversed(!0).paused(!1)
                }
                ,
                g.render = function(a, b, c) {}
                ,
                g.invalidate = function() {
                    return this._time = this._totalTime = 0,
                        this._initted = this._gc = !1,
                        this._rawPrevTime = -1,
                    (this._gc || !this.timeline) && this._enabled(!0),
                        this
                }
                ,
                g.isActive = function() {
                    var a, b = this._timeline, c = this._startTime;
                    return !b || !this._gc && !this._paused && b.isActive() && (a = b.rawTime()) >= c && a < c + this.totalDuration() / this._timeScale
                }
                ,
                g._enabled = function(a, b) {
                    return i || h.wake(),
                        this._gc = !a,
                        this._active = this.isActive(),
                    b !== !0 && (a && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !a && this.timeline && this._timeline._remove(this, !0)),
                        !1
                }
                ,
                g._kill = function(a, b) {
                    return this._enabled(!1, !1)
                }
                ,
                g.kill = function(a, b) {
                    return this._kill(a, b),
                        this
                }
                ,
                g._uncache = function(a) {
                    for (var b = a ? this : this.timeline; b; )
                        b._dirty = !0,
                            b = b.timeline;
                    return this
                }
                ,
                g._swapSelfInParams = function(a) {
                    for (var b = a.length, c = a.concat(); --b > -1; )
                        "{self}" === a[b] && (c[b] = this);
                    return c
                }
                ,
                g._callback = function(a) {
                    var b = this.vars;
                    b[a].apply(b[a + "Scope"] || b.callbackScope || this, b[a + "Params"] || u)
                }
                ,
                g.eventCallback = function(a, b, c, d) {
                    if ("on" === (a || "").substr(0, 2)) {
                        var e = this.vars;
                        if (1 === arguments.length)
                            return e[a];
                        null  == b ? delete e[a] : (e[a] = b,
                            e[a + "Params"] = o(c) && -1 !== c.join("").indexOf("{self}") ? this._swapSelfInParams(c) : c,
                            e[a + "Scope"] = d),
                        "onUpdate" === a && (this._onUpdate = b)
                    }
                    return this
                }
                ,
                g.delay = function(a) {
                    return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + a - this._delay),
                        this._delay = a,
                        this) : this._delay
                }
                ,
                g.duration = function(a) {
                    return arguments.length ? (this._duration = this._totalDuration = a,
                        this._uncache(!0),
                    this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== a && this.totalTime(this._totalTime * (a / this._duration), !0),
                        this) : (this._dirty = !1,
                        this._duration)
                }
                ,
                g.totalDuration = function(a) {
                    return this._dirty = !1,
                        arguments.length ? this.duration(a) : this._totalDuration
                }
                ,
                g.time = function(a, b) {
                    return arguments.length ? (this._dirty && this.totalDuration(),
                        this.totalTime(a > this._duration ? this._duration : a, b)) : this._time
                }
                ,
                g.totalTime = function(a, b, c) {
                    if (i || h.wake(),
                            !arguments.length)
                        return this._totalTime;
                    if (this._timeline) {
                        if (0 > a && !c && (a += this.totalDuration()),
                                this._timeline.smoothChildTiming) {
                            this._dirty && this.totalDuration();
                            var d = this._totalDuration
                                , e = this._timeline;
                            if (a > d && !c && (a = d),
                                    this._startTime = (this._paused ? this._pauseTime : e._time) - (this._reversed ? d - a : a) / this._timeScale,
                                e._dirty || this._uncache(!1),
                                    e._timeline)
                                for (; e._timeline; )
                                    e._timeline._time !== (e._startTime + e._totalTime) / e._timeScale && e.totalTime(e._totalTime, !0),
                                        e = e._timeline
                        }
                        this._gc && this._enabled(!0, !1),
                        (this._totalTime !== a || 0 === this._duration) && (J.length && Y(),
                            this.render(a, b, !1),
                        J.length && Y())
                    }
                    return this
                }
                ,
                g.progress = g.totalProgress = function(a, b) {
                    var c = this.duration();
                    return arguments.length ? this.totalTime(c * a, b) : c ? this._time / c : this.ratio
                }
                ,
                g.startTime = function(a) {
                    return arguments.length ? (a !== this._startTime && (this._startTime = a,
                    this.timeline && this.timeline._sortChildren && this.timeline.add(this, a - this._delay)),
                        this) : this._startTime
                }
                ,
                g.endTime = function(a) {
                    return this._startTime + (0 != a ? this.totalDuration() : this.duration()) / this._timeScale
                }
                ,
                g.timeScale = function(a) {
                    if (!arguments.length)
                        return this._timeScale;
                    if (a = a || l,
                        this._timeline && this._timeline.smoothChildTiming) {
                        var b = this._pauseTime
                            , c = b || 0 === b ? b : this._timeline.totalTime();
                        this._startTime = c - (c - this._startTime) * this._timeScale / a
                    }
                    return this._timeScale = a,
                        this._uncache(!1)
                }
                ,
                g.reversed = function(a) {
                    return arguments.length ? (a != this._reversed && (this._reversed = a,
                        this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)),
                        this) : this._reversed
                }
                ,
                g.paused = function(a) {
                    if (!arguments.length)
                        return this._paused;
                    var b, c, d = this._timeline;
                    return a != this._paused && d && (i || a || h.wake(),
                        b = d.rawTime(),
                        c = b - this._pauseTime,
                    !a && d.smoothChildTiming && (this._startTime += c,
                        this._uncache(!1)),
                        this._pauseTime = a ? b : null ,
                        this._paused = a,
                        this._active = this.isActive(),
                    !a && 0 !== c && this._initted && this.duration() && (b = d.smoothChildTiming ? this._totalTime : (b - this._startTime) / this._timeScale,
                        this.render(b, b === this._totalTime, !0))),
                    this._gc && !a && this._enabled(!0, !1),
                        this
                }
            ;
            var F = s("core.SimpleTimeline", function(a) {
                D.call(this, 0, a),
                    this.autoRemoveChildren = this.smoothChildTiming = !0
            });
            g = F.prototype = new D,
                g.constructor = F,
                g.kill()._gc = !1,
                g._first = g._last = g._recent = null ,
                g._sortChildren = !1,
                g.add = g.insert = function(a, b, c, d) {
                    var e, f;
                    if (a._startTime = Number(b || 0) + a._delay,
                        a._paused && this !== a._timeline && (a._pauseTime = a._startTime + (this.rawTime() - a._startTime) / a._timeScale),
                        a.timeline && a.timeline._remove(a, !0),
                            a.timeline = a._timeline = this,
                        a._gc && a._enabled(!0, !0),
                            e = this._last,
                            this._sortChildren)
                        for (f = a._startTime; e && e._startTime > f; )
                            e = e._prev;
                    return e ? (a._next = e._next,
                        e._next = a) : (a._next = this._first,
                        this._first = a),
                        a._next ? a._next._prev = a : this._last = a,
                        a._prev = e,
                        this._recent = a,
                    this._timeline && this._uncache(!0),
                        this
                }
                ,
                g._remove = function(a, b) {
                    return a.timeline === this && (b || a._enabled(!1, !0),
                        a._prev ? a._prev._next = a._next : this._first === a && (this._first = a._next),
                        a._next ? a._next._prev = a._prev : this._last === a && (this._last = a._prev),
                        a._next = a._prev = a.timeline = null ,
                    a === this._recent && (this._recent = this._last),
                    this._timeline && this._uncache(!0)),
                        this
                }
                ,
                g.render = function(a, b, c) {
                    var d, e = this._first;
                    for (this._totalTime = this._time = this._rawPrevTime = a; e; )
                        d = e._next,
                        (e._active || a >= e._startTime && !e._paused) && (e._reversed ? e.render((e._dirty ? e.totalDuration() : e._totalDuration) - (a - e._startTime) * e._timeScale, b, c) : e.render((a - e._startTime) * e._timeScale, b, c)),
                            e = d
                }
                ,
                g.rawTime = function() {
                    return i || h.wake(),
                        this._totalTime
                }
            ;
            var G = s("TweenLite", function(b, c, d) {
                    if (D.call(this, c, d),
                            this.render = G.prototype.render,
                        null  == b)
                        throw "Cannot tween a null target.";
                    this.target = b = "string" != typeof b ? b : G.selector(b) || b;
                    var e, f, g, h = b.jquery || b.length && b !== a && b[0] && (b[0] === a || b[0].nodeType && b[0].style && !b.nodeType), i = this.vars.overwrite;
                    if (this._overwrite = i = null  == i ? U[G.defaultOverwrite] : "number" == typeof i ? i >> 0 : U[i],
                        (h || b instanceof Array || b.push && o(b)) && "number" != typeof b[0])
                        for (this._targets = g = m(b),
                                 this._propLookup = [],
                                 this._siblings = [],
                                 e = 0; e < g.length; e++)
                            f = g[e],
                                f ? "string" != typeof f ? f.length && f !== a && f[0] && (f[0] === a || f[0].nodeType && f[0].style && !f.nodeType) ? (g.splice(e--, 1),
                                    this._targets = g = g.concat(m(f))) : (this._siblings[e] = Z(f, this, !1),
                                1 === i && this._siblings[e].length > 1 && _(f, this, null , 1, this._siblings[e])) : (f = g[e--] = G.selector(f),
                                "string" == typeof f && g.splice(e + 1, 1)) : g.splice(e--, 1);
                    else
                        this._propLookup = {},
                            this._siblings = Z(b, this, !1),
                        1 === i && this._siblings.length > 1 && _(b, this, null , 1, this._siblings);
                    (this.vars.immediateRender || 0 === c && 0 === this._delay && this.vars.immediateRender !== !1) && (this._time = -l,
                        this.render(Math.min(0, -this._delay)))
                }, !0)
                , H = function(b) {
                    return b && b.length && b !== a && b[0] && (b[0] === a || b[0].nodeType && b[0].style && !b.nodeType)
                }
                , I = function(a, b) {
                    var c, d = {};
                    for (c in a)
                        T[c] || c in b && "transform" !== c && "x" !== c && "y" !== c && "width" !== c && "height" !== c && "className" !== c && "border" !== c || !(!Q[c] || Q[c] && Q[c]._autoCSS) || (d[c] = a[c],
                            delete a[c]);
                    a.css = d
                }
                ;
            g = G.prototype = new D,
                g.constructor = G,
                g.kill()._gc = !1,
                g.ratio = 0,
                g._firstPT = g._targets = g._overwrittenProps = g._startAt = null ,
                g._notifyPluginsOfEnabled = g._lazy = !1,
                G.version = "1.18.5",
                G.defaultEase = g._ease = new v(null ,null ,1,1),
                G.defaultOverwrite = "auto",
                G.ticker = h,
                G.autoSleep = 120,
                G.lagSmoothing = function(a, b) {
                    h.lagSmoothing(a, b)
                }
                ,
                G.selector = a.$ || a.jQuery || function(b) {
                        var c = a.$ || a.jQuery;
                        return c ? (G.selector = c,
                            c(b)) : "undefined" == typeof document ? b : document.querySelectorAll ? document.querySelectorAll(b) : document.getElementById("#" === b.charAt(0) ? b.substr(1) : b)
                    }
            ;
            var J = []
                , K = {}
                , L = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi
                , M = function(a) {
                    for (var b, c = this._firstPT, d = 1e-6; c; )
                        b = c.blob ? a ? this.join("") : this.start : c.c * a + c.s,
                            c.r ? b = Math.round(b) : d > b && b > -d && (b = 0),
                            c.f ? c.fp ? c.t[c.p](c.fp, b) : c.t[c.p](b) : c.t[c.p] = b,
                            c = c._next
                }
                , N = function(a, b, c, d) {
                    var e, f, g, h, i, j, k, l = [a, b], m = 0, n = "", o = 0;
                    for (l.start = a,
                         c && (c(l),
                             a = l[0],
                             b = l[1]),
                             l.length = 0,
                             e = a.match(L) || [],
                             f = b.match(L) || [],
                         d && (d._next = null ,
                             d.blob = 1,
                             l._firstPT = d),
                             i = f.length,
                             h = 0; i > h; h++)
                        k = f[h],
                            j = b.substr(m, b.indexOf(k, m) - m),
                            n += j || !h ? j : ",",
                            m += j.length,
                            o ? o = (o + 1) % 5 : "rgba(" === j.substr(-5) && (o = 1),
                            k === e[h] || e.length <= h ? n += k : (n && (l.push(n),
                                n = ""),
                                g = parseFloat(e[h]),
                                l.push(g),
                                l._firstPT = {
                                    _next: l._firstPT,
                                    t: l,
                                    p: l.length - 1,
                                    s: g,
                                    c: ("=" === k.charAt(1) ? parseInt(k.charAt(0) + "1", 10) * parseFloat(k.substr(2)) : parseFloat(k) - g) || 0,
                                    f: 0,
                                    r: o && 4 > o
                                }),
                            m += k.length;
                    return n += b.substr(m),
                    n && l.push(n),
                        l.setRatio = M,
                        l
                }
                , O = function(a, b, c, d, e, f, g, h) {
                    var i, j, k = "get" === c ? a[b] : c, l = typeof a[b], m = "string" == typeof d && "=" === d.charAt(1), n = {
                        t: a,
                        p: b,
                        s: k,
                        f: "function" === l,
                        pg: 0,
                        n: e || b,
                        r: f,
                        pr: 0,
                        c: m ? parseInt(d.charAt(0) + "1", 10) * parseFloat(d.substr(2)) : parseFloat(d) - k || 0
                    };
                    return "number" !== l && ("function" === l && "get" === c && (j = b.indexOf("set") || "function" != typeof a["get" + b.substr(3)] ? b : "get" + b.substr(3),
                        n.s = k = g ? a[j](g) : a[j]()),
                        "string" == typeof k && (g || isNaN(k)) ? (n.fp = g,
                            i = N(k, d, h || G.defaultStringFilter, n),
                            n = {
                                t: i,
                                p: "setRatio",
                                s: 0,
                                c: 1,
                                f: 2,
                                pg: 0,
                                n: e || b,
                                pr: 0
                            }) : m || (n.s = parseFloat(k),
                            n.c = parseFloat(d) - n.s || 0)),
                        n.c ? ((n._next = this._firstPT) && (n._next._prev = n),
                            this._firstPT = n,
                            n) : void 0
                }
                , P = G._internals = {
                    isArray: o,
                    isSelector: H,
                    lazyTweens: J,
                    blobDif: N
                }
                , Q = G._plugins = {}
                , R = P.tweenLookup = {}
                , S = 0
                , T = P.reservedProps = {
                    ease: 1,
                    delay: 1,
                    overwrite: 1,
                    onComplete: 1,
                    onCompleteParams: 1,
                    onCompleteScope: 1,
                    useFrames: 1,
                    runBackwards: 1,
                    startAt: 1,
                    onUpdate: 1,
                    onUpdateParams: 1,
                    onUpdateScope: 1,
                    onStart: 1,
                    onStartParams: 1,
                    onStartScope: 1,
                    onReverseComplete: 1,
                    onReverseCompleteParams: 1,
                    onReverseCompleteScope: 1,
                    onRepeat: 1,
                    onRepeatParams: 1,
                    onRepeatScope: 1,
                    easeParams: 1,
                    yoyo: 1,
                    immediateRender: 1,
                    repeat: 1,
                    repeatDelay: 1,
                    data: 1,
                    paused: 1,
                    reversed: 1,
                    autoCSS: 1,
                    lazy: 1,
                    onOverwrite: 1,
                    callbackScope: 1,
                    stringFilter: 1,
                    id: 1
                }
                , U = {
                    none: 0,
                    all: 1,
                    auto: 2,
                    concurrent: 3,
                    allOnStart: 4,
                    preexisting: 5,
                    true: 1,
                    false: 0
                }
                , V = D._rootFramesTimeline = new F
                , W = D._rootTimeline = new F
                , X = 30
                , Y = P.lazyRender = function() {
                    var a, b = J.length;
                    for (K = {}; --b > -1; )
                        a = J[b],
                        a && a._lazy !== !1 && (a.render(a._lazy[0], a._lazy[1], !0),
                            a._lazy = !1);
                    J.length = 0
                }
                ;
            W._startTime = h.time,
                V._startTime = h.frame,
                W._active = V._active = !0,
                setTimeout(Y, 1),
                D._updateRoot = G.render = function() {
                    var a, b, c;
                    if (J.length && Y(),
                            W.render((h.time - W._startTime) * W._timeScale, !1, !1),
                            V.render((h.frame - V._startTime) * V._timeScale, !1, !1),
                        J.length && Y(),
                        h.frame >= X) {
                        X = h.frame + (parseInt(G.autoSleep, 10) || 120);
                        for (c in R) {
                            for (b = R[c].tweens,
                                     a = b.length; --a > -1; )
                                b[a]._gc && b.splice(a, 1);
                            0 === b.length && delete R[c]
                        }
                        if (c = W._first,
                            (!c || c._paused) && G.autoSleep && !V._first && 1 === h._listeners.tick.length) {
                            for (; c && c._paused; )
                                c = c._next;
                            c || h.sleep()
                        }
                    }
                }
                ,
                h.addEventListener("tick", D._updateRoot);
            var Z = function(a, b, c) {
                    var d, e, f = a._gsTweenID;
                    if (R[f || (a._gsTweenID = f = "t" + S++)] || (R[f] = {
                            target: a,
                            tweens: []
                        }),
                        b && (d = R[f].tweens,
                            d[e = d.length] = b,
                            c))
                        for (; --e > -1; )
                            d[e] === b && d.splice(e, 1);
                    return R[f].tweens
                }
                , $ = function(a, b, c, d) {
                    var e, f, g = a.vars.onOverwrite;
                    return g && (e = g(a, b, c, d)),
                        g = G.onOverwrite,
                    g && (f = g(a, b, c, d)),
                    e !== !1 && f !== !1
                }
                , _ = function(a, b, c, d, e) {
                    var f, g, h, i;
                    if (1 === d || d >= 4) {
                        for (i = e.length,
                                 f = 0; i > f; f++)
                            if ((h = e[f]) !== b)
                                h._gc || h._kill(null , a, b) && (g = !0);
                            else if (5 === d)
                                break;
                        return g
                    }
                    var j, k = b._startTime + l, m = [], n = 0, o = 0 === b._duration;
                    for (f = e.length; --f > -1; )
                        (h = e[f]) === b || h._gc || h._paused || (h._timeline !== b._timeline ? (j = j || aa(b, 0, o),
                        0 === aa(h, j, o) && (m[n++] = h)) : h._startTime <= k && h._startTime + h.totalDuration() / h._timeScale > k && ((o || !h._initted) && k - h._startTime <= 2e-10 || (m[n++] = h)));
                    for (f = n; --f > -1; )
                        if (h = m[f],
                            2 === d && h._kill(c, a, b) && (g = !0),
                            2 !== d || !h._firstPT && h._initted) {
                            if (2 !== d && !$(h, b))
                                continue;h._enabled(!1, !1) && (g = !0)
                        }
                    return g
                }
                , aa = function(a, b, c) {
                    for (var d = a._timeline, e = d._timeScale, f = a._startTime; d._timeline; ) {
                        if (f += d._startTime,
                                e *= d._timeScale,
                                d._paused)
                            return -100;
                        d = d._timeline
                    }
                    return f /= e,
                        f > b ? f - b : c && f === b || !a._initted && 2 * l > f - b ? l : (f += a.totalDuration() / a._timeScale / e) > b + l ? 0 : f - b - l
                }
                ;
            g._init = function() {
                var a, b, c, d, e, f = this.vars, g = this._overwrittenProps, h = this._duration, i = !!f.immediateRender, j = f.ease;
                if (f.startAt) {
                    this._startAt && (this._startAt.render(-1, !0),
                        this._startAt.kill()),
                        e = {};
                    for (d in f.startAt)
                        e[d] = f.startAt[d];
                    if (e.overwrite = !1,
                            e.immediateRender = !0,
                            e.lazy = i && f.lazy !== !1,
                            e.startAt = e.delay = null ,
                            this._startAt = G.to(this.target, 0, e),
                            i)
                        if (this._time > 0)
                            this._startAt = null ;
                        else if (0 !== h)
                            return
                } else if (f.runBackwards && 0 !== h)
                    if (this._startAt)
                        this._startAt.render(-1, !0),
                            this._startAt.kill(),
                            this._startAt = null ;
                    else {
                        0 !== this._time && (i = !1),
                            c = {};
                        for (d in f)
                            T[d] && "autoCSS" !== d || (c[d] = f[d]);
                        if (c.overwrite = 0,
                                c.data = "isFromStart",
                                c.lazy = i && f.lazy !== !1,
                                c.immediateRender = i,
                                this._startAt = G.to(this.target, 0, c),
                                i) {
                            if (0 === this._time)
                                return
                        } else
                            this._startAt._init(),
                                this._startAt._enabled(!1),
                            this.vars.immediateRender && (this._startAt = null )
                    }
                if (this._ease = j = j ? j instanceof v ? j : "function" == typeof j ? new v(j,f.easeParams) : w[j] || G.defaultEase : G.defaultEase,
                    f.easeParams instanceof Array && j.config && (this._ease = j.config.apply(j, f.easeParams)),
                        this._easeType = this._ease._type,
                        this._easePower = this._ease._power,
                        this._firstPT = null ,
                        this._targets)
                    for (a = this._targets.length; --a > -1; )
                        this._initProps(this._targets[a], this._propLookup[a] = {}, this._siblings[a], g ? g[a] : null ) && (b = !0);
                else
                    b = this._initProps(this.target, this._propLookup, this._siblings, g);
                if (b && G._onPluginEvent("_onInitAllProps", this),
                    g && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)),
                        f.runBackwards)
                    for (c = this._firstPT; c; )
                        c.s += c.c,
                            c.c = -c.c,
                            c = c._next;
                this._onUpdate = f.onUpdate,
                    this._initted = !0
            }
                ,
                g._initProps = function(b, c, d, e) {
                    var f, g, h, i, j, k;
                    if (null  == b)
                        return !1;
                    K[b._gsTweenID] && Y(),
                    this.vars.css || b.style && b !== a && b.nodeType && Q.css && this.vars.autoCSS !== !1 && I(this.vars, b);
                    for (f in this.vars)
                        if (k = this.vars[f],
                                T[f])
                            k && (k instanceof Array || k.push && o(k)) && -1 !== k.join("").indexOf("{self}") && (this.vars[f] = k = this._swapSelfInParams(k, this));
                        else if (Q[f] && (i = new Q[f])._onInitTween(b, this.vars[f], this)) {
                            for (this._firstPT = j = {
                                _next: this._firstPT,
                                t: i,
                                p: "setRatio",
                                s: 0,
                                c: 1,
                                f: 1,
                                n: f,
                                pg: 1,
                                pr: i._priority
                            },
                                     g = i._overwriteProps.length; --g > -1; )
                                c[i._overwriteProps[g]] = this._firstPT;
                            (i._priority || i._onInitAllProps) && (h = !0),
                            (i._onDisable || i._onEnable) && (this._notifyPluginsOfEnabled = !0),
                            j._next && (j._next._prev = j)
                        } else
                            c[f] = O.call(this, b, f, "get", k, f, 0, null , this.vars.stringFilter);
                    return e && this._kill(e, b) ? this._initProps(b, c, d, e) : this._overwrite > 1 && this._firstPT && d.length > 1 && _(b, this, c, this._overwrite, d) ? (this._kill(c, b),
                        this._initProps(b, c, d, e)) : (this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration) && (K[b._gsTweenID] = !0),
                        h)
                }
                ,
                g.render = function(a, b, c) {
                    var d, e, f, g, h = this._time, i = this._duration, j = this._rawPrevTime;
                    if (a >= i - 1e-7)
                        this._totalTime = this._time = i,
                            this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1,
                        this._reversed || (d = !0,
                            e = "onComplete",
                            c = c || this._timeline.autoRemoveChildren),
                        0 === i && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0),
                        (0 > j || 0 >= a && a >= -1e-7 || j === l && "isPause" !== this.data) && j !== a && (c = !0,
                        j > l && (e = "onReverseComplete")),
                            this._rawPrevTime = g = !b || a || j === a ? a : l);
                    else if (1e-7 > a)
                        this._totalTime = this._time = 0,
                            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
                        (0 !== h || 0 === i && j > 0) && (e = "onReverseComplete",
                            d = this._reversed),
                        0 > a && (this._active = !1,
                        0 === i && (this._initted || !this.vars.lazy || c) && (j >= 0 && (j !== l || "isPause" !== this.data) && (c = !0),
                            this._rawPrevTime = g = !b || a || j === a ? a : l)),
                        this._initted || (c = !0);
                    else if (this._totalTime = this._time = a,
                            this._easeType) {
                        var k = a / i
                            , m = this._easeType
                            , n = this._easePower;
                        (1 === m || 3 === m && k >= .5) && (k = 1 - k),
                        3 === m && (k *= 2),
                            1 === n ? k *= k : 2 === n ? k *= k * k : 3 === n ? k *= k * k * k : 4 === n && (k *= k * k * k * k),
                            1 === m ? this.ratio = 1 - k : 2 === m ? this.ratio = k : .5 > a / i ? this.ratio = k / 2 : this.ratio = 1 - k / 2
                    } else
                        this.ratio = this._ease.getRatio(a / i);
                    if (this._time !== h || c) {
                        if (!this._initted) {
                            if (this._init(),
                                !this._initted || this._gc)
                                return;
                            if (!c && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration))
                                return this._time = this._totalTime = h,
                                    this._rawPrevTime = j,
                                    J.push(this),
                                    void (this._lazy = [a, b]);
                            this._time && !d ? this.ratio = this._ease.getRatio(this._time / i) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                        }
                        for (this._lazy !== !1 && (this._lazy = !1),
                             this._active || !this._paused && this._time !== h && a >= 0 && (this._active = !0),
                             0 === h && (this._startAt && (a >= 0 ? this._startAt.render(a, b, c) : e || (e = "_dummyGS")),
                             this.vars.onStart && (0 !== this._time || 0 === i) && (b || this._callback("onStart"))),
                                 f = this._firstPT; f; )
                            f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s,
                                f = f._next;
                        this._onUpdate && (0 > a && this._startAt && a !== -1e-4 && this._startAt.render(a, b, c),
                        b || (this._time !== h || d || c) && this._callback("onUpdate")),
                        e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && a !== -1e-4 && this._startAt.render(a, b, c),
                        d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                            this._active = !1),
                        !b && this.vars[e] && this._callback(e),
                        0 === i && this._rawPrevTime === l && g !== l && (this._rawPrevTime = 0))
                    }
                }
                ,
                g._kill = function(a, b, c) {
                    if ("all" === a && (a = null ),
                        null  == a && (null  == b || b === this.target))
                        return this._lazy = !1,
                            this._enabled(!1, !1);
                    b = "string" != typeof b ? b || this._targets || this.target : G.selector(b) || b;
                    var d, e, f, g, h, i, j, k, l, m = c && this._time && c._startTime === this._startTime && this._timeline === c._timeline;
                    if ((o(b) || H(b)) && "number" != typeof b[0])
                        for (d = b.length; --d > -1; )
                            this._kill(a, b[d], c) && (i = !0);
                    else {
                        if (this._targets) {
                            for (d = this._targets.length; --d > -1; )
                                if (b === this._targets[d]) {
                                    h = this._propLookup[d] || {},
                                        this._overwrittenProps = this._overwrittenProps || [],
                                        e = this._overwrittenProps[d] = a ? this._overwrittenProps[d] || {} : "all";
                                    break
                                }
                        } else {
                            if (b !== this.target)
                                return !1;
                            h = this._propLookup,
                                e = this._overwrittenProps = a ? this._overwrittenProps || {} : "all"
                        }
                        if (h) {
                            if (j = a || h,
                                    k = a !== e && "all" !== e && a !== h && ("object" != typeof a || !a._tempKill),
                                c && (G.onOverwrite || this.vars.onOverwrite)) {
                                for (f in j)
                                    h[f] && (l || (l = []),
                                        l.push(f));
                                if ((l || !a) && !$(this, c, b, l))
                                    return !1
                            }
                            for (f in j)
                                (g = h[f]) && (m && (g.f ? g.t[g.p](g.s) : g.t[g.p] = g.s,
                                    i = !0),
                                g.pg && g.t._kill(j) && (i = !0),
                                g.pg && 0 !== g.t._overwriteProps.length || (g._prev ? g._prev._next = g._next : g === this._firstPT && (this._firstPT = g._next),
                                g._next && (g._next._prev = g._prev),
                                    g._next = g._prev = null ),
                                    delete h[f]),
                                k && (e[f] = 1);
                            !this._firstPT && this._initted && this._enabled(!1, !1)
                        }
                    }
                    return i
                }
                ,
                g.invalidate = function() {
                    return this._notifyPluginsOfEnabled && G._onPluginEvent("_onDisable", this),
                        this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null ,
                        this._notifyPluginsOfEnabled = this._active = this._lazy = !1,
                        this._propLookup = this._targets ? {} : [],
                        D.prototype.invalidate.call(this),
                    this.vars.immediateRender && (this._time = -l,
                        this.render(Math.min(0, -this._delay))),
                        this
                }
                ,
                g._enabled = function(a, b) {
                    if (i || h.wake(),
                        a && this._gc) {
                        var c, d = this._targets;
                        if (d)
                            for (c = d.length; --c > -1; )
                                this._siblings[c] = Z(d[c], this, !0);
                        else
                            this._siblings = Z(this.target, this, !0)
                    }
                    return D.prototype._enabled.call(this, a, b),
                    !(!this._notifyPluginsOfEnabled || !this._firstPT) && G._onPluginEvent(a ? "_onEnable" : "_onDisable", this)
                }
                ,
                G.to = function(a, b, c) {
                    return new G(a,b,c)
                }
                ,
                G.from = function(a, b, c) {
                    return c.runBackwards = !0,
                        c.immediateRender = 0 != c.immediateRender,
                        new G(a,b,c)
                }
                ,
                G.fromTo = function(a, b, c, d) {
                    return d.startAt = c,
                        d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
                        new G(a,b,d)
                }
                ,
                G.delayedCall = function(a, b, c, d, e) {
                    return new G(b,0,{
                        delay: a,
                        onComplete: b,
                        onCompleteParams: c,
                        callbackScope: d,
                        onReverseComplete: b,
                        onReverseCompleteParams: c,
                        immediateRender: !1,
                        lazy: !1,
                        useFrames: e,
                        overwrite: 0
                    })
                }
                ,
                G.set = function(a, b) {
                    return new G(a,0,b)
                }
                ,
                G.getTweensOf = function(a, b) {
                    if (null  == a)
                        return [];
                    a = "string" != typeof a ? a : G.selector(a) || a;
                    var c, d, e, f;
                    if ((o(a) || H(a)) && "number" != typeof a[0]) {
                        for (c = a.length,
                                 d = []; --c > -1; )
                            d = d.concat(G.getTweensOf(a[c], b));
                        for (c = d.length; --c > -1; )
                            for (f = d[c],
                                     e = c; --e > -1; )
                                f === d[e] && d.splice(c, 1)
                    } else
                        for (d = Z(a).concat(),
                                 c = d.length; --c > -1; )
                            (d[c]._gc || b && !d[c].isActive()) && d.splice(c, 1);
                    return d
                }
                ,
                G.killTweensOf = G.killDelayedCallsTo = function(a, b, c) {
                    "object" == typeof b && (c = b,
                        b = !1);
                    for (var d = G.getTweensOf(a, b), e = d.length; --e > -1; )
                        d[e]._kill(c, a)
                }
            ;
            var ba = s("plugins.TweenPlugin", function(a, b) {
                this._overwriteProps = (a || "").split(","),
                    this._propName = this._overwriteProps[0],
                    this._priority = b || 0,
                    this._super = ba.prototype
            }, !0);
            if (g = ba.prototype,
                    ba.version = "1.18.0",
                    ba.API = 2,
                    g._firstPT = null ,
                    g._addTween = O,
                    g.setRatio = M,
                    g._kill = function(a) {
                        var b, c = this._overwriteProps, d = this._firstPT;
                        if (null  != a[this._propName])
                            this._overwriteProps = [];
                        else
                            for (b = c.length; --b > -1; )
                                null  != a[c[b]] && c.splice(b, 1);
                        for (; d; )
                            null  != a[d.n] && (d._next && (d._next._prev = d._prev),
                                d._prev ? (d._prev._next = d._next,
                                    d._prev = null ) : this._firstPT === d && (this._firstPT = d._next)),
                                d = d._next;
                        return !1
                    }
                    ,
                    g._roundProps = function(a, b) {
                        for (var c = this._firstPT; c; )
                            (a[this._propName] || null  != c.n && a[c.n.split(this._propName + "_").join("")]) && (c.r = b),
                                c = c._next
                    }
                    ,
                    G._onPluginEvent = function(a, b) {
                        var c, d, e, f, g, h = b._firstPT;
                        if ("_onInitAllProps" === a) {
                            for (; h; ) {
                                for (g = h._next,
                                         d = e; d && d.pr > h.pr; )
                                    d = d._next;
                                (h._prev = d ? d._prev : f) ? h._prev._next = h : e = h,
                                    (h._next = d) ? d._prev = h : f = h,
                                    h = g
                            }
                            h = b._firstPT = e
                        }
                        for (; h; )
                            h.pg && "function" == typeof h.t[a] && h.t[a]() && (c = !0),
                                h = h._next;
                        return c
                    }
                    ,
                    ba.activate = function(a) {
                        for (var b = a.length; --b > -1; )
                            a[b].API === ba.API && (Q[(new a[b])._propName] = a[b]);
                        return !0
                    }
                    ,
                    r.plugin = function(a) {
                        if (!(a && a.propName && a.init && a.API))
                            throw "illegal plugin definition.";
                        var b, c = a.propName, d = a.priority || 0, e = a.overwriteProps, f = {
                            init: "_onInitTween",
                            set: "setRatio",
                            kill: "_kill",
                            round: "_roundProps",
                            initAll: "_onInitAllProps"
                        }, g = s("plugins." + c.charAt(0).toUpperCase() + c.substr(1) + "Plugin", function() {
                            ba.call(this, c, d),
                                this._overwriteProps = e || []
                        }, a.global === !0), h = g.prototype = new ba(c);
                        h.constructor = g,
                            g.API = a.API;
                        for (b in f)
                            "function" == typeof a[b] && (h[f[b]] = a[b]);
                        return g.version = a.version,
                            ba.activate([g]),
                            g
                    }
                    ,
                    e = a._gsQueue) {
                for (f = 0; f < e.length; f++)
                    e[f]();
                for (g in p)
                    p[g].func || a.console.log("GSAP encountered missing dependency: com.greensock." + g)
            }
            i = !1
        }
    }("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
        var d = function(a) {
            b.call(this, a),
                this._labels = {},
                this.autoRemoveChildren = this.vars.autoRemoveChildren === !0,
                this.smoothChildTiming = this.vars.smoothChildTiming === !0,
                this._sortChildren = !0,
                this._onUpdate = this.vars.onUpdate;
            var c, d, e = this.vars;
            for (d in e)
                c = e[d],
                i(c) && -1 !== c.join("").indexOf("{self}") && (e[d] = this._swapSelfInParams(c));
            i(e.tweens) && this.add(e.tweens, 0, e.align, e.stagger)
        }
            , e = 1e-10
            , f = c._internals
            , g = d._internals = {}
            , h = f.isSelector
            , i = f.isArray
            , j = f.lazyTweens
            , k = f.lazyRender
            , l = _gsScope._gsDefine.globals
            , m = function(a) {
            var b, c = {};
            for (b in a)
                c[b] = a[b];
            return c
        }
            , n = function(a, b, c) {
            var d, e, f = a.cycle;
            for (d in f)
                e = f[d],
                    a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
            delete a.cycle
        }
            , o = g.pauseCallback = function() {}
            , p = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
            , q = d.prototype = new b;
        return d.version = "1.18.5",
            q.constructor = d,
            q.kill()._gc = q._forcingPlayhead = q._hasPause = !1,
            q.to = function(a, b, d, e) {
                var f = d.repeat && l.TweenMax || c;
                return b ? this.add(new f(a,b,d), e) : this.set(a, d, e)
            }
            ,
            q.from = function(a, b, d, e) {
                return this.add((d.repeat && l.TweenMax || c).from(a, b, d), e)
            }
            ,
            q.fromTo = function(a, b, d, e, f) {
                var g = e.repeat && l.TweenMax || c;
                return b ? this.add(g.fromTo(a, b, d, e), f) : this.set(a, e, f)
            }
            ,
            q.staggerTo = function(a, b, e, f, g, i, j, k) {
                var l, o, q = new d({
                    onComplete: i,
                    onCompleteParams: j,
                    callbackScope: k,
                    smoothChildTiming: this.smoothChildTiming
                }), r = e.cycle;
                for ("string" == typeof a && (a = c.selector(a) || a),
                         a = a || [],
                     h(a) && (a = p(a)),
                         f = f || 0,
                     0 > f && (a = p(a),
                         a.reverse(),
                         f *= -1),
                         o = 0; o < a.length; o++)
                    l = m(e),
                    l.startAt && (l.startAt = m(l.startAt),
                    l.startAt.cycle && n(l.startAt, a, o)),
                    r && (n(l, a, o),
                    null  != l.duration && (b = l.duration,
                        delete l.duration)),
                        q.to(a[o], b, l, o * f);
                return this.add(q, g)
            }
            ,
            q.staggerFrom = function(a, b, c, d, e, f, g, h) {
                return c.immediateRender = 0 != c.immediateRender,
                    c.runBackwards = !0,
                    this.staggerTo(a, b, c, d, e, f, g, h)
            }
            ,
            q.staggerFromTo = function(a, b, c, d, e, f, g, h, i) {
                return d.startAt = c,
                    d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
                    this.staggerTo(a, b, d, e, f, g, h, i)
            }
            ,
            q.call = function(a, b, d, e) {
                return this.add(c.delayedCall(0, a, b, d), e)
            }
            ,
            q.set = function(a, b, d) {
                return d = this._parseTimeOrLabel(d, 0, !0),
                null  == b.immediateRender && (b.immediateRender = d === this._time && !this._paused),
                    this.add(new c(a,0,b), d)
            }
            ,
            d.exportRoot = function(a, b) {
                a = a || {},
                null  == a.smoothChildTiming && (a.smoothChildTiming = !0);
                var e, f, g = new d(a), h = g._timeline;
                for (null  == b && (b = !0),
                         h._remove(g, !0),
                         g._startTime = 0,
                         g._rawPrevTime = g._time = g._totalTime = h._time,
                         e = h._first; e; )
                    f = e._next,
                    b && e instanceof c && e.target === e.vars.onComplete || g.add(e, e._startTime - e._delay),
                        e = f;
                return h.add(g, 0),
                    g
            }
            ,
            q.add = function(e, f, g, h) {
                var j, k, l, m, n, o;
                if ("number" != typeof f && (f = this._parseTimeOrLabel(f, 0, !0, e)),
                        !(e instanceof a)) {
                    if (e instanceof Array || e && e.push && i(e)) {
                        for (g = g || "normal",
                                 h = h || 0,
                                 j = f,
                                 k = e.length,
                                 l = 0; k > l; l++)
                            i(m = e[l]) && (m = new d({
                                tweens: m
                            })),
                                this.add(m, j),
                            "string" != typeof m && "function" != typeof m && ("sequence" === g ? j = m._startTime + m.totalDuration() / m._timeScale : "start" === g && (m._startTime -= m.delay())),
                                j += h;
                        return this._uncache(!0)
                    }
                    if ("string" == typeof e)
                        return this.addLabel(e, f);
                    if ("function" != typeof e)
                        throw "Cannot add " + e + " into the timeline; it is not a tween, timeline, function, or string.";
                    e = c.delayedCall(0, e)
                }
                if (b.prototype.add.call(this, e, f),
                    (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                    for (n = this,
                             o = n.rawTime() > e._startTime; n._timeline; )
                        o && n._timeline.smoothChildTiming ? n.totalTime(n._totalTime, !0) : n._gc && n._enabled(!0, !1),
                            n = n._timeline;
                return this
            }
            ,
            q.remove = function(b) {
                if (b instanceof a) {
                    this._remove(b, !1);
                    var c = b._timeline = b.vars.useFrames ? a._rootFramesTimeline : a._rootTimeline;
                    return b._startTime = (b._paused ? b._pauseTime : c._time) - (b._reversed ? b.totalDuration() - b._totalTime : b._totalTime) / b._timeScale,
                        this
                }
                if (b instanceof Array || b && b.push && i(b)) {
                    for (var d = b.length; --d > -1; )
                        this.remove(b[d]);
                    return this
                }
                return "string" == typeof b ? this.removeLabel(b) : this.kill(null , b)
            }
            ,
            q._remove = function(a, c) {
                b.prototype._remove.call(this, a, c);
                var d = this._last;
                return d ? this._time > d._startTime + d._totalDuration / d._timeScale && (this._time = this.duration(),
                    this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0,
                    this
            }
            ,
            q.append = function(a, b) {
                return this.add(a, this._parseTimeOrLabel(null , b, !0, a))
            }
            ,
            q.insert = q.insertMultiple = function(a, b, c, d) {
                return this.add(a, b || 0, c, d)
            }
            ,
            q.appendMultiple = function(a, b, c, d) {
                return this.add(a, this._parseTimeOrLabel(null , b, !0, a), c, d)
            }
            ,
            q.addLabel = function(a, b) {
                return this._labels[a] = this._parseTimeOrLabel(b),
                    this
            }
            ,
            q.addPause = function(a, b, d, e) {
                var f = c.delayedCall(0, o, d, e || this);
                return f.vars.onComplete = f.vars.onReverseComplete = b,
                    f.data = "isPause",
                    this._hasPause = !0,
                    this.add(f, a)
            }
            ,
            q.removeLabel = function(a) {
                return delete this._labels[a],
                    this
            }
            ,
            q.getLabelTime = function(a) {
                return null  != this._labels[a] ? this._labels[a] : -1
            }
            ,
            q._parseTimeOrLabel = function(b, c, d, e) {
                var f;
                if (e instanceof a && e.timeline === this)
                    this.remove(e);
                else if (e && (e instanceof Array || e.push && i(e)))
                    for (f = e.length; --f > -1; )
                        e[f] instanceof a && e[f].timeline === this && this.remove(e[f]);
                if ("string" == typeof c)
                    return this._parseTimeOrLabel(c, d && "number" == typeof b && null  == this._labels[c] ? b - this.duration() : 0, d);
                if (c = c || 0,
                    "string" != typeof b || !isNaN(b) && null  == this._labels[b])
                    null  == b && (b = this.duration());
                else {
                    if (f = b.indexOf("="),
                        -1 === f)
                        return null  == this._labels[b] ? d ? this._labels[b] = this.duration() + c : c : this._labels[b] + c;
                    c = parseInt(b.charAt(f - 1) + "1", 10) * Number(b.substr(f + 1)),
                        b = f > 1 ? this._parseTimeOrLabel(b.substr(0, f - 1), 0, d) : this.duration()
                }
                return Number(b) + c
            }
            ,
            q.seek = function(a, b) {
                return this.totalTime("number" == typeof a ? a : this._parseTimeOrLabel(a), b !== !1)
            }
            ,
            q.stop = function() {
                return this.paused(!0)
            }
            ,
            q.gotoAndPlay = function(a, b) {
                return this.play(a, b)
            }
            ,
            q.gotoAndStop = function(a, b) {
                return this.pause(a, b)
            }
            ,
            q.render = function(a, b, c) {
                this._gc && this._enabled(!0, !1);
                var d, f, g, h, i, l, m, n = this._dirty ? this.totalDuration() : this._totalDuration, o = this._time, p = this._startTime, q = this._timeScale, r = this._paused;
                if (a >= n - 1e-7)
                    this._totalTime = this._time = n,
                    this._reversed || this._hasPausedChild() || (f = !0,
                        h = "onComplete",
                        i = !!this._timeline.autoRemoveChildren,
                    0 === this._duration && (0 >= a && a >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === e) && this._rawPrevTime !== a && this._first && (i = !0,
                    this._rawPrevTime > e && (h = "onReverseComplete"))),
                        this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                        a = n + 1e-4;
                else if (1e-7 > a)
                    if (this._totalTime = this._time = 0,
                        (0 !== o || 0 === this._duration && this._rawPrevTime !== e && (this._rawPrevTime > 0 || 0 > a && this._rawPrevTime >= 0)) && (h = "onReverseComplete",
                            f = this._reversed),
                        0 > a)
                        this._active = !1,
                            this._timeline.autoRemoveChildren && this._reversed ? (i = f = !0,
                                h = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (i = !0),
                            this._rawPrevTime = a;
                    else {
                        if (this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                            0 === a && f)
                            for (d = this._first; d && 0 === d._startTime; )
                                d._duration || (f = !1),
                                    d = d._next;
                        a = 0,
                        this._initted || (i = !0)
                    }
                else {
                    if (this._hasPause && !this._forcingPlayhead && !b) {
                        if (a >= o)
                            for (d = this._first; d && d._startTime <= a && !l; )
                                d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (l = d),
                                    d = d._next;
                        else
                            for (d = this._last; d && d._startTime >= a && !l; )
                                d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (l = d),
                                    d = d._prev;
                        l && (this._time = a = l._startTime,
                            this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                    }
                    this._totalTime = this._time = this._rawPrevTime = a
                }
                if (this._time !== o && this._first || c || i || l) {
                    if (this._initted || (this._initted = !0),
                        this._active || !this._paused && this._time !== o && a > 0 && (this._active = !0),
                        0 === o && this.vars.onStart && (0 === this._time && this._duration || b || this._callback("onStart")),
                            m = this._time,
                        m >= o)
                        for (d = this._first; d && (g = d._next,
                        m === this._time && (!this._paused || r)); )
                            (d._active || d._startTime <= m && !d._paused && !d._gc) && (l === d && this.pause(),
                                d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                                d = g;
                    else
                        for (d = this._last; d && (g = d._prev,
                        m === this._time && (!this._paused || r)); ) {
                            if (d._active || d._startTime <= o && !d._paused && !d._gc) {
                                if (l === d) {
                                    for (l = d._prev; l && l.endTime() > this._time; )
                                        l.render(l._reversed ? l.totalDuration() - (a - l._startTime) * l._timeScale : (a - l._startTime) * l._timeScale, b, c),
                                            l = l._prev;
                                    l = null ,
                                        this.pause()
                                }
                                d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                            }
                            d = g
                        }
                    this._onUpdate && (b || (j.length && k(),
                        this._callback("onUpdate"))),
                    h && (this._gc || (p === this._startTime || q !== this._timeScale) && (0 === this._time || n >= this.totalDuration()) && (f && (j.length && k(),
                    this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                        this._active = !1),
                    !b && this.vars[h] && this._callback(h)))
                }
            }
            ,
            q._hasPausedChild = function() {
                for (var a = this._first; a; ) {
                    if (a._paused || a instanceof d && a._hasPausedChild())
                        return !0;
                    a = a._next
                }
                return !1
            }
            ,
            q.getChildren = function(a, b, d, e) {
                e = e || -9999999999;
                for (var f = [], g = this._first, h = 0; g; )
                    g._startTime < e || (g instanceof c ? b !== !1 && (f[h++] = g) : (d !== !1 && (f[h++] = g),
                    a !== !1 && (f = f.concat(g.getChildren(!0, b, d)),
                        h = f.length))),
                        g = g._next;
                return f
            }
            ,
            q.getTweensOf = function(a, b) {
                var d, e, f = this._gc, g = [], h = 0;
                for (f && this._enabled(!0, !0),
                         d = c.getTweensOf(a),
                         e = d.length; --e > -1; )
                    (d[e].timeline === this || b && this._contains(d[e])) && (g[h++] = d[e]);
                return f && this._enabled(!1, !0),
                    g
            }
            ,
            q.recent = function() {
                return this._recent
            }
            ,
            q._contains = function(a) {
                for (var b = a.timeline; b; ) {
                    if (b === this)
                        return !0;
                    b = b.timeline
                }
                return !1
            }
            ,
            q.shiftChildren = function(a, b, c) {
                c = c || 0;
                for (var d, e = this._first, f = this._labels; e; )
                    e._startTime >= c && (e._startTime += a),
                        e = e._next;
                if (b)
                    for (d in f)
                        f[d] >= c && (f[d] += a);
                return this._uncache(!0)
            }
            ,
            q._kill = function(a, b) {
                if (!a && !b)
                    return this._enabled(!1, !1);
                for (var c = b ? this.getTweensOf(b) : this.getChildren(!0, !0, !1), d = c.length, e = !1; --d > -1; )
                    c[d]._kill(a, b) && (e = !0);
                return e
            }
            ,
            q.clear = function(a) {
                var b = this.getChildren(!1, !0, !0)
                    , c = b.length;
                for (this._time = this._totalTime = 0; --c > -1; )
                    b[c]._enabled(!1, !1);
                return a !== !1 && (this._labels = {}),
                    this._uncache(!0)
            }
            ,
            q.invalidate = function() {
                for (var b = this._first; b; )
                    b.invalidate(),
                        b = b._next;
                return a.prototype.invalidate.call(this)
            }
            ,
            q._enabled = function(a, c) {
                if (a === this._gc)
                    for (var d = this._first; d; )
                        d._enabled(a, !0),
                            d = d._next;
                return b.prototype._enabled.call(this, a, c)
            }
            ,
            q.totalTime = function(b, c, d) {
                this._forcingPlayhead = !0;
                var e = a.prototype.totalTime.apply(this, arguments);
                return this._forcingPlayhead = !1,
                    e
            }
            ,
            q.duration = function(a) {
                return arguments.length ? (0 !== this.duration() && 0 !== a && this.timeScale(this._duration / a),
                    this) : (this._dirty && this.totalDuration(),
                    this._duration)
            }
            ,
            q.totalDuration = function(a) {
                if (!arguments.length) {
                    if (this._dirty) {
                        for (var b, c, d = 0, e = this._last, f = 999999999999; e; )
                            b = e._prev,
                            e._dirty && e.totalDuration(),
                                e._startTime > f && this._sortChildren && !e._paused ? this.add(e, e._startTime - e._delay) : f = e._startTime,
                            e._startTime < 0 && !e._paused && (d -= e._startTime,
                            this._timeline.smoothChildTiming && (this._startTime += e._startTime / this._timeScale),
                                this.shiftChildren(-e._startTime, !1, -9999999999),
                                f = 0),
                                c = e._startTime + e._totalDuration / e._timeScale,
                            c > d && (d = c),
                                e = b;
                        this._duration = this._totalDuration = d,
                            this._dirty = !1
                    }
                    return this._totalDuration
                }
                return a && this.totalDuration() ? this.timeScale(this._totalDuration / a) : this
            }
            ,
            q.paused = function(b) {
                if (!b)
                    for (var c = this._first, d = this._time; c; )
                        c._startTime === d && "isPause" === c.data && (c._rawPrevTime = 0),
                            c = c._next;
                return a.prototype.paused.apply(this, arguments)
            }
            ,
            q.usesFrames = function() {
                for (var b = this._timeline; b._timeline; )
                    b = b._timeline;
                return b === a._rootFramesTimeline
            }
            ,
            q.rawTime = function() {
                return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
            }
            ,
            d
    }, !0)
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function(a) {
        var b = function() {
                return (_gsScope.GreenSockGlobals || _gsScope)[a]
            }
            ;
        "function" == typeof define && define.amd ? define(["./TweenLite"], b) : "undefined" != typeof module && module.exports && (require("./TweenLite.js"),
            module.exports = b())
    }("TimelineLite");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(a, b) {
        var c, d, e, f, g = function() {
            a.call(this, "css"),
                this._overwriteProps.length = 0,
                this.setRatio = g.prototype.setRatio
        }
            , h = _gsScope._gsDefine.globals, i = {}, j = g.prototype = new a("css");
        j.constructor = g,
            g.version = "1.18.5",
            g.API = 2,
            g.defaultTransformPerspective = 0,
            g.defaultSkewType = "compensated",
            g.defaultSmoothOrigin = !0,
            j = "px",
            g.suffixMap = {
                top: j,
                right: j,
                bottom: j,
                left: j,
                width: j,
                height: j,
                fontSize: j,
                padding: j,
                margin: j,
                perspective: j,
                lineHeight: ""
            };
        var k, l, m, n, o, p, q = /(?:\-|\.|\b)(\d|\.|e\-)+/g, r = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, s = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, t = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, u = /(?:\d|\-|\+|=|#|\.)*/g, v = /opacity *= *([^)]*)/i, w = /opacity:([^;]*)/i, x = /alpha\(opacity *=.+?\)/i, y = /^(rgb|hsl)/, z = /([A-Z])/g, A = /-([a-z])/gi, B = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, C = function(a, b) {
            return b.toUpperCase()
        }
            , D = /(?:Left|Right|Width)/i, E = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, F = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, G = /,(?=[^\)]*(?:\(|$))/gi, H = /[\s,\(]/i, I = Math.PI / 180, J = 180 / Math.PI, K = {}, L = document, M = function(a) {
            return L.createElementNS ? L.createElementNS("http://www.w3.org/1999/xhtml", a) : L.createElement(a)
        }
            , N = M("div"), O = M("img"), P = g._internals = {
            _specialProps: i
        }, Q = navigator.userAgent, R = function() {
            var a = Q.indexOf("Android")
                , b = M("a");
            return m = -1 !== Q.indexOf("Safari") && -1 === Q.indexOf("Chrome") && (-1 === a || Number(Q.substr(a + 8, 1)) > 3),
                o = m && Number(Q.substr(Q.indexOf("Version/") + 8, 1)) < 6,
                n = -1 !== Q.indexOf("Firefox"),
            (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Q) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Q)) && (p = parseFloat(RegExp.$1)),
            !!b && (b.style.cssText = "top:1px;opacity:.55;",
                /^0.55/.test(b.style.opacity))
        }(), S = function(a) {
            return v.test("string" == typeof a ? a : (a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
        }
            , T = function(a) {
            window.console && console.log(a)
        }
            , U = "", V = "", W = function(a, b) {
            b = b || N;
            var c, d, e = b.style;
            if (void 0 !== e[a])
                return a;
            for (a = a.charAt(0).toUpperCase() + a.substr(1),
                     c = ["O", "Moz", "ms", "Ms", "Webkit"],
                     d = 5; --d > -1 && void 0 === e[c[d] + a]; )
                ;
            return d >= 0 ? (V = 3 === d ? "ms" : c[d],
                U = "-" + V.toLowerCase() + "-",
            V + a) : null
        }
            , X = L.defaultView ? L.defaultView.getComputedStyle : function() {}
            , Y = g.getStyle = function(a, b, c, d, e) {
            var f;
            return R || "opacity" !== b ? (!d && a.style[b] ? f = a.style[b] : (c = c || X(a)) ? f = c[b] || c.getPropertyValue(b) || c.getPropertyValue(b.replace(z, "-$1").toLowerCase()) : a.currentStyle && (f = a.currentStyle[b]),
                null  == e || f && "none" !== f && "auto" !== f && "auto auto" !== f ? f : e) : S(a)
        }
            , Z = P.convertToPixels = function(a, c, d, e, f) {
            if ("px" === e || !e)
                return d;
            if ("auto" === e || !d)
                return 0;
            var h, i, j, k = D.test(c), l = a, m = N.style, n = 0 > d, o = 1 === d;
            if (n && (d = -d),
                o && (d *= 100),
                "%" === e && -1 !== c.indexOf("border"))
                h = d / 100 * (k ? a.clientWidth : a.clientHeight);
            else {
                if (m.cssText = "border:0 solid red;position:" + Y(a, "position") + ";line-height:0;",
                    "%" !== e && l.appendChild && "v" !== e.charAt(0) && "rem" !== e)
                    m[k ? "borderLeftWidth" : "borderTopWidth"] = d + e;
                else {
                    if (l = a.parentNode || L.body,
                            i = l._gsCache,
                            j = b.ticker.frame,
                        i && k && i.time === j)
                        return i.width * d / 100;
                    m[k ? "width" : "height"] = d + e
                }
                l.appendChild(N),
                    h = parseFloat(N[k ? "offsetWidth" : "offsetHeight"]),
                    l.removeChild(N),
                k && "%" === e && g.cacheWidths !== !1 && (i = l._gsCache = l._gsCache || {},
                    i.time = j,
                    i.width = h / d * 100),
                0 !== h || f || (h = Z(a, c, d, e, !0))
            }
            return o && (h /= 100),
                n ? -h : h
        }
            , $ = P.calculateOffset = function(a, b, c) {
            if ("absolute" !== Y(a, "position", c))
                return 0;
            var d = "left" === b ? "Left" : "Top"
                , e = Y(a, "margin" + d, c);
            return a["offset" + d] - (Z(a, b, parseFloat(e), e.replace(u, "")) || 0)
        }
            , _ = function(a, b) {
            var c, d, e, f = {};
            if (b = b || X(a, null ))
                if (c = b.length)
                    for (; --c > -1; )
                        e = b[c],
                        (-1 === e.indexOf("-transform") || Aa === e) && (f[e.replace(A, C)] = b.getPropertyValue(e));
                else
                    for (c in b)
                        (-1 === c.indexOf("Transform") || za === c) && (f[c] = b[c]);
            else if (b = a.currentStyle || a.style)
                for (c in b)
                    "string" == typeof c && void 0 === f[c] && (f[c.replace(A, C)] = b[c]);
            return R || (f.opacity = S(a)),
                d = Na(a, b, !1),
                f.rotation = d.rotation,
                f.skewX = d.skewX,
                f.scaleX = d.scaleX,
                f.scaleY = d.scaleY,
                f.x = d.x,
                f.y = d.y,
            Ca && (f.z = d.z,
                f.rotationX = d.rotationX,
                f.rotationY = d.rotationY,
                f.scaleZ = d.scaleZ),
            f.filters && delete f.filters,
                f
        }
            , aa = function(a, b, c, d, e) {
            var f, g, h, i = {}, j = a.style;
            for (g in c)
                "cssText" !== g && "length" !== g && isNaN(g) && (b[g] !== (f = c[g]) || e && e[g]) && -1 === g.indexOf("Origin") && ("number" == typeof f || "string" == typeof f) && (i[g] = "auto" !== f || "left" !== g && "top" !== g ? "" !== f && "auto" !== f && "none" !== f || "string" != typeof b[g] || "" === b[g].replace(t, "") ? f : 0 : $(a, g),
                void 0 !== j[g] && (h = new pa(j,g,j[g],h)));
            if (d)
                for (g in d)
                    "className" !== g && (i[g] = d[g]);
            return {
                difs: i,
                firstMPT: h
            }
        }
            , ba = {
            width: ["Left", "Right"],
            height: ["Top", "Bottom"]
        }, ca = ["marginLeft", "marginRight", "marginTop", "marginBottom"], da = function(a, b, c) {
            if ("svg" === (a.nodeName + "").toLowerCase())
                return (c || X(a))[b] || 0;
            if (a.getBBox && Ka(a))
                return a.getBBox()[b] || 0;
            var d = parseFloat("width" === b ? a.offsetWidth : a.offsetHeight)
                , e = ba[b]
                , f = e.length;
            for (c = c || X(a, null ); --f > -1; )
                d -= parseFloat(Y(a, "padding" + e[f], c, !0)) || 0,
                    d -= parseFloat(Y(a, "border" + e[f] + "Width", c, !0)) || 0;
            return d
        }
            , ea = function(a, b) {
            if ("contain" === a || "auto" === a || "auto auto" === a)
                return a + " ";
            (null  == a || "" === a) && (a = "0 0");
            var c, d = a.split(" "), e = -1 !== a.indexOf("left") ? "0%" : -1 !== a.indexOf("right") ? "100%" : d[0], f = -1 !== a.indexOf("top") ? "0%" : -1 !== a.indexOf("bottom") ? "100%" : d[1];
            if (d.length > 3 && !b) {
                for (d = a.split(", ").join(",").split(","),
                         a = [],
                         c = 0; c < d.length; c++)
                    a.push(ea(d[c]));
                return a.join(",")
            }
            return null  == f ? f = "center" === e ? "50%" : "0" : "center" === f && (f = "50%"),
            ("center" === e || isNaN(parseFloat(e)) && -1 === (e + "").indexOf("=")) && (e = "50%"),
                a = e + " " + f + (d.length > 2 ? " " + d[2] : ""),
            b && (b.oxp = -1 !== e.indexOf("%"),
                b.oyp = -1 !== f.indexOf("%"),
                b.oxr = "=" === e.charAt(1),
                b.oyr = "=" === f.charAt(1),
                b.ox = parseFloat(e.replace(t, "")),
                b.oy = parseFloat(f.replace(t, "")),
                b.v = a),
            b || a
        }
            , fa = function(a, b) {
            return "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) : parseFloat(a) - parseFloat(b) || 0
        }
            , ga = function(a, b) {
            return null  == a ? b : "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) + b : parseFloat(a) || 0
        }
            , ha = function(a, b, c, d) {
            var e, f, g, h, i, j = 1e-6;
            return null  == a ? h = b : "number" == typeof a ? h = a : (e = 360,
                f = a.split("_"),
                i = "=" === a.charAt(1),
                g = (i ? parseInt(a.charAt(0) + "1", 10) * parseFloat(f[0].substr(2)) : parseFloat(f[0])) * (-1 === a.indexOf("rad") ? 1 : J) - (i ? 0 : b),
            f.length && (d && (d[c] = b + g),
            -1 !== a.indexOf("short") && (g %= e,
            g !== g % (e / 2) && (g = 0 > g ? g + e : g - e)),
                -1 !== a.indexOf("_cw") && 0 > g ? g = (g + 9999999999 * e) % e - (g / e | 0) * e : -1 !== a.indexOf("ccw") && g > 0 && (g = (g - 9999999999 * e) % e - (g / e | 0) * e)),
                h = b + g),
            j > h && h > -j && (h = 0),
                h
        }
            , ia = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            fuchsia: [255, 0, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        }, ja = function(a, b, c) {
            return a = 0 > a ? a + 1 : a > 1 ? a - 1 : a,
            255 * (1 > 6 * a ? b + (c - b) * a * 6 : .5 > a ? c : 2 > 3 * a ? b + (c - b) * (2 / 3 - a) * 6 : b) + .5 | 0
        }
            , ka = g.parseColor = function(a, b) {
            var c, d, e, f, g, h, i, j, k, l, m;
            if (a)
                if ("number" == typeof a)
                    c = [a >> 16, a >> 8 & 255, 255 & a];
                else {
                    if ("," === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)),
                            ia[a])
                        c = ia[a];
                    else if ("#" === a.charAt(0))
                        4 === a.length && (d = a.charAt(1),
                            e = a.charAt(2),
                            f = a.charAt(3),
                            a = "#" + d + d + e + e + f + f),
                            a = parseInt(a.substr(1), 16),
                            c = [a >> 16, a >> 8 & 255, 255 & a];
                    else if ("hsl" === a.substr(0, 3))
                        if (c = m = a.match(q),
                                b) {
                            if (-1 !== a.indexOf("="))
                                return a.match(r)
                        } else
                            g = Number(c[0]) % 360 / 360,
                                h = Number(c[1]) / 100,
                                i = Number(c[2]) / 100,
                                e = .5 >= i ? i * (h + 1) : i + h - i * h,
                                d = 2 * i - e,
                            c.length > 3 && (c[3] = Number(a[3])),
                                c[0] = ja(g + 1 / 3, d, e),
                                c[1] = ja(g, d, e),
                                c[2] = ja(g - 1 / 3, d, e);
                    else
                        c = a.match(q) || ia.transparent;
                    c[0] = Number(c[0]),
                        c[1] = Number(c[1]),
                        c[2] = Number(c[2]),
                    c.length > 3 && (c[3] = Number(c[3]))
                }
            else
                c = ia.black;
            return b && !m && (d = c[0] / 255,
                e = c[1] / 255,
                f = c[2] / 255,
                j = Math.max(d, e, f),
                k = Math.min(d, e, f),
                i = (j + k) / 2,
                j === k ? g = h = 0 : (l = j - k,
                    h = i > .5 ? l / (2 - j - k) : l / (j + k),
                    g = j === d ? (e - f) / l + (f > e ? 6 : 0) : j === e ? (f - d) / l + 2 : (d - e) / l + 4,
                    g *= 60),
                c[0] = g + .5 | 0,
                c[1] = 100 * h + .5 | 0,
                c[2] = 100 * i + .5 | 0),
                c
        }
            , la = function(a, b) {
            var c, d, e, f = a.match(ma) || [], g = 0, h = f.length ? "" : a;
            for (c = 0; c < f.length; c++)
                d = f[c],
                    e = a.substr(g, a.indexOf(d, g) - g),
                    g += e.length + d.length,
                    d = ka(d, b),
                3 === d.length && d.push(1),
                    h += e + (b ? "hsla(" + d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : "rgba(" + d.join(",")) + ")";
            return h + a.substr(g)
        }
            , ma = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
        for (j in ia)
            ma += "|" + j + "\\b";
        ma = new RegExp(ma + ")","gi"),
            g.colorStringFilter = function(a) {
                var b, c = a[0] + a[1];
                ma.test(c) && (b = -1 !== c.indexOf("hsl(") || -1 !== c.indexOf("hsla("),
                    a[0] = la(a[0], b),
                    a[1] = la(a[1], b)),
                    ma.lastIndex = 0
            }
            ,
        b.defaultStringFilter || (b.defaultStringFilter = g.colorStringFilter);
        var na = function(a, b, c, d) {
            if (null  == a)
                return function(a) {
                    return a
                }
                    ;
            var e, f = b ? (a.match(ma) || [""])[0] : "", g = a.split(f).join("").match(s) || [], h = a.substr(0, a.indexOf(g[0])), i = ")" === a.charAt(a.length - 1) ? ")" : "", j = -1 !== a.indexOf(" ") ? " " : ",", k = g.length, l = k > 0 ? g[0].replace(q, "") : "";
            return k ? e = b ? function(a) {
                var b, m, n, o;
                if ("number" == typeof a)
                    a += l;
                else if (d && G.test(a)) {
                    for (o = a.replace(G, "|").split("|"),
                             n = 0; n < o.length; n++)
                        o[n] = e(o[n]);
                    return o.join(",")
                }
                if (b = (a.match(ma) || [f])[0],
                        m = a.split(b).join("").match(s) || [],
                        n = m.length,
                    k > n--)
                    for (; ++n < k; )
                        m[n] = c ? m[(n - 1) / 2 | 0] : g[n];
                return h + m.join(j) + j + b + i + (-1 !== a.indexOf("inset") ? " inset" : "")
            }
                : function(a) {
                var b, f, m;
                if ("number" == typeof a)
                    a += l;
                else if (d && G.test(a)) {
                    for (f = a.replace(G, "|").split("|"),
                             m = 0; m < f.length; m++)
                        f[m] = e(f[m]);
                    return f.join(",")
                }
                if (b = a.match(s) || [],
                        m = b.length,
                    k > m--)
                    for (; ++m < k; )
                        b[m] = c ? b[(m - 1) / 2 | 0] : g[m];
                return h + b.join(j) + i
            }
                : function(a) {
                return a
            }
        }
            , oa = function(a) {
            return a = a.split(","),
                function(b, c, d, e, f, g, h) {
                    var i, j = (c + "").split(" ");
                    for (h = {},
                             i = 0; 4 > i; i++)
                        h[a[i]] = j[i] = j[i] || j[(i - 1) / 2 >> 0];
                    return e.parse(b, h, f, g)
                }
        }
            , pa = (P._setPluginRatio = function(a) {
                this.plugin.setRatio(a);
                for (var b, c, d, e, f, g = this.data, h = g.proxy, i = g.firstMPT, j = 1e-6; i; )
                    b = h[i.v],
                        i.r ? b = Math.round(b) : j > b && b > -j && (b = 0),
                        i.t[i.p] = b,
                        i = i._next;
                if (g.autoRotate && (g.autoRotate.rotation = h.rotation),
                    1 === a || 0 === a)
                    for (i = g.firstMPT,
                             f = 1 === a ? "e" : "b"; i; ) {
                        if (c = i.t,
                                c.type) {
                            if (1 === c.type) {
                                for (e = c.xs0 + c.s + c.xs1,
                                         d = 1; d < c.l; d++)
                                    e += c["xn" + d] + c["xs" + (d + 1)];
                                c[f] = e
                            }
                        } else
                            c[f] = c.s + c.xs0;
                        i = i._next
                    }
            }
                ,
                function(a, b, c, d, e) {
                    this.t = a,
                        this.p = b,
                        this.v = c,
                        this.r = e,
                    d && (d._prev = this,
                        this._next = d)
                }
        )
            , qa = (P._parseToProxy = function(a, b, c, d, e, f) {
                var g, h, i, j, k, l = d, m = {}, n = {}, o = c._transform, p = K;
                for (c._transform = null ,
                         K = b,
                         d = k = c.parse(a, b, d, e),
                         K = p,
                     f && (c._transform = o,
                     l && (l._prev = null ,
                     l._prev && (l._prev._next = null ))); d && d !== l; ) {
                    if (d.type <= 1 && (h = d.p,
                            n[h] = d.s + d.c,
                            m[h] = d.s,
                        f || (j = new pa(d,"s",h,j,d.r),
                            d.c = 0),
                        1 === d.type))
                        for (g = d.l; --g > 0; )
                            i = "xn" + g,
                                h = d.p + "_" + i,
                                n[h] = d.data[i],
                                m[h] = d[i],
                            f || (j = new pa(d,i,h,j,d.rxp[i]));
                    d = d._next
                }
                return {
                    proxy: m,
                    end: n,
                    firstMPT: j,
                    pt: k
                }
            }
                ,
                P.CSSPropTween = function(a, b, d, e, g, h, i, j, k, l, m) {
                    this.t = a,
                        this.p = b,
                        this.s = d,
                        this.c = e,
                        this.n = i || b,
                    a instanceof qa || f.push(this.n),
                        this.r = j,
                        this.type = h || 0,
                    k && (this.pr = k,
                        c = !0),
                        this.b = void 0 === l ? d : l,
                        this.e = void 0 === m ? d + e : m,
                    g && (this._next = g,
                        g._prev = this)
                }
        )
            , ra = function(a, b, c, d, e, f) {
            var g = new qa(a,b,c,d - c,e,-1,f);
            return g.b = c,
                g.e = g.xs0 = d,
                g
        }
            , sa = g.parseComplex = function(a, b, c, d, e, f, h, i, j, l) {
            c = c || f || "",
                h = new qa(a,b,0,0,h,l ? 2 : 1,null ,!1,i,c,d),
                d += "",
            e && ma.test(d + c) && (d = [c, d],
                g.colorStringFilter(d),
                c = d[0],
                d = d[1]);
            var m, n, o, p, s, t, u, v, w, x, y, z, A, B = c.split(", ").join(",").split(" "), C = d.split(", ").join(",").split(" "), D = B.length, E = k !== !1;
            for ((-1 !== d.indexOf(",") || -1 !== c.indexOf(",")) && (B = B.join(" ").replace(G, ", ").split(" "),
                C = C.join(" ").replace(G, ", ").split(" "),
                D = B.length),
                 D !== C.length && (B = (f || "").split(" "),
                     D = B.length),
                     h.plugin = j,
                     h.setRatio = l,
                     ma.lastIndex = 0,
                     m = 0; D > m; m++)
                if (p = B[m],
                        s = C[m],
                        v = parseFloat(p),
                    v || 0 === v)
                    h.appendXtra("", v, fa(s, v), s.replace(r, ""), E && -1 !== s.indexOf("px"), !0);
                else if (e && ma.test(p))
                    z = s.indexOf(")") + 1,
                        z = ")" + (z ? s.substr(z) : ""),
                        A = -1 !== s.indexOf("hsl") && R,
                        p = ka(p, A),
                        s = ka(s, A),
                        w = p.length + s.length > 6,
                        w && !R && 0 === s[3] ? (h["xs" + h.l] += h.l ? " transparent" : "transparent",
                            h.e = h.e.split(C[m]).join("transparent")) : (R || (w = !1),
                            A ? h.appendXtra(w ? "hsla(" : "hsl(", p[0], fa(s[0], p[0]), ",", !1, !0).appendXtra("", p[1], fa(s[1], p[1]), "%,", !1).appendXtra("", p[2], fa(s[2], p[2]), w ? "%," : "%" + z, !1) : h.appendXtra(w ? "rgba(" : "rgb(", p[0], s[0] - p[0], ",", !0, !0).appendXtra("", p[1], s[1] - p[1], ",", !0).appendXtra("", p[2], s[2] - p[2], w ? "," : z, !0),
                        w && (p = p.length < 4 ? 1 : p[3],
                            h.appendXtra("", p, (s.length < 4 ? 1 : s[3]) - p, z, !1))),
                        ma.lastIndex = 0;
                else if (t = p.match(q)) {
                    if (u = s.match(r),
                        !u || u.length !== t.length)
                        return h;
                    for (o = 0,
                             n = 0; n < t.length; n++)
                        y = t[n],
                            x = p.indexOf(y, o),
                            h.appendXtra(p.substr(o, x - o), Number(y), fa(u[n], y), "", E && "px" === p.substr(x + y.length, 2), 0 === n),
                            o = x + y.length;
                    h["xs" + h.l] += p.substr(o)
                } else
                    h["xs" + h.l] += h.l || h["xs" + h.l] ? " " + s : s;
            if (-1 !== d.indexOf("=") && h.data) {
                for (z = h.xs0 + h.data.s,
                         m = 1; m < h.l; m++)
                    z += h["xs" + m] + h.data["xn" + m];
                h.e = z + h["xs" + m]
            }
            return h.l || (h.type = -1,
                h.xs0 = h.e),
            h.xfirst || h
        }
            , ta = 9;
        for (j = qa.prototype,
                 j.l = j.pr = 0; --ta > 0; )
            j["xn" + ta] = 0,
                j["xs" + ta] = "";
        j.xs0 = "",
            j._next = j._prev = j.xfirst = j.data = j.plugin = j.setRatio = j.rxp = null ,
            j.appendXtra = function(a, b, c, d, e, f) {
                var g = this
                    , h = g.l;
                return g["xs" + h] += f && (h || g["xs" + h]) ? " " + a : a || "",
                    c || 0 === h || g.plugin ? (g.l++,
                        g.type = g.setRatio ? 2 : 1,
                        g["xs" + g.l] = d || "",
                        h > 0 ? (g.data["xn" + h] = b + c,
                            g.rxp["xn" + h] = e,
                            g["xn" + h] = b,
                        g.plugin || (g.xfirst = new qa(g,"xn" + h,b,c,g.xfirst || g,0,g.n,e,g.pr),
                            g.xfirst.xs0 = 0),
                            g) : (g.data = {
                            s: b + c
                        },
                            g.rxp = {},
                            g.s = b,
                            g.c = c,
                            g.r = e,
                            g)) : (g["xs" + h] += b + (d || ""),
                        g)
            }
        ;
        var ua = function(a, b) {
                b = b || {},
                    this.p = b.prefix ? W(a) || a : a,
                    i[a] = i[this.p] = this,
                    this.format = b.formatter || na(b.defaultValue, b.color, b.collapsible, b.multi),
                b.parser && (this.parse = b.parser),
                    this.clrs = b.color,
                    this.multi = b.multi,
                    this.keyword = b.keyword,
                    this.dflt = b.defaultValue,
                    this.pr = b.priority || 0
            }
            , va = P._registerComplexSpecialProp = function(a, b, c) {
                "object" != typeof b && (b = {
                    parser: c
                });
                var d, e, f = a.split(","), g = b.defaultValue;
                for (c = c || [g],
                         d = 0; d < f.length; d++)
                    b.prefix = 0 === d && b.prefix,
                        b.defaultValue = c[d] || g,
                        e = new ua(f[d],b)
            }
            , wa = function(a) {
                if (!i[a]) {
                    var b = a.charAt(0).toUpperCase() + a.substr(1) + "Plugin";
                    va(a, {
                        parser: function(a, c, d, e, f, g, j) {
                            var k = h.com.greensock.plugins[b];
                            return k ? (k._cssRegister(),
                                i[d].parse(a, c, d, e, f, g, j)) : (T("Error: " + b + " js file not loaded."),
                                f)
                        }
                    })
                }
            }
            ;
        j = ua.prototype,
            j.parseComplex = function(a, b, c, d, e, f) {
                var g, h, i, j, k, l, m = this.keyword;
                if (this.multi && (G.test(c) || G.test(b) ? (h = b.replace(G, "|").split("|"),
                        i = c.replace(G, "|").split("|")) : m && (h = [b],
                        i = [c])),
                        i) {
                    for (j = i.length > h.length ? i.length : h.length,
                             g = 0; j > g; g++)
                        b = h[g] = h[g] || this.dflt,
                            c = i[g] = i[g] || this.dflt,
                        m && (k = b.indexOf(m),
                            l = c.indexOf(m),
                        k !== l && (-1 === l ? h[g] = h[g].split(m).join("") : -1 === k && (h[g] += " " + m)));
                    b = h.join(", "),
                        c = i.join(", ")
                }
                return sa(a, this.p, b, c, this.clrs, this.dflt, d, this.pr, e, f)
            }
            ,
            j.parse = function(a, b, c, d, f, g, h) {
                return this.parseComplex(a.style, this.format(Y(a, this.p, e, !1, this.dflt)), this.format(b), f, g)
            }
            ,
            g.registerSpecialProp = function(a, b, c) {
                va(a, {
                    parser: function(a, d, e, f, g, h, i) {
                        var j = new qa(a,e,0,0,g,2,e,!1,c);
                        return j.plugin = h,
                            j.setRatio = b(a, d, f._tween, e),
                            j
                    },
                    priority: c
                })
            }
            ,
            g.useSVGTransformAttr = m || n;
        var xa, ya = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","), za = W("transform"), Aa = U + "transform", Ba = W("transformOrigin"), Ca = null  !== W("perspective"), Da = P.Transform = function() {
                this.perspective = parseFloat(g.defaultTransformPerspective) || 0,
                    this.force3D = !(g.defaultForce3D === !1 || !Ca) && (g.defaultForce3D || "auto")
            }
            , Ea = window.SVGElement, Fa = function(a, b, c) {
                var d, e = L.createElementNS("http://www.w3.org/2000/svg", a), f = /([a-z])([A-Z])/g;
                for (d in c)
                    e.setAttributeNS(null , d.replace(f, "$1-$2").toLowerCase(), c[d]);
                return b.appendChild(e),
                    e
            }
            , Ga = L.documentElement, Ha = function() {
                var a, b, c, d = p || /Android/i.test(Q) && !window.chrome;
                return L.createElementNS && !d && (a = Fa("svg", Ga),
                    b = Fa("rect", a, {
                        width: 100,
                        height: 50,
                        x: 100
                    }),
                    c = b.getBoundingClientRect().width,
                    b.style[Ba] = "50% 50%",
                    b.style[za] = "scaleX(0.5)",
                    d = c === b.getBoundingClientRect().width && !(n && Ca),
                    Ga.removeChild(a)),
                    d
            }(), Ia = function(a, b, c, d, e, f) {
                var h, i, j, k, l, m, n, o, p, q, r, s, t, u, v = a._gsTransform, w = Ma(a, !0);
                v && (t = v.xOrigin,
                    u = v.yOrigin),
                (!d || (h = d.split(" ")).length < 2) && (n = a.getBBox(),
                    b = ea(b).split(" "),
                    h = [(-1 !== b[0].indexOf("%") ? parseFloat(b[0]) / 100 * n.width : parseFloat(b[0])) + n.x, (-1 !== b[1].indexOf("%") ? parseFloat(b[1]) / 100 * n.height : parseFloat(b[1])) + n.y]),
                    c.xOrigin = k = parseFloat(h[0]),
                    c.yOrigin = l = parseFloat(h[1]),
                d && w !== La && (m = w[0],
                    n = w[1],
                    o = w[2],
                    p = w[3],
                    q = w[4],
                    r = w[5],
                    s = m * p - n * o,
                    i = k * (p / s) + l * (-o / s) + (o * r - p * q) / s,
                    j = k * (-n / s) + l * (m / s) - (m * r - n * q) / s,
                    k = c.xOrigin = h[0] = i,
                    l = c.yOrigin = h[1] = j),
                v && (f && (c.xOffset = v.xOffset,
                    c.yOffset = v.yOffset,
                    v = c),
                    e || e !== !1 && g.defaultSmoothOrigin !== !1 ? (i = k - t,
                        j = l - u,
                        v.xOffset += i * w[0] + j * w[2] - i,
                        v.yOffset += i * w[1] + j * w[3] - j) : v.xOffset = v.yOffset = 0),
                f || a.setAttribute("data-svg-origin", h.join(" "))
            }
            , Ja = function(a) {
                try {
                    return a.getBBox()
                } catch (a) {}
            }
            , Ka = function(a) {
                return !!(Ea && a.getBBox && a.getCTM && Ja(a) && (!a.parentNode || a.parentNode.getBBox && a.parentNode.getCTM))
            }
            , La = [1, 0, 0, 1, 0, 0], Ma = function(a, b) {
                var c, d, e, f, g, h, i = a._gsTransform || new Da, j = 1e5, k = a.style;
                if (za ? d = Y(a, Aa, null , !0) : a.currentStyle && (d = a.currentStyle.filter.match(E),
                        d = d && 4 === d.length ? [d[0].substr(4), Number(d[2].substr(4)), Number(d[1].substr(4)), d[3].substr(4), i.x || 0, i.y || 0].join(",") : ""),
                        c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
                    c && za && ((h = "none" === X(a).display) || !a.parentNode) && (h && (f = k.display,
                        k.display = "block"),
                    a.parentNode || (g = 1,
                        Ga.appendChild(a)),
                        d = Y(a, Aa, null , !0),
                        c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
                        f ? k.display = f : h && Ra(k, "display"),
                    g && Ga.removeChild(a)),
                    (i.svg || a.getBBox && Ka(a)) && (c && -1 !== (k[za] + "").indexOf("matrix") && (d = k[za],
                        c = 0),
                        e = a.getAttribute("transform"),
                    c && e && (-1 !== e.indexOf("matrix") ? (d = e,
                        c = 0) : -1 !== e.indexOf("translate") && (d = "matrix(1,0,0,1," + e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")",
                        c = 0))),
                        c)
                    return La;
                for (e = (d || "").match(q) || [],
                         ta = e.length; --ta > -1; )
                    f = Number(e[ta]),
                        e[ta] = (g = f - (f |= 0)) ? (g * j + (0 > g ? -.5 : .5) | 0) / j + f : f;
                return b && e.length > 6 ? [e[0], e[1], e[4], e[5], e[12], e[13]] : e
            }
            , Na = P.getTransform = function(a, c, d, e) {
                if (a._gsTransform && d && !e)
                    return a._gsTransform;
                var f, h, i, j, k, l, m = d ? a._gsTransform || new Da : new Da, n = m.scaleX < 0, o = 2e-5, p = 1e5, q = Ca ? parseFloat(Y(a, Ba, c, !1, "0 0 0").split(" ")[2]) || m.zOrigin || 0 : 0, r = parseFloat(g.defaultTransformPerspective) || 0;
                if (m.svg = !(!a.getBBox || !Ka(a)),
                    m.svg && (Ia(a, Y(a, Ba, c, !1, "50% 50%") + "", m, a.getAttribute("data-svg-origin")),
                        xa = g.useSVGTransformAttr || Ha),
                        f = Ma(a),
                    f !== La) {
                    if (16 === f.length) {
                        var s, t, u, v, w, x = f[0], y = f[1], z = f[2], A = f[3], B = f[4], C = f[5], D = f[6], E = f[7], F = f[8], G = f[9], H = f[10], I = f[12], K = f[13], L = f[14], M = f[11], N = Math.atan2(D, H);
                        m.zOrigin && (L = -m.zOrigin,
                            I = F * L - f[12],
                            K = G * L - f[13],
                            L = H * L + m.zOrigin - f[14]),
                            m.rotationX = N * J,
                        N && (v = Math.cos(-N),
                            w = Math.sin(-N),
                            s = B * v + F * w,
                            t = C * v + G * w,
                            u = D * v + H * w,
                            F = B * -w + F * v,
                            G = C * -w + G * v,
                            H = D * -w + H * v,
                            M = E * -w + M * v,
                            B = s,
                            C = t,
                            D = u),
                            N = Math.atan2(-z, H),
                            m.rotationY = N * J,
                        N && (v = Math.cos(-N),
                            w = Math.sin(-N),
                            s = x * v - F * w,
                            t = y * v - G * w,
                            u = z * v - H * w,
                            G = y * w + G * v,
                            H = z * w + H * v,
                            M = A * w + M * v,
                            x = s,
                            y = t,
                            z = u),
                            N = Math.atan2(y, x),
                            m.rotation = N * J,
                        N && (v = Math.cos(-N),
                            w = Math.sin(-N),
                            x = x * v + B * w,
                            t = y * v + C * w,
                            C = y * -w + C * v,
                            D = z * -w + D * v,
                            y = t),
                        m.rotationX && Math.abs(m.rotationX) + Math.abs(m.rotation) > 359.9 && (m.rotationX = m.rotation = 0,
                            m.rotationY = 180 - m.rotationY),
                            m.scaleX = (Math.sqrt(x * x + y * y) * p + .5 | 0) / p,
                            m.scaleY = (Math.sqrt(C * C + G * G) * p + .5 | 0) / p,
                            m.scaleZ = (Math.sqrt(D * D + H * H) * p + .5 | 0) / p,
                            m.rotationX || m.rotationY ? m.skewX = 0 : (m.skewX = B || C ? Math.atan2(B, C) * J + m.rotation : m.skewX || 0,
                            Math.abs(m.skewX) > 90 && Math.abs(m.skewX) < 270 && (n ? (m.scaleX *= -1,
                                m.skewX += m.rotation <= 0 ? 180 : -180,
                                m.rotation += m.rotation <= 0 ? 180 : -180) : (m.scaleY *= -1,
                                m.skewX += m.skewX <= 0 ? 180 : -180))),
                            m.perspective = M ? 1 / (0 > M ? -M : M) : 0,
                            m.x = I,
                            m.y = K,
                            m.z = L,
                        m.svg && (m.x -= m.xOrigin - (m.xOrigin * x - m.yOrigin * B),
                            m.y -= m.yOrigin - (m.yOrigin * y - m.xOrigin * C))
                    } else if (!Ca || e || !f.length || m.x !== f[4] || m.y !== f[5] || !m.rotationX && !m.rotationY) {
                        var O = f.length >= 6
                            , P = O ? f[0] : 1
                            , Q = f[1] || 0
                            , R = f[2] || 0
                            , S = O ? f[3] : 1;
                        m.x = f[4] || 0,
                            m.y = f[5] || 0,
                            i = Math.sqrt(P * P + Q * Q),
                            j = Math.sqrt(S * S + R * R),
                            k = P || Q ? Math.atan2(Q, P) * J : m.rotation || 0,
                            l = R || S ? Math.atan2(R, S) * J + k : m.skewX || 0,
                        Math.abs(l) > 90 && Math.abs(l) < 270 && (n ? (i *= -1,
                            l += 0 >= k ? 180 : -180,
                            k += 0 >= k ? 180 : -180) : (j *= -1,
                            l += 0 >= l ? 180 : -180)),
                            m.scaleX = i,
                            m.scaleY = j,
                            m.rotation = k,
                            m.skewX = l,
                        Ca && (m.rotationX = m.rotationY = m.z = 0,
                            m.perspective = r,
                            m.scaleZ = 1),
                        m.svg && (m.x -= m.xOrigin - (m.xOrigin * P + m.yOrigin * R),
                            m.y -= m.yOrigin - (m.xOrigin * Q + m.yOrigin * S))
                    }
                    m.zOrigin = q;
                    for (h in m)
                        m[h] < o && m[h] > -o && (m[h] = 0)
                }
                return d && (a._gsTransform = m,
                m.svg && (xa && a.style[za] ? b.delayedCall(.001, function() {
                    Ra(a.style, za)
                }) : !xa && a.getAttribute("transform") && b.delayedCall(.001, function() {
                    a.removeAttribute("transform")
                }))),
                    m
            }
            , Oa = function(a) {
                var b, c, d = this.data, e = -d.rotation * I, f = e + d.skewX * I, g = 1e5, h = (Math.cos(e) * d.scaleX * g | 0) / g, i = (Math.sin(e) * d.scaleX * g | 0) / g, j = (Math.sin(f) * -d.scaleY * g | 0) / g, k = (Math.cos(f) * d.scaleY * g | 0) / g, l = this.t.style, m = this.t.currentStyle;
                if (m) {
                    c = i,
                        i = -j,
                        j = -c,
                        b = m.filter,
                        l.filter = "";
                    var n, o, q = this.t.offsetWidth, r = this.t.offsetHeight, s = "absolute" !== m.position, t = "progid:DXImageTransform.Microsoft.Matrix(M11=" + h + ", M12=" + i + ", M21=" + j + ", M22=" + k, w = d.x + q * d.xPercent / 100, x = d.y + r * d.yPercent / 100;
                    if (null  != d.ox && (n = (d.oxp ? q * d.ox * .01 : d.ox) - q / 2,
                            o = (d.oyp ? r * d.oy * .01 : d.oy) - r / 2,
                            w += n - (n * h + o * i),
                            x += o - (n * j + o * k)),
                            s ? (n = q / 2,
                                o = r / 2,
                                t += ", Dx=" + (n - (n * h + o * i) + w) + ", Dy=" + (o - (n * j + o * k) + x) + ")") : t += ", sizingMethod='auto expand')",
                            -1 !== b.indexOf("DXImageTransform.Microsoft.Matrix(") ? l.filter = b.replace(F, t) : l.filter = t + " " + b,
                        (0 === a || 1 === a) && 1 === h && 0 === i && 0 === j && 1 === k && (s && -1 === t.indexOf("Dx=0, Dy=0") || v.test(b) && 100 !== parseFloat(RegExp.$1) || -1 === b.indexOf(b.indexOf("Alpha")) && l.removeAttribute("filter")),
                            !s) {
                        var y, z, A, B = 8 > p ? 1 : -1;
                        for (n = d.ieOffsetX || 0,
                                 o = d.ieOffsetY || 0,
                                 d.ieOffsetX = Math.round((q - ((0 > h ? -h : h) * q + (0 > i ? -i : i) * r)) / 2 + w),
                                 d.ieOffsetY = Math.round((r - ((0 > k ? -k : k) * r + (0 > j ? -j : j) * q)) / 2 + x),
                                 ta = 0; 4 > ta; ta++)
                            z = ca[ta],
                                y = m[z],
                                c = -1 !== y.indexOf("px") ? parseFloat(y) : Z(this.t, z, parseFloat(y), y.replace(u, "")) || 0,
                                A = c !== d[z] ? 2 > ta ? -d.ieOffsetX : -d.ieOffsetY : 2 > ta ? n - d.ieOffsetX : o - d.ieOffsetY,
                                l[z] = (d[z] = Math.round(c - A * (0 === ta || 2 === ta ? 1 : B))) + "px"
                    }
                }
            }
            , Pa = P.set3DTransformRatio = P.setTransformRatio = function(a) {
                var b, c, d, e, f, g, h, i, j, k, l, m, o, p, q, r, s, t, u, v, w, x, y, z = this.data, A = this.t.style, B = z.rotation, C = z.rotationX, D = z.rotationY, E = z.scaleX, F = z.scaleY, G = z.scaleZ, H = z.x, J = z.y, K = z.z, L = z.svg, M = z.perspective, N = z.force3D;
                if (((1 === a || 0 === a) && "auto" === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !N) && !K && !M && !D && !C && 1 === G || xa && L || !Ca)
                    return void (B || z.skewX || L ? (B *= I,
                        x = z.skewX * I,
                        y = 1e5,
                        b = Math.cos(B) * E,
                        e = Math.sin(B) * E,
                        c = Math.sin(B - x) * -F,
                        f = Math.cos(B - x) * F,
                    x && "simple" === z.skewType && (s = Math.tan(x),
                        s = Math.sqrt(1 + s * s),
                        c *= s,
                        f *= s,
                    z.skewY && (b *= s,
                        e *= s)),
                    L && (H += z.xOrigin - (z.xOrigin * b + z.yOrigin * c) + z.xOffset,
                        J += z.yOrigin - (z.xOrigin * e + z.yOrigin * f) + z.yOffset,
                    xa && (z.xPercent || z.yPercent) && (p = this.t.getBBox(),
                        H += .01 * z.xPercent * p.width,
                        J += .01 * z.yPercent * p.height),
                        p = 1e-6,
                    p > H && H > -p && (H = 0),
                    p > J && J > -p && (J = 0)),
                        u = (b * y | 0) / y + "," + (e * y | 0) / y + "," + (c * y | 0) / y + "," + (f * y | 0) / y + "," + H + "," + J + ")",
                        L && xa ? this.t.setAttribute("transform", "matrix(" + u) : A[za] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + u) : A[za] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + E + ",0,0," + F + "," + H + "," + J + ")");
                if (n && (p = 1e-4,
                    p > E && E > -p && (E = G = 2e-5),
                    p > F && F > -p && (F = G = 2e-5),
                    !M || z.z || z.rotationX || z.rotationY || (M = 0)),
                    B || z.skewX)
                    B *= I,
                        q = b = Math.cos(B),
                        r = e = Math.sin(B),
                    z.skewX && (B -= z.skewX * I,
                        q = Math.cos(B),
                        r = Math.sin(B),
                    "simple" === z.skewType && (s = Math.tan(z.skewX * I),
                        s = Math.sqrt(1 + s * s),
                        q *= s,
                        r *= s,
                    z.skewY && (b *= s,
                        e *= s))),
                        c = -r,
                        f = q;
                else {
                    if (!(D || C || 1 !== G || M || L))
                        return void (A[za] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) translate3d(" : "translate3d(") + H + "px," + J + "px," + K + "px)" + (1 !== E || 1 !== F ? " scale(" + E + "," + F + ")" : ""));
                    b = f = 1,
                        c = e = 0
                }
                j = 1,
                    d = g = h = i = k = l = 0,
                    m = M ? -1 / M : 0,
                    o = z.zOrigin,
                    p = 1e-6,
                    v = ",",
                    w = "0",
                    B = D * I,
                B && (q = Math.cos(B),
                    r = Math.sin(B),
                    h = -r,
                    k = m * -r,
                    d = b * r,
                    g = e * r,
                    j = q,
                    m *= q,
                    b *= q,
                    e *= q),
                    B = C * I,
                B && (q = Math.cos(B),
                    r = Math.sin(B),
                    s = c * q + d * r,
                    t = f * q + g * r,
                    i = j * r,
                    l = m * r,
                    d = c * -r + d * q,
                    g = f * -r + g * q,
                    j *= q,
                    m *= q,
                    c = s,
                    f = t),
                1 !== G && (d *= G,
                    g *= G,
                    j *= G,
                    m *= G),
                1 !== F && (c *= F,
                    f *= F,
                    i *= F,
                    l *= F),
                1 !== E && (b *= E,
                    e *= E,
                    h *= E,
                    k *= E),
                (o || L) && (o && (H += d * -o,
                    J += g * -o,
                    K += j * -o + o),
                L && (H += z.xOrigin - (z.xOrigin * b + z.yOrigin * c) + z.xOffset,
                    J += z.yOrigin - (z.xOrigin * e + z.yOrigin * f) + z.yOffset),
                p > H && H > -p && (H = w),
                p > J && J > -p && (J = w),
                p > K && K > -p && (K = 0)),
                    u = z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix3d(" : "matrix3d(",
                    u += (p > b && b > -p ? w : b) + v + (p > e && e > -p ? w : e) + v + (p > h && h > -p ? w : h),
                    u += v + (p > k && k > -p ? w : k) + v + (p > c && c > -p ? w : c) + v + (p > f && f > -p ? w : f),
                    C || D || 1 !== G ? (u += v + (p > i && i > -p ? w : i) + v + (p > l && l > -p ? w : l) + v + (p > d && d > -p ? w : d),
                        u += v + (p > g && g > -p ? w : g) + v + (p > j && j > -p ? w : j) + v + (p > m && m > -p ? w : m) + v) : u += ",0,0,0,0,1,0,",
                    u += H + v + J + v + K + v + (M ? 1 + -K / M : 1) + ")",
                    A[za] = u
            }
            ;
        j = Da.prototype,
            j.x = j.y = j.z = j.skewX = j.skewY = j.rotation = j.rotationX = j.rotationY = j.zOrigin = j.xPercent = j.yPercent = j.xOffset = j.yOffset = 0,
            j.scaleX = j.scaleY = j.scaleZ = 1,
            va("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
                parser: function(a, b, c, d, f, h, i) {
                    if (d._lastParsedTransform === i)
                        return f;
                    d._lastParsedTransform = i;
                    var j, k, l, m, n, o, p, q, r, s = a._gsTransform, t = a.style, u = 1e-6, v = ya.length, w = i, x = {}, y = "transformOrigin", z = Na(a, e, !0, i.parseTransform);
                    if (d._transform = z,
                        "string" == typeof w.transform && za)
                        k = N.style,
                            k[za] = w.transform,
                            k.display = "block",
                            k.position = "absolute",
                            L.body.appendChild(N),
                            j = Na(N, null , !1),
                        z.svg && (p = z.xOrigin,
                            q = z.yOrigin,
                            j.x -= z.xOffset,
                            j.y -= z.yOffset,
                        (w.transformOrigin || w.svgOrigin) && (l = {},
                            Ia(a, ea(w.transformOrigin), l, w.svgOrigin, w.smoothOrigin, !0),
                            p = l.xOrigin,
                            q = l.yOrigin,
                            j.x -= l.xOffset - z.xOffset,
                            j.y -= l.yOffset - z.yOffset),
                        (p || q) && (r = Ma(N, !0),
                            j.x -= p - (p * r[0] + q * r[2]),
                            j.y -= q - (p * r[1] + q * r[3]))),
                            L.body.removeChild(N),
                        j.perspective || (j.perspective = z.perspective),
                        null  != w.xPercent && (j.xPercent = ga(w.xPercent, z.xPercent)),
                        null  != w.yPercent && (j.yPercent = ga(w.yPercent, z.yPercent));
                    else if ("object" == typeof w) {
                        if (j = {
                                scaleX: ga(null  != w.scaleX ? w.scaleX : w.scale, z.scaleX),
                                scaleY: ga(null  != w.scaleY ? w.scaleY : w.scale, z.scaleY),
                                scaleZ: ga(w.scaleZ, z.scaleZ),
                                x: ga(w.x, z.x),
                                y: ga(w.y, z.y),
                                z: ga(w.z, z.z),
                                xPercent: ga(w.xPercent, z.xPercent),
                                yPercent: ga(w.yPercent, z.yPercent),
                                perspective: ga(w.transformPerspective, z.perspective)
                            },
                                o = w.directionalRotation,
                            null  != o)
                            if ("object" == typeof o)
                                for (k in o)
                                    w[k] = o[k];
                            else
                                w.rotation = o;
                        "string" == typeof w.x && -1 !== w.x.indexOf("%") && (j.x = 0,
                            j.xPercent = ga(w.x, z.xPercent)),
                        "string" == typeof w.y && -1 !== w.y.indexOf("%") && (j.y = 0,
                            j.yPercent = ga(w.y, z.yPercent)),
                            j.rotation = ha("rotation" in w ? w.rotation : "shortRotation" in w ? w.shortRotation + "_short" : "rotationZ" in w ? w.rotationZ : z.rotation - z.skewY, z.rotation - z.skewY, "rotation", x),
                        Ca && (j.rotationX = ha("rotationX" in w ? w.rotationX : "shortRotationX" in w ? w.shortRotationX + "_short" : z.rotationX || 0, z.rotationX, "rotationX", x),
                            j.rotationY = ha("rotationY" in w ? w.rotationY : "shortRotationY" in w ? w.shortRotationY + "_short" : z.rotationY || 0, z.rotationY, "rotationY", x)),
                            j.skewX = ha(w.skewX, z.skewX - z.skewY),
                        (j.skewY = ha(w.skewY, z.skewY)) && (j.skewX += j.skewY,
                            j.rotation += j.skewY)
                    }
                    for (Ca && null  != w.force3D && (z.force3D = w.force3D,
                        n = !0),
                             z.skewType = w.skewType || z.skewType || g.defaultSkewType,
                             m = z.force3D || z.z || z.rotationX || z.rotationY || j.z || j.rotationX || j.rotationY || j.perspective,
                         m || null  == w.scale || (j.scaleZ = 1); --v > -1; )
                        c = ya[v],
                            l = j[c] - z[c],
                        (l > u || -u > l || null  != w[c] || null  != K[c]) && (n = !0,
                            f = new qa(z,c,z[c],l,f),
                        c in x && (f.e = x[c]),
                            f.xs0 = 0,
                            f.plugin = h,
                            d._overwriteProps.push(f.n));
                    return l = w.transformOrigin,
                    z.svg && (l || w.svgOrigin) && (p = z.xOffset,
                        q = z.yOffset,
                        Ia(a, ea(l), j, w.svgOrigin, w.smoothOrigin),
                        f = ra(z, "xOrigin", (s ? z : j).xOrigin, j.xOrigin, f, y),
                        f = ra(z, "yOrigin", (s ? z : j).yOrigin, j.yOrigin, f, y),
                    (p !== z.xOffset || q !== z.yOffset) && (f = ra(z, "xOffset", s ? p : z.xOffset, z.xOffset, f, y),
                        f = ra(z, "yOffset", s ? q : z.yOffset, z.yOffset, f, y)),
                        l = xa ? null  : "0px 0px"),
                    (l || Ca && m && z.zOrigin) && (za ? (n = !0,
                        c = Ba,
                        l = (l || Y(a, c, e, !1, "50% 50%")) + "",
                        f = new qa(t,c,0,0,f,-1,y),
                        f.b = t[c],
                        f.plugin = h,
                        Ca ? (k = z.zOrigin,
                            l = l.split(" "),
                            z.zOrigin = (l.length > 2 && (0 === k || "0px" !== l[2]) ? parseFloat(l[2]) : k) || 0,
                            f.xs0 = f.e = l[0] + " " + (l[1] || "50%") + " 0px",
                            f = new qa(z,"zOrigin",0,0,f,-1,f.n),
                            f.b = k,
                            f.xs0 = f.e = z.zOrigin) : f.xs0 = f.e = l) : ea(l + "", z)),
                    n && (d._transformType = z.svg && xa || !m && 3 !== this._transformType ? 2 : 3),
                        f
                },
                prefix: !0
            }),
            va("boxShadow", {
                defaultValue: "0px 0px 0px 0px #999",
                prefix: !0,
                color: !0,
                multi: !0,
                keyword: "inset"
            }),
            va("borderRadius", {
                defaultValue: "0px",
                parser: function(a, b, c, f, g, h) {
                    b = this.format(b);
                    var i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], z = a.style;
                    for (q = parseFloat(a.offsetWidth),
                             r = parseFloat(a.offsetHeight),
                             i = b.split(" "),
                             j = 0; j < y.length; j++)
                        this.p.indexOf("border") && (y[j] = W(y[j])),
                            m = l = Y(a, y[j], e, !1, "0px"),
                        -1 !== m.indexOf(" ") && (l = m.split(" "),
                            m = l[0],
                            l = l[1]),
                            n = k = i[j],
                            o = parseFloat(m),
                            t = m.substr((o + "").length),
                            u = "=" === n.charAt(1),
                            u ? (p = parseInt(n.charAt(0) + "1", 10),
                                n = n.substr(2),
                                p *= parseFloat(n),
                                s = n.substr((p + "").length - (0 > p ? 1 : 0)) || "") : (p = parseFloat(n),
                                s = n.substr((p + "").length)),
                        "" === s && (s = d[c] || t),
                        s !== t && (v = Z(a, "borderLeft", o, t),
                            w = Z(a, "borderTop", o, t),
                            "%" === s ? (m = v / q * 100 + "%",
                                l = w / r * 100 + "%") : "em" === s ? (x = Z(a, "borderLeft", 1, "em"),
                                m = v / x + "em",
                                l = w / x + "em") : (m = v + "px",
                                l = w + "px"),
                        u && (n = parseFloat(m) + p + s,
                            k = parseFloat(l) + p + s)),
                            g = sa(z, y[j], m + " " + l, n + " " + k, !1, "0px", g);
                    return g
                },
                prefix: !0,
                formatter: na("0px 0px 0px 0px", !1, !0)
            }),
            va("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
                defaultValue: "0px",
                parser: function(a, b, c, d, f, g) {
                    return sa(a.style, c, this.format(Y(a, c, e, !1, "0px 0px")), this.format(b), !1, "0px", f)
                },
                prefix: !0,
                formatter: na("0px 0px", !1, !0)
            }),
            va("backgroundPosition", {
                defaultValue: "0 0",
                parser: function(a, b, c, d, f, g) {
                    var h, i, j, k, l, m, n = "background-position", o = e || X(a, null ), q = this.format((o ? p ? o.getPropertyValue(n + "-x") + " " + o.getPropertyValue(n + "-y") : o.getPropertyValue(n) : a.currentStyle.backgroundPositionX + " " + a.currentStyle.backgroundPositionY) || "0 0"), r = this.format(b);
                    if (-1 !== q.indexOf("%") != (-1 !== r.indexOf("%")) && r.split(",").length < 2 && (m = Y(a, "backgroundImage").replace(B, ""),
                        m && "none" !== m)) {
                        for (h = q.split(" "),
                                 i = r.split(" "),
                                 O.setAttribute("src", m),
                                 j = 2; --j > -1; )
                            q = h[j],
                                k = -1 !== q.indexOf("%"),
                            k !== (-1 !== i[j].indexOf("%")) && (l = 0 === j ? a.offsetWidth - O.width : a.offsetHeight - O.height,
                                h[j] = k ? parseFloat(q) / 100 * l + "px" : parseFloat(q) / l * 100 + "%");
                        q = h.join(" ")
                    }
                    return this.parseComplex(a.style, q, r, f, g)
                },
                formatter: ea
            }),
            va("backgroundSize", {
                defaultValue: "0 0",
                formatter: ea
            }),
            va("perspective", {
                defaultValue: "0px",
                prefix: !0
            }),
            va("perspectiveOrigin", {
                defaultValue: "50% 50%",
                prefix: !0
            }),
            va("transformStyle", {
                prefix: !0
            }),
            va("backfaceVisibility", {
                prefix: !0
            }),
            va("userSelect", {
                prefix: !0
            }),
            va("margin", {
                parser: oa("marginTop,marginRight,marginBottom,marginLeft")
            }),
            va("padding", {
                parser: oa("paddingTop,paddingRight,paddingBottom,paddingLeft")
            }),
            va("clip", {
                defaultValue: "rect(0px,0px,0px,0px)",
                parser: function(a, b, c, d, f, g) {
                    var h, i, j;
                    return 9 > p ? (i = a.currentStyle,
                        j = 8 > p ? " " : ",",
                        h = "rect(" + i.clipTop + j + i.clipRight + j + i.clipBottom + j + i.clipLeft + ")",
                        b = this.format(b).split(",").join(j)) : (h = this.format(Y(a, this.p, e, !1, this.dflt)),
                        b = this.format(b)),
                        this.parseComplex(a.style, h, b, f, g)
                }
            }),
            va("textShadow", {
                defaultValue: "0px 0px 0px #999",
                color: !0,
                multi: !0
            }),
            va("autoRound,strictUnits", {
                parser: function(a, b, c, d, e) {
                    return e
                }
            }),
            va("border", {
                defaultValue: "0px solid #000",
                parser: function(a, b, c, d, f, g) {
                    var h = Y(a, "borderTopWidth", e, !1, "0px")
                        , i = this.format(b).split(" ")
                        , j = i[0].replace(u, "");
                    return "px" !== j && (h = parseFloat(h) / Z(a, "borderTopWidth", 1, j) + j),
                        this.parseComplex(a.style, this.format(h + " " + Y(a, "borderTopStyle", e, !1, "solid") + " " + Y(a, "borderTopColor", e, !1, "#000")), i.join(" "), f, g)
                },
                color: !0,
                formatter: function(a) {
                    var b = a.split(" ");
                    return b[0] + " " + (b[1] || "solid") + " " + (a.match(ma) || ["#000"])[0]
                }
            }),
            va("borderWidth", {
                parser: oa("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
            }),
            va("float,cssFloat,styleFloat", {
                parser: function(a, b, c, d, e, f) {
                    var g = a.style
                        , h = "cssFloat" in g ? "cssFloat" : "styleFloat";
                    return new qa(g,h,0,0,e,-1,c,!1,0,g[h],b)
                }
            });
        var Qa = function(a) {
                var b, c = this.t, d = c.filter || Y(this.data, "filter") || "", e = this.s + this.c * a | 0;
                100 === e && (-1 === d.indexOf("atrix(") && -1 === d.indexOf("radient(") && -1 === d.indexOf("oader(") ? (c.removeAttribute("filter"),
                    b = !Y(this.data, "filter")) : (c.filter = d.replace(x, ""),
                    b = !0)),
                b || (this.xn1 && (c.filter = d = d || "alpha(opacity=" + e + ")"),
                    -1 === d.indexOf("pacity") ? 0 === e && this.xn1 || (c.filter = d + " alpha(opacity=" + e + ")") : c.filter = d.replace(v, "opacity=" + e))
            }
            ;
        va("opacity,alpha,autoAlpha", {
            defaultValue: "1",
            parser: function(a, b, c, d, f, g) {
                var h = parseFloat(Y(a, "opacity", e, !1, "1"))
                    , i = a.style
                    , j = "autoAlpha" === c;
                return "string" == typeof b && "=" === b.charAt(1) && (b = ("-" === b.charAt(0) ? -1 : 1) * parseFloat(b.substr(2)) + h),
                j && 1 === h && "hidden" === Y(a, "visibility", e) && 0 !== b && (h = 0),
                    R ? f = new qa(i,"opacity",h,b - h,f) : (f = new qa(i,"opacity",100 * h,100 * (b - h),f),
                        f.xn1 = j ? 1 : 0,
                        i.zoom = 1,
                        f.type = 2,
                        f.b = "alpha(opacity=" + f.s + ")",
                        f.e = "alpha(opacity=" + (f.s + f.c) + ")",
                        f.data = a,
                        f.plugin = g,
                        f.setRatio = Qa),
                j && (f = new qa(i,"visibility",0,0,f,-1,null ,!1,0,0 !== h ? "inherit" : "hidden",0 === b ? "hidden" : "inherit"),
                    f.xs0 = "inherit",
                    d._overwriteProps.push(f.n),
                    d._overwriteProps.push(c)),
                    f
            }
        });
        var Ra = function(a, b) {
                b && (a.removeProperty ? (("ms" === b.substr(0, 2) || "webkit" === b.substr(0, 6)) && (b = "-" + b),
                    a.removeProperty(b.replace(z, "-$1").toLowerCase())) : a.removeAttribute(b))
            }
            , Sa = function(a) {
                if (this.t._gsClassPT = this,
                    1 === a || 0 === a) {
                    this.t.setAttribute("class", 0 === a ? this.b : this.e);
                    for (var b = this.data, c = this.t.style; b; )
                        b.v ? c[b.p] = b.v : Ra(c, b.p),
                            b = b._next;
                    1 === a && this.t._gsClassPT === this && (this.t._gsClassPT = null )
                } else
                    this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
            }
            ;
        va("className", {
            parser: function(a, b, d, f, g, h, i) {
                var j, k, l, m, n, o = a.getAttribute("class") || "", p = a.style.cssText;
                if (g = f._classNamePT = new qa(a,d,0,0,g,2),
                        g.setRatio = Sa,
                        g.pr = -11,
                        c = !0,
                        g.b = o,
                        k = _(a, e),
                        l = a._gsClassPT) {
                    for (m = {},
                             n = l.data; n; )
                        m[n.p] = 1,
                            n = n._next;
                    l.setRatio(1)
                }
                return a._gsClassPT = g,
                    g.e = "=" !== b.charAt(1) ? b : o.replace(new RegExp("(?:\\s|^)" + b.substr(2) + "(?![\\w-])"), "") + ("+" === b.charAt(0) ? " " + b.substr(2) : ""),
                    a.setAttribute("class", g.e),
                    j = aa(a, k, _(a), i, m),
                    a.setAttribute("class", o),
                    g.data = j.firstMPT,
                    a.style.cssText = p,
                    g = g.xfirst = f.parse(a, j.difs, g, h)
            }
        });
        var Ta = function(a) {
                if ((1 === a || 0 === a) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                    var b, c, d, e, f, g = this.t.style, h = i.transform.parse;
                    if ("all" === this.e)
                        g.cssText = "",
                            e = !0;
                    else
                        for (b = this.e.split(" ").join("").split(","),
                                 d = b.length; --d > -1; )
                            c = b[d],
                            i[c] && (i[c].parse === h ? e = !0 : c = "transformOrigin" === c ? Ba : i[c].p),
                                Ra(g, c);
                    e && (Ra(g, za),
                        f = this.t._gsTransform,
                    f && (f.svg && (this.t.removeAttribute("data-svg-origin"),
                        this.t.removeAttribute("transform")),
                        delete this.t._gsTransform))
                }
            }
            ;
        for (va("clearProps", {
            parser: function(a, b, d, e, f) {
                return f = new qa(a,d,0,0,f,2),
                    f.setRatio = Ta,
                    f.e = b,
                    f.pr = -10,
                    f.data = e._tween,
                    c = !0,
                    f
            }
        }),
                 j = "bezier,throwProps,physicsProps,physics2D".split(","),
                 ta = j.length; ta--; )
            wa(j[ta]);
        j = g.prototype,
            j._firstPT = j._lastParsedTransform = j._transform = null ,
            j._onInitTween = function(a, b, h) {
                if (!a.nodeType)
                    return !1;
                this._target = a,
                    this._tween = h,
                    this._vars = b,
                    k = b.autoRound,
                    c = !1,
                    d = b.suffixMap || g.suffixMap,
                    e = X(a, ""),
                    f = this._overwriteProps;
                var j, n, p, q, r, s, t, u, v, x = a.style;
                if (l && "" === x.zIndex && (j = Y(a, "zIndex", e),
                    ("auto" === j || "" === j) && this._addLazySet(x, "zIndex", 0)),
                    "string" == typeof b && (q = x.cssText,
                        j = _(a, e),
                        x.cssText = q + ";" + b,
                        j = aa(a, j, _(a)).difs,
                    !R && w.test(b) && (j.opacity = parseFloat(RegExp.$1)),
                        b = j,
                        x.cssText = q),
                        b.className ? this._firstPT = n = i.className.parse(a, b.className, "className", this, null , null , b) : this._firstPT = n = this.parse(a, b, null ),
                        this._transformType) {
                    for (v = 3 === this._transformType,
                             za ? m && (l = !0,
                             "" === x.zIndex && (t = Y(a, "zIndex", e),
                             ("auto" === t || "" === t) && this._addLazySet(x, "zIndex", 0)),
                             o && this._addLazySet(x, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (v ? "visible" : "hidden"))) : x.zoom = 1,
                             p = n; p && p._next; )
                        p = p._next;
                    u = new qa(a,"transform",0,0,null ,2),
                        this._linkCSSP(u, null , p),
                        u.setRatio = za ? Pa : Oa,
                        u.data = this._transform || Na(a, e, !0),
                        u.tween = h,
                        u.pr = -1,
                        f.pop()
                }
                if (c) {
                    for (; n; ) {
                        for (s = n._next,
                                 p = q; p && p.pr > n.pr; )
                            p = p._next;
                        (n._prev = p ? p._prev : r) ? n._prev._next = n : q = n,
                            (n._next = p) ? p._prev = n : r = n,
                            n = s
                    }
                    this._firstPT = q
                }
                return !0
            }
            ,
            j.parse = function(a, b, c, f) {
                var g, h, j, l, m, n, o, p, q, r, s = a.style;
                for (g in b)
                    n = b[g],
                        h = i[g],
                        h ? c = h.parse(a, n, g, this, c, f, b) : (m = Y(a, g, e) + "",
                            q = "string" == typeof n,
                            "color" === g || "fill" === g || "stroke" === g || -1 !== g.indexOf("Color") || q && y.test(n) ? (q || (n = ka(n),
                                n = (n.length > 3 ? "rgba(" : "rgb(") + n.join(",") + ")"),
                                c = sa(s, g, m, n, !0, "transparent", c, 0, f)) : q && H.test(n) ? c = sa(s, g, m, n, !0, null , c, 0, f) : (j = parseFloat(m),
                                o = j || 0 === j ? m.substr((j + "").length) : "",
                            ("" === m || "auto" === m) && ("width" === g || "height" === g ? (j = da(a, g, e),
                                o = "px") : "left" === g || "top" === g ? (j = $(a, g, e),
                                o = "px") : (j = "opacity" !== g ? 0 : 1,
                                o = "")),
                                r = q && "=" === n.charAt(1),
                                r ? (l = parseInt(n.charAt(0) + "1", 10),
                                    n = n.substr(2),
                                    l *= parseFloat(n),
                                    p = n.replace(u, "")) : (l = parseFloat(n),
                                    p = q ? n.replace(u, "") : ""),
                            "" === p && (p = g in d ? d[g] : o),
                                n = l || 0 === l ? (r ? l + j : l) + p : b[g],
                            o !== p && "" !== p && (l || 0 === l) && j && (j = Z(a, g, j, o),
                                "%" === p ? (j /= Z(a, g, 100, "%") / 100,
                                b.strictUnits !== !0 && (m = j + "%")) : "em" === p || "rem" === p || "vw" === p || "vh" === p ? j /= Z(a, g, 1, p) : "px" !== p && (l = Z(a, g, l, p),
                                    p = "px"),
                            r && (l || 0 === l) && (n = l + j + p)),
                            r && (l += j),
                                !j && 0 !== j || !l && 0 !== l ? void 0 !== s[g] && (n || n + "" != "NaN" && null  != n) ? (c = new qa(s,g,l || j || 0,0,c,-1,g,!1,0,m,n),
                                    c.xs0 = "none" !== n || "display" !== g && -1 === g.indexOf("Style") ? n : m) : T("invalid " + g + " tween value: " + b[g]) : (c = new qa(s,g,j,l - j,c,0,g,k !== !1 && ("px" === p || "zIndex" === g),0,m,n),
                                    c.xs0 = p))),
                    f && c && !c.plugin && (c.plugin = f);
                return c
            }
            ,
            j.setRatio = function(a) {
                var b, c, d, e = this._firstPT, f = 1e-6;
                if (1 !== a || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                    if (a || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                        for (; e; ) {
                            if (b = e.c * a + e.s,
                                    e.r ? b = Math.round(b) : f > b && b > -f && (b = 0),
                                    e.type)
                                if (1 === e.type)
                                    if (d = e.l,
                                        2 === d)
                                        e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2;
                                    else if (3 === d)
                                        e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3;
                                    else if (4 === d)
                                        e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4;
                                    else if (5 === d)
                                        e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4 + e.xn4 + e.xs5;
                                    else {
                                        for (c = e.xs0 + b + e.xs1,
                                                 d = 1; d < e.l; d++)
                                            c += e["xn" + d] + e["xs" + (d + 1)];
                                        e.t[e.p] = c
                                    }
                                else
                                    -1 === e.type ? e.t[e.p] = e.xs0 : e.setRatio && e.setRatio(a);
                            else
                                e.t[e.p] = b + e.xs0;
                            e = e._next
                        }
                    else
                        for (; e; )
                            2 !== e.type ? e.t[e.p] = e.b : e.setRatio(a),
                                e = e._next;
                else
                    for (; e; ) {
                        if (2 !== e.type)
                            if (e.r && -1 !== e.type)
                                if (b = Math.round(e.s + e.c),
                                        e.type) {
                                    if (1 === e.type) {
                                        for (d = e.l,
                                                 c = e.xs0 + b + e.xs1,
                                                 d = 1; d < e.l; d++)
                                            c += e["xn" + d] + e["xs" + (d + 1)];
                                        e.t[e.p] = c
                                    }
                                } else
                                    e.t[e.p] = b + e.xs0;
                            else
                                e.t[e.p] = e.e;
                        else
                            e.setRatio(a);
                        e = e._next
                    }
            }
            ,
            j._enableTransforms = function(a) {
                this._transform = this._transform || Na(this._target, e, !0),
                    this._transformType = this._transform.svg && xa || !a && 3 !== this._transformType ? 2 : 3
            }
        ;
        var Ua = function(a) {
                this.t[this.p] = this.e,
                    this.data._linkCSSP(this, this._next, null , !0)
            }
            ;
        j._addLazySet = function(a, b, c) {
            var d = this._firstPT = new qa(a,b,0,0,this._firstPT,2);
            d.e = c,
                d.setRatio = Ua,
                d.data = this
        }
            ,
            j._linkCSSP = function(a, b, c, d) {
                return a && (b && (b._prev = a),
                a._next && (a._next._prev = a._prev),
                    a._prev ? a._prev._next = a._next : this._firstPT === a && (this._firstPT = a._next,
                        d = !0),
                    c ? c._next = a : d || null  !== this._firstPT || (this._firstPT = a),
                    a._next = b,
                    a._prev = c),
                    a
            }
            ,
            j._kill = function(b) {
                var c, d, e, f = b;
                if (b.autoAlpha || b.alpha) {
                    f = {};
                    for (d in b)
                        f[d] = b[d];
                    f.opacity = 1,
                    f.autoAlpha && (f.visibility = 1)
                }
                return b.className && (c = this._classNamePT) && (e = c.xfirst,
                    e && e._prev ? this._linkCSSP(e._prev, c._next, e._prev._prev) : e === this._firstPT && (this._firstPT = c._next),
                c._next && this._linkCSSP(c._next, c._next._next, e._prev),
                    this._classNamePT = null ),
                    a.prototype._kill.call(this, f)
            }
        ;
        var Va = function(a, b, c) {
                var d, e, f, g;
                if (a.slice)
                    for (e = a.length; --e > -1; )
                        Va(a[e], b, c);
                else
                    for (d = a.childNodes,
                             e = d.length; --e > -1; )
                        f = d[e],
                            g = f.type,
                        f.style && (b.push(_(f)),
                        c && c.push(f)),
                        1 !== g && 9 !== g && 11 !== g || !f.childNodes.length || Va(f, b, c);
            }
            ;
        return g.cascadeTo = function(a, c, d) {
            var e, f, g, h, i = b.to(a, c, d), j = [i], k = [], l = [], m = [], n = b._internals.reservedProps;
            for (a = i._targets || i.target,
                     Va(a, k, m),
                     i.render(c, !0, !0),
                     Va(a, l),
                     i.render(0, !0, !0),
                     i._enabled(!0),
                     e = m.length; --e > -1; )
                if (f = aa(m[e], k[e], l[e]),
                        f.firstMPT) {
                    f = f.difs;
                    for (g in d)
                        n[g] && (f[g] = d[g]);
                    h = {};
                    for (g in f)
                        h[g] = k[e][g];
                    j.push(b.fromTo(m[e], c, h, f))
                }
            return j
        }
            ,
            a.activate([g]),
            g
    }, !0)
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function(a) {
        var b = function() {
                return (_gsScope.GreenSockGlobals || _gsScope)[a]
            }
            ;
        "function" == typeof define && define.amd ? define(["../TweenLite"], b) : "undefined" != typeof module && module.exports && (require("../TweenLite.js"),
            module.exports = b())
    }("CSSPlugin");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    var a = Math.PI / 180
        , b = 180 / Math.PI
        , c = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi
        , d = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi
        , e = /[achlmqstvz]/gi
        , f = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi
        , g = _gsScope._gsDefine.globals.TweenLite
        , h = function(a) {
        window.console && console.log(a)
    }
        , i = function(b, c) {
        var d, e, f, g, h, i, j = Math.ceil(Math.abs(c) / 90), k = 0, l = [];
        for (b *= a,
                 c *= a,
                 d = c / j,
                 e = 4 / 3 * Math.sin(d / 2) / (1 + Math.cos(d / 2)),
                 i = 0; j > i; i++)
            f = b + i * d,
                g = Math.cos(f),
                h = Math.sin(f),
                l[k++] = g - e * h,
                l[k++] = h + e * g,
                f += d,
                g = Math.cos(f),
                h = Math.sin(f),
                l[k++] = g + e * h,
                l[k++] = h - e * g,
                l[k++] = g,
                l[k++] = h;
        return l
    }
        , j = function(c, d, e, f, g, h, j, k, l) {
        if (c !== k || d !== l) {
            e = Math.abs(e),
                f = Math.abs(f);
            var m = g % 360 * a
                , n = Math.cos(m)
                , o = Math.sin(m)
                , p = (c - k) / 2
                , q = (d - l) / 2
                , r = n * p + o * q
                , s = -o * p + n * q
                , t = e * e
                , u = f * f
                , v = r * r
                , w = s * s
                , x = v / t + w / u;
            x > 1 && (e = Math.sqrt(x) * e,
                f = Math.sqrt(x) * f,
                t = e * e,
                u = f * f);
            var y = h === j ? -1 : 1
                , z = (t * u - t * w - u * v) / (t * w + u * v);
            0 > z && (z = 0);
            var A = y * Math.sqrt(z)
                , B = A * (e * s / f)
                , C = A * -(f * r / e)
                , D = (c + k) / 2
                , E = (d + l) / 2
                , F = D + (n * B - o * C)
                , G = E + (o * B + n * C)
                , H = (r - B) / e
                , I = (s - C) / f
                , J = (-r - B) / e
                , K = (-s - C) / f
                , L = Math.sqrt(H * H + I * I)
                , M = H;
            y = 0 > I ? -1 : 1;
            var N = y * Math.acos(M / L) * b;
            L = Math.sqrt((H * H + I * I) * (J * J + K * K)),
                M = H * J + I * K,
                y = 0 > H * K - I * J ? -1 : 1;
            var O = y * Math.acos(M / L) * b;
            !j && O > 0 ? O -= 360 : j && 0 > O && (O += 360),
                O %= 360,
                N %= 360;
            var P, Q, R, S = i(N, O), T = n * e, U = o * e, V = o * -f, W = n * f, X = S.length - 2;
            for (P = 0; X > P; P += 2)
                Q = S[P],
                    R = S[P + 1],
                    S[P] = Q * T + R * V + F,
                    S[P + 1] = Q * U + R * W + G;
            return S[S.length - 2] = k,
                S[S.length - 1] = l,
                S
        }
    }
        , k = function(a) {
        var b, d, e, g, i, k, l, m, n, o, p, q, r, s = (a + "").replace(f, function(a) {
                var b = +a;
                return 1e-4 > b && b > -1e-4 ? 0 : b
            }).match(c) || [], t = [], u = 0, v = 0, w = s.length, x = 2, y = 0;
        if (!a || !isNaN(s[0]) || isNaN(s[1]))
            return h("ERROR: malformed path data: " + a),
                t;
        for (b = 0; w > b; b++)
            if (r = i,
                    isNaN(s[b]) ? (i = s[b].toUpperCase(),
                        k = i !== s[b]) : b--,
                    e = +s[b + 1],
                    g = +s[b + 2],
                k && (e += u,
                    g += v),
                0 === b && (m = e,
                    n = g),
                "M" === i)
                l && l.length < 8 && (t.length -= 1,
                    x = 0),
                    u = m = e,
                    v = n = g,
                    l = [e, g],
                    y += x,
                    x = 2,
                    t.push(l),
                    b += 2,
                    i = "L";
            else if ("C" === i)
                l || (l = [0, 0]),
                    l[x++] = e,
                    l[x++] = g,
                k || (u = v = 0),
                    l[x++] = u + 1 * s[b + 3],
                    l[x++] = v + 1 * s[b + 4],
                    l[x++] = u += 1 * s[b + 5],
                    l[x++] = v += 1 * s[b + 6],
                    b += 6;
            else if ("S" === i)
                "C" === r || "S" === r ? (o = u - l[x - 4],
                    p = v - l[x - 3],
                    l[x++] = u + o,
                    l[x++] = v + p) : (l[x++] = u,
                    l[x++] = v),
                    l[x++] = e,
                    l[x++] = g,
                k || (u = v = 0),
                    l[x++] = u += 1 * s[b + 3],
                    l[x++] = v += 1 * s[b + 4],
                    b += 4;
            else if ("Q" === i)
                o = e - u,
                    p = g - v,
                    l[x++] = u + 2 * o / 3,
                    l[x++] = v + 2 * p / 3,
                k || (u = v = 0),
                    u += 1 * s[b + 3],
                    v += 1 * s[b + 4],
                    o = e - u,
                    p = g - v,
                    l[x++] = u + 2 * o / 3,
                    l[x++] = v + 2 * p / 3,
                    l[x++] = u,
                    l[x++] = v,
                    b += 4;
            else if ("T" === i)
                o = u - l[x - 4],
                    p = v - l[x - 3],
                    l[x++] = u + o,
                    l[x++] = v + p,
                    o = u + 1.5 * o - e,
                    p = v + 1.5 * p - g,
                    l[x++] = e + 2 * o / 3,
                    l[x++] = g + 2 * p / 3,
                    l[x++] = u = e,
                    l[x++] = v = g,
                    b += 2;
            else if ("H" === i)
                g = v,
                    l[x++] = u + (e - u) / 3,
                    l[x++] = v + (g - v) / 3,
                    l[x++] = u + 2 * (e - u) / 3,
                    l[x++] = v + 2 * (g - v) / 3,
                    l[x++] = u = e,
                    l[x++] = g,
                    b += 1;
            else if ("V" === i)
                g = e,
                    e = u,
                k && (g += v - u),
                    l[x++] = e,
                    l[x++] = v + (g - v) / 3,
                    l[x++] = e,
                    l[x++] = v + 2 * (g - v) / 3,
                    l[x++] = e,
                    l[x++] = v = g,
                    b += 1;
            else if ("L" === i || "Z" === i)
                "Z" === i && (e = m,
                    g = n,
                    l.closed = !0),
                ("L" === i || Math.abs(u - e) > .5 || Math.abs(v - g) > .5) && (l[x++] = u + (e - u) / 3,
                    l[x++] = v + (g - v) / 3,
                    l[x++] = u + 2 * (e - u) / 3,
                    l[x++] = v + 2 * (g - v) / 3,
                    l[x++] = e,
                    l[x++] = g,
                "L" === i && (b += 2)),
                    u = e,
                    v = g;
            else if ("A" === i) {
                for (q = j(u, v, 1 * s[b + 1], 1 * s[b + 2], 1 * s[b + 3], 1 * s[b + 4], 1 * s[b + 5], (k ? u : 0) + 1 * s[b + 6], (k ? v : 0) + 1 * s[b + 7]),
                         d = 0; d < q.length; d++)
                    l[x++] = q[d];
                u = l[x - 2],
                    v = l[x - 1],
                    b += 7
            } else
                h("Error: malformed path data: " + a);
        return t.totalPoints = y + x,
            t
    }
        , l = function(a, b) {
        var c, d, e, f, g, h, i, j, k, l, m, n, o, p, q = 0, r = .999999, s = a.length, t = b / ((s - 2) / 6);
        for (o = 2; s > o; o += 6)
            for (q += t; q > r; )
                c = a[o - 2],
                    d = a[o - 1],
                    e = a[o],
                    f = a[o + 1],
                    g = a[o + 2],
                    h = a[o + 3],
                    i = a[o + 4],
                    j = a[o + 5],
                    p = 1 / (Math.floor(q) + 1),
                    k = c + (e - c) * p,
                    m = e + (g - e) * p,
                    k += (m - k) * p,
                    m += (g + (i - g) * p - m) * p,
                    l = d + (f - d) * p,
                    n = f + (h - f) * p,
                    l += (n - l) * p,
                    n += (h + (j - h) * p - n) * p,
                    a.splice(o, 4, c + (e - c) * p, d + (f - d) * p, k, l, k + (m - k) * p, l + (n - l) * p, m, n, g + (i - g) * p, h + (j - h) * p),
                    o += 6,
                    s += 6,
                    q--;
        return a
    }
        , m = function(a) {
        var b, c, d, e, f = "", g = a.length, h = 100;
        for (c = 0; g > c; c++) {
            for (e = a[c],
                     f += "M" + e[0] + "," + e[1] + " C",
                     b = e.length,
                     d = 2; b > d; d++)
                f += (e[d++] * h | 0) / h + "," + (e[d++] * h | 0) / h + " " + (e[d++] * h | 0) / h + "," + (e[d++] * h | 0) / h + " " + (e[d++] * h | 0) / h + "," + (e[d] * h | 0) / h + " ";
            e.closed && (f += "z")
        }
        return f
    }
        , n = function(a) {
        for (var b = [], c = a.length - 1, d = 0; --c > -1; )
            b[d++] = a[c],
                b[d++] = a[c + 1],
                c--;
        for (c = 0; d > c; c++)
            a[c] = b[c];
        a.reversed = !a.reversed
    }
        , o = function(a) {
        var b, c = a.length, d = 0, e = 0;
        for (b = 0; c > b; b++)
            d += a[b++],
                e += a[b];
        return [d / (c / 2), e / (c / 2)]
    }
        , p = function(a) {
        var b, c, d, e = a.length, f = a[0], g = f, h = a[1], i = h;
        for (d = 6; e > d; d += 6)
            b = a[d],
                c = a[d + 1],
                b > f ? f = b : g > b && (g = b),
                c > h ? h = c : i > c && (i = c);
        return a.centerX = (f + g) / 2,
            a.centerY = (h + i) / 2,
            a.size = (f - g) * (h - i)
    }
        , q = function(a) {
        for (var b, c, d, e, f, g = a.length, h = a[0][0], i = h, j = a[0][1], k = j; --g > -1; )
            for (f = a[g],
                     b = f.length,
                     e = 6; b > e; e += 6)
                c = f[e],
                    d = f[e + 1],
                    c > h ? h = c : i > c && (i = c),
                    d > j ? j = d : k > d && (k = d);
        return a.centerX = (h + i) / 2,
            a.centerY = (j + k) / 2,
            a.size = (h - i) * (j - k)
    }
        , r = function(a, b) {
        return b.length - a.length
    }
        , s = function(a, b) {
        var c = a.size || p(a)
            , d = b.size || p(b);
        return Math.abs(d - c) < (c + d) / 20 ? b.centerX - a.centerX || b.centerY - a.centerY : d - c
    }
        , t = function(a, b) {
        var c, d, e = a.slice(0), f = a.length, g = f - 2;
        for (b = 0 | b,
                 c = 0; f > c; c++)
            d = (c + b) % g,
                a[c++] = e[d],
                a[c] = e[d + 1]
    }
        , u = function(a, b, c, d, e) {
        var f, g, h, i, j = a.length, k = 0, l = j - 2;
        for (c *= 6,
                 g = 0; j > g; g += 6)
            f = (g + c) % l,
                i = a[f] - (b[g] - d),
                h = a[f + 1] - (b[g + 1] - e),
                k += Math.sqrt(h * h + i * i);
        return k
    }
        , v = function(a, b, c) {
        var d, e, f, g = a.length, h = o(a), i = o(b), j = i[0] - h[0], k = i[1] - h[1], l = u(a, b, 0, j, k), m = 0;
        for (f = 6; g > f; f += 6)
            e = u(a, b, f / 6, j, k),
            l > e && (l = e,
                m = f);
        if (c)
            for (d = a.slice(0),
                     n(d),
                     f = 6; g > f; f += 6)
                e = u(d, b, f / 6, j, k),
                l > e && (l = e,
                    m = -f);
        return m / 6
    }
        , w = function(a, b, c) {
        for (var d, e, f, g, h, i, j = a.length, k = 99999999999, l = 0, m = 0; --j > -1; )
            for (d = a[j],
                     i = d.length,
                     h = 0; i > h; h += 6)
                e = d[h] - b,
                    f = d[h + 1] - c,
                    g = Math.sqrt(e * e + f * f),
                k > g && (k = g,
                    l = d[h],
                    m = d[h + 1]);
        return [l, m]
    }
        , x = function(a, b, c, d, e, f) {
        var g, h, i, j, k, l = b.length, m = 0, n = Math.min(a.size || p(a), b[c].size || p(b[c])) * d, o = 999999999999, q = a.centerX + e, r = a.centerY + f;
        for (h = c; l > h && (g = b[h].size || p(b[h]),
            !(n > g)); h++)
            i = b[h].centerX - q,
                j = b[h].centerY - r,
                k = Math.sqrt(i * i + j * j),
            o > k && (m = h,
                o = k);
        return k = b[m],
            b.splice(m, 1),
            k
    }
        , y = function(a, b, c, d) {
        var e, f, g, i, j, k, m, o = b.length - a.length, u = o > 0 ? b : a, y = o > 0 ? a : b, z = 0, A = "complexity" === d ? r : s, B = "position" === d ? 0 : "number" == typeof d ? d : .8, C = y.length, D = "object" == typeof c && c.push ? c.slice(0) : [c], E = "reverse" === D[0] || D[0] < 0, F = "log" === c;
        if (y[0]) {
            if (u.length > 1 && (a.sort(A),
                    b.sort(A),
                    k = u.size || q(u),
                    k = y.size || q(y),
                    k = u.centerX - y.centerX,
                    m = u.centerY - y.centerY,
                A === s))
                for (C = 0; C < y.length; C++)
                    u.splice(C, 0, x(y[C], u, C, B, k, m));
            if (o)
                for (0 > o && (o = -o),
                     u[0].length > y[0].length && l(y[0], (u[0].length - y[0].length) / 6 | 0),
                         C = y.length; o > z; )
                    i = u[C].size || p(u[C]),
                        g = w(y, u[C].centerX, u[C].centerY),
                        i = g[0],
                        j = g[1],
                        y[C++] = [i, j, i, j, i, j, i, j],
                        y.totalPoints += 8,
                        z++;
            for (C = 0; C < a.length; C++)
                e = b[C],
                    f = a[C],
                    o = e.length - f.length,
                    0 > o ? l(e, -o / 6 | 0) : o > 0 && l(f, o / 6 | 0),
                E && !f.reversed && n(f),
                    c = D[C] || 0 === D[C] ? D[C] : "auto",
                c && (f.closed || Math.abs(f[0] - f[f.length - 2]) < .5 && Math.abs(f[1] - f[f.length - 1]) < .5 ? "auto" === c || "log" === c ? (D[C] = c = v(f, e, 0 === C),
                0 > c && (E = !0,
                    n(f),
                    c = -c),
                    t(f, 6 * c)) : "reverse" !== c && (C && 0 > c && n(f),
                    t(f, 6 * (0 > c ? -c : c))) : !E && ("auto" === c && Math.abs(e[0] - f[0]) + Math.abs(e[1] - f[1]) + Math.abs(e[e.length - 2] - f[f.length - 2]) + Math.abs(e[e.length - 1] - f[f.length - 1]) > Math.abs(e[0] - f[f.length - 2]) + Math.abs(e[1] - f[f.length - 1]) + Math.abs(e[e.length - 2] - f[0]) + Math.abs(e[e.length - 1] - f[1]) || c % 2) ? (n(f),
                    D[C] = -1,
                    E = !0) : "auto" === c ? D[C] = 0 : "reverse" === c && (D[C] = -1),
                f.closed !== e.closed && (f.closed = e.closed = !1));
            return F && h("shapeIndex:[" + D.join(",") + "]"),
                D
        }
    }
        , z = function(a, b, c, d) {
        var e = k(a[0])
            , f = k(a[1]);
        y(e, f, b || 0 === b ? b : "auto", c) && (a[0] = m(e),
            a[1] = m(f),
        ("log" === d || d === !0) && h('precompile:["' + a[0] + '","' + a[1] + '"]'))
    }
        , A = function(a, b, c) {
        return b || c || a || 0 === a ? function(d) {
            z(d, a, b, c)
        }
            : z
    }
        , B = function(a, b) {
        if (!b)
            return a;
        var c, e, f, g = a.match(d) || [], h = g.length, i = "";
        for ("reverse" === b ? (e = h - 1,
            c = -2) : (e = (2 * (parseInt(b, 10) || 0) + 1 + 100 * h) % h,
            c = 2),
                 f = 0; h > f; f += 2)
            i += g[e - 1] + "," + g[e] + " ",
                e = (e + c) % h;
        return i
    }
        , C = function(a, b) {
        var c, d, e, f, g, h, i, j = 0, k = parseFloat(a[0]), l = parseFloat(a[1]), m = k + "," + l + " ", n = .999999;
        for (e = a.length,
                 c = .5 * b / (.5 * e - 1),
                 d = 0; e - 2 > d; d += 2) {
            if (j += c,
                    h = parseFloat(a[d + 2]),
                    i = parseFloat(a[d + 3]),
                j > n)
                for (g = 1 / (Math.floor(j) + 1),
                         f = 1; j > n; )
                    m += (k + (h - k) * g * f).toFixed(2) + "," + (l + (i - l) * g * f).toFixed(2) + " ",
                        j--,
                        f++;
            m += h + "," + i + " ",
                k = h,
                l = i
        }
        return m
    }
        , D = function(a) {
        var b = a[0].match(d) || []
            , c = a[1].match(d) || []
            , e = c.length - b.length;
        e > 0 ? a[0] = C(b, e) : a[1] = C(c, -e)
    }
        , E = function(a) {
        return isNaN(a) ? D : function(b) {
            D(b),
                b[1] = B(b[1], parseInt(a, 10))
        }
    }
        , F = function(a, b) {
        var c = document.createElementNS("http://www.w3.org/2000/svg", "path")
            , d = Array.prototype.slice.call(a.attributes)
            , e = d.length;
        for (b = "," + b + ","; --e > -1; )
            -1 === b.indexOf("," + d[e].nodeName + ",") && c.setAttributeNS(null , d[e].nodeName, d[e].nodeValue);
        return c
    }
        , G = function(a, b) {
        var c, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = a.tagName.toLowerCase(), z = .552284749831;
        return "path" !== y && a.getBBox ? (i = F(a, "x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),
            "rect" === y ? (g = +a.getAttribute("rx") || 0,
                h = +a.getAttribute("ry") || 0,
                e = +a.getAttribute("x") || 0,
                f = +a.getAttribute("y") || 0,
                m = (+a.getAttribute("width") || 0) - 2 * g,
                n = (+a.getAttribute("height") || 0) - 2 * h,
                g || h ? (o = e + g * (1 - z),
                    p = e + g,
                    q = p + m,
                    r = q + g * z,
                    s = q + g,
                    t = f + h * (1 - z),
                    u = f + h,
                    v = u + n,
                    w = v + h * z,
                    x = v + h,
                    c = "M" + s + "," + u + " V" + v + " C" + [s, w, r, x, q, x, q - (q - p) / 3, x, p + (q - p) / 3, x, p, x, o, x, e, w, e, v, e, v - (v - u) / 3, e, u + (v - u) / 3, e, u, e, t, o, f, p, f, p + (q - p) / 3, f, q - (q - p) / 3, f, q, f, r, f, s, t, s, u].join(",") + "z") : c = "M" + (e + m) + "," + f + " v" + n + " h" + -m + " v" + -n + " h" + m + "z") : "circle" === y || "ellipse" === y ? ("circle" === y ? (g = h = +a.getAttribute("r") || 0,
                k = g * z) : (g = +a.getAttribute("rx") || 0,
                h = +a.getAttribute("ry") || 0,
                k = h * z),
                e = +a.getAttribute("cx") || 0,
                f = +a.getAttribute("cy") || 0,
                j = g * z,
                c = "M" + (e + g) + "," + f + " C" + [e + g, f + k, e + j, f + h, e, f + h, e - j, f + h, e - g, f + k, e - g, f, e - g, f - k, e - j, f - h, e, f - h, e + j, f - h, e + g, f - k, e + g, f].join(",") + "z") : "line" === y ? c = "M" + a.getAttribute("x1") + "," + a.getAttribute("y1") + " L" + a.getAttribute("x2") + "," + a.getAttribute("y2") : ("polyline" === y || "polygon" === y) && (l = (a.getAttribute("points") + "").match(d) || [],
                e = l.shift(),
                f = l.shift(),
                c = "M" + e + "," + f + " L" + l.join(","),
            "polygon" === y && (c += "," + e + "," + f + "z")),
            i.setAttribute("d", c),
        b && a.parentNode && (a.parentNode.insertBefore(i, a),
            a.parentNode.removeChild(a)),
            i) : a
    }
        , H = function(a, b, c) {
        var e, f, i = "string" == typeof a;
        return (!i || (a.match(d) || []).length < 3) && (e = i ? g.selector(a) : a && a[0] ? a : [a],
            e && e[0] ? (e = e[0],
                f = e.nodeName.toUpperCase(),
            b && "PATH" !== f && (e = G(e, !1),
                f = "PATH"),
                a = e.getAttribute("PATH" === f ? "d" : "points") || "",
            e === c && (a = e.getAttributeNS(null , "data-original") || a)) : (h("WARNING: invalid morph to: " + a),
                a = !1)),
            a
    }
        , I = "Use MorphSVGPlugin.convertToPath(elementOrSelectorText) to convert to a path before morphing."
        , J = _gsScope._gsDefine.plugin({
        propName: "morphSVG",
        API: 2,
        global: !0,
        version: "0.8.5",
        init: function(a, b, c) {
            var d, f, g, i, j;
            return "function" == typeof a.setAttribute && (d = a.nodeName.toUpperCase(),
                    j = "POLYLINE" === d || "POLYGON" === d,
                    "PATH" === d || j ? (f = "PATH" === d ? "d" : "points",
                    ("string" == typeof b || b.getBBox || b[0]) && (b = {
                        shape: b
                    }),
                        i = H(b.shape || b.d || b.points || "", "d" === f, a),
                        j && e.test(i) ? (h("WARNING: a <" + d + "> cannot accept path data. " + I),
                            !1) : (i && (this._target = a,
                        a.getAttributeNS(null , "data-original") || a.setAttributeNS(null , "data-original", a.getAttribute(f)),
                            g = this._addTween(a, "setAttribute", a.getAttribute(f) + "", i + "", "morphSVG", !1, f, "object" == typeof b.precompile ? function(a) {
                                a[0] = b.precompile[0],
                                    a[1] = b.precompile[1]
                            }
                                : "d" === f ? A(b.shapeIndex, b.map || J.defaultMap, b.precompile) : E(b.shapeIndex)),
                        g && (this._overwriteProps.push("morphSVG"),
                            g.end = i,
                            g.endProp = f)),
                            !0)) : (h("WARNING: cannot morph a <" + d + "> SVG element. " + I),
                        !1))
        },
        set: function(a) {
            var b;
            if (this._super.setRatio.call(this, a),
                1 === a)
                for (b = this._firstPT; b; )
                    b.end && this._target.setAttribute(b.endProp, b.end),
                        b = b._next
        }
    });
    J.pathFilter = z,
        J.pointsFilter = D,
        J.subdivideRawBezier = l,
        J.defaultMap = "size",
        J.pathDataToRawBezier = function(a) {
            return k(H(a, !0))
        }
        ,
        J.equalizeSegmentQuantity = y,
        J.convertToPath = function(a, b) {
            "string" == typeof a && (a = g.selector(a));
            for (var c = a && 0 !== a.length ? a.length && a[0] && a[0].nodeType ? Array.prototype.slice.call(a, 0) : [a] : [], d = c.length; --d > -1; )
                c[d] = G(c[d], b !== !1);
            return c
        }
        ,
        J.pathDataToBezier = function(a, b) {
            var c, d, e, f, h, i, j, l, m = k(H(a, !0))[0] || [], n = 0;
            if (b = b || {},
                    l = b.align || b.relative,
                    f = b.matrix || [1, 0, 0, 1, 0, 0],
                    h = b.offsetX || 0,
                    i = b.offsetY || 0,
                    "relative" === l || l === !0 ? (h -= m[0] * f[0] + m[1] * f[2],
                        i -= m[0] * f[1] + m[1] * f[3],
                        n = "+=") : (h += f[4],
                        i += f[5],
                    l && (l = "string" == typeof l ? g.selector(l) : l && l[0] ? l : [l],
                    l && l[0] && (j = l[0].getBBox() || {
                            x: 0,
                            y: 0
                        },
                        h -= j.x,
                        i -= j.y))),
                    c = [],
                    e = m.length,
                    f)
                for (d = 0; e > d; d += 2)
                    c.push({
                        x: n + (m[d] * f[0] + m[d + 1] * f[2] + h),
                        y: n + (m[d] * f[1] + m[d + 1] * f[3] + i)
                    });
            else
                for (d = 0; e > d; d += 2)
                    c.push({
                        x: n + (m[d] + h),
                        y: n + (m[d + 1] + i)
                    });
            return c
        }
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function(a) {
        var b = function() {
                return (_gsScope.GreenSockGlobals || _gsScope)[a]
            }
            ;
        "function" == typeof define && define.amd ? define(["../TweenLite"], b) : "undefined" != typeof module && module.exports && (require("../TweenLite.js"),
            module.exports = b())
    }("MorphSVGPlugin");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    function a(a, b, c, d) {
        return c = parseFloat(c) - parseFloat(a),
            d = parseFloat(d) - parseFloat(b),
            Math.sqrt(c * c + d * d)
    }
    function b(a) {
        return "string" != typeof a && a.nodeType || (a = _gsScope.TweenLite.selector(a),
        a.length && (a = a[0])),
            a
    }
    function c(a, b, c) {
        var d, e, f = a.indexOf(" ");
        return -1 === f ? (d = void 0 !== c ? c + "" : a,
            e = a) : (d = a.substr(0, f),
            e = a.substr(f + 1)),
            d = -1 !== d.indexOf("%") ? parseFloat(d) / 100 * b : parseFloat(d),
            e = -1 !== e.indexOf("%") ? parseFloat(e) / 100 * b : parseFloat(e),
            d > e ? [e, d] : [d, e]
    }
    function d(c) {
        if (!c)
            return 0;
        c = b(c);
        var d, e, f, g, i, j, k, l = c.tagName.toLowerCase();
        if ("path" === l) {
            g = c.style.strokeDasharray,
                c.style.strokeDasharray = "none",
                d = c.getTotalLength() || 0;
            try {
                e = c.getBBox()
            } catch (a) {}
            c.style.strokeDasharray = g
        } else if ("rect" === l)
            d = 2 * c.getAttribute("width") + 2 * c.getAttribute("height");
        else if ("circle" === l)
            d = 2 * Math.PI * parseFloat(c.getAttribute("r"));
        else if ("line" === l)
            d = a(c.getAttribute("x1"), c.getAttribute("y1"), c.getAttribute("x2"), c.getAttribute("y2"));
        else if ("polyline" === l || "polygon" === l)
            for (f = c.getAttribute("points").match(h) || [],
                 "polygon" === l && f.push(f[0], f[1]),
                     d = 0,
                     i = 2; i < f.length; i += 2)
                d += a(f[i - 2], f[i - 1], f[i], f[i + 1]) || 0;
        else
            "ellipse" === l && (j = parseFloat(c.getAttribute("rx")),
                k = parseFloat(c.getAttribute("ry")),
                d = Math.PI * (3 * (j + k) - Math.sqrt((3 * j + k) * (j + 3 * k))));
        return d || 0
    }
    function e(a, c) {
        if (!a)
            return [0, 0];
        a = b(a),
            c = c || d(a) + 1;
        var e = g(a)
            , f = e.strokeDasharray || ""
            , h = parseFloat(e.strokeDashoffset)
            , i = f.indexOf(",");
        return 0 > i && (i = f.indexOf(" ")),
            f = 0 > i ? c : parseFloat(f.substr(0, i)) || 1e-5,
        f > c && (f = c),
            [Math.max(0, -h), Math.max(0, f - h)]
    }
    var f, g = document.defaultView ? document.defaultView.getComputedStyle : function() {}
        , h = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi;
    f = _gsScope._gsDefine.plugin({
        propName: "drawSVG",
        API: 2,
        version: "0.0.11",
        global: !0,
        overwriteProps: ["drawSVG"],
        init: function(a, b, f) {
            if (!a.getBBox)
                return !1;
            var g, h, i, j = d(a) + 1;
            return this._style = a.style,
                b === !0 || "true" === b ? b = "0 100%" : b ? -1 === (b + "").indexOf(" ") && (b = "0 " + b) : b = "0 0",
                g = e(a, j),
                h = c(b, j, g[0]),
                this._length = j + 10,
                0 === g[0] && 0 === h[0] ? (i = Math.max(1e-5, h[1] - j),
                    this._dash = j + i,
                    this._offset = j - g[1] + i,
                    this._addTween(this, "_offset", this._offset, j - h[1] + i, "drawSVG")) : (this._dash = g[1] - g[0] || 1e-6,
                    this._offset = -g[0],
                    this._addTween(this, "_dash", this._dash, h[1] - h[0] || 1e-5, "drawSVG"),
                    this._addTween(this, "_offset", this._offset, -h[0], "drawSVG")),
                !0
        },
        set: function(a) {
            this._firstPT && (this._super.setRatio.call(this, a),
                this._style.strokeDashoffset = this._offset,
                1 === a || 0 === a ? this._style.strokeDasharray = this._offset < .001 && this._length - this._dash <= 10 ? "none" : this._offset === this._dash ? "0px, 999999px" : this._dash + "px," + this._length + "px" : this._style.strokeDasharray = this._dash + "px," + this._length + "px")
        }
    }),
        f.getLength = d,
        f.getPosition = e
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function(a) {
        var b = function() {
                return (_gsScope.GreenSockGlobals || _gsScope)[a]
            }
            ;
        "function" == typeof define && define.amd ? define(["../TweenLite"], b) : "undefined" != typeof module && module.exports && (require("../TweenLite.js"),
            module.exports = b())
    }("DrawSVGPlugin"),
    function(a) {
        var b, c, d, e = a.fn.animate, f = a.fn.stop, g = !0, h = function(a) {
                var b, c = {};
                for (b in a)
                    c[b] = a[b];
                return c
            }
            , i = {
                overwrite: 1,
                delay: 1,
                useFrames: 1,
                runBackwards: 1,
                easeParams: 1,
                yoyo: 1,
                immediateRender: 1,
                repeat: 1,
                repeatDelay: 1,
                autoCSS: 1
            }, j = ",scrollTop,scrollLeft,show,hide,toggle,", k = j, l = function(a, b) {
                for (var c in i)
                    i[c] && void 0 !== a[c] && (b[c] = a[c])
            }
            , m = function(a) {
                return function(b) {
                    return a.getRatio(b)
                }
            }
            , n = {}, o = function() {
                var e, f, g, h = window.GreenSockGlobals || window;
                if (b = h.TweenMax || h.TweenLite,
                    b && (e = (b.version + ".0.0").split("."),
                        f = !(Number(e[0]) > 0 && Number(e[1]) > 7),
                        h = h.com.greensock,
                        c = h.plugins.CSSPlugin,
                        n = h.easing.Ease.map || {}),
                    !b || !c || f)
                    return b = null ,
                        void (!d && window.console && (window.console.log("The jquery.gsap.js plugin requires the TweenMax (or at least TweenLite and CSSPlugin) JavaScript file(s)." + (f ? " Version " + e.join(".") + " is too old." : "")),
                            d = !0));
                if (a.easing) {
                    for (g in n)
                        a.easing[g] = m(n[g]);
                    o = !1
                }
            }
            ;
        a.fn.animate = function(d, f, i, j) {
            if (d = d || {},
                o && (o(),
                !b || !c))
                return e.call(this, d, f, i, j);
            if (!g || d.skipGSAP === !0 || "object" == typeof f && "function" == typeof f.step)
                return e.call(this, d, f, i, j);
            var m, p, q, r, s = a.speed(f, i, j), t = {
                ease: n[s.easing] || (s.easing === !1 ? n.linear : n.swing)
            }, u = this, v = "object" == typeof f ? f.specialEasing : null ;
            for (p in d) {
                if (m = d[p],
                    m instanceof Array && n[m[1]] && (v = v || {},
                        v[p] = m[1],
                        m = m[0]),
                    "show" === m || "hide" === m || "toggle" === m || -1 !== k.indexOf(p) && -1 !== k.indexOf("," + p + ","))
                    return e.call(this, d, f, i, j);
                t[-1 === p.indexOf("-") ? p : a.camelCase(p)] = m
            }
            if (v) {
                t = h(t),
                    r = [];
                for (p in v)
                    m = r[r.length] = {},
                        l(t, m),
                        m.ease = n[v[p]] || t.ease,
                    -1 !== p.indexOf("-") && (p = a.camelCase(p)),
                        m[p] = t[p],
                        delete t[p];
                0 === r.length && (r = null )
            }
            return q = function(c) {
                var d, e = h(t);
                if (r)
                    for (d = r.length; --d > -1; )
                        b.to(this, a.fx.off ? 0 : s.duration / 1e3, r[d]);
                e.onComplete = function() {
                    c ? c() : s.old && a(this).each(s.old)
                }
                    ,
                    b.to(this, a.fx.off ? 0 : s.duration / 1e3, e)
            }
                ,
                s.queue !== !1 ? (u.queue(s.queue, q),
                "function" == typeof s.old && a(u[u.length - 1]).queue(s.queue, function(a) {
                    s.old.call(u),
                        a()
                })) : q.call(u),
                u
        }
            ,
            a.fn.stop = function(a, c) {
                if (f.call(this, a, c),
                        b) {
                    if (c)
                        for (var d, e = b.getTweensOf(this), g = e.length; --g > -1; )
                            d = e[g].totalTime() / e[g].totalDuration(),
                            d > 0 && 1 > d && e[g].seek(e[g].totalDuration());
                    b.killTweensOf(this)
                }
                return this
            }
            ,
            a.gsap = {
                enabled: function(a) {
                    g = a
                },
                version: "0.1.12",
                legacyProps: function(a) {
                    k = j + a + ","
                }
            }
    }(jQuery),
    jQuery.easing.jswing = jQuery.easing.swing,
    jQuery.extend(jQuery.easing, {
        def: "easeOutQuad",
        swing: function(a, b, c, d, e) {
            return jQuery.easing[jQuery.easing.def](a, b, c, d, e)
        },
        easeInQuad: function(a, b, c, d, e) {
            return d * (b /= e) * b + c
        },
        easeOutQuad: function(a, b, c, d, e) {
            return -d * (b /= e) * (b - 2) + c
        },
        easeInOutQuad: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b + c : -d / 2 * (--b * (b - 2) - 1) + c
        },
        easeInCubic: function(a, b, c, d, e) {
            return d * (b /= e) * b * b + c
        },
        easeOutCubic: function(a, b, c, d, e) {
            return d * ((b = b / e - 1) * b * b + 1) + c
        },
        easeInOutCubic: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b * b + c : d / 2 * ((b -= 2) * b * b + 2) + c
        },
        easeInQuart: function(a, b, c, d, e) {
            return d * (b /= e) * b * b * b + c
        },
        easeOutQuart: function(a, b, c, d, e) {
            return -d * ((b = b / e - 1) * b * b * b - 1) + c
        },
        easeInOutQuart: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b * b * b + c : -d / 2 * ((b -= 2) * b * b * b - 2) + c
        },
        easeInQuint: function(a, b, c, d, e) {
            return d * (b /= e) * b * b * b * b + c
        },
        easeOutQuint: function(a, b, c, d, e) {
            return d * ((b = b / e - 1) * b * b * b * b + 1) + c
        },
        easeInOutQuint: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b * b * b * b + c : d / 2 * ((b -= 2) * b * b * b * b + 2) + c
        },
        easeInSine: function(a, b, c, d, e) {
            return -d * Math.cos(b / e * (Math.PI / 2)) + d + c
        },
        easeOutSine: function(a, b, c, d, e) {
            return d * Math.sin(b / e * (Math.PI / 2)) + c
        },
        easeInOutSine: function(a, b, c, d, e) {
            return -d / 2 * (Math.cos(Math.PI * b / e) - 1) + c
        },
        easeInExpo: function(a, b, c, d, e) {
            return 0 == b ? c : d * Math.pow(2, 10 * (b / e - 1)) + c
        },
        easeOutExpo: function(a, b, c, d, e) {
            return b == e ? c + d : d * (-Math.pow(2, -10 * b / e) + 1) + c
        },
        easeInOutExpo: function(a, b, c, d, e) {
            return 0 == b ? c : b == e ? c + d : (b /= e / 2) < 1 ? d / 2 * Math.pow(2, 10 * (b - 1)) + c : d / 2 * (-Math.pow(2, -10 * --b) + 2) + c
        },
        easeInCirc: function(a, b, c, d, e) {
            return -d * (Math.sqrt(1 - (b /= e) * b) - 1) + c
        },
        easeOutCirc: function(a, b, c, d, e) {
            return d * Math.sqrt(1 - (b = b / e - 1) * b) + c
        },
        easeInOutCirc: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? -d / 2 * (Math.sqrt(1 - b * b) - 1) + c : d / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + c
        },
        easeInElastic: function(a, b, c, d, e) {
            a = 1.70158;
            var f = 0
                , g = d;
            return 0 == b ? c : 1 == (b /= e) ? c + d : (f || (f = .3 * e),
                g < Math.abs(d) ? (g = d,
                    a = f / 4) : a = f / (2 * Math.PI) * Math.asin(d / g),
            -(g * Math.pow(2, 10 * (b -= 1)) * Math.sin(2 * (b * e - a) * Math.PI / f)) + c)
        },
        easeOutElastic: function(a, b, c, d, e) {
            a = 1.70158;
            var f = 0
                , g = d;
            return 0 == b ? c : 1 == (b /= e) ? c + d : (f || (f = .3 * e),
                g < Math.abs(d) ? (g = d,
                    a = f / 4) : a = f / (2 * Math.PI) * Math.asin(d / g),
            g * Math.pow(2, -10 * b) * Math.sin(2 * (b * e - a) * Math.PI / f) + d + c)
        },
        easeInOutElastic: function(a, b, c, d, e) {
            a = 1.70158;
            var f = 0
                , g = d;
            return 0 == b ? c : 2 == (b /= e / 2) ? c + d : (f || (f = .3 * e * 1.5),
                g < Math.abs(d) ? (g = d,
                    a = f / 4) : a = f / (2 * Math.PI) * Math.asin(d / g),
                1 > b ? -.5 * g * Math.pow(2, 10 * (b -= 1)) * Math.sin(2 * (b * e - a) * Math.PI / f) + c : g * Math.pow(2, -10 * (b -= 1)) * Math.sin(2 * (b * e - a) * Math.PI / f) * .5 + d + c)
        },
        easeInBack: function(a, b, c, d, e, f) {
            return void 0 == f && (f = 1.70158),
            d * (b /= e) * b * ((f + 1) * b - f) + c
        },
        easeOutBack: function(a, b, c, d, e, f) {
            return void 0 == f && (f = 1.70158),
            d * ((b = b / e - 1) * b * ((f + 1) * b + f) + 1) + c
        },
        easeInOutBack: function(a, b, c, d, e, f) {
            return void 0 == f && (f = 1.70158),
                (b /= e / 2) < 1 ? d / 2 * b * b * (((f *= 1.525) + 1) * b - f) + c : d / 2 * ((b -= 2) * b * (((f *= 1.525) + 1) * b + f) + 2) + c
        },
        easeInBounce: function(a, b, c, d, e) {
            return d - jQuery.easing.easeOutBounce(a, e - b, 0, d, e) + c
        },
        easeOutBounce: function(a, b, c, d, e) {
            return (b /= e) < 1 / 2.75 ? 7.5625 * d * b * b + c : 2 / 2.75 > b ? d * (7.5625 * (b -= 1.5 / 2.75) * b + .75) + c : 2.5 / 2.75 > b ? d * (7.5625 * (b -= 2.25 / 2.75) * b + .9375) + c : d * (7.5625 * (b -= 2.625 / 2.75) * b + .984375) + c
        },
        easeInOutBounce: function(a, b, c, d, e) {
            return e / 2 > b ? .5 * jQuery.easing.easeInBounce(a, 2 * b, 0, d, e) + c : .5 * jQuery.easing.easeOutBounce(a, 2 * b - e, 0, d, e) + .5 * d + c
        }
    }),
    function() {
        function a() {}
        function b(a, b) {
            for (var c = a.length; c--; )
                if (a[c].listener === b)
                    return c;
            return -1
        }
        function c(a) {
            return function() {
                return this[a].apply(this, arguments)
            }
        }
        var d = a.prototype
            , e = this
            , f = e.EventEmitter;
        d.getListeners = function(a) {
            var b, c, d = this._getEvents();
            if ("object" == typeof a) {
                b = {};
                for (c in d)
                    d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
            } else
                b = d[a] || (d[a] = []);
            return b
        }
            ,
            d.flattenListeners = function(a) {
                var b, c = [];
                for (b = 0; a.length > b; b += 1)
                    c.push(a[b].listener);
                return c
            }
            ,
            d.getListenersAsObject = function(a) {
                var b, c = this.getListeners(a);
                return c instanceof Array && (b = {},
                    b[a] = c),
                b || c
            }
            ,
            d.addListener = function(a, c) {
                var d, e = this.getListenersAsObject(a), f = "object" == typeof c;
                for (d in e)
                    e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
                        listener: c,
                        once: !1
                    });
                return this
            }
            ,
            d.on = c("addListener"),
            d.addOnceListener = function(a, b) {
                return this.addListener(a, {
                    listener: b,
                    once: !0
                })
            }
            ,
            d.once = c("addOnceListener"),
            d.defineEvent = function(a) {
                return this.getListeners(a),
                    this
            }
            ,
            d.defineEvents = function(a) {
                for (var b = 0; a.length > b; b += 1)
                    this.defineEvent(a[b]);
                return this
            }
            ,
            d.removeListener = function(a, c) {
                var d, e, f = this.getListenersAsObject(a);
                for (e in f)
                    f.hasOwnProperty(e) && (d = b(f[e], c),
                    -1 !== d && f[e].splice(d, 1));
                return this
            }
            ,
            d.off = c("removeListener"),
            d.addListeners = function(a, b) {
                return this.manipulateListeners(!1, a, b)
            }
            ,
            d.removeListeners = function(a, b) {
                return this.manipulateListeners(!0, a, b)
            }
            ,
            d.manipulateListeners = function(a, b, c) {
                var d, e, f = a ? this.removeListener : this.addListener, g = a ? this.removeListeners : this.addListeners;
                if ("object" != typeof b || b instanceof RegExp)
                    for (d = c.length; d--; )
                        f.call(this, b, c[d]);
                else
                    for (d in b)
                        b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
                return this
            }
            ,
            d.removeEvent = function(a) {
                var b, c = typeof a, d = this._getEvents();
                if ("string" === c)
                    delete d[a];
                else if ("object" === c)
                    for (b in d)
                        d.hasOwnProperty(b) && a.test(b) && delete d[b];
                else
                    delete this._events;
                return this
            }
            ,
            d.removeAllListeners = c("removeEvent"),
            d.emitEvent = function(a, b) {
                var c, d, e, f, g = this.getListenersAsObject(a);
                for (e in g)
                    if (g.hasOwnProperty(e))
                        for (d = g[e].length; d--; )
                            c = g[e][d],
                            c.once === !0 && this.removeListener(a, c.listener),
                                f = c.listener.apply(this, b || []),
                            f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
                return this
            }
            ,
            d.trigger = c("emitEvent"),
            d.emit = function(a) {
                var b = Array.prototype.slice.call(arguments, 1);
                return this.emitEvent(a, b)
            }
            ,
            d.setOnceReturnValue = function(a) {
                return this._onceReturnValue = a,
                    this
            }
            ,
            d._getOnceReturnValue = function() {
                return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
            }
            ,
            d._getEvents = function() {
                return this._events || (this._events = {})
            }
            ,
            a.noConflict = function() {
                return e.EventEmitter = f,
                    a
            }
            ,
            "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
                return a
            }) : "object" == typeof module && module.exports ? module.exports = a : this.EventEmitter = a
    }
        .call(this),
    function(a) {
        function b(b) {
            var c = a.event;
            return c.target = c.target || c.srcElement || b,
                c
        }
        var c = document.documentElement
            , d = function() {}
            ;
        c.addEventListener ? d = function(a, b, c) {
            a.addEventListener(b, c, !1)
        }
            : c.attachEvent && (d = function(a, c, d) {
                a[c + d] = d.handleEvent ? function() {
                    var c = b(a);
                    d.handleEvent.call(d, c)
                }
                    : function() {
                    var c = b(a);
                    d.call(a, c)
                }
                    ,
                    a.attachEvent("on" + c, a[c + d])
            }
        );
        var e = function() {}
            ;
        c.removeEventListener ? e = function(a, b, c) {
            a.removeEventListener(b, c, !1)
        }
            : c.detachEvent && (e = function(a, b, c) {
                a.detachEvent("on" + b, a[b + c]);
                try {
                    delete a[b + c]
                } catch (d) {
                    a[b + c] = void 0
                }
            }
        );
        var f = {
            bind: d,
            unbind: e
        };
        "function" == typeof define && define.amd ? define("eventie/eventie", f) : a.eventie = f
    }(this),
    function(a, b) {
        "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function(c, d) {
            return b(a, c, d)
        }) : "object" == typeof exports ? module.exports = b(a, require("wolfy87-eventemitter"), require("eventie")) : a.imagesLoaded = b(a, a.EventEmitter, a.eventie)
    }(window, function(a, b, c) {
        function d(a, b) {
            for (var c in b)
                a[c] = b[c];
            return a
        }
        function e(a) {
            return "[object Array]" === m.call(a)
        }
        function f(a) {
            var b = [];
            if (e(a))
                b = a;
            else if ("number" == typeof a.length)
                for (var c = 0, d = a.length; d > c; c++)
                    b.push(a[c]);
            else
                b.push(a);
            return b
        }
        function g(a, b, c) {
            if (!(this instanceof g))
                return new g(a,b);
            "string" == typeof a && (a = document.querySelectorAll(a)),
                this.elements = f(a),
                this.options = d({}, this.options),
                "function" == typeof b ? c = b : d(this.options, b),
            c && this.on("always", c),
                this.getImages(),
            j && (this.jqDeferred = new j.Deferred);
            var e = this;
            setTimeout(function() {
                e.check()
            })
        }
        function h(a) {
            this.img = a
        }
        function i(a) {
            this.src = a,
                n[a] = this
        }
        var j = a.jQuery
            , k = a.console
            , l = void 0 !== k
            , m = Object.prototype.toString;
        g.prototype = new b,
            g.prototype.options = {},
            g.prototype.getImages = function() {
                this.images = [];
                for (var a = 0, b = this.elements.length; b > a; a++) {
                    var c = this.elements[a];
                    "IMG" === c.nodeName && this.addImage(c);
                    var d = c.nodeType;
                    if (d && (1 === d || 9 === d || 11 === d))
                        for (var e = c.querySelectorAll("img"), f = 0, g = e.length; g > f; f++) {
                            var h = e[f];
                            this.addImage(h)
                        }
                }
            }
            ,
            g.prototype.addImage = function(a) {
                var b = new h(a);
                this.images.push(b)
            }
            ,
            g.prototype.check = function() {
                function a(a, e) {
                    return b.options.debug && l && k.log("confirm", a, e),
                        b.progress(a),
                        c++,
                    c === d && b.complete(),
                        !0
                }
                var b = this
                    , c = 0
                    , d = this.images.length;
                if (this.hasAnyBroken = !1,
                        !d)
                    return void this.complete();
                for (var e = 0; d > e; e++) {
                    var f = this.images[e];
                    f.on("confirm", a),
                        f.check()
                }
            }
            ,
            g.prototype.progress = function(a) {
                this.hasAnyBroken = this.hasAnyBroken || !a.isLoaded;
                var b = this;
                setTimeout(function() {
                    b.emit("progress", b, a),
                    b.jqDeferred && b.jqDeferred.notify && b.jqDeferred.notify(b, a)
                })
            }
            ,
            g.prototype.complete = function() {
                var a = this.hasAnyBroken ? "fail" : "done";
                this.isComplete = !0;
                var b = this;
                setTimeout(function() {
                    if (b.emit(a, b),
                            b.emit("always", b),
                            b.jqDeferred) {
                        var c = b.hasAnyBroken ? "reject" : "resolve";
                        b.jqDeferred[c](b)
                    }
                })
            }
            ,
        j && (j.fn.imagesLoaded = function(a, b) {
                var c = new g(this,a,b);
                return c.jqDeferred.promise(j(this))
            }
        ),
            h.prototype = new b,
            h.prototype.check = function() {
                var a = n[this.img.src] || new i(this.img.src);
                if (a.isConfirmed)
                    return void this.confirm(a.isLoaded, "cached was confirmed");
                if (this.img.complete && void 0 !== this.img.naturalWidth)
                    return void this.confirm(0 !== this.img.naturalWidth, "naturalWidth");
                var b = this;
                a.on("confirm", function(a, c) {
                    return b.confirm(a.isLoaded, c),
                        !0
                }),
                    a.check()
            }
            ,
            h.prototype.confirm = function(a, b) {
                this.isLoaded = a,
                    this.emit("confirm", this, b)
            }
        ;
        var n = {};
        return i.prototype = new b,
            i.prototype.check = function() {
                if (!this.isChecked) {
                    var a = new Image;
                    c.bind(a, "load", this),
                        c.bind(a, "error", this),
                        a.src = this.src,
                        this.isChecked = !0
                }
            }
            ,
            i.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            i.prototype.onload = function(a) {
                this.confirm(!0, "onload"),
                    this.unbindProxyEvents(a)
            }
            ,
            i.prototype.onerror = function(a) {
                this.confirm(!1, "onerror"),
                    this.unbindProxyEvents(a)
            }
            ,
            i.prototype.confirm = function(a, b) {
                this.isConfirmed = !0,
                    this.isLoaded = a,
                    this.emit("confirm", this, b)
            }
            ,
            i.prototype.unbindProxyEvents = function(a) {
                c.unbind(a.target, "load", this),
                    c.unbind(a.target, "error", this)
            }
            ,
            g
    }),
    function(a) {
        "function" == typeof define && define.amd ? define(["jquery"], a) : "undefined" != typeof module && module.exports ? module.exports = a(require("jquery")) : a(jQuery)
    }(function(a) {
        function b(b) {
            return !b.nodeName || -1 !== a.inArray(b.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"])
        }
        function c(b) {
            return a.isFunction(b) || a.isPlainObject(b) ? b : {
                top: b,
                left: b
            }
        }
        var d = a.scrollTo = function(b, c, d) {
                return a(window).scrollTo(b, c, d)
            }
            ;
        return d.defaults = {
            axis: "xy",
            duration: 0,
            limit: !0
        },
            a.fn.scrollTo = function(e, f, g) {
                "object" == typeof f && (g = f,
                    f = 0),
                "function" == typeof g && (g = {
                    onAfter: g
                }),
                "max" === e && (e = 9e9),
                    g = a.extend({}, d.defaults, g),
                    f = f || g.duration;
                var h = g.queue && 1 < g.axis.length;
                return h && (f /= 2),
                    g.offset = c(g.offset),
                    g.over = c(g.over),
                    this.each(function() {
                        function i(b) {
                            var c = a.extend({}, g, {
                                queue: !0,
                                duration: f,
                                complete: b && function() {
                                    b.call(l, n, g)
                                }
                            });
                            m.animate(o, c)
                        }
                        if (null  !== e) {
                            var j, k = b(this), l = k ? this.contentWindow || window : this, m = a(l), n = e, o = {};
                            switch (typeof n) {
                                case "number":
                                case "string":
                                    if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)) {
                                        n = c(n);
                                        break
                                    }
                                    if (n = k ? a(n) : a(n, l),
                                            !n.length)
                                        return;
                                case "object":
                                    (n.is || n.style) && (j = (n = a(n)).offset())
                            }
                            var p = a.isFunction(g.offset) && g.offset(l, n) || g.offset;
                            a.each(g.axis.split(""), function(a, b) {
                                var c = "x" === b ? "Left" : "Top"
                                    , e = c.toLowerCase()
                                    , f = "scroll" + c
                                    , q = m[f]()
                                    , r = d.max(l, b);
                                j ? (o[f] = j[e] + (k ? 0 : q - m.offset()[e]),
                                g.margin && (o[f] -= parseInt(n.css("margin" + c), 10) || 0,
                                    o[f] -= parseInt(n.css("border" + c + "Width"), 10) || 0),
                                    o[f] += p[e] || 0,
                                g.over[e] && (o[f] += n["x" === b ? "width" : "height"]() * g.over[e])) : (c = n[e],
                                    o[f] = c.slice && "%" === c.slice(-1) ? parseFloat(c) / 100 * r : c),
                                g.limit && /^\d+$/.test(o[f]) && (o[f] = 0 >= o[f] ? 0 : Math.min(o[f], r)),
                                !a && 1 < g.axis.length && (q === o[f] ? o = {} : h && (i(g.onAfterFirst),
                                    o = {}))
                            }),
                                i(g.onAfter)
                        }
                    })
            }
            ,
            d.max = function(c, d) {
                var e = "x" === d ? "Width" : "Height"
                    , f = "scroll" + e;
                if (!b(c))
                    return c[f] - a(c)[e.toLowerCase()]();
                var e = "client" + e
                    , g = c.ownerDocument || c.document
                    , h = g.documentElement
                    , g = g.body;
                return Math.max(h[f], g[f]) - Math.min(h[e], g[e])
            }
            ,
            a.Tween.propHooks.scrollLeft = a.Tween.propHooks.scrollTop = {
                get: function(b) {
                    return a(b.elem)[b.prop]()
                },
                set: function(b) {
                    var c = this.get(b);
                    if (b.options.interrupt && b._last && b._last !== c)
                        return a(b.elem).stop();
                    var d = Math.round(b.now);
                    c !== d && (a(b.elem)[b.prop](d),
                        b._last = this.get(b))
                }
            },
            d
    }),
    function(a) {
        "function" == typeof define && define.amd ? define(["jquery"], a) : a(jQuery)
    }(function(a) {
        function b(b, c, d) {
            var e = c.hash.slice(1)
                , f = document.getElementById(e) || document.getElementsByName(e)[0];
            if (f) {
                b && b.preventDefault();
                var g = a(d.target);
                if (!(d.lock && g.is(":animated") || d.onBefore && d.onBefore(b, f, g) === !1)) {
                    if (d.stop && g.stop(!0),
                            d.hash) {
                        var h = f.id === e ? "id" : "name"
                            , i = a("<a> </a>").attr(h, e).css({
                            position: "absolute",
                            top: a(window).scrollTop(),
                            left: a(window).scrollLeft()
                        });
                        f[h] = "",
                            a("body").prepend(i),
                            location.hash = c.hash,
                            i.remove(),
                            f[h] = e
                    }
                    g.scrollTo(f, d).trigger("notify.serialScroll", [f])
                }
            }
        }
        var c = location.href.replace(/#.*/, "")
            , d = a.localScroll = function(b) {
                a("body").localScroll(b)
            }
            ;
        return d.defaults = {
            duration: 1e3,
            axis: "y",
            event: "click",
            stop: !0,
            target: window
        },
            a.fn.localScroll = function(e) {
                function f() {
                    return !!this.href && !!this.hash && this.href.replace(this.hash, "") === c && (!e.filter || a(this).is(e.filter))
                }
                return e = a.extend({}, d.defaults, e),
                e.hash && location.hash && (e.target && window.scrollTo(0, 0),
                    b(0, location, e)),
                    e.lazy ? this.on(e.event, "a,area", function(a) {
                        f.call(this) && b(a, this, e)
                    }) : this.find("a,area").filter(f).bind(e.event, function(a) {
                        b(a, this, e)
                    }).end().end();
            }
            ,
            d.hash = function() {}
            ,
            d
    }),
    function(a) {
        a.belowthefold = function(b, c) {
            var d = a(window).height() + a(window).scrollTop();
            return d <= a(b).offset().top - c.threshold
        }
            ,
            a.abovethetop = function(b, c) {
                var d = a(window).scrollTop();
                return d >= a(b).offset().top + a(b).height() - c.threshold
            }
            ,
            a.rightofscreen = function(b, c) {
                var d = a(window).width() + a(window).scrollLeft();
                return d <= a(b).offset().left - c.threshold
            }
            ,
            a.leftofscreen = function(b, c) {
                var d = a(window).scrollLeft();
                return d >= a(b).offset().left + a(b).width() - c.threshold
            }
            ,
            a.inviewport = function(b, c) {
                return !(a.rightofscreen(b, c) || a.leftofscreen(b, c) || a.belowthefold(b, c) || a.abovethetop(b, c))
            }
            ,
            a.extend(a.expr[":"], {
                "below-the-fold": function(b, c, d) {
                    return a.belowthefold(b, {
                        threshold: 0
                    })
                },
                "above-the-top": function(b, c, d) {
                    return a.abovethetop(b, {
                        threshold: 0
                    })
                },
                "left-of-screen": function(b, c, d) {
                    return a.leftofscreen(b, {
                        threshold: 0
                    })
                },
                "right-of-screen": function(b, c, d) {
                    return a.rightofscreen(b, {
                        threshold: 0
                    })
                },
                "in-viewport": function(b, c, d) {
                    return a.inviewport(b, {
                        threshold: 0
                    })
                }
            })
    }(jQuery),
    function(a) {
        a.fn.appear = function(b, c) {
            var d = a.extend({
                data: void 0,
                one: !0,
                accX: 0,
                accY: 0
            }, c);
            return this.each(function() {
                var c = a(this);
                if (c.appeared = !1,
                        !b)
                    return void c.trigger("appear", d.data);
                var e = a(window)
                    , f = function() {
                        if (!c.is(":visible"))
                            return void (c.appeared = !1);
                        var a = e.scrollLeft()
                            , b = e.scrollTop()
                            , f = c.offset()
                            , g = f.left
                            , h = f.top
                            , i = d.accX
                            , j = d.accY
                            , k = c.height()
                            , l = e.height()
                            , m = c.width()
                            , n = e.width();
                        h + k + j >= b && b + l + j >= h && g + m + i >= a && a + n + i >= g ? c.appeared || c.trigger("appear", d.data) : c.appeared = !1
                    }
                    , g = function() {
                        if (c.appeared = !0,
                                d.one) {
                            e.unbind("scroll", f);
                            var g = a.inArray(f, a.fn.appear.checks);
                            g >= 0 && a.fn.appear.checks.splice(g, 1)
                        }
                        b.apply(this, arguments)
                    }
                    ;
                d.one ? c.one("appear", d.data, g) : c.bind("appear", d.data, g),
                    e.scroll(f),
                    a.fn.appear.checks.push(f),
                    f()
            })
        }
            ,
            a.extend(a.fn.appear, {
                checks: [],
                timeout: null ,
                checkAll: function() {
                    var b = a.fn.appear.checks.length;
                    if (b > 0)
                        for (; b--; )
                            a.fn.appear.checks[b]()
                },
                run: function() {
                    a.fn.appear.timeout && clearTimeout(a.fn.appear.timeout),
                        a.fn.appear.timeout = setTimeout(a.fn.appear.checkAll, 20)
                }
            }),
            a.each(["append", "prepend", "after", "before", "attr", "removeAttr", "addClass", "removeClass", "toggleClass", "remove", "css", "show", "hide"], function(b, c) {
                var d = a.fn[c];
                d && (a.fn[c] = function() {
                        var b = d.apply(this, arguments);
                        return a.fn.appear.run(),
                            b
                    }
                )
            })
    }(jQuery),
    function(a) {
        a.fn.countTo = function(b) {
            b = a.extend({}, a.fn.countTo.defaults, b || {});
            var c = Math.ceil(b.speed / b.refreshInterval)
                , d = (b.to - b.from) / c;
            return a(this).each(function() {
                function e() {
                    h += d,
                        g++,
                        a(f).html(h.toFixed(b.decimals)),
                    "function" == typeof b.onUpdate && b.onUpdate.call(f, h),
                    g >= c && (clearInterval(i),
                        h = b.to,
                    "function" == typeof b.onComplete && b.onComplete.call(f, h))
                }
                var f = this
                    , g = 0
                    , h = b.from
                    , i = setInterval(e, b.refreshInterval)
            })
        }
            ,
            a.fn.countTo.defaults = {
                from: 0,
                to: 100,
                speed: 1e3,
                refreshInterval: 100,
                decimals: 0,
                onUpdate: null ,
                onComplete: null
            }
    }(jQuery),
    function(a) {
        var b = Array.prototype.slice
            , c = Array.prototype.splice
            , d = {
            topSpacing: 0,
            bottomSpacing: 0,
            className: "is-sticky",
            wrapperClassName: "sticky-wrapper",
            center: !1,
            getWidthFrom: "",
            widthFromWrapper: !0,
            responsiveWidth: !1
        }
            , e = a(window)
            , f = a(document)
            , g = []
            , h = e.height()
            , i = function() {
            for (var b = e.scrollTop(), c = f.height(), d = c - h, i = b > d ? d - b : 0, j = 0; j < g.length; j++) {
                var k = g[j]
                    , l = k.stickyWrapper.offset().top
                    , m = l - k.topSpacing - i;
                if (m >= b)
                    null  !== k.currentTop && (k.stickyElement.css({
                        width: "",
                        position: "",
                        top: ""
                    }),
                        k.stickyElement.parent().removeClass(k.className),
                        k.stickyElement.trigger("sticky-end", [k]),
                        k.currentTop = null );
                else {
                    var n = c - k.stickyElement.outerHeight() - k.topSpacing - k.bottomSpacing - b - i;
                    if (0 > n ? n += k.topSpacing : n = k.topSpacing,
                        k.currentTop != n) {
                        var o;
                        k.getWidthFrom ? o = a(k.getWidthFrom).width() || null  : k.widthFromWrapper && (o = k.stickyWrapper.width()),
                        null  == o && (o = k.stickyElement.width()),
                            k.stickyElement.css("width", o).css("position", "fixed").css("top", n),
                            k.stickyElement.parent().addClass(k.className),
                            null  === k.currentTop ? k.stickyElement.trigger("sticky-start", [k]) : k.stickyElement.trigger("sticky-update", [k]),
                            k.currentTop === k.topSpacing && k.currentTop > n || null  === k.currentTop && n < k.topSpacing ? k.stickyElement.trigger("sticky-bottom-reached", [k]) : null  !== k.currentTop && n === k.topSpacing && k.currentTop < n && k.stickyElement.trigger("sticky-bottom-unreached", [k]),
                            k.currentTop = n
                    }
                }
            }
        }
            , j = function() {
            h = e.height();
            for (var b = 0; b < g.length; b++) {
                var c = g[b]
                    , d = null ;
                c.getWidthFrom ? c.responsiveWidth === !0 && (d = a(c.getWidthFrom).width()) : c.widthFromWrapper && (d = c.stickyWrapper.width()),
                null  != d && c.stickyElement.css("width", d)
            }
        }
            , k = {
            init: function(b) {
                var c = a.extend({}, d, b);
                return this.each(function() {
                    var b = a(this)
                        , e = b.attr("id")
                        , f = b.outerHeight()
                        , h = e ? e + "-" + d.wrapperClassName : d.wrapperClassName
                        , i = a("<div></div>").attr("id", h).addClass(c.wrapperClassName);
                    b.wrapAll(i);
                    var j = b.parent();
                    c.center && j.css({
                        width: b.outerWidth(),
                        marginLeft: "auto",
                        marginRight: "auto"
                    }),
                    "right" == b.css("float") && b.css({
                        float: "none"
                    }).parent().css({
                        float: "right"
                    }),
                        j.css("height", f),
                        c.stickyElement = b,
                        c.stickyWrapper = j,
                        c.currentTop = null ,
                        g.push(c)
                })
            },
            update: i,
            unstick: function(b) {
                return this.each(function() {
                    for (var b = this, d = a(b), e = -1, f = g.length; f-- > 0; )
                        g[f].stickyElement.get(0) === b && (c.call(g, f, 1),
                            e = f);
                    -1 != e && (d.unwrap(),
                        d.css({
                            width: "",
                            position: "",
                            top: "",
                            float: ""
                        }))
                })
            }
        };
        window.addEventListener ? (window.addEventListener("scroll", i, !1),
            window.addEventListener("resize", j, !1)) : window.attachEvent && (window.attachEvent("onscroll", i),
            window.attachEvent("onresize", j)),
            a.fn.sticky = function(c) {
                return k[c] ? k[c].apply(this, b.call(arguments, 1)) : "object" != typeof c && c ? void a.error("Method " + c + " does not exist on jQuery.sticky") : k.init.apply(this, arguments)
            }
            ,
            a.fn.unstick = function(c) {
                return k[c] ? k[c].apply(this, b.call(arguments, 1)) : "object" != typeof c && c ? void a.error("Method " + c + " does not exist on jQuery.sticky") : k.unstick.apply(this, arguments)
            }
            ,
            a(function() {
                setTimeout(i, 0)
            })
    }(jQuery),
    function() {
        var a, b, c, d, e, f = function(a, b) {
                return function() {
                    return a.apply(b, arguments)
                }
            }
            , g = [].indexOf || function(a) {
                    for (var b = 0, c = this.length; c > b; b++)
                        if (b in this && this[b] === a)
                            return b;
                    return -1
                }
            ;
        b = function() {
            function a() {}
            return a.prototype.extend = function(a, b) {
                var c, d;
                for (c in b)
                    d = b[c],
                    null  == a[c] && (a[c] = d);
                return a
            }
                ,
                a.prototype.isMobile = function(a) {
                    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)
                }
                ,
                a.prototype.createEvent = function(a, b, c, d) {
                    var e;
                    return null  == b && (b = !1),
                    null  == c && (c = !1),
                    null  == d && (d = null ),
                        null  != document.createEvent ? (e = document.createEvent("CustomEvent"),
                            e.initCustomEvent(a, b, c, d)) : null  != document.createEventObject ? (e = document.createEventObject(),
                            e.eventType = a) : e.eventName = a,
                        e
                }
                ,
                a.prototype.emitEvent = function(a, b) {
                    return null  != a.dispatchEvent ? a.dispatchEvent(b) : b in (null  != a) ? a[b]() : "on" + b in (null  != a) ? a["on" + b]() : void 0
                }
                ,
                a.prototype.addEvent = function(a, b, c) {
                    return null  != a.addEventListener ? a.addEventListener(b, c, !1) : null  != a.attachEvent ? a.attachEvent("on" + b, c) : a[b] = c
                }
                ,
                a.prototype.removeEvent = function(a, b, c) {
                    return null  != a.removeEventListener ? a.removeEventListener(b, c, !1) : null  != a.detachEvent ? a.detachEvent("on" + b, c) : delete a[b]
                }
                ,
                a.prototype.innerHeight = function() {
                    return "innerHeight" in window ? window.innerHeight : document.documentElement.clientHeight
                }
                ,
                a
        }(),
            c = this.WeakMap || this.MozWeakMap || (c = function() {
                    function a() {
                        this.keys = [],
                            this.values = []
                    }
                    return a.prototype.get = function(a) {
                        var b, c, d, e, f;
                        for (f = this.keys,
                                 b = d = 0,
                                 e = f.length; e > d; b = ++d)
                            if (c = f[b],
                                c === a)
                                return this.values[b]
                    }
                        ,
                        a.prototype.set = function(a, b) {
                            var c, d, e, f, g;
                            for (g = this.keys,
                                     c = e = 0,
                                     f = g.length; f > e; c = ++e)
                                if (d = g[c],
                                    d === a)
                                    return void (this.values[c] = b);
                            return this.keys.push(a),
                                this.values.push(b)
                        }
                        ,
                        a
                }()),
            a = this.MutationObserver || this.WebkitMutationObserver || this.MozMutationObserver || (a = function() {
                    function a() {
                        "undefined" != typeof console && null  !== console && console.warn("MutationObserver is not supported by your browser."),
                        "undefined" != typeof console && null  !== console && console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")
                    }
                    return a.notSupported = !0,
                        a.prototype.observe = function() {}
                        ,
                        a
                }()),
            d = this.getComputedStyle || function(a) {
                    return this.getPropertyValue = function(b) {
                        var c;
                        return "float" === b && (b = "styleFloat"),
                        e.test(b) && b.replace(e, function(a, b) {
                            return b.toUpperCase()
                        }),
                        (null  != (c = a.currentStyle) ? c[b] : void 0) || null
                    }
                        ,
                        this
                }
            ,
            e = /(\-([a-z]){1})/g,
            this.WOW = function() {
                function e(a) {
                    null  == a && (a = {}),
                        this.scrollCallback = f(this.scrollCallback, this),
                        this.scrollHandler = f(this.scrollHandler, this),
                        this.resetAnimation = f(this.resetAnimation, this),
                        this.start = f(this.start, this),
                        this.scrolled = !0,
                        this.config = this.util().extend(a, this.defaults),
                        this.animationNameCache = new c,
                        this.wowEvent = this.util().createEvent(this.config.boxClass)
                }
                return e.prototype.defaults = {
                    boxClass: "wow",
                    animateClass: "animated",
                    offset: 0,
                    mobile: !0,
                    live: !0,
                    callback: null
                },
                    e.prototype.init = function() {
                        var a;
                        return this.element = window.document.documentElement,
                            "interactive" === (a = document.readyState) || "complete" === a ? this.start() : this.util().addEvent(document, "DOMContentLoaded", this.start),
                            this.finished = []
                    }
                    ,
                    e.prototype.start = function() {
                        var b, c, d, e;
                        if (this.stopped = !1,
                                this.boxes = function() {
                                    var a, c, d, e;
                                    for (d = this.element.querySelectorAll("." + this.config.boxClass),
                                             e = [],
                                             a = 0,
                                             c = d.length; c > a; a++)
                                        b = d[a],
                                            e.push(b);
                                    return e
                                }
                                    .call(this),
                                this.all = function() {
                                    var a, c, d, e;
                                    for (d = this.boxes,
                                             e = [],
                                             a = 0,
                                             c = d.length; c > a; a++)
                                        b = d[a],
                                            e.push(b);
                                    return e
                                }
                                    .call(this),
                                this.boxes.length)
                            if (this.disabled())
                                this.resetStyle();
                            else
                                for (e = this.boxes,
                                         c = 0,
                                         d = e.length; d > c; c++)
                                    b = e[c],
                                        this.applyStyle(b, !0);
                        return this.disabled() || (this.util().addEvent(window, "scroll", this.scrollHandler),
                            this.util().addEvent(window, "resize", this.scrollHandler),
                            this.interval = setInterval(this.scrollCallback, 50)),
                            this.config.live ? new a(function(a) {
                                return function(b) {
                                    var c, d, e, f, g;
                                    for (g = [],
                                             c = 0,
                                             d = b.length; d > c; c++)
                                        f = b[c],
                                            g.push(function() {
                                                var a, b, c, d;
                                                for (c = f.addedNodes || [],
                                                         d = [],
                                                         a = 0,
                                                         b = c.length; b > a; a++)
                                                    e = c[a],
                                                        d.push(this.doSync(e));
                                                return d
                                            }
                                                .call(a));
                                    return g
                                }
                            }(this)).observe(document.body, {
                                childList: !0,
                                subtree: !0
                            }) : void 0
                    }
                    ,
                    e.prototype.stop = function() {
                        return this.stopped = !0,
                            this.util().removeEvent(window, "scroll", this.scrollHandler),
                            this.util().removeEvent(window, "resize", this.scrollHandler),
                            null  != this.interval ? clearInterval(this.interval) : void 0
                    }
                    ,
                    e.prototype.sync = function() {
                        return a.notSupported ? this.doSync(this.element) : void 0
                    }
                    ,
                    e.prototype.doSync = function(a) {
                        var b, c, d, e, f;
                        if (null  == a && (a = this.element),
                            1 === a.nodeType) {
                            for (a = a.parentNode || a,
                                     e = a.querySelectorAll("." + this.config.boxClass),
                                     f = [],
                                     c = 0,
                                     d = e.length; d > c; c++)
                                b = e[c],
                                    g.call(this.all, b) < 0 ? (this.boxes.push(b),
                                        this.all.push(b),
                                        this.stopped || this.disabled() ? this.resetStyle() : this.applyStyle(b, !0),
                                        f.push(this.scrolled = !0)) : f.push(void 0);
                            return f
                        }
                    }
                    ,
                    e.prototype.show = function(a) {
                        return this.applyStyle(a),
                            a.className = a.className + " " + this.config.animateClass,
                        null  != this.config.callback && this.config.callback(a),
                            this.util().emitEvent(a, this.wowEvent),
                            this.util().addEvent(a, "animationend", this.resetAnimation),
                            this.util().addEvent(a, "oanimationend", this.resetAnimation),
                            this.util().addEvent(a, "webkitAnimationEnd", this.resetAnimation),
                            this.util().addEvent(a, "MSAnimationEnd", this.resetAnimation),
                            a
                    }
                    ,
                    e.prototype.applyStyle = function(a, b) {
                        var c, d, e;
                        return d = a.getAttribute("data-wow-duration"),
                            c = a.getAttribute("data-wow-delay"),
                            e = a.getAttribute("data-wow-iteration"),
                            this.animate(function(f) {
                                return function() {
                                    return f.customStyle(a, b, d, c, e)
                                }
                            }(this))
                    }
                    ,
                    e.prototype.animate = function() {
                        return "requestAnimationFrame" in window ? function(a) {
                            return window.requestAnimationFrame(a)
                        }
                            : function(a) {
                            return a()
                        }
                    }(),
                    e.prototype.resetStyle = function() {
                        var a, b, c, d, e;
                        for (d = this.boxes,
                                 e = [],
                                 b = 0,
                                 c = d.length; c > b; b++)
                            a = d[b],
                                e.push(a.style.visibility = "visible");
                        return e
                    }
                    ,
                    e.prototype.resetAnimation = function(a) {
                        var b;
                        return a.type.toLowerCase().indexOf("animationend") >= 0 ? (b = a.target || a.srcElement,
                            b.className = b.className.replace(this.config.animateClass, "").trim()) : void 0
                    }
                    ,
                    e.prototype.customStyle = function(a, b, c, d, e) {
                        return b && this.cacheAnimationName(a),
                            a.style.visibility = b ? "hidden" : "visible",
                        c && this.vendorSet(a.style, {
                            animationDuration: c
                        }),
                        d && this.vendorSet(a.style, {
                            animationDelay: d
                        }),
                        e && this.vendorSet(a.style, {
                            animationIterationCount: e
                        }),
                            this.vendorSet(a.style, {
                                animationName: b ? "none" : this.cachedAnimationName(a)
                            }),
                            a
                    }
                    ,
                    e.prototype.vendors = ["moz", "webkit"],
                    e.prototype.vendorSet = function(a, b) {
                        var c, d, e, f;
                        d = [];
                        for (c in b)
                            e = b[c],
                                a["" + c] = e,
                                d.push(function() {
                                    var b, d, g, h;
                                    for (g = this.vendors,
                                             h = [],
                                             b = 0,
                                             d = g.length; d > b; b++)
                                        f = g[b],
                                            h.push(a["" + f + c.charAt(0).toUpperCase() + c.substr(1)] = e);
                                    return h
                                }
                                    .call(this));
                        return d
                    }
                    ,
                    e.prototype.vendorCSS = function(a, b) {
                        var c, e, f, g, h, i;
                        for (h = d(a),
                                 g = h.getPropertyCSSValue(b),
                                 f = this.vendors,
                                 c = 0,
                                 e = f.length; e > c; c++)
                            i = f[c],
                                g = g || h.getPropertyCSSValue("-" + i + "-" + b);
                        return g
                    }
                    ,
                    e.prototype.animationName = function(a) {
                        var b;
                        try {
                            b = this.vendorCSS(a, "animation-name").cssText
                        } catch (c) {
                            b = d(a).getPropertyValue("animation-name")
                        }
                        return "none" === b ? "" : b
                    }
                    ,
                    e.prototype.cacheAnimationName = function(a) {
                        return this.animationNameCache.set(a, this.animationName(a))
                    }
                    ,
                    e.prototype.cachedAnimationName = function(a) {
                        return this.animationNameCache.get(a)
                    }
                    ,
                    e.prototype.scrollHandler = function() {
                        return this.scrolled = !0
                    }
                    ,
                    e.prototype.scrollCallback = function() {
                        var a;
                        return !this.scrolled || (this.scrolled = !1,
                            this.boxes = function() {
                                var b, c, d, e;
                                for (d = this.boxes,
                                         e = [],
                                         b = 0,
                                         c = d.length; c > b; b++)
                                    a = d[b],
                                    a && (this.isVisible(a) ? this.show(a) : e.push(a));
                                return e
                            }
                                .call(this),
                        this.boxes.length || this.config.live) ? void 0 : this.stop()
                    }
                    ,
                    e.prototype.offsetTop = function(a) {
                        for (var b; void 0 === a.offsetTop; )
                            a = a.parentNode;
                        for (b = a.offsetTop; a = a.offsetParent; )
                            b += a.offsetTop;
                        return b
                    }
                    ,
                    e.prototype.isVisible = function(a) {
                        var b, c, d, e, f;
                        return c = a.getAttribute("data-wow-offset") || this.config.offset,
                            f = window.pageYOffset,
                            e = f + Math.min(this.element.clientHeight, this.util().innerHeight()) - c,
                            d = this.offsetTop(a),
                            b = d + a.clientHeight,
                        e >= d && b >= f
                    }
                    ,
                    e.prototype.util = function() {
                        return null  != this._util ? this._util : this._util = new b
                    }
                    ,
                    e.prototype.disabled = function() {
                        return !this.config.mobile && this.util().isMobile(navigator.userAgent)
                    }
                    ,
                    e
            }()
    }
        .call(this),
    !function(a) {
        function b() {}
        function c(a) {
            function c(b) {
                b.prototype.option || (b.prototype.option = function(b) {
                        a.isPlainObject(b) && (this.options = a.extend(!0, this.options, b))
                    }
                )
            }
            function e(b, c) {
                a.fn[b] = function(e) {
                    if ("string" == typeof e) {
                        for (var g = d.call(arguments, 1), h = 0, i = this.length; i > h; h++) {
                            var j = this[h]
                                , k = a.data(j, b);
                            if (k)
                                if (a.isFunction(k[e]) && "_" !== e.charAt(0)) {
                                    var l = k[e].apply(k, g);
                                    if (void 0 !== l)
                                        return l
                                } else
                                    f("no such method '" + e + "' for " + b + " instance");
                            else
                                f("cannot call methods on " + b + " prior to initialization; attempted to call '" + e + "'")
                        }
                        return this
                    }
                    return this.each(function() {
                        var d = a.data(this, b);
                        d ? (d.option(e),
                            d._init()) : (d = new c(this,e),
                            a.data(this, b, d))
                    })
                }
            }
            if (a) {
                var f = "undefined" == typeof console ? b : function(a) {
                        console.error(a)
                    }
                    ;
                return a.bridget = function(a, b) {
                    c(b),
                        e(a, b)
                }
                    ,
                    a.bridget
            }
        }
        var d = Array.prototype.slice;
        "function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], c) : c("object" == typeof exports ? require("jquery") : a.jQuery)
    }(window),
    function(a) {
        function b(b) {
            var c = a.event;
            return c.target = c.target || c.srcElement || b,
                c
        }
        var c = document.documentElement
            , d = function() {}
            ;
        c.addEventListener ? d = function(a, b, c) {
            a.addEventListener(b, c, !1)
        }
            : c.attachEvent && (d = function(a, c, d) {
                a[c + d] = d.handleEvent ? function() {
                    var c = b(a);
                    d.handleEvent.call(d, c)
                }
                    : function() {
                    var c = b(a);
                    d.call(a, c)
                }
                    ,
                    a.attachEvent("on" + c, a[c + d])
            }
        );
        var e = function() {}
            ;
        c.removeEventListener ? e = function(a, b, c) {
            a.removeEventListener(b, c, !1)
        }
            : c.detachEvent && (e = function(a, b, c) {
                a.detachEvent("on" + b, a[b + c]);
                try {
                    delete a[b + c]
                } catch (d) {
                    a[b + c] = void 0
                }
            }
        );
        var f = {
            bind: d,
            unbind: e
        };
        "function" == typeof define && define.amd ? define("eventie/eventie", f) : "object" == typeof exports ? module.exports = f : a.eventie = f
    }(window),
    function() {
        function a() {}
        function b(a, b) {
            for (var c = a.length; c--; )
                if (a[c].listener === b)
                    return c;
            return -1
        }
        function c(a) {
            return function() {
                return this[a].apply(this, arguments)
            }
        }
        var d = a.prototype
            , e = this
            , f = e.EventEmitter;
        d.getListeners = function(a) {
            var b, c, d = this._getEvents();
            if (a instanceof RegExp) {
                b = {};
                for (c in d)
                    d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
            } else
                b = d[a] || (d[a] = []);
            return b
        }
            ,
            d.flattenListeners = function(a) {
                var b, c = [];
                for (b = 0; b < a.length; b += 1)
                    c.push(a[b].listener);
                return c
            }
            ,
            d.getListenersAsObject = function(a) {
                var b, c = this.getListeners(a);
                return c instanceof Array && (b = {},
                    b[a] = c),
                b || c
            }
            ,
            d.addListener = function(a, c) {
                var d, e = this.getListenersAsObject(a), f = "object" == typeof c;
                for (d in e)
                    e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
                        listener: c,
                        once: !1
                    });
                return this
            }
            ,
            d.on = c("addListener"),
            d.addOnceListener = function(a, b) {
                return this.addListener(a, {
                    listener: b,
                    once: !0
                })
            }
            ,
            d.once = c("addOnceListener"),
            d.defineEvent = function(a) {
                return this.getListeners(a),
                    this
            }
            ,
            d.defineEvents = function(a) {
                for (var b = 0; b < a.length; b += 1)
                    this.defineEvent(a[b]);
                return this
            }
            ,
            d.removeListener = function(a, c) {
                var d, e, f = this.getListenersAsObject(a);
                for (e in f)
                    f.hasOwnProperty(e) && (d = b(f[e], c),
                    -1 !== d && f[e].splice(d, 1));
                return this
            }
            ,
            d.off = c("removeListener"),
            d.addListeners = function(a, b) {
                return this.manipulateListeners(!1, a, b)
            }
            ,
            d.removeListeners = function(a, b) {
                return this.manipulateListeners(!0, a, b)
            }
            ,
            d.manipulateListeners = function(a, b, c) {
                var d, e, f = a ? this.removeListener : this.addListener, g = a ? this.removeListeners : this.addListeners;
                if ("object" != typeof b || b instanceof RegExp)
                    for (d = c.length; d--; )
                        f.call(this, b, c[d]);
                else
                    for (d in b)
                        b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
                return this
            }
            ,
            d.removeEvent = function(a) {
                var b, c = typeof a, d = this._getEvents();
                if ("string" === c)
                    delete d[a];
                else if (a instanceof RegExp)
                    for (b in d)
                        d.hasOwnProperty(b) && a.test(b) && delete d[b];
                else
                    delete this._events;
                return this
            }
            ,
            d.removeAllListeners = c("removeEvent"),
            d.emitEvent = function(a, b) {
                var c, d, e, f, g = this.getListenersAsObject(a);
                for (e in g)
                    if (g.hasOwnProperty(e))
                        for (d = g[e].length; d--; )
                            c = g[e][d],
                            c.once === !0 && this.removeListener(a, c.listener),
                                f = c.listener.apply(this, b || []),
                            f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
                return this
            }
            ,
            d.trigger = c("emitEvent"),
            d.emit = function(a) {
                var b = Array.prototype.slice.call(arguments, 1);
                return this.emitEvent(a, b)
            }
            ,
            d.setOnceReturnValue = function(a) {
                return this._onceReturnValue = a,
                    this
            }
            ,
            d._getOnceReturnValue = function() {
                return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
            }
            ,
            d._getEvents = function() {
                return this._events || (this._events = {})
            }
            ,
            a.noConflict = function() {
                return e.EventEmitter = f,
                    a
            }
            ,
            "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
                return a
            }) : "object" == typeof module && module.exports ? module.exports = a : e.EventEmitter = a
    }
        .call(this),
    function(a) {
        function b(a) {
            if (a) {
                if ("string" == typeof d[a])
                    return a;
                a = a.charAt(0).toUpperCase() + a.slice(1);
                for (var b, e = 0, f = c.length; f > e; e++)
                    if (b = c[e] + a,
                        "string" == typeof d[b])
                        return b
            }
        }
        var c = "Webkit Moz ms Ms O".split(" ")
            , d = document.documentElement.style;
        "function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function() {
            return b
        }) : "object" == typeof exports ? module.exports = b : a.getStyleProperty = b
    }(window),
    function(a, b) {
        function c(a) {
            var b = parseFloat(a)
                , c = -1 === a.indexOf("%") && !isNaN(b);
            return c && b
        }
        function d() {}
        function e() {
            for (var a = {
                width: 0,
                height: 0,
                innerWidth: 0,
                innerHeight: 0,
                outerWidth: 0,
                outerHeight: 0
            }, b = 0, c = h.length; c > b; b++) {
                var d = h[b];
                a[d] = 0
            }
            return a
        }
        function f(b) {
            function d() {
                if (!m) {
                    m = !0;
                    var d = a.getComputedStyle;
                    if (j = function() {
                            var a = d ? function(a) {
                                    return d(a, null )
                                }
                                    : function(a) {
                                    return a.currentStyle
                                }
                                ;
                            return function(b) {
                                var c = a(b);
                                return c || g("Style returned " + c + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),
                                    c
                            }
                        }(),
                            k = b("boxSizing")) {
                        var e = document.createElement("div");
                        e.style.width = "200px",
                            e.style.padding = "1px 2px 3px 4px",
                            e.style.borderStyle = "solid",
                            e.style.borderWidth = "1px 2px 3px 4px",
                            e.style[k] = "border-box";
                        var f = document.body || document.documentElement;
                        f.appendChild(e);
                        var h = j(e);
                        l = 200 === c(h.width),
                            f.removeChild(e)
                    }
                }
            }
            function f(a) {
                if (d(),
                    "string" == typeof a && (a = document.querySelector(a)),
                    a && "object" == typeof a && a.nodeType) {
                    var b = j(a);
                    if ("none" === b.display)
                        return e();
                    var f = {};
                    f.width = a.offsetWidth,
                        f.height = a.offsetHeight;
                    for (var g = f.isBorderBox = !(!k || !b[k] || "border-box" !== b[k]), m = 0, n = h.length; n > m; m++) {
                        var o = h[m]
                            , p = b[o];
                        p = i(a, p);
                        var q = parseFloat(p);
                        f[o] = isNaN(q) ? 0 : q
                    }
                    var r = f.paddingLeft + f.paddingRight
                        , s = f.paddingTop + f.paddingBottom
                        , t = f.marginLeft + f.marginRight
                        , u = f.marginTop + f.marginBottom
                        , v = f.borderLeftWidth + f.borderRightWidth
                        , w = f.borderTopWidth + f.borderBottomWidth
                        , x = g && l
                        , y = c(b.width);
                    y !== !1 && (f.width = y + (x ? 0 : r + v));
                    var z = c(b.height);
                    return z !== !1 && (f.height = z + (x ? 0 : s + w)),
                        f.innerWidth = f.width - (r + v),
                        f.innerHeight = f.height - (s + w),
                        f.outerWidth = f.width + t,
                        f.outerHeight = f.height + u,
                        f
                }
            }
            function i(b, c) {
                if (a.getComputedStyle || -1 === c.indexOf("%"))
                    return c;
                var d = b.style
                    , e = d.left
                    , f = b.runtimeStyle
                    , g = f && f.left;
                return g && (f.left = b.currentStyle.left),
                    d.left = c,
                    c = d.pixelLeft,
                    d.left = e,
                g && (f.left = g),
                    c
            }
            var j, k, l, m = !1;
            return f
        }
        var g = "undefined" == typeof console ? d : function(a) {
            console.error(a)
        }
            , h = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
        "function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], f) : "object" == typeof exports ? module.exports = f(require("desandro-get-style-property")) : a.getSize = f(a.getStyleProperty)
    }(window),
    function(a) {
        function b(a) {
            "function" == typeof a && (b.isReady ? a() : g.push(a))
        }
        function c(a) {
            var c = "readystatechange" === a.type && "complete" !== f.readyState;
            b.isReady || c || d()
        }
        function d() {
            b.isReady = !0;
            for (var a = 0, c = g.length; c > a; a++) {
                var d = g[a];
                d()
            }
        }
        function e(e) {
            return "complete" === f.readyState ? d() : (e.bind(f, "DOMContentLoaded", c),
                e.bind(f, "readystatechange", c),
                e.bind(a, "load", c)),
                b
        }
        var f = a.document
            , g = [];
        b.isReady = !1,
            "function" == typeof define && define.amd ? define("doc-ready/doc-ready", ["eventie/eventie"], e) : "object" == typeof exports ? module.exports = e(require("eventie")) : a.docReady = e(a.eventie)
    }(window),
    function(a) {
        function b(a, b) {
            return a[g](b)
        }
        function c(a) {
            if (!a.parentNode) {
                var b = document.createDocumentFragment();
                b.appendChild(a)
            }
        }
        function d(a, b) {
            c(a);
            for (var d = a.parentNode.querySelectorAll(b), e = 0, f = d.length; f > e; e++)
                if (d[e] === a)
                    return !0;
            return !1
        }
        function e(a, d) {
            return c(a),
                b(a, d)
        }
        var f, g = function() {
            if (a.matches)
                return "matches";
            if (a.matchesSelector)
                return "matchesSelector";
            for (var b = ["webkit", "moz", "ms", "o"], c = 0, d = b.length; d > c; c++) {
                var e = b[c]
                    , f = e + "MatchesSelector";
                if (a[f])
                    return f
            }
        }();
        if (g) {
            var h = document.createElement("div")
                , i = b(h, "div");
            f = i ? b : e
        } else
            f = d;
        "function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function() {
            return f
        }) : "object" == typeof exports ? module.exports = f : window.matchesSelector = f
    }(Element.prototype),
    function(a, b) {
        "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["doc-ready/doc-ready", "matches-selector/matches-selector"], function(c, d) {
            return b(a, c, d)
        }) : "object" == typeof exports ? module.exports = b(a, require("doc-ready"), require("desandro-matches-selector")) : a.fizzyUIUtils = b(a, a.docReady, a.matchesSelector)
    }(window, function(a, b, c) {
        var d = {};
        d.extend = function(a, b) {
            for (var c in b)
                a[c] = b[c];
            return a
        }
            ,
            d.modulo = function(a, b) {
                return (a % b + b) % b
            }
        ;
        var e = Object.prototype.toString;
        d.isArray = function(a) {
            return "[object Array]" == e.call(a)
        }
            ,
            d.makeArray = function(a) {
                var b = [];
                if (d.isArray(a))
                    b = a;
                else if (a && "number" == typeof a.length)
                    for (var c = 0, e = a.length; e > c; c++)
                        b.push(a[c]);
                else
                    b.push(a);
                return b
            }
            ,
            d.indexOf = Array.prototype.indexOf ? function(a, b) {
                return a.indexOf(b)
            }
                : function(a, b) {
                for (var c = 0, d = a.length; d > c; c++)
                    if (a[c] === b)
                        return c;
                return -1
            }
            ,
            d.removeFrom = function(a, b) {
                var c = d.indexOf(a, b);
                -1 != c && a.splice(c, 1)
            }
            ,
            d.isElement = "function" == typeof HTMLElement || "object" == typeof HTMLElement ? function(a) {
                return a instanceof HTMLElement
            }
                : function(a) {
                return a && "object" == typeof a && 1 == a.nodeType && "string" == typeof a.nodeName
            }
            ,
            d.setText = function() {
                function a(a, c) {
                    b = b || (void 0 !== document.documentElement.textContent ? "textContent" : "innerText"),
                        a[b] = c
                }
                var b;
                return a
            }(),
            d.getParent = function(a, b) {
                for (; a != document.body; )
                    if (a = a.parentNode,
                            c(a, b))
                        return a
            }
            ,
            d.getQueryElement = function(a) {
                return "string" == typeof a ? document.querySelector(a) : a
            }
            ,
            d.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            d.filterFindElements = function(a, b) {
                a = d.makeArray(a);
                for (var e = [], f = 0, g = a.length; g > f; f++) {
                    var h = a[f];
                    if (d.isElement(h))
                        if (b) {
                            c(h, b) && e.push(h);
                            for (var i = h.querySelectorAll(b), j = 0, k = i.length; k > j; j++)
                                e.push(i[j])
                        } else
                            e.push(h)
                }
                return e
            }
            ,
            d.debounceMethod = function(a, b, c) {
                var d = a.prototype[b]
                    , e = b + "Timeout";
                a.prototype[b] = function() {
                    var a = this[e];
                    a && clearTimeout(a);
                    var b = arguments
                        , f = this;
                    this[e] = setTimeout(function() {
                        d.apply(f, b),
                            delete f[e]
                    }, c || 100)
                }
            }
            ,
            d.toDashed = function(a) {
                return a.replace(/(.)([A-Z])/g, function(a, b, c) {
                    return b + "-" + c
                }).toLowerCase()
            }
        ;
        var f = a.console;
        return d.htmlInit = function(c, e) {
            b(function() {
                for (var b = d.toDashed(e), g = document.querySelectorAll(".js-" + b), h = "data-" + b + "-options", i = 0, j = g.length; j > i; i++) {
                    var k, l = g[i], m = l.getAttribute(h);
                    try {
                        k = m && JSON.parse(m)
                    } catch (a) {
                        f && f.error("Error parsing " + h + " on " + l.nodeName.toLowerCase() + (l.id ? "#" + l.id : "") + ": " + a);
                        continue
                    }
                    var n = new c(l,k)
                        , o = a.jQuery;
                    o && o.data(l, e, n)
                }
            })
        }
            ,
            d
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property", "fizzy-ui-utils/utils"], function(c, d, e, f) {
            return b(a, c, d, e, f)
        }) : "object" == typeof exports ? module.exports = b(a, require("wolfy87-eventemitter"), require("get-size"), require("desandro-get-style-property"), require("fizzy-ui-utils")) : (a.Outlayer = {},
            a.Outlayer.Item = b(a, a.EventEmitter, a.getSize, a.getStyleProperty, a.fizzyUIUtils))
    }(window, function(a, b, c, d, e) {
        function f(a) {
            for (var b in a)
                return !1;
            return b = null ,
                !0
        }
        function g(a, b) {
            a && (this.element = a,
                this.layout = b,
                this.position = {
                    x: 0,
                    y: 0
                },
                this._create())
        }
        function h(a) {
            return a.replace(/([A-Z])/g, function(a) {
                return "-" + a.toLowerCase()
            })
        }
        var i = a.getComputedStyle
            , j = i ? function(a) {
            return i(a, null )
        }
            : function(a) {
            return a.currentStyle
        }
            , k = d("transition")
            , l = d("transform")
            , m = k && l
            , n = !!d("perspective")
            , o = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "otransitionend",
            transition: "transitionend"
        }[k]
            , p = ["transform", "transition", "transitionDuration", "transitionProperty"]
            , q = function() {
            for (var a = {}, b = 0, c = p.length; c > b; b++) {
                var e = p[b]
                    , f = d(e);
                f && f !== e && (a[e] = f)
            }
            return a
        }();
        e.extend(g.prototype, b.prototype),
            g.prototype._create = function() {
                this._transn = {
                    ingProperties: {},
                    clean: {},
                    onEnd: {}
                },
                    this.css({
                        position: "absolute"
                    })
            }
            ,
            g.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            g.prototype.getSize = function() {
                this.size = c(this.element)
            }
            ,
            g.prototype.css = function(a) {
                var b = this.element.style;
                for (var c in a) {
                    var d = q[c] || c;
                    b[d] = a[c]
                }
            }
            ,
            g.prototype.getPosition = function() {
                var a = j(this.element)
                    , b = this.layout.options
                    , c = b.isOriginLeft
                    , d = b.isOriginTop
                    , e = a[c ? "left" : "right"]
                    , f = a[d ? "top" : "bottom"]
                    , g = this.layout.size
                    , h = -1 != e.indexOf("%") ? parseFloat(e) / 100 * g.width : parseInt(e, 10)
                    , i = -1 != f.indexOf("%") ? parseFloat(f) / 100 * g.height : parseInt(f, 10);
                h = isNaN(h) ? 0 : h,
                    i = isNaN(i) ? 0 : i,
                    h -= c ? g.paddingLeft : g.paddingRight,
                    i -= d ? g.paddingTop : g.paddingBottom,
                    this.position.x = h,
                    this.position.y = i
            }
            ,
            g.prototype.layoutPosition = function() {
                var a = this.layout.size
                    , b = this.layout.options
                    , c = {}
                    , d = b.isOriginLeft ? "paddingLeft" : "paddingRight"
                    , e = b.isOriginLeft ? "left" : "right"
                    , f = b.isOriginLeft ? "right" : "left"
                    , g = this.position.x + a[d];
                c[e] = this.getXValue(g),
                    c[f] = "";
                var h = b.isOriginTop ? "paddingTop" : "paddingBottom"
                    , i = b.isOriginTop ? "top" : "bottom"
                    , j = b.isOriginTop ? "bottom" : "top"
                    , k = this.position.y + a[h];
                c[i] = this.getYValue(k),
                    c[j] = "",
                    this.css(c),
                    this.emitEvent("layout", [this])
            }
            ,
            g.prototype.getXValue = function(a) {
                var b = this.layout.options;
                return b.percentPosition && !b.isHorizontal ? a / this.layout.size.width * 100 + "%" : a + "px"
            }
            ,
            g.prototype.getYValue = function(a) {
                var b = this.layout.options;
                return b.percentPosition && b.isHorizontal ? a / this.layout.size.height * 100 + "%" : a + "px"
            }
            ,
            g.prototype._transitionTo = function(a, b) {
                this.getPosition();
                var c = this.position.x
                    , d = this.position.y
                    , e = parseInt(a, 10)
                    , f = parseInt(b, 10)
                    , g = e === this.position.x && f === this.position.y;
                if (this.setPosition(a, b),
                    g && !this.isTransitioning)
                    return void this.layoutPosition();
                var h = a - c
                    , i = b - d
                    , j = {};
                j.transform = this.getTranslate(h, i),
                    this.transition({
                        to: j,
                        onTransitionEnd: {
                            transform: this.layoutPosition
                        },
                        isCleaning: !0
                    })
            }
            ,
            g.prototype.getTranslate = function(a, b) {
                var c = this.layout.options;
                return a = c.isOriginLeft ? a : -a,
                    b = c.isOriginTop ? b : -b,
                    n ? "translate3d(" + a + "px, " + b + "px, 0)" : "translate(" + a + "px, " + b + "px)"
            }
            ,
            g.prototype.goTo = function(a, b) {
                this.setPosition(a, b),
                    this.layoutPosition()
            }
            ,
            g.prototype.moveTo = m ? g.prototype._transitionTo : g.prototype.goTo,
            g.prototype.setPosition = function(a, b) {
                this.position.x = parseInt(a, 10),
                    this.position.y = parseInt(b, 10)
            }
            ,
            g.prototype._nonTransition = function(a) {
                this.css(a.to),
                a.isCleaning && this._removeStyles(a.to);
                for (var b in a.onTransitionEnd)
                    a.onTransitionEnd[b].call(this)
            }
            ,
            g.prototype._transition = function(a) {
                if (!parseFloat(this.layout.options.transitionDuration))
                    return void this._nonTransition(a);
                var b = this._transn;
                for (var c in a.onTransitionEnd)
                    b.onEnd[c] = a.onTransitionEnd[c];
                for (c in a.to)
                    b.ingProperties[c] = !0,
                    a.isCleaning && (b.clean[c] = !0);
                if (a.from) {
                    this.css(a.from);
                    var d = this.element.offsetHeight;
                    d = null
                }
                this.enableTransition(a.to),
                    this.css(a.to),
                    this.isTransitioning = !0
            }
        ;
        var r = "opacity," + h(q.transform || "transform");
        g.prototype.enableTransition = function() {
            this.isTransitioning || (this.css({
                transitionProperty: r,
                transitionDuration: this.layout.options.transitionDuration
            }),
                this.element.addEventListener(o, this, !1))
        }
            ,
            g.prototype.transition = g.prototype[k ? "_transition" : "_nonTransition"],
            g.prototype.onwebkitTransitionEnd = function(a) {
                this.ontransitionend(a)
            }
            ,
            g.prototype.onotransitionend = function(a) {
                this.ontransitionend(a)
            }
        ;
        var s = {
            "-webkit-transform": "transform",
            "-moz-transform": "transform",
            "-o-transform": "transform"
        };
        g.prototype.ontransitionend = function(a) {
            if (a.target === this.element) {
                var b = this._transn
                    , c = s[a.propertyName] || a.propertyName;
                if (delete b.ingProperties[c],
                    f(b.ingProperties) && this.disableTransition(),
                    c in b.clean && (this.element.style[a.propertyName] = "",
                        delete b.clean[c]),
                    c in b.onEnd) {
                    var d = b.onEnd[c];
                    d.call(this),
                        delete b.onEnd[c]
                }
                this.emitEvent("transitionEnd", [this])
            }
        }
            ,
            g.prototype.disableTransition = function() {
                this.removeTransitionStyles(),
                    this.element.removeEventListener(o, this, !1),
                    this.isTransitioning = !1
            }
            ,
            g.prototype._removeStyles = function(a) {
                var b = {};
                for (var c in a)
                    b[c] = "";
                this.css(b)
            }
        ;
        var t = {
            transitionProperty: "",
            transitionDuration: ""
        };
        return g.prototype.removeTransitionStyles = function() {
            this.css(t)
        }
            ,
            g.prototype.removeElem = function() {
                this.element.parentNode.removeChild(this.element),
                    this.css({
                        display: ""
                    }),
                    this.emitEvent("remove", [this])
            }
            ,
            g.prototype.remove = function() {
                if (!k || !parseFloat(this.layout.options.transitionDuration))
                    return void this.removeElem();
                var a = this;
                this.once("transitionEnd", function() {
                    a.removeElem()
                }),
                    this.hide()
            }
            ,
            g.prototype.reveal = function() {
                delete this.isHidden,
                    this.css({
                        display: ""
                    });
                var a = this.layout.options
                    , b = {}
                    , c = this.getHideRevealTransitionEndProperty("visibleStyle");
                b[c] = this.onRevealTransitionEnd,
                    this.transition({
                        from: a.hiddenStyle,
                        to: a.visibleStyle,
                        isCleaning: !0,
                        onTransitionEnd: b
                    })
            }
            ,
            g.prototype.onRevealTransitionEnd = function() {
                this.isHidden || this.emitEvent("reveal")
            }
            ,
            g.prototype.getHideRevealTransitionEndProperty = function(a) {
                var b = this.layout.options[a];
                if (b.opacity)
                    return "opacity";
                for (var c in b)
                    return c
            }
            ,
            g.prototype.hide = function() {
                this.isHidden = !0,
                    this.css({
                        display: ""
                    });
                var a = this.layout.options
                    , b = {}
                    , c = this.getHideRevealTransitionEndProperty("hiddenStyle");
                b[c] = this.onHideTransitionEnd,
                    this.transition({
                        from: a.visibleStyle,
                        to: a.hiddenStyle,
                        isCleaning: !0,
                        onTransitionEnd: b
                    })
            }
            ,
            g.prototype.onHideTransitionEnd = function() {
                this.isHidden && (this.css({
                    display: "none"
                }),
                    this.emitEvent("hide"))
            }
            ,
            g.prototype.destroy = function() {
                this.css({
                    position: "",
                    left: "",
                    right: "",
                    top: "",
                    bottom: "",
                    transition: "",
                    transform: ""
                })
            }
            ,
            g
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "eventEmitter/EventEmitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function(c, d, e, f, g) {
            return b(a, c, d, e, f, g)
        }) : "object" == typeof exports ? module.exports = b(a, require("eventie"), require("wolfy87-eventemitter"), require("get-size"), require("fizzy-ui-utils"), require("./item")) : a.Outlayer = b(a, a.eventie, a.EventEmitter, a.getSize, a.fizzyUIUtils, a.Outlayer.Item);
    }(window, function(a, b, c, d, e, f) {
        function g(a, b) {
            var c = e.getQueryElement(a);
            if (!c)
                return void (h && h.error("Bad element for " + this.constructor.namespace + ": " + (c || a)));
            this.element = c,
            i && (this.$element = i(this.element)),
                this.options = e.extend({}, this.constructor.defaults),
                this.option(b);
            var d = ++k;
            this.element.outlayerGUID = d,
                l[d] = this,
                this._create(),
            this.options.isInitLayout && this.layout()
        }
        var h = a.console
            , i = a.jQuery
            , j = function() {}
            , k = 0
            , l = {};
        return g.namespace = "outlayer",
            g.Item = f,
            g.defaults = {
                containerStyle: {
                    position: "relative"
                },
                isInitLayout: !0,
                isOriginLeft: !0,
                isOriginTop: !0,
                isResizeBound: !0,
                isResizingContainer: !0,
                transitionDuration: "0.4s",
                hiddenStyle: {
                    opacity: 0,
                    transform: "scale(0.001)"
                },
                visibleStyle: {
                    opacity: 1,
                    transform: "scale(1)"
                }
            },
            e.extend(g.prototype, c.prototype),
            g.prototype.option = function(a) {
                e.extend(this.options, a)
            }
            ,
            g.prototype._create = function() {
                this.reloadItems(),
                    this.stamps = [],
                    this.stamp(this.options.stamp),
                    e.extend(this.element.style, this.options.containerStyle),
                this.options.isResizeBound && this.bindResize()
            }
            ,
            g.prototype.reloadItems = function() {
                this.items = this._itemize(this.element.children)
            }
            ,
            g.prototype._itemize = function(a) {
                for (var b = this._filterFindItemElements(a), c = this.constructor.Item, d = [], e = 0, f = b.length; f > e; e++) {
                    var g = b[e]
                        , h = new c(g,this);
                    d.push(h)
                }
                return d
            }
            ,
            g.prototype._filterFindItemElements = function(a) {
                return e.filterFindElements(a, this.options.itemSelector)
            }
            ,
            g.prototype.getItemElements = function() {
                for (var a = [], b = 0, c = this.items.length; c > b; b++)
                    a.push(this.items[b].element);
                return a
            }
            ,
            g.prototype.layout = function() {
                this._resetLayout(),
                    this._manageStamps();
                var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                this.layoutItems(this.items, a),
                    this._isLayoutInited = !0
            }
            ,
            g.prototype._init = g.prototype.layout,
            g.prototype._resetLayout = function() {
                this.getSize()
            }
            ,
            g.prototype.getSize = function() {
                this.size = d(this.element)
            }
            ,
            g.prototype._getMeasurement = function(a, b) {
                var c, f = this.options[a];
                f ? ("string" == typeof f ? c = this.element.querySelector(f) : e.isElement(f) && (c = f),
                    this[a] = c ? d(c)[b] : f) : this[a] = 0
            }
            ,
            g.prototype.layoutItems = function(a, b) {
                a = this._getItemsForLayout(a),
                    this._layoutItems(a, b),
                    this._postLayout()
            }
            ,
            g.prototype._getItemsForLayout = function(a) {
                for (var b = [], c = 0, d = a.length; d > c; c++) {
                    var e = a[c];
                    e.isIgnored || b.push(e)
                }
                return b
            }
            ,
            g.prototype._layoutItems = function(a, b) {
                if (this._emitCompleteOnItems("layout", a),
                    a && a.length) {
                    for (var c = [], d = 0, e = a.length; e > d; d++) {
                        var f = a[d]
                            , g = this._getItemLayoutPosition(f);
                        g.item = f,
                            g.isInstant = b || f.isLayoutInstant,
                            c.push(g)
                    }
                    this._processLayoutQueue(c)
                }
            }
            ,
            g.prototype._getItemLayoutPosition = function() {
                return {
                    x: 0,
                    y: 0
                }
            }
            ,
            g.prototype._processLayoutQueue = function(a) {
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    this._positionItem(d.item, d.x, d.y, d.isInstant)
                }
            }
            ,
            g.prototype._positionItem = function(a, b, c, d) {
                d ? a.goTo(b, c) : a.moveTo(b, c)
            }
            ,
            g.prototype._postLayout = function() {
                this.resizeContainer()
            }
            ,
            g.prototype.resizeContainer = function() {
                if (this.options.isResizingContainer) {
                    var a = this._getContainerSize();
                    a && (this._setContainerMeasure(a.width, !0),
                        this._setContainerMeasure(a.height, !1))
                }
            }
            ,
            g.prototype._getContainerSize = j,
            g.prototype._setContainerMeasure = function(a, b) {
                if (void 0 !== a) {
                    var c = this.size;
                    c.isBorderBox && (a += b ? c.paddingLeft + c.paddingRight + c.borderLeftWidth + c.borderRightWidth : c.paddingBottom + c.paddingTop + c.borderTopWidth + c.borderBottomWidth),
                        a = Math.max(a, 0),
                        this.element.style[b ? "width" : "height"] = a + "px"
                }
            }
            ,
            g.prototype._emitCompleteOnItems = function(a, b) {
                function c() {
                    e.dispatchEvent(a + "Complete", null , [b])
                }
                function d() {
                    g++,
                    g === f && c()
                }
                var e = this
                    , f = b.length;
                if (!b || !f)
                    return void c();
                for (var g = 0, h = 0, i = b.length; i > h; h++) {
                    var j = b[h];
                    j.once(a, d)
                }
            }
            ,
            g.prototype.dispatchEvent = function(a, b, c) {
                var d = b ? [b].concat(c) : c;
                if (this.emitEvent(a, d),
                        i)
                    if (this.$element = this.$element || i(this.element),
                            b) {
                        var e = i.Event(b);
                        e.type = a,
                            this.$element.trigger(e, c)
                    } else
                        this.$element.trigger(a, c)
            }
            ,
            g.prototype.ignore = function(a) {
                var b = this.getItem(a);
                b && (b.isIgnored = !0)
            }
            ,
            g.prototype.unignore = function(a) {
                var b = this.getItem(a);
                b && delete b.isIgnored
            }
            ,
            g.prototype.stamp = function(a) {
                if (a = this._find(a)) {
                    this.stamps = this.stamps.concat(a);
                    for (var b = 0, c = a.length; c > b; b++) {
                        var d = a[b];
                        this.ignore(d)
                    }
                }
            }
            ,
            g.prototype.unstamp = function(a) {
                if (a = this._find(a))
                    for (var b = 0, c = a.length; c > b; b++) {
                        var d = a[b];
                        e.removeFrom(this.stamps, d),
                            this.unignore(d)
                    }
            }
            ,
            g.prototype._find = function(a) {
                return a ? ("string" == typeof a && (a = this.element.querySelectorAll(a)),
                    a = e.makeArray(a)) : void 0
            }
            ,
            g.prototype._manageStamps = function() {
                if (this.stamps && this.stamps.length) {
                    this._getBoundingRect();
                    for (var a = 0, b = this.stamps.length; b > a; a++) {
                        var c = this.stamps[a];
                        this._manageStamp(c)
                    }
                }
            }
            ,
            g.prototype._getBoundingRect = function() {
                var a = this.element.getBoundingClientRect()
                    , b = this.size;
                this._boundingRect = {
                    left: a.left + b.paddingLeft + b.borderLeftWidth,
                    top: a.top + b.paddingTop + b.borderTopWidth,
                    right: a.right - (b.paddingRight + b.borderRightWidth),
                    bottom: a.bottom - (b.paddingBottom + b.borderBottomWidth)
                }
            }
            ,
            g.prototype._manageStamp = j,
            g.prototype._getElementOffset = function(a) {
                var b = a.getBoundingClientRect()
                    , c = this._boundingRect
                    , e = d(a)
                    , f = {
                    left: b.left - c.left - e.marginLeft,
                    top: b.top - c.top - e.marginTop,
                    right: c.right - b.right - e.marginRight,
                    bottom: c.bottom - b.bottom - e.marginBottom
                };
                return f
            }
            ,
            g.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            g.prototype.bindResize = function() {
                this.isResizeBound || (b.bind(a, "resize", this),
                    this.isResizeBound = !0)
            }
            ,
            g.prototype.unbindResize = function() {
                this.isResizeBound && b.unbind(a, "resize", this),
                    this.isResizeBound = !1
            }
            ,
            g.prototype.onresize = function() {
                function a() {
                    b.resize(),
                        delete b.resizeTimeout
                }
                this.resizeTimeout && clearTimeout(this.resizeTimeout);
                var b = this;
                this.resizeTimeout = setTimeout(a, 100)
            }
            ,
            g.prototype.resize = function() {
                this.isResizeBound && this.needsResizeLayout() && this.layout()
            }
            ,
            g.prototype.needsResizeLayout = function() {
                var a = d(this.element)
                    , b = this.size && a;
                return b && a.innerWidth !== this.size.innerWidth
            }
            ,
            g.prototype.addItems = function(a) {
                var b = this._itemize(a);
                return b.length && (this.items = this.items.concat(b)),
                    b
            }
            ,
            g.prototype.appended = function(a) {
                var b = this.addItems(a);
                b.length && (this.layoutItems(b, !0),
                    this.reveal(b))
            }
            ,
            g.prototype.prepended = function(a) {
                var b = this._itemize(a);
                if (b.length) {
                    var c = this.items.slice(0);
                    this.items = b.concat(c),
                        this._resetLayout(),
                        this._manageStamps(),
                        this.layoutItems(b, !0),
                        this.reveal(b),
                        this.layoutItems(c)
                }
            }
            ,
            g.prototype.reveal = function(a) {
                this._emitCompleteOnItems("reveal", a);
                for (var b = a && a.length, c = 0; b && b > c; c++) {
                    var d = a[c];
                    d.reveal()
                }
            }
            ,
            g.prototype.hide = function(a) {
                this._emitCompleteOnItems("hide", a);
                for (var b = a && a.length, c = 0; b && b > c; c++) {
                    var d = a[c];
                    d.hide()
                }
            }
            ,
            g.prototype.revealItemElements = function(a) {
                var b = this.getItems(a);
                this.reveal(b)
            }
            ,
            g.prototype.hideItemElements = function(a) {
                var b = this.getItems(a);
                this.hide(b)
            }
            ,
            g.prototype.getItem = function(a) {
                for (var b = 0, c = this.items.length; c > b; b++) {
                    var d = this.items[b];
                    if (d.element === a)
                        return d
                }
            }
            ,
            g.prototype.getItems = function(a) {
                a = e.makeArray(a);
                for (var b = [], c = 0, d = a.length; d > c; c++) {
                    var f = a[c]
                        , g = this.getItem(f);
                    g && b.push(g)
                }
                return b
            }
            ,
            g.prototype.remove = function(a) {
                var b = this.getItems(a);
                if (this._emitCompleteOnItems("remove", b),
                    b && b.length)
                    for (var c = 0, d = b.length; d > c; c++) {
                        var f = b[c];
                        f.remove(),
                            e.removeFrom(this.items, f)
                    }
            }
            ,
            g.prototype.destroy = function() {
                var a = this.element.style;
                a.height = "",
                    a.position = "",
                    a.width = "";
                for (var b = 0, c = this.items.length; c > b; b++) {
                    var d = this.items[b];
                    d.destroy()
                }
                this.unbindResize();
                var e = this.element.outlayerGUID;
                delete l[e],
                    delete this.element.outlayerGUID,
                i && i.removeData(this.element, this.constructor.namespace)
            }
            ,
            g.data = function(a) {
                a = e.getQueryElement(a);
                var b = a && a.outlayerGUID;
                return b && l[b]
            }
            ,
            g.create = function(a, b) {
                function c() {
                    g.apply(this, arguments)
                }
                return Object.create ? c.prototype = Object.create(g.prototype) : e.extend(c.prototype, g.prototype),
                    c.prototype.constructor = c,
                    c.defaults = e.extend({}, g.defaults),
                    e.extend(c.defaults, b),
                    c.prototype.settings = {},
                    c.namespace = a,
                    c.data = g.data,
                    c.Item = function() {
                        f.apply(this, arguments)
                    }
                    ,
                    c.Item.prototype = new f,
                    e.htmlInit(c, a),
                i && i.bridget && i.bridget(a, c),
                    c
            }
            ,
            g.Item = f,
            g
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("isotope/js/item", ["outlayer/outlayer"], b) : "object" == typeof exports ? module.exports = b(require("outlayer")) : (a.Isotope = a.Isotope || {},
            a.Isotope.Item = b(a.Outlayer))
    }(window, function(a) {
        function b() {
            a.Item.apply(this, arguments)
        }
        b.prototype = new a.Item,
            b.prototype._create = function() {
                this.id = this.layout.itemGUID++,
                    a.Item.prototype._create.call(this),
                    this.sortData = {}
            }
            ,
            b.prototype.updateSortData = function() {
                if (!this.isIgnored) {
                    this.sortData.id = this.id,
                        this.sortData["original-order"] = this.id,
                        this.sortData.random = Math.random();
                    var a = this.layout.options.getSortData
                        , b = this.layout._sorters;
                    for (var c in a) {
                        var d = b[c];
                        this.sortData[c] = d(this.element, this)
                    }
                }
            }
        ;
        var c = b.prototype.destroy;
        return b.prototype.destroy = function() {
            c.apply(this, arguments),
                this.css({
                    display: ""
                })
        }
            ,
            b
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("isotope/js/layout-mode", ["get-size/get-size", "outlayer/outlayer"], b) : "object" == typeof exports ? module.exports = b(require("get-size"), require("outlayer")) : (a.Isotope = a.Isotope || {},
            a.Isotope.LayoutMode = b(a.getSize, a.Outlayer))
    }(window, function(a, b) {
        function c(a) {
            this.isotope = a,
            a && (this.options = a.options[this.namespace],
                this.element = a.element,
                this.items = a.filteredItems,
                this.size = a.size)
        }
        return function() {
            function a(a) {
                return function() {
                    return b.prototype[a].apply(this.isotope, arguments)
                }
            }
            for (var d = ["_resetLayout", "_getItemLayoutPosition", "_manageStamp", "_getContainerSize", "_getElementOffset", "needsResizeLayout"], e = 0, f = d.length; f > e; e++) {
                var g = d[e];
                c.prototype[g] = a(g)
            }
        }(),
            c.prototype.needsVerticalResizeLayout = function() {
                var b = a(this.isotope.element)
                    , c = this.isotope.size && b;
                return c && b.innerHeight != this.isotope.size.innerHeight
            }
            ,
            c.prototype._getMeasurement = function() {
                this.isotope._getMeasurement.apply(this, arguments)
            }
            ,
            c.prototype.getColumnWidth = function() {
                this.getSegmentSize("column", "Width")
            }
            ,
            c.prototype.getRowHeight = function() {
                this.getSegmentSize("row", "Height")
            }
            ,
            c.prototype.getSegmentSize = function(a, b) {
                var c = a + b
                    , d = "outer" + b;
                if (this._getMeasurement(c, d),
                        !this[c]) {
                    var e = this.getFirstItemSize();
                    this[c] = e && e[d] || this.isotope.size["inner" + b]
                }
            }
            ,
            c.prototype.getFirstItemSize = function() {
                var b = this.isotope.filteredItems[0];
                return b && b.element && a(b.element)
            }
            ,
            c.prototype.layout = function() {
                this.isotope.layout.apply(this.isotope, arguments)
            }
            ,
            c.prototype.getSize = function() {
                this.isotope.getSize(),
                    this.size = this.isotope.size
            }
            ,
            c.modes = {},
            c.create = function(a, b) {
                function d() {
                    c.apply(this, arguments)
                }
                return d.prototype = new c,
                b && (d.options = b),
                    d.prototype.namespace = a,
                    c.modes[a] = d,
                    d
            }
            ,
            c
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("masonry/masonry", ["outlayer/outlayer", "get-size/get-size", "fizzy-ui-utils/utils"], b) : "object" == typeof exports ? module.exports = b(require("outlayer"), require("get-size"), require("fizzy-ui-utils")) : a.Masonry = b(a.Outlayer, a.getSize, a.fizzyUIUtils)
    }(window, function(a, b, c) {
        var d = a.create("masonry");
        return d.prototype._resetLayout = function() {
            this.getSize(),
                this._getMeasurement("columnWidth", "outerWidth"),
                this._getMeasurement("gutter", "outerWidth"),
                this.measureColumns();
            var a = this.cols;
            for (this.colYs = []; a--; )
                this.colYs.push(0);
            this.maxY = 0
        }
            ,
            d.prototype.measureColumns = function() {
                if (this.getContainerWidth(),
                        !this.columnWidth) {
                    var a = this.items[0]
                        , c = a && a.element;
                    this.columnWidth = c && b(c).outerWidth || this.containerWidth
                }
                var d = this.columnWidth += this.gutter
                    , e = this.containerWidth + this.gutter
                    , f = e / d
                    , g = d - e % d
                    , h = g && 1 > g ? "round" : "floor";
                f = Math[h](f),
                    this.cols = Math.max(f, 1)
            }
            ,
            d.prototype.getContainerWidth = function() {
                var a = this.options.isFitWidth ? this.element.parentNode : this.element
                    , c = b(a);
                this.containerWidth = c && c.innerWidth
            }
            ,
            d.prototype._getItemLayoutPosition = function(a) {
                a.getSize();
                var b = a.size.outerWidth % this.columnWidth
                    , d = b && 1 > b ? "round" : "ceil"
                    , e = Math[d](a.size.outerWidth / this.columnWidth);
                e = Math.min(e, this.cols);
                for (var f = this._getColGroup(e), g = Math.min.apply(Math, f), h = c.indexOf(f, g), i = {
                    x: this.columnWidth * h,
                    y: g
                }, j = g + a.size.outerHeight, k = this.cols + 1 - f.length, l = 0; k > l; l++)
                    this.colYs[h + l] = j;
                return i
            }
            ,
            d.prototype._getColGroup = function(a) {
                if (2 > a)
                    return this.colYs;
                for (var b = [], c = this.cols + 1 - a, d = 0; c > d; d++) {
                    var e = this.colYs.slice(d, d + a);
                    b[d] = Math.max.apply(Math, e)
                }
                return b
            }
            ,
            d.prototype._manageStamp = function(a) {
                var c = b(a)
                    , d = this._getElementOffset(a)
                    , e = this.options.isOriginLeft ? d.left : d.right
                    , f = e + c.outerWidth
                    , g = Math.floor(e / this.columnWidth);
                g = Math.max(0, g);
                var h = Math.floor(f / this.columnWidth);
                h -= f % this.columnWidth ? 0 : 1,
                    h = Math.min(this.cols - 1, h);
                for (var i = (this.options.isOriginTop ? d.top : d.bottom) + c.outerHeight, j = g; h >= j; j++)
                    this.colYs[j] = Math.max(i, this.colYs[j])
            }
            ,
            d.prototype._getContainerSize = function() {
                this.maxY = Math.max.apply(Math, this.colYs);
                var a = {
                    height: this.maxY
                };
                return this.options.isFitWidth && (a.width = this._getContainerFitWidth()),
                    a
            }
            ,
            d.prototype._getContainerFitWidth = function() {
                for (var a = 0, b = this.cols; --b && 0 === this.colYs[b]; )
                    a++;
                return (this.cols - a) * this.columnWidth - this.gutter
            }
            ,
            d.prototype.needsResizeLayout = function() {
                var a = this.containerWidth;
                return this.getContainerWidth(),
                a !== this.containerWidth
            }
            ,
            d
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("isotope/js/layout-modes/masonry", ["../layout-mode", "masonry/masonry"], b) : "object" == typeof exports ? module.exports = b(require("../layout-mode"), require("masonry-layout")) : b(a.Isotope.LayoutMode, a.Masonry)
    }(window, function(a, b) {
        function c(a, b) {
            for (var c in b)
                a[c] = b[c];
            return a
        }
        var d = a.create("masonry")
            , e = d.prototype._getElementOffset
            , f = d.prototype.layout
            , g = d.prototype._getMeasurement;
        c(d.prototype, b.prototype),
            d.prototype._getElementOffset = e,
            d.prototype.layout = f,
            d.prototype._getMeasurement = g;
        var h = d.prototype.measureColumns;
        d.prototype.measureColumns = function() {
            this.items = this.isotope.filteredItems,
                h.call(this)
        }
        ;
        var i = d.prototype._manageStamp;
        return d.prototype._manageStamp = function() {
            this.options.isOriginLeft = this.isotope.options.isOriginLeft,
                this.options.isOriginTop = this.isotope.options.isOriginTop,
                i.apply(this, arguments)
        }
            ,
            d
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("isotope/js/layout-modes/fit-rows", ["../layout-mode"], b) : "object" == typeof exports ? module.exports = b(require("../layout-mode")) : b(a.Isotope.LayoutMode)
    }(window, function(a) {
        var b = a.create("fitRows");
        return b.prototype._resetLayout = function() {
            this.x = 0,
                this.y = 0,
                this.maxY = 0,
                this._getMeasurement("gutter", "outerWidth")
        }
            ,
            b.prototype._getItemLayoutPosition = function(a) {
                a.getSize();
                var b = a.size.outerWidth + this.gutter
                    , c = this.isotope.size.innerWidth + this.gutter;
                0 !== this.x && b + this.x > c && (this.x = 0,
                    this.y = this.maxY);
                var d = {
                    x: this.x,
                    y: this.y
                };
                return this.maxY = Math.max(this.maxY, this.y + a.size.outerHeight),
                    this.x += b,
                    d
            }
            ,
            b.prototype._getContainerSize = function() {
                return {
                    height: this.maxY
                }
            }
            ,
            b
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("isotope/js/layout-modes/vertical", ["../layout-mode"], b) : "object" == typeof exports ? module.exports = b(require("../layout-mode")) : b(a.Isotope.LayoutMode)
    }(window, function(a) {
        var b = a.create("vertical", {
            horizontalAlignment: 0
        });
        return b.prototype._resetLayout = function() {
            this.y = 0
        }
            ,
            b.prototype._getItemLayoutPosition = function(a) {
                a.getSize();
                var b = (this.isotope.size.innerWidth - a.size.outerWidth) * this.options.horizontalAlignment
                    , c = this.y;
                return this.y += a.size.outerHeight,
                {
                    x: b,
                    y: c
                }
            }
            ,
            b.prototype._getContainerSize = function() {
                return {
                    height: this.y
                }
            }
            ,
            b
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "matches-selector/matches-selector", "fizzy-ui-utils/utils", "isotope/js/item", "isotope/js/layout-mode", "isotope/js/layout-modes/masonry", "isotope/js/layout-modes/fit-rows", "isotope/js/layout-modes/vertical"], function(c, d, e, f, g, h) {
            return b(a, c, d, e, f, g, h)
        }) : "object" == typeof exports ? module.exports = b(a, require("outlayer"), require("get-size"), require("desandro-matches-selector"), require("fizzy-ui-utils"), require("./item"), require("./layout-mode"), require("./layout-modes/masonry"), require("./layout-modes/fit-rows"), require("./layout-modes/vertical")) : a.Isotope = b(a, a.Outlayer, a.getSize, a.matchesSelector, a.fizzyUIUtils, a.Isotope.Item, a.Isotope.LayoutMode)
    }(window, function(a, b, c, d, e, f, g) {
        function h(a, b) {
            return function(c, d) {
                for (var e = 0, f = a.length; f > e; e++) {
                    var g = a[e]
                        , h = c.sortData[g]
                        , i = d.sortData[g];
                    if (h > i || i > h) {
                        var j = void 0 !== b[g] ? b[g] : b
                            , k = j ? 1 : -1;
                        return (h > i ? 1 : -1) * k
                    }
                }
                return 0
            }
        }
        var i = a.jQuery
            , j = String.prototype.trim ? function(a) {
            return a.trim()
        }
            : function(a) {
            return a.replace(/^\s+|\s+$/g, "")
        }
            , k = document.documentElement
            , l = k.textContent ? function(a) {
            return a.textContent
        }
            : function(a) {
            return a.innerText
        }
            , m = b.create("isotope", {
            layoutMode: "masonry",
            isJQueryFiltering: !0,
            sortAscending: !0
        });
        m.Item = f,
            m.LayoutMode = g,
            m.prototype._create = function() {
                this.itemGUID = 0,
                    this._sorters = {},
                    this._getSorters(),
                    b.prototype._create.call(this),
                    this.modes = {},
                    this.filteredItems = this.items,
                    this.sortHistory = ["original-order"];
                for (var a in g.modes)
                    this._initLayoutMode(a)
            }
            ,
            m.prototype.reloadItems = function() {
                this.itemGUID = 0,
                    b.prototype.reloadItems.call(this)
            }
            ,
            m.prototype._itemize = function() {
                for (var a = b.prototype._itemize.apply(this, arguments), c = 0, d = a.length; d > c; c++) {
                    var e = a[c];
                    e.id = this.itemGUID++
                }
                return this._updateItemsSortData(a),
                    a
            }
            ,
            m.prototype._initLayoutMode = function(a) {
                var b = g.modes[a]
                    , c = this.options[a] || {};
                this.options[a] = b.options ? e.extend(b.options, c) : c,
                    this.modes[a] = new b(this)
            }
            ,
            m.prototype.layout = function() {
                return !this._isLayoutInited && this.options.isInitLayout ? void this.arrange() : void this._layout()
            }
            ,
            m.prototype._layout = function() {
                var a = this._getIsInstant();
                this._resetLayout(),
                    this._manageStamps(),
                    this.layoutItems(this.filteredItems, a),
                    this._isLayoutInited = !0
            }
            ,
            m.prototype.arrange = function(a) {
                function b() {
                    d.reveal(c.needReveal),
                        d.hide(c.needHide)
                }
                this.option(a),
                    this._getIsInstant();
                var c = this._filter(this.items);
                this.filteredItems = c.matches;
                var d = this;
                this._bindArrangeComplete(),
                    this._isInstant ? this._noTransition(b) : b(),
                    this._sort(),
                    this._layout()
            }
            ,
            m.prototype._init = m.prototype.arrange,
            m.prototype._getIsInstant = function() {
                var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                return this._isInstant = a,
                    a
            }
            ,
            m.prototype._bindArrangeComplete = function() {
                function a() {
                    b && c && d && e.dispatchEvent("arrangeComplete", null , [e.filteredItems])
                }
                var b, c, d, e = this;
                this.once("layoutComplete", function() {
                    b = !0,
                        a()
                }),
                    this.once("hideComplete", function() {
                        c = !0,
                            a()
                    }),
                    this.once("revealComplete", function() {
                        d = !0,
                            a()
                    })
            }
            ,
            m.prototype._filter = function(a) {
                var b = this.options.filter;
                b = b || "*";
                for (var c = [], d = [], e = [], f = this._getFilterTest(b), g = 0, h = a.length; h > g; g++) {
                    var i = a[g];
                    if (!i.isIgnored) {
                        var j = f(i);
                        j && c.push(i),
                            j && i.isHidden ? d.push(i) : j || i.isHidden || e.push(i)
                    }
                }
                return {
                    matches: c,
                    needReveal: d,
                    needHide: e
                }
            }
            ,
            m.prototype._getFilterTest = function(a) {
                return i && this.options.isJQueryFiltering ? function(b) {
                    return i(b.element).is(a)
                }
                    : "function" == typeof a ? function(b) {
                    return a(b.element)
                }
                    : function(b) {
                    return d(b.element, a)
                }
            }
            ,
            m.prototype.updateSortData = function(a) {
                var b;
                a ? (a = e.makeArray(a),
                    b = this.getItems(a)) : b = this.items,
                    this._getSorters(),
                    this._updateItemsSortData(b)
            }
            ,
            m.prototype._getSorters = function() {
                var a = this.options.getSortData;
                for (var b in a) {
                    var c = a[b];
                    this._sorters[b] = n(c)
                }
            }
            ,
            m.prototype._updateItemsSortData = function(a) {
                for (var b = a && a.length, c = 0; b && b > c; c++) {
                    var d = a[c];
                    d.updateSortData()
                }
            }
        ;
        var n = function() {
            function a(a) {
                if ("string" != typeof a)
                    return a;
                var c = j(a).split(" ")
                    , d = c[0]
                    , e = d.match(/^\[(.+)\]$/)
                    , f = e && e[1]
                    , g = b(f, d)
                    , h = m.sortDataParsers[c[1]];
                return a = h ? function(a) {
                    return a && h(g(a))
                }
                    : function(a) {
                    return a && g(a)
                }
            }
            function b(a, b) {
                var c;
                return c = a ? function(b) {
                    return b.getAttribute(a)
                }
                    : function(a) {
                    var c = a.querySelector(b);
                    return c && l(c)
                }
            }
            return a
        }();
        m.sortDataParsers = {
            parseInt: function(a) {
                return parseInt(a, 10)
            },
            parseFloat: function(a) {
                return parseFloat(a)
            }
        },
            m.prototype._sort = function() {
                var a = this.options.sortBy;
                if (a) {
                    var b = [].concat.apply(a, this.sortHistory)
                        , c = h(b, this.options.sortAscending);
                    this.filteredItems.sort(c),
                    a != this.sortHistory[0] && this.sortHistory.unshift(a)
                }
            }
            ,
            m.prototype._mode = function() {
                var a = this.options.layoutMode
                    , b = this.modes[a];
                if (!b)
                    throw new Error("No layout mode: " + a);
                return b.options = this.options[a],
                    b
            }
            ,
            m.prototype._resetLayout = function() {
                b.prototype._resetLayout.call(this),
                    this._mode()._resetLayout()
            }
            ,
            m.prototype._getItemLayoutPosition = function(a) {
                return this._mode()._getItemLayoutPosition(a)
            }
            ,
            m.prototype._manageStamp = function(a) {
                this._mode()._manageStamp(a)
            }
            ,
            m.prototype._getContainerSize = function() {
                return this._mode()._getContainerSize()
            }
            ,
            m.prototype.needsResizeLayout = function() {
                return this._mode().needsResizeLayout()
            }
            ,
            m.prototype.appended = function(a) {
                var b = this.addItems(a);
                if (b.length) {
                    var c = this._filterRevealAdded(b);
                    this.filteredItems = this.filteredItems.concat(c)
                }
            }
            ,
            m.prototype.prepended = function(a) {
                var b = this._itemize(a);
                if (b.length) {
                    this._resetLayout(),
                        this._manageStamps();
                    var c = this._filterRevealAdded(b);
                    this.layoutItems(this.filteredItems),
                        this.filteredItems = c.concat(this.filteredItems),
                        this.items = b.concat(this.items)
                }
            }
            ,
            m.prototype._filterRevealAdded = function(a) {
                var b = this._filter(a);
                return this.hide(b.needHide),
                    this.reveal(b.matches),
                    this.layoutItems(b.matches, !0),
                    b.matches
            }
            ,
            m.prototype.insert = function(a) {
                var b = this.addItems(a);
                if (b.length) {
                    var c, d, e = b.length;
                    for (c = 0; e > c; c++)
                        d = b[c],
                            this.element.appendChild(d.element);
                    var f = this._filter(b).matches;
                    for (c = 0; e > c; c++)
                        b[c].isLayoutInstant = !0;
                    for (this.arrange(),
                             c = 0; e > c; c++)
                        delete b[c].isLayoutInstant;
                    this.reveal(f)
                }
            }
        ;
        var o = m.prototype.remove;
        return m.prototype.remove = function(a) {
            a = e.makeArray(a);
            var b = this.getItems(a);
            o.call(this, a);
            var c = b && b.length;
            if (c)
                for (var d = 0; c > d; d++) {
                    var f = b[d];
                    e.removeFrom(this.filteredItems, f)
                }
        }
            ,
            m.prototype.shuffle = function() {
                for (var a = 0, b = this.items.length; b > a; a++) {
                    var c = this.items[a];
                    c.sortData.random = Math.random()
                }
                this.options.sortBy = "random",
                    this._sort(),
                    this._layout()
            }
            ,
            m.prototype._noTransition = function(a) {
                var b = this.options.transitionDuration;
                this.options.transitionDuration = 0;
                var c = a.call(this);
                return this.options.transitionDuration = b,
                    c
            }
            ,
            m.prototype.getFilteredItemElements = function() {
                for (var a = [], b = 0, c = this.filteredItems.length; c > b; b++)
                    a.push(this.filteredItems[b].element);
                return a
            }
            ,
            m
    }),
    !function(a) {
        function b() {}
        function c(a) {
            function c(b) {
                b.prototype.option || (b.prototype.option = function(b) {
                        a.isPlainObject(b) && (this.options = a.extend(!0, this.options, b))
                    }
                )
            }
            function e(b, c) {
                a.fn[b] = function(e) {
                    if ("string" == typeof e) {
                        for (var g = d.call(arguments, 1), h = 0, i = this.length; i > h; h++) {
                            var j = this[h]
                                , k = a.data(j, b);
                            if (k)
                                if (a.isFunction(k[e]) && "_" !== e.charAt(0)) {
                                    var l = k[e].apply(k, g);
                                    if (void 0 !== l)
                                        return l
                                } else
                                    f("no such method '" + e + "' for " + b + " instance");
                            else
                                f("cannot call methods on " + b + " prior to initialization; attempted to call '" + e + "'")
                        }
                        return this
                    }
                    return this.each(function() {
                        var d = a.data(this, b);
                        d ? (d.option(e),
                            d._init()) : (d = new c(this,e),
                            a.data(this, b, d))
                    })
                }
            }
            if (a) {
                var f = "undefined" == typeof console ? b : function(a) {
                        console.error(a)
                    }
                    ;
                return a.bridget = function(a, b) {
                    c(b),
                        e(a, b)
                }
                    ,
                    a.bridget
            }
        }
        var d = Array.prototype.slice;
        "function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], c) : c("object" == typeof exports ? require("jquery") : a.jQuery)
    }(window),
    function(a) {
        function b(b) {
            var c = a.event;
            return c.target = c.target || c.srcElement || b,
                c
        }
        var c = document.documentElement
            , d = function() {}
            ;
        c.addEventListener ? d = function(a, b, c) {
            a.addEventListener(b, c, !1)
        }
            : c.attachEvent && (d = function(a, c, d) {
                a[c + d] = d.handleEvent ? function() {
                    var c = b(a);
                    d.handleEvent.call(d, c)
                }
                    : function() {
                    var c = b(a);
                    d.call(a, c)
                }
                    ,
                    a.attachEvent("on" + c, a[c + d])
            }
        );
        var e = function() {}
            ;
        c.removeEventListener ? e = function(a, b, c) {
            a.removeEventListener(b, c, !1)
        }
            : c.detachEvent && (e = function(a, b, c) {
                a.detachEvent("on" + b, a[b + c]);
                try {
                    delete a[b + c]
                } catch (d) {
                    a[b + c] = void 0
                }
            }
        );
        var f = {
            bind: d,
            unbind: e
        };
        "function" == typeof define && define.amd ? define("eventie/eventie", f) : "object" == typeof exports ? module.exports = f : a.eventie = f
    }(window),
    function() {
        function a() {}
        function b(a, b) {
            for (var c = a.length; c--; )
                if (a[c].listener === b)
                    return c;
            return -1
        }
        function c(a) {
            return function() {
                return this[a].apply(this, arguments)
            }
        }
        var d = a.prototype
            , e = this
            , f = e.EventEmitter;
        d.getListeners = function(a) {
            var b, c, d = this._getEvents();
            if (a instanceof RegExp) {
                b = {};
                for (c in d)
                    d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
            } else
                b = d[a] || (d[a] = []);
            return b
        }
            ,
            d.flattenListeners = function(a) {
                var b, c = [];
                for (b = 0; b < a.length; b += 1)
                    c.push(a[b].listener);
                return c
            }
            ,
            d.getListenersAsObject = function(a) {
                var b, c = this.getListeners(a);
                return c instanceof Array && (b = {},
                    b[a] = c),
                b || c
            }
            ,
            d.addListener = function(a, c) {
                var d, e = this.getListenersAsObject(a), f = "object" == typeof c;
                for (d in e)
                    e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
                        listener: c,
                        once: !1
                    });
                return this
            }
            ,
            d.on = c("addListener"),
            d.addOnceListener = function(a, b) {
                return this.addListener(a, {
                    listener: b,
                    once: !0
                })
            }
            ,
            d.once = c("addOnceListener"),
            d.defineEvent = function(a) {
                return this.getListeners(a),
                    this
            }
            ,
            d.defineEvents = function(a) {
                for (var b = 0; b < a.length; b += 1)
                    this.defineEvent(a[b]);
                return this
            }
            ,
            d.removeListener = function(a, c) {
                var d, e, f = this.getListenersAsObject(a);
                for (e in f)
                    f.hasOwnProperty(e) && (d = b(f[e], c),
                    -1 !== d && f[e].splice(d, 1));
                return this
            }
            ,
            d.off = c("removeListener"),
            d.addListeners = function(a, b) {
                return this.manipulateListeners(!1, a, b)
            }
            ,
            d.removeListeners = function(a, b) {
                return this.manipulateListeners(!0, a, b)
            }
            ,
            d.manipulateListeners = function(a, b, c) {
                var d, e, f = a ? this.removeListener : this.addListener, g = a ? this.removeListeners : this.addListeners;
                if ("object" != typeof b || b instanceof RegExp)
                    for (d = c.length; d--; )
                        f.call(this, b, c[d]);
                else
                    for (d in b)
                        b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
                return this
            }
            ,
            d.removeEvent = function(a) {
                var b, c = typeof a, d = this._getEvents();
                if ("string" === c)
                    delete d[a];
                else if (a instanceof RegExp)
                    for (b in d)
                        d.hasOwnProperty(b) && a.test(b) && delete d[b];
                else
                    delete this._events;
                return this
            }
            ,
            d.removeAllListeners = c("removeEvent"),
            d.emitEvent = function(a, b) {
                var c, d, e, f, g = this.getListenersAsObject(a);
                for (e in g)
                    if (g.hasOwnProperty(e))
                        for (d = g[e].length; d--; )
                            c = g[e][d],
                            c.once === !0 && this.removeListener(a, c.listener),
                                f = c.listener.apply(this, b || []),
                            f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
                return this
            }
            ,
            d.trigger = c("emitEvent"),
            d.emit = function(a) {
                var b = Array.prototype.slice.call(arguments, 1);
                return this.emitEvent(a, b)
            }
            ,
            d.setOnceReturnValue = function(a) {
                return this._onceReturnValue = a,
                    this
            }
            ,
            d._getOnceReturnValue = function() {
                return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
            }
            ,
            d._getEvents = function() {
                return this._events || (this._events = {})
            }
            ,
            a.noConflict = function() {
                return e.EventEmitter = f,
                    a
            }
            ,
            "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
                return a
            }) : "object" == typeof module && module.exports ? module.exports = a : e.EventEmitter = a
    }
        .call(this),
    function(a) {
        function b(a) {
            if (a) {
                if ("string" == typeof d[a])
                    return a;
                a = a.charAt(0).toUpperCase() + a.slice(1);
                for (var b, e = 0, f = c.length; f > e; e++)
                    if (b = c[e] + a,
                        "string" == typeof d[b])
                        return b
            }
        }
        var c = "Webkit Moz ms Ms O".split(" ")
            , d = document.documentElement.style;
        "function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function() {
            return b
        }) : "object" == typeof exports ? module.exports = b : a.getStyleProperty = b
    }(window),
    function(a) {
        function b(a) {
            var b = parseFloat(a)
                , c = -1 === a.indexOf("%") && !isNaN(b);
            return c && b
        }
        function c() {}
        function d() {
            for (var a = {
                width: 0,
                height: 0,
                innerWidth: 0,
                innerHeight: 0,
                outerWidth: 0,
                outerHeight: 0
            }, b = 0, c = g.length; c > b; b++) {
                var d = g[b];
                a[d] = 0
            }
            return a
        }
        function e(c) {
            function e() {
                if (!m) {
                    m = !0;
                    var d = a.getComputedStyle;
                    if (j = function() {
                            var a = d ? function(a) {
                                    return d(a, null )
                                }
                                    : function(a) {
                                    return a.currentStyle
                                }
                                ;
                            return function(b) {
                                var c = a(b);
                                return c || f("Style returned " + c + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),
                                    c
                            }
                        }(),
                            k = c("boxSizing")) {
                        var e = document.createElement("div");
                        e.style.width = "200px",
                            e.style.padding = "1px 2px 3px 4px",
                            e.style.borderStyle = "solid",
                            e.style.borderWidth = "1px 2px 3px 4px",
                            e.style[k] = "border-box";
                        var g = document.body || document.documentElement;
                        g.appendChild(e);
                        var h = j(e);
                        l = 200 === b(h.width),
                            g.removeChild(e)
                    }
                }
            }
            function h(a) {
                if (e(),
                    "string" == typeof a && (a = document.querySelector(a)),
                    a && "object" == typeof a && a.nodeType) {
                    var c = j(a);
                    if ("none" === c.display)
                        return d();
                    var f = {};
                    f.width = a.offsetWidth,
                        f.height = a.offsetHeight;
                    for (var h = f.isBorderBox = !(!k || !c[k] || "border-box" !== c[k]), m = 0, n = g.length; n > m; m++) {
                        var o = g[m]
                            , p = c[o];
                        p = i(a, p);
                        var q = parseFloat(p);
                        f[o] = isNaN(q) ? 0 : q
                    }
                    var r = f.paddingLeft + f.paddingRight
                        , s = f.paddingTop + f.paddingBottom
                        , t = f.marginLeft + f.marginRight
                        , u = f.marginTop + f.marginBottom
                        , v = f.borderLeftWidth + f.borderRightWidth
                        , w = f.borderTopWidth + f.borderBottomWidth
                        , x = h && l
                        , y = b(c.width);
                    y !== !1 && (f.width = y + (x ? 0 : r + v));
                    var z = b(c.height);
                    return z !== !1 && (f.height = z + (x ? 0 : s + w)),
                        f.innerWidth = f.width - (r + v),
                        f.innerHeight = f.height - (s + w),
                        f.outerWidth = f.width + t,
                        f.outerHeight = f.height + u,
                        f
                }
            }
            function i(b, c) {
                if (a.getComputedStyle || -1 === c.indexOf("%"))
                    return c;
                var d = b.style
                    , e = d.left
                    , f = b.runtimeStyle
                    , g = f && f.left;
                return g && (f.left = b.currentStyle.left),
                    d.left = c,
                    c = d.pixelLeft,
                    d.left = e,
                g && (f.left = g),
                    c
            }
            var j, k, l, m = !1;
            return h
        }
        var f = "undefined" == typeof console ? c : function(a) {
            console.error(a)
        }
            , g = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
        "function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], e) : "object" == typeof exports ? module.exports = e(require("desandro-get-style-property")) : a.getSize = e(a.getStyleProperty)
    }(window),
    function(a) {
        function b(a) {
            "function" == typeof a && (b.isReady ? a() : g.push(a))
        }
        function c(a) {
            var c = "readystatechange" === a.type && "complete" !== f.readyState;
            b.isReady || c || d()
        }
        function d() {
            b.isReady = !0;
            for (var a = 0, c = g.length; c > a; a++) {
                var d = g[a];
                d()
            }
        }
        function e(e) {
            return "complete" === f.readyState ? d() : (e.bind(f, "DOMContentLoaded", c),
                e.bind(f, "readystatechange", c),
                e.bind(a, "load", c)),
                b
        }
        var f = a.document
            , g = [];
        b.isReady = !1,
            "function" == typeof define && define.amd ? define("doc-ready/doc-ready", ["eventie/eventie"], e) : "object" == typeof exports ? module.exports = e(require("eventie")) : a.docReady = e(a.eventie)
    }(window),
    function(a) {
        function b(a, b) {
            return a[g](b)
        }
        function c(a) {
            if (!a.parentNode) {
                var b = document.createDocumentFragment();
                b.appendChild(a)
            }
        }
        function d(a, b) {
            c(a);
            for (var d = a.parentNode.querySelectorAll(b), e = 0, f = d.length; f > e; e++)
                if (d[e] === a)
                    return !0;
            return !1
        }
        function e(a, d) {
            return c(a),
                b(a, d)
        }
        var f, g = function() {
            if (a.matches)
                return "matches";
            if (a.matchesSelector)
                return "matchesSelector";
            for (var b = ["webkit", "moz", "ms", "o"], c = 0, d = b.length; d > c; c++) {
                var e = b[c]
                    , f = e + "MatchesSelector";
                if (a[f])
                    return f
            }
        }();
        if (g) {
            var h = document.createElement("div")
                , i = b(h, "div");
            f = i ? b : e
        } else
            f = d;
        "function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function() {
            return f
        }) : "object" == typeof exports ? module.exports = f : window.matchesSelector = f
    }(Element.prototype),
    function(a, b) {
        "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["doc-ready/doc-ready", "matches-selector/matches-selector"], function(c, d) {
            return b(a, c, d)
        }) : "object" == typeof exports ? module.exports = b(a, require("doc-ready"), require("desandro-matches-selector")) : a.fizzyUIUtils = b(a, a.docReady, a.matchesSelector)
    }(window, function(a, b, c) {
        var d = {};
        d.extend = function(a, b) {
            for (var c in b)
                a[c] = b[c];
            return a
        }
            ,
            d.modulo = function(a, b) {
                return (a % b + b) % b
            }
        ;
        var e = Object.prototype.toString;
        d.isArray = function(a) {
            return "[object Array]" == e.call(a)
        }
            ,
            d.makeArray = function(a) {
                var b = [];
                if (d.isArray(a))
                    b = a;
                else if (a && "number" == typeof a.length)
                    for (var c = 0, e = a.length; e > c; c++)
                        b.push(a[c]);
                else
                    b.push(a);
                return b
            }
            ,
            d.indexOf = Array.prototype.indexOf ? function(a, b) {
                return a.indexOf(b)
            }
                : function(a, b) {
                for (var c = 0, d = a.length; d > c; c++)
                    if (a[c] === b)
                        return c;
                return -1
            }
            ,
            d.removeFrom = function(a, b) {
                var c = d.indexOf(a, b);
                -1 != c && a.splice(c, 1)
            }
            ,
            d.isElement = "function" == typeof HTMLElement || "object" == typeof HTMLElement ? function(a) {
                return a instanceof HTMLElement
            }
                : function(a) {
                return a && "object" == typeof a && 1 == a.nodeType && "string" == typeof a.nodeName
            }
            ,
            d.setText = function() {
                function a(a, c) {
                    b = b || (void 0 !== document.documentElement.textContent ? "textContent" : "innerText"),
                        a[b] = c
                }
                var b;
                return a
            }(),
            d.getParent = function(a, b) {
                for (; a != document.body; )
                    if (a = a.parentNode,
                            c(a, b))
                        return a
            }
            ,
            d.getQueryElement = function(a) {
                return "string" == typeof a ? document.querySelector(a) : a
            }
            ,
            d.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            d.filterFindElements = function(a, b) {
                a = d.makeArray(a);
                for (var e = [], f = 0, g = a.length; g > f; f++) {
                    var h = a[f];
                    if (d.isElement(h))
                        if (b) {
                            c(h, b) && e.push(h);
                            for (var i = h.querySelectorAll(b), j = 0, k = i.length; k > j; j++)
                                e.push(i[j])
                        } else
                            e.push(h)
                }
                return e
            }
            ,
            d.debounceMethod = function(a, b, c) {
                var d = a.prototype[b]
                    , e = b + "Timeout";
                a.prototype[b] = function() {
                    var a = this[e];
                    a && clearTimeout(a);
                    var b = arguments
                        , f = this;
                    this[e] = setTimeout(function() {
                        d.apply(f, b),
                            delete f[e]
                    }, c || 100)
                }
            }
            ,
            d.toDashed = function(a) {
                return a.replace(/(.)([A-Z])/g, function(a, b, c) {
                    return b + "-" + c
                }).toLowerCase()
            }
        ;
        var f = a.console;
        return d.htmlInit = function(c, e) {
            b(function() {
                for (var b = d.toDashed(e), g = document.querySelectorAll(".js-" + b), h = "data-" + b + "-options", i = 0, j = g.length; j > i; i++) {
                    var k, l = g[i], m = l.getAttribute(h);
                    try {
                        k = m && JSON.parse(m)
                    } catch (a) {
                        f && f.error("Error parsing " + h + " on " + l.nodeName.toLowerCase() + (l.id ? "#" + l.id : "") + ": " + a);
                        continue
                    }
                    var n = new c(l,k)
                        , o = a.jQuery;
                    o && o.data(l, e, n)
                }
            })
        }
            ,
            d
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property", "fizzy-ui-utils/utils"], function(c, d, e, f) {
            return b(a, c, d, e, f)
        }) : "object" == typeof exports ? module.exports = b(a, require("wolfy87-eventemitter"), require("get-size"), require("desandro-get-style-property"), require("fizzy-ui-utils")) : (a.Outlayer = {},
            a.Outlayer.Item = b(a, a.EventEmitter, a.getSize, a.getStyleProperty, a.fizzyUIUtils))
    }(window, function(a, b, c, d, e) {
        function f(a) {
            for (var b in a)
                return !1;
            return b = null ,
                !0
        }
        function g(a, b) {
            a && (this.element = a,
                this.layout = b,
                this.position = {
                    x: 0,
                    y: 0
                },
                this._create())
        }
        var h = a.getComputedStyle
            , i = h ? function(a) {
            return h(a, null )
        }
            : function(a) {
            return a.currentStyle
        }
            , j = d("transition")
            , k = d("transform")
            , l = j && k
            , m = !!d("perspective")
            , n = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "otransitionend",
            transition: "transitionend"
        }[j]
            , o = ["transform", "transition", "transitionDuration", "transitionProperty"]
            , p = function() {
            for (var a = {}, b = 0, c = o.length; c > b; b++) {
                var e = o[b]
                    , f = d(e);
                f && f !== e && (a[e] = f)
            }
            return a
        }();
        e.extend(g.prototype, b.prototype),
            g.prototype._create = function() {
                this._transn = {
                    ingProperties: {},
                    clean: {},
                    onEnd: {}
                },
                    this.css({
                        position: "absolute"
                    })
            }
            ,
            g.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            g.prototype.getSize = function() {
                this.size = c(this.element)
            }
            ,
            g.prototype.css = function(a) {
                var b = this.element.style;
                for (var c in a) {
                    var d = p[c] || c;
                    b[d] = a[c]
                }
            }
            ,
            g.prototype.getPosition = function() {
                var a = i(this.element)
                    , b = this.layout.options
                    , c = b.isOriginLeft
                    , d = b.isOriginTop
                    , e = parseInt(a[c ? "left" : "right"], 10)
                    , f = parseInt(a[d ? "top" : "bottom"], 10);
                e = isNaN(e) ? 0 : e,
                    f = isNaN(f) ? 0 : f;
                var g = this.layout.size;
                e -= c ? g.paddingLeft : g.paddingRight,
                    f -= d ? g.paddingTop : g.paddingBottom,
                    this.position.x = e,
                    this.position.y = f
            }
            ,
            g.prototype.layoutPosition = function() {
                var a = this.layout.size
                    , b = this.layout.options
                    , c = {}
                    , d = b.isOriginLeft ? "paddingLeft" : "paddingRight"
                    , e = b.isOriginLeft ? "left" : "right"
                    , f = b.isOriginLeft ? "right" : "left"
                    , g = this.position.x + a[d];
                g = b.percentPosition && !b.isHorizontal ? g / a.width * 100 + "%" : g + "px",
                    c[e] = g,
                    c[f] = "";
                var h = b.isOriginTop ? "paddingTop" : "paddingBottom"
                    , i = b.isOriginTop ? "top" : "bottom"
                    , j = b.isOriginTop ? "bottom" : "top"
                    , k = this.position.y + a[h];
                k = b.percentPosition && b.isHorizontal ? k / a.height * 100 + "%" : k + "px",
                    c[i] = k,
                    c[j] = "",
                    this.css(c),
                    this.emitEvent("layout", [this])
            }
        ;
        var q = m ? function(a, b) {
                return "translate3d(" + a + "px, " + b + "px, 0)"
            }
                : function(a, b) {
                return "translate(" + a + "px, " + b + "px)"
            }
            ;
        g.prototype._transitionTo = function(a, b) {
            this.getPosition();
            var c = this.position.x
                , d = this.position.y
                , e = parseInt(a, 10)
                , f = parseInt(b, 10)
                , g = e === this.position.x && f === this.position.y;
            if (this.setPosition(a, b),
                g && !this.isTransitioning)
                return void this.layoutPosition();
            var h = a - c
                , i = b - d
                , j = {}
                , k = this.layout.options;
            h = k.isOriginLeft ? h : -h,
                i = k.isOriginTop ? i : -i,
                j.transform = q(h, i),
                this.transition({
                    to: j,
                    onTransitionEnd: {
                        transform: this.layoutPosition
                    },
                    isCleaning: !0
                })
        }
            ,
            g.prototype.goTo = function(a, b) {
                this.setPosition(a, b),
                    this.layoutPosition()
            }
            ,
            g.prototype.moveTo = l ? g.prototype._transitionTo : g.prototype.goTo,
            g.prototype.setPosition = function(a, b) {
                this.position.x = parseInt(a, 10),
                    this.position.y = parseInt(b, 10)
            }
            ,
            g.prototype._nonTransition = function(a) {
                this.css(a.to),
                a.isCleaning && this._removeStyles(a.to);
                for (var b in a.onTransitionEnd)
                    a.onTransitionEnd[b].call(this)
            }
            ,
            g.prototype._transition = function(a) {
                if (!parseFloat(this.layout.options.transitionDuration))
                    return void this._nonTransition(a);
                var b = this._transn;
                for (var c in a.onTransitionEnd)
                    b.onEnd[c] = a.onTransitionEnd[c];
                for (c in a.to)
                    b.ingProperties[c] = !0,
                    a.isCleaning && (b.clean[c] = !0);
                if (a.from) {
                    this.css(a.from);
                    var d = this.element.offsetHeight;
                    d = null
                }
                this.enableTransition(a.to),
                    this.css(a.to),
                    this.isTransitioning = !0
            }
        ;
        var r = k && e.toDashed(k) + ",opacity";
        g.prototype.enableTransition = function() {
            this.isTransitioning || (this.css({
                transitionProperty: r,
                transitionDuration: this.layout.options.transitionDuration
            }),
                this.element.addEventListener(n, this, !1))
        }
            ,
            g.prototype.transition = g.prototype[j ? "_transition" : "_nonTransition"],
            g.prototype.onwebkitTransitionEnd = function(a) {
                this.ontransitionend(a)
            }
            ,
            g.prototype.onotransitionend = function(a) {
                this.ontransitionend(a)
            }
        ;
        var s = {
            "-webkit-transform": "transform",
            "-moz-transform": "transform",
            "-o-transform": "transform"
        };
        g.prototype.ontransitionend = function(a) {
            if (a.target === this.element) {
                var b = this._transn
                    , c = s[a.propertyName] || a.propertyName;
                if (delete b.ingProperties[c],
                    f(b.ingProperties) && this.disableTransition(),
                    c in b.clean && (this.element.style[a.propertyName] = "",
                        delete b.clean[c]),
                    c in b.onEnd) {
                    var d = b.onEnd[c];
                    d.call(this),
                        delete b.onEnd[c]
                }
                this.emitEvent("transitionEnd", [this])
            }
        }
            ,
            g.prototype.disableTransition = function() {
                this.removeTransitionStyles(),
                    this.element.removeEventListener(n, this, !1),
                    this.isTransitioning = !1
            }
            ,
            g.prototype._removeStyles = function(a) {
                var b = {};
                for (var c in a)
                    b[c] = "";
                this.css(b)
            }
        ;
        var t = {
            transitionProperty: "",
            transitionDuration: ""
        };
        return g.prototype.removeTransitionStyles = function() {
            this.css(t)
        }
            ,
            g.prototype.removeElem = function() {
                this.element.parentNode.removeChild(this.element),
                    this.css({
                        display: ""
                    }),
                    this.emitEvent("remove", [this])
            }
            ,
            g.prototype.remove = function() {
                if (!j || !parseFloat(this.layout.options.transitionDuration))
                    return void this.removeElem();
                var a = this;
                this.once("transitionEnd", function() {
                    a.removeElem()
                }),
                    this.hide()
            }
            ,
            g.prototype.reveal = function() {
                delete this.isHidden,
                    this.css({
                        display: ""
                    });
                var a = this.layout.options
                    , b = {}
                    , c = this.getHideRevealTransitionEndProperty("visibleStyle");
                b[c] = this.onRevealTransitionEnd,
                    this.transition({
                        from: a.hiddenStyle,
                        to: a.visibleStyle,
                        isCleaning: !0,
                        onTransitionEnd: b
                    })
            }
            ,
            g.prototype.onRevealTransitionEnd = function() {
                this.isHidden || this.emitEvent("reveal")
            }
            ,
            g.prototype.getHideRevealTransitionEndProperty = function(a) {
                var b = this.layout.options[a];
                if (b.opacity)
                    return "opacity";
                for (var c in b)
                    return c
            }
            ,
            g.prototype.hide = function() {
                this.isHidden = !0,
                    this.css({
                        display: ""
                    });
                var a = this.layout.options
                    , b = {}
                    , c = this.getHideRevealTransitionEndProperty("hiddenStyle");
                b[c] = this.onHideTransitionEnd,
                    this.transition({
                        from: a.visibleStyle,
                        to: a.hiddenStyle,
                        isCleaning: !0,
                        onTransitionEnd: b
                    })
            }
            ,
            g.prototype.onHideTransitionEnd = function() {
                this.isHidden && (this.css({
                    display: "none"
                }),
                    this.emitEvent("hide"))
            }
            ,
            g.prototype.destroy = function() {
                this.css({
                    position: "",
                    left: "",
                    right: "",
                    top: "",
                    bottom: "",
                    transition: "",
                    transform: ""
                })
            }
            ,
            g
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "eventEmitter/EventEmitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function(c, d, e, f, g) {
            return b(a, c, d, e, f, g)
        }) : "object" == typeof exports ? module.exports = b(a, require("eventie"), require("wolfy87-eventemitter"), require("get-size"), require("fizzy-ui-utils"), require("./item")) : a.Outlayer = b(a, a.eventie, a.EventEmitter, a.getSize, a.fizzyUIUtils, a.Outlayer.Item)
    }(window, function(a, b, c, d, e, f) {
        function g(a, b) {
            var c = e.getQueryElement(a);
            if (!c)
                return void (h && h.error("Bad element for " + this.constructor.namespace + ": " + (c || a)));
            this.element = c,
            i && (this.$element = i(this.element)),
                this.options = e.extend({}, this.constructor.defaults),
                this.option(b);
            var d = ++k;
            this.element.outlayerGUID = d,
                l[d] = this,
                this._create(),
            this.options.isInitLayout && this.layout()
        }
        var h = a.console
            , i = a.jQuery
            , j = function() {}
            , k = 0
            , l = {};
        return g.namespace = "outlayer",
            g.Item = f,
            g.defaults = {
                containerStyle: {
                    position: "relative"
                },
                isInitLayout: !0,
                isOriginLeft: !0,
                isOriginTop: !0,
                isResizeBound: !0,
                isResizingContainer: !0,
                transitionDuration: "0.4s",
                hiddenStyle: {
                    opacity: 0,
                    transform: "scale(0.001)"
                },
                visibleStyle: {
                    opacity: 1,
                    transform: "scale(1)"
                }
            },
            e.extend(g.prototype, c.prototype),
            g.prototype.option = function(a) {
                e.extend(this.options, a)
            }
            ,
            g.prototype._create = function() {
                this.reloadItems(),
                    this.stamps = [],
                    this.stamp(this.options.stamp),
                    e.extend(this.element.style, this.options.containerStyle),
                this.options.isResizeBound && this.bindResize()
            }
            ,
            g.prototype.reloadItems = function() {
                this.items = this._itemize(this.element.children)
            }
            ,
            g.prototype._itemize = function(a) {
                for (var b = this._filterFindItemElements(a), c = this.constructor.Item, d = [], e = 0, f = b.length; f > e; e++) {
                    var g = b[e]
                        , h = new c(g,this);
                    d.push(h)
                }
                return d
            }
            ,
            g.prototype._filterFindItemElements = function(a) {
                return e.filterFindElements(a, this.options.itemSelector)
            }
            ,
            g.prototype.getItemElements = function() {
                for (var a = [], b = 0, c = this.items.length; c > b; b++)
                    a.push(this.items[b].element);
                return a
            }
            ,
            g.prototype.layout = function() {
                this._resetLayout(),
                    this._manageStamps();
                var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                this.layoutItems(this.items, a),
                    this._isLayoutInited = !0
            }
            ,
            g.prototype._init = g.prototype.layout,
            g.prototype._resetLayout = function() {
                this.getSize()
            }
            ,
            g.prototype.getSize = function() {
                this.size = d(this.element)
            }
            ,
            g.prototype._getMeasurement = function(a, b) {
                var c, f = this.options[a];
                f ? ("string" == typeof f ? c = this.element.querySelector(f) : e.isElement(f) && (c = f),
                    this[a] = c ? d(c)[b] : f) : this[a] = 0
            }
            ,
            g.prototype.layoutItems = function(a, b) {
                a = this._getItemsForLayout(a),
                    this._layoutItems(a, b),
                    this._postLayout()
            }
            ,
            g.prototype._getItemsForLayout = function(a) {
                for (var b = [], c = 0, d = a.length; d > c; c++) {
                    var e = a[c];
                    e.isIgnored || b.push(e)
                }
                return b
            }
            ,
            g.prototype._layoutItems = function(a, b) {
                if (this._emitCompleteOnItems("layout", a),
                    a && a.length) {
                    for (var c = [], d = 0, e = a.length; e > d; d++) {
                        var f = a[d]
                            , g = this._getItemLayoutPosition(f);
                        g.item = f,
                            g.isInstant = b || f.isLayoutInstant,
                            c.push(g)
                    }
                    this._processLayoutQueue(c)
                }
            }
            ,
            g.prototype._getItemLayoutPosition = function() {
                return {
                    x: 0,
                    y: 0
                }
            }
            ,
            g.prototype._processLayoutQueue = function(a) {
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    this._positionItem(d.item, d.x, d.y, d.isInstant)
                }
            }
            ,
            g.prototype._positionItem = function(a, b, c, d) {
                d ? a.goTo(b, c) : a.moveTo(b, c)
            }
            ,
            g.prototype._postLayout = function() {
                this.resizeContainer()
            }
            ,
            g.prototype.resizeContainer = function() {
                if (this.options.isResizingContainer) {
                    var a = this._getContainerSize();
                    a && (this._setContainerMeasure(a.width, !0),
                        this._setContainerMeasure(a.height, !1))
                }
            }
            ,
            g.prototype._getContainerSize = j,
            g.prototype._setContainerMeasure = function(a, b) {
                if (void 0 !== a) {
                    var c = this.size;
                    c.isBorderBox && (a += b ? c.paddingLeft + c.paddingRight + c.borderLeftWidth + c.borderRightWidth : c.paddingBottom + c.paddingTop + c.borderTopWidth + c.borderBottomWidth),
                        a = Math.max(a, 0),
                        this.element.style[b ? "width" : "height"] = a + "px"
                }
            }
            ,
            g.prototype._emitCompleteOnItems = function(a, b) {
                function c() {
                    e.emitEvent(a + "Complete", [b])
                }
                function d() {
                    g++,
                    g === f && c()
                }
                var e = this
                    , f = b.length;
                if (!b || !f)
                    return void c();
                for (var g = 0, h = 0, i = b.length; i > h; h++) {
                    var j = b[h];
                    j.once(a, d)
                }
            }
            ,
            g.prototype.ignore = function(a) {
                var b = this.getItem(a);
                b && (b.isIgnored = !0)
            }
            ,
            g.prototype.unignore = function(a) {
                var b = this.getItem(a);
                b && delete b.isIgnored
            }
            ,
            g.prototype.stamp = function(a) {
                if (a = this._find(a)) {
                    this.stamps = this.stamps.concat(a);
                    for (var b = 0, c = a.length; c > b; b++) {
                        var d = a[b];
                        this.ignore(d)
                    }
                }
            }
            ,
            g.prototype.unstamp = function(a) {
                if (a = this._find(a))
                    for (var b = 0, c = a.length; c > b; b++) {
                        var d = a[b];
                        e.removeFrom(this.stamps, d),
                            this.unignore(d)
                    }
            }
            ,
            g.prototype._find = function(a) {
                return a ? ("string" == typeof a && (a = this.element.querySelectorAll(a)),
                    a = e.makeArray(a)) : void 0
            }
            ,
            g.prototype._manageStamps = function() {
                if (this.stamps && this.stamps.length) {
                    this._getBoundingRect();
                    for (var a = 0, b = this.stamps.length; b > a; a++) {
                        var c = this.stamps[a];
                        this._manageStamp(c)
                    }
                }
            }
            ,
            g.prototype._getBoundingRect = function() {
                var a = this.element.getBoundingClientRect()
                    , b = this.size;
                this._boundingRect = {
                    left: a.left + b.paddingLeft + b.borderLeftWidth,
                    top: a.top + b.paddingTop + b.borderTopWidth,
                    right: a.right - (b.paddingRight + b.borderRightWidth),
                    bottom: a.bottom - (b.paddingBottom + b.borderBottomWidth)
                }
            }
            ,
            g.prototype._manageStamp = j,
            g.prototype._getElementOffset = function(a) {
                var b = a.getBoundingClientRect()
                    , c = this._boundingRect
                    , e = d(a)
                    , f = {
                    left: b.left - c.left - e.marginLeft,
                    top: b.top - c.top - e.marginTop,
                    right: c.right - b.right - e.marginRight,
                    bottom: c.bottom - b.bottom - e.marginBottom
                };
                return f
            }
            ,
            g.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }
            ,
            g.prototype.bindResize = function() {
                this.isResizeBound || (b.bind(a, "resize", this),
                    this.isResizeBound = !0)
            }
            ,
            g.prototype.unbindResize = function() {
                this.isResizeBound && b.unbind(a, "resize", this),
                    this.isResizeBound = !1
            }
            ,
            g.prototype.onresize = function() {
                function a() {
                    b.resize(),
                        delete b.resizeTimeout
                }
                this.resizeTimeout && clearTimeout(this.resizeTimeout);
                var b = this;
                this.resizeTimeout = setTimeout(a, 100)
            }
            ,
            g.prototype.resize = function() {
                this.isResizeBound && this.needsResizeLayout() && this.layout()
            }
            ,
            g.prototype.needsResizeLayout = function() {
                var a = d(this.element)
                    , b = this.size && a;
                return b && a.innerWidth !== this.size.innerWidth
            }
            ,
            g.prototype.addItems = function(a) {
                var b = this._itemize(a);
                return b.length && (this.items = this.items.concat(b)),
                    b
            }
            ,
            g.prototype.appended = function(a) {
                var b = this.addItems(a);
                b.length && (this.layoutItems(b, !0),
                    this.reveal(b))
            }
            ,
            g.prototype.prepended = function(a) {
                var b = this._itemize(a);
                if (b.length) {
                    var c = this.items.slice(0);
                    this.items = b.concat(c),
                        this._resetLayout(),
                        this._manageStamps(),
                        this.layoutItems(b, !0),
                        this.reveal(b),
                        this.layoutItems(c)
                }
            }
            ,
            g.prototype.reveal = function(a) {
                this._emitCompleteOnItems("reveal", a);
                for (var b = a && a.length, c = 0; b && b > c; c++) {
                    var d = a[c];
                    d.reveal()
                }
            }
            ,
            g.prototype.hide = function(a) {
                this._emitCompleteOnItems("hide", a);
                for (var b = a && a.length, c = 0; b && b > c; c++) {
                    var d = a[c];
                    d.hide()
                }
            }
            ,
            g.prototype.revealItemElements = function(a) {
                var b = this.getItems(a);
                this.reveal(b)
            }
            ,
            g.prototype.hideItemElements = function(a) {
                var b = this.getItems(a);
                this.hide(b)
            }
            ,
            g.prototype.getItem = function(a) {
                for (var b = 0, c = this.items.length; c > b; b++) {
                    var d = this.items[b];
                    if (d.element === a)
                        return d
                }
            }
            ,
            g.prototype.getItems = function(a) {
                a = e.makeArray(a);
                for (var b = [], c = 0, d = a.length; d > c; c++) {
                    var f = a[c]
                        , g = this.getItem(f);
                    g && b.push(g)
                }
                return b
            }
            ,
            g.prototype.remove = function(a) {
                var b = this.getItems(a);
                if (this._emitCompleteOnItems("remove", b),
                    b && b.length)
                    for (var c = 0, d = b.length; d > c; c++) {
                        var f = b[c];
                        f.remove(),
                            e.removeFrom(this.items, f)
                    }
            }
            ,
            g.prototype.destroy = function() {
                var a = this.element.style;
                a.height = "",
                    a.position = "",
                    a.width = "";
                for (var b = 0, c = this.items.length; c > b; b++) {
                    var d = this.items[b];
                    d.destroy()
                }
                this.unbindResize();
                var e = this.element.outlayerGUID;
                delete l[e],
                    delete this.element.outlayerGUID,
                i && i.removeData(this.element, this.constructor.namespace)
            }
            ,
            g.data = function(a) {
                a = e.getQueryElement(a);
                var b = a && a.outlayerGUID;
                return b && l[b]
            }
            ,
            g.create = function(a, b) {
                function c() {
                    g.apply(this, arguments)
                }
                return Object.create ? c.prototype = Object.create(g.prototype) : e.extend(c.prototype, g.prototype),
                    c.prototype.constructor = c,
                    c.defaults = e.extend({}, g.defaults),
                    e.extend(c.defaults, b),
                    c.prototype.settings = {},
                    c.namespace = a,
                    c.data = g.data,
                    c.Item = function() {
                        f.apply(this, arguments)
                    }
                    ,
                    c.Item.prototype = new f,
                    e.htmlInit(c, a),
                i && i.bridget && i.bridget(a, c),
                    c
            }
            ,
            g.Item = f,
            g
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "fizzy-ui-utils/utils"], b) : "object" == typeof exports ? module.exports = b(require("outlayer"), require("get-size"), require("fizzy-ui-utils")) : a.Masonry = b(a.Outlayer, a.getSize, a.fizzyUIUtils)
    }(window, function(a, b, c) {
        var d = a.create("masonry");
        return d.prototype._resetLayout = function() {
            this.getSize(),
                this._getMeasurement("columnWidth", "outerWidth"),
                this._getMeasurement("gutter", "outerWidth"),
                this.measureColumns();
            var a = this.cols;
            for (this.colYs = []; a--; )
                this.colYs.push(0);
            this.maxY = 0
        }
            ,
            d.prototype.measureColumns = function() {
                if (this.getContainerWidth(),
                        !this.columnWidth) {
                    var a = this.items[0]
                        , c = a && a.element;
                    this.columnWidth = c && b(c).outerWidth || this.containerWidth
                }
                var d = this.columnWidth += this.gutter
                    , e = this.containerWidth + this.gutter
                    , f = e / d
                    , g = d - e % d
                    , h = g && 1 > g ? "round" : "floor";
                f = Math[h](f),
                    this.cols = Math.max(f, 1)
            }
            ,
            d.prototype.getContainerWidth = function() {
                var a = this.options.isFitWidth ? this.element.parentNode : this.element
                    , c = b(a);
                this.containerWidth = c && c.innerWidth
            }
            ,
            d.prototype._getItemLayoutPosition = function(a) {
                a.getSize();
                var b = a.size.outerWidth % this.columnWidth
                    , d = b && 1 > b ? "round" : "ceil"
                    , e = Math[d](a.size.outerWidth / this.columnWidth);
                e = Math.min(e, this.cols);
                for (var f = this._getColGroup(e), g = Math.min.apply(Math, f), h = c.indexOf(f, g), i = {
                    x: this.columnWidth * h,
                    y: g
                }, j = g + a.size.outerHeight, k = this.cols + 1 - f.length, l = 0; k > l; l++)
                    this.colYs[h + l] = j;
                return i
            }
            ,
            d.prototype._getColGroup = function(a) {
                if (2 > a)
                    return this.colYs;
                for (var b = [], c = this.cols + 1 - a, d = 0; c > d; d++) {
                    var e = this.colYs.slice(d, d + a);
                    b[d] = Math.max.apply(Math, e)
                }
                return b
            }
            ,
            d.prototype._manageStamp = function(a) {
                var c = b(a)
                    , d = this._getElementOffset(a)
                    , e = this.options.isOriginLeft ? d.left : d.right
                    , f = e + c.outerWidth
                    , g = Math.floor(e / this.columnWidth);
                g = Math.max(0, g);
                var h = Math.floor(f / this.columnWidth);
                h -= f % this.columnWidth ? 0 : 1,
                    h = Math.min(this.cols - 1, h);
                for (var i = (this.options.isOriginTop ? d.top : d.bottom) + c.outerHeight, j = g; h >= j; j++)
                    this.colYs[j] = Math.max(i, this.colYs[j])
            }
            ,
            d.prototype._getContainerSize = function() {
                this.maxY = Math.max.apply(Math, this.colYs);
                var a = {
                    height: this.maxY
                };
                return this.options.isFitWidth && (a.width = this._getContainerFitWidth()),
                    a
            }
            ,
            d.prototype._getContainerFitWidth = function() {
                for (var a = 0, b = this.cols; --b && 0 === this.colYs[b]; )
                    a++;
                return (this.cols - a) * this.columnWidth - this.gutter
            }
            ,
            d.prototype.needsResizeLayout = function() {
                var a = this.containerWidth;
                return this.getContainerWidth(),
                a !== this.containerWidth
            }
            ,
            d
    }),
    function() {
        function a(b, d) {
            function e(a, b) {
                return function() {
                    return a.apply(b, arguments)
                }
            }
            var f;
            if (d = d || {},
                    this.trackingClick = !1,
                    this.trackingClickStart = 0,
                    this.targetElement = null ,
                    this.touchStartX = 0,
                    this.touchStartY = 0,
                    this.lastTouchIdentifier = 0,
                    this.touchBoundary = d.touchBoundary || 10,
                    this.layer = b,
                    this.tapDelay = d.tapDelay || 200,
                    this.tapTimeout = d.tapTimeout || 700,
                    !a.notNeeded(b)) {
                for (var g = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"], h = this, i = 0, j = g.length; j > i; i++)
                    h[g[i]] = e(h[g[i]], h);
                c && (b.addEventListener("mouseover", this.onMouse, !0),
                    b.addEventListener("mousedown", this.onMouse, !0),
                    b.addEventListener("mouseup", this.onMouse, !0)),
                    b.addEventListener("click", this.onClick, !0),
                    b.addEventListener("touchstart", this.onTouchStart, !1),
                    b.addEventListener("touchmove", this.onTouchMove, !1),
                    b.addEventListener("touchend", this.onTouchEnd, !1),
                    b.addEventListener("touchcancel", this.onTouchCancel, !1),
                Event.prototype.stopImmediatePropagation || (b.removeEventListener = function(a, c, d) {
                        var e = Node.prototype.removeEventListener;
                        "click" === a ? e.call(b, a, c.hijacked || c, d) : e.call(b, a, c, d)
                    }
                        ,
                        b.addEventListener = function(a, c, d) {
                            var e = Node.prototype.addEventListener;
                            "click" === a ? e.call(b, a, c.hijacked || (c.hijacked = function(a) {
                                        a.propagationStopped || c(a)
                                    }
                                ), d) : e.call(b, a, c, d)
                        }
                ),
                "function" == typeof b.onclick && (f = b.onclick,
                    b.addEventListener("click", function(a) {
                        f(a)
                    }, !1),
                    b.onclick = null )
            }
        }
        var b = navigator.userAgent.indexOf("Windows Phone") >= 0
            , c = navigator.userAgent.indexOf("Android") > 0 && !b
            , d = /iP(ad|hone|od)/.test(navigator.userAgent) && !b
            , e = d && /OS 4_\d(_\d)?/.test(navigator.userAgent)
            , f = d && /OS [6-7]_\d/.test(navigator.userAgent)
            , g = navigator.userAgent.indexOf("BB10") > 0;
        a.prototype.needsClick = function(a) {
            switch (a.nodeName.toLowerCase()) {
                case "button":
                case "select":
                case "textarea":
                    if (a.disabled)
                        return !0;
                    break;
                case "input":
                    if (d && "file" === a.type || a.disabled)
                        return !0;
                    break;
                case "label":
                case "iframe":
                case "video":
                    return !0
            }
            return /\bneedsclick\b/.test(a.className)
        }
            ,
            a.prototype.needsFocus = function(a) {
                switch (a.nodeName.toLowerCase()) {
                    case "textarea":
                        return !0;
                    case "select":
                        return !c;
                    case "input":
                        switch (a.type) {
                            case "button":
                            case "checkbox":
                            case "file":
                            case "image":
                            case "radio":
                            case "submit":
                                return !1
                        }
                        return !a.disabled && !a.readOnly;
                    default:
                        return /\bneedsfocus\b/.test(a.className)
                }
            }
            ,
            a.prototype.sendClick = function(a, b) {
                var c, d;
                document.activeElement && document.activeElement !== a && document.activeElement.blur(),
                    d = b.changedTouches[0],
                    c = document.createEvent("MouseEvents"),
                    c.initMouseEvent(this.determineEventType(a), !0, !0, window, 1, d.screenX, d.screenY, d.clientX, d.clientY, !1, !1, !1, !1, 0, null ),
                    c.forwardedTouchEvent = !0,
                    a.dispatchEvent(c)
            }
            ,
            a.prototype.determineEventType = function(a) {
                return c && "select" === a.tagName.toLowerCase() ? "mousedown" : "click"
            }
            ,
            a.prototype.focus = function(a) {
                var b;
                d && a.setSelectionRange && 0 !== a.type.indexOf("date") && "time" !== a.type && "month" !== a.type ? (b = a.value.length,
                    a.setSelectionRange(b, b)) : a.focus()
            }
            ,
            a.prototype.updateScrollParent = function(a) {
                var b, c;
                if (b = a.fastClickScrollParent,
                    !b || !b.contains(a)) {
                    c = a;
                    do {
                        if (c.scrollHeight > c.offsetHeight) {
                            b = c,
                                a.fastClickScrollParent = c;
                            break
                        }
                        c = c.parentElement
                    } while (c)
                }
                b && (b.fastClickLastScrollTop = b.scrollTop)
            }
            ,
            a.prototype.getTargetElementFromEventTarget = function(a) {
                return a.nodeType === Node.TEXT_NODE ? a.parentNode : a
            }
            ,
            a.prototype.onTouchStart = function(a) {
                var b, c, f;
                if (a.targetTouches.length > 1)
                    return !0;
                if (b = this.getTargetElementFromEventTarget(a.target),
                        c = a.targetTouches[0],
                        d) {
                    if (f = window.getSelection(),
                        f.rangeCount && !f.isCollapsed)
                        return !0;
                    if (!e) {
                        if (c.identifier && c.identifier === this.lastTouchIdentifier)
                            return a.preventDefault(),
                                !1;
                        this.lastTouchIdentifier = c.identifier,
                            this.updateScrollParent(b)
                    }
                }
                return this.trackingClick = !0,
                    this.trackingClickStart = a.timeStamp,
                    this.targetElement = b,
                    this.touchStartX = c.pageX,
                    this.touchStartY = c.pageY,
                a.timeStamp - this.lastClickTime < this.tapDelay && a.preventDefault(),
                    !0
            }
            ,
            a.prototype.touchHasMoved = function(a) {
                var b = a.changedTouches[0]
                    , c = this.touchBoundary;
                return Math.abs(b.pageX - this.touchStartX) > c || Math.abs(b.pageY - this.touchStartY) > c
            }
            ,
            a.prototype.onTouchMove = function(a) {
                return !this.trackingClick || ((this.targetElement !== this.getTargetElementFromEventTarget(a.target) || this.touchHasMoved(a)) && (this.trackingClick = !1,
                        this.targetElement = null ),
                        !0)
            }
            ,
            a.prototype.findControl = function(a) {
                return void 0 !== a.control ? a.control : a.htmlFor ? document.getElementById(a.htmlFor) : a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
            }
            ,
            a.prototype.onTouchEnd = function(a) {
                var b, g, h, i, j, k = this.targetElement;
                if (!this.trackingClick)
                    return !0;
                if (a.timeStamp - this.lastClickTime < this.tapDelay)
                    return this.cancelNextClick = !0,
                        !0;
                if (a.timeStamp - this.trackingClickStart > this.tapTimeout)
                    return !0;
                if (this.cancelNextClick = !1,
                        this.lastClickTime = a.timeStamp,
                        g = this.trackingClickStart,
                        this.trackingClick = !1,
                        this.trackingClickStart = 0,
                    f && (j = a.changedTouches[0],
                        k = document.elementFromPoint(j.pageX - window.pageXOffset, j.pageY - window.pageYOffset) || k,
                        k.fastClickScrollParent = this.targetElement.fastClickScrollParent),
                        h = k.tagName.toLowerCase(),
                    "label" === h) {
                    if (b = this.findControl(k)) {
                        if (this.focus(k),
                                c)
                            return !1;
                        k = b
                    }
                } else if (this.needsFocus(k))
                    return a.timeStamp - g > 100 || d && window.top !== window && "input" === h ? (this.targetElement = null ,
                        !1) : (this.focus(k),
                        this.sendClick(k, a),
                    d && "select" === h || (this.targetElement = null ,
                        a.preventDefault()),
                        !1);
                return !(!d || e || (i = k.fastClickScrollParent,
                    !i || i.fastClickLastScrollTop === i.scrollTop)) || (this.needsClick(k) || (a.preventDefault(),
                        this.sendClick(k, a)),
                        !1)
            }
            ,
            a.prototype.onTouchCancel = function() {
                this.trackingClick = !1,
                    this.targetElement = null
            }
            ,
            a.prototype.onMouse = function(a) {
                return !this.targetElement || (!!a.forwardedTouchEvent || (!(a.cancelable && (!this.needsClick(this.targetElement) || this.cancelNextClick)) || (a.stopImmediatePropagation ? a.stopImmediatePropagation() : a.propagationStopped = !0,
                        a.stopPropagation(),
                        a.preventDefault(),
                        !1)))
            }
            ,
            a.prototype.onClick = function(a) {
                var b;
                return this.trackingClick ? (this.targetElement = null ,
                    this.trackingClick = !1,
                    !0) : "submit" === a.target.type && 0 === a.detail || (b = this.onMouse(a),
                b || (this.targetElement = null ),
                    b)
            }
            ,
            a.prototype.destroy = function() {
                var a = this.layer;
                c && (a.removeEventListener("mouseover", this.onMouse, !0),
                    a.removeEventListener("mousedown", this.onMouse, !0),
                    a.removeEventListener("mouseup", this.onMouse, !0)),
                    a.removeEventListener("click", this.onClick, !0),
                    a.removeEventListener("touchstart", this.onTouchStart, !1),
                    a.removeEventListener("touchmove", this.onTouchMove, !1),
                    a.removeEventListener("touchend", this.onTouchEnd, !1),
                    a.removeEventListener("touchcancel", this.onTouchCancel, !1)
            }
            ,
            a.notNeeded = function(a) {
                var b, d, e, f;
                if ("undefined" == typeof window.ontouchstart)
                    return !0;
                if (d = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]) {
                    if (!c)
                        return !0;
                    if (b = document.querySelector("meta[name=viewport]")) {
                        if (-1 !== b.content.indexOf("user-scalable=no"))
                            return !0;
                        if (d > 31 && document.documentElement.scrollWidth <= window.outerWidth)
                            return !0
                    }
                }
                if (g && (e = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),
                    e[1] >= 10 && e[2] >= 3 && (b = document.querySelector("meta[name=viewport]")))) {
                    if (-1 !== b.content.indexOf("user-scalable=no"))
                        return !0;
                    if (document.documentElement.scrollWidth <= window.outerWidth)
                        return !0
                }
                return "none" === a.style.msTouchAction || "manipulation" === a.style.touchAction || (f = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1],
                    !!(f >= 27 && (b = document.querySelector("meta[name=viewport]"),
                    b && (-1 !== b.content.indexOf("user-scalable=no") || document.documentElement.scrollWidth <= window.outerWidth))) || ("none" === a.style.touchAction || "manipulation" === a.style.touchAction))
            }
            ,
            a.attach = function(b, c) {
                return new a(b,c)
            }
            ,
            "function" == typeof define && "object" == typeof define.amd && define.amd ? define(function() {
                return a
            }) : "undefined" != typeof module && module.exports ? (module.exports = a.attach,
                module.exports.FastClick = a) : window.FastClick = a
    }(),
    function(a, b) {
        "function" == typeof define && define.amd ? define(["jquery"], function(c) {
            return b(c, a, a.document, a.Math)
        }) : "undefined" != typeof exports ? module.exports = b(require("jquery"), a, a.document, a.Math) : b(jQuery, a, a.document, a.Math)
    }("undefined" != typeof window ? window : this, function(a, b, c, d, e) {
        var f = "fullpage-wrapper"
            , g = "." + f
            , h = "fp-scrollable"
            , i = "." + h
            , j = "fp-responsive"
            , k = "fp-notransition"
            , l = "fp-destroyed"
            , m = "fp-enabled"
            , n = "fp-viewing"
            , o = "active"
            , p = "." + o
            , q = "fp-completely"
            , r = "." + q
            , s = ".section"
            , t = "fp-section"
            , u = "." + t
            , v = u + p
            , w = u + ":first"
            , x = u + ":last"
            , y = "fp-tableCell"
            , z = "." + y
            , A = "fp-auto-height"
            , B = "fp-normal-scroll"
            , C = "fp-nav"
            , D = "#" + C
            , E = "fp-tooltip"
            , F = "." + E
            , G = "fp-show-active"
            , H = ".slide"
            , I = "fp-slide"
            , J = "." + I
            , K = J + p
            , L = "fp-slides"
            , M = "." + L
            , N = "fp-slidesContainer"
            , O = "." + N
            , P = "fp-table"
            , Q = "fp-slidesNav"
            , R = "." + Q
            , S = R + " a"
            , T = "fp-controlArrow"
            , U = "." + T
            , V = "fp-prev"
            , W = "." + V
            , X = T + " " + V
            , Y = U + W
            , Z = "fp-next"
            , $ = "." + Z
            , _ = T + " " + Z
            , aa = U + $
            , ba = a(b)
            , ca = a(c)
            , da = {
            scrollbars: !0,
            mouseWheel: !0,
            hideScrollbars: !1,
            fadeScrollbars: !1,
            disableMouse: !0
        };
        a.fn.fullpage = function(h) {
            function i() {
                h.css3 && (h.css3 = ub()),
                    h.scrollBar = h.scrollBar || h.hybrid,
                    W(),
                    Z(),
                    Nb.setAllowScrolling(!0),
                    Nb.setAutoScrolling(h.autoScrolling, "internal");
                var b = a(v).find(K);
                b.length && (0 !== a(v).index(u) || 0 === a(v).index(u) && 0 !== b.index()) && Db(b),
                    _a(),
                    tb(),
                "complete" === c.readyState && Ma(),
                    ba.on("load", Ma)
            }
            function T() {
                ba.on("scroll", pa).on("hashchange", Na).blur(Ua).resize($a),
                    ca.keydown(Oa).keyup(Qa).on("click touchstart", D + " a", Va).on("click touchstart", S, Wa).on("click", F, Pa),
                    a(u).on("click touchstart", U, Ta),
                h.normalScrollElements && (ca.on("mouseenter", h.normalScrollElements, function() {
                    Nb.setMouseWheelScrolling(!1)
                }),
                    ca.on("mouseleave", h.normalScrollElements, function() {
                        Nb.setMouseWheelScrolling(!0)
                    }))
            }
            function W() {
                var b = Ub.find(h.sectionSelector);
                h.anchors.length || (h.anchors = b.filter("[data-anchor]").map(function() {
                    return a(this).data("anchor").toString()
                }).get()),
                h.navigationTooltips.length || (h.navigationTooltips = b.filter("[data-tooltip]").map(function() {
                    return a(this).data("tooltip").toString()
                }).get())
            }
            function Z() {
                Ub.css({
                    height: "100%",
                    position: "relative"
                }),
                    Ub.addClass(f),
                    a("html").addClass(m),
                    Vb = ba.height(),
                    Ub.removeClass(l),
                    ha(),
                    a(u).each(function(b) {
                        var c = a(this)
                            , d = c.find(J)
                            , e = d.length;
                        fa(c, b),
                            ga(c, b),
                            e > 0 ? $(c, d, e) : h.verticalCentered && ib(c)
                    }),
                h.fixedElements && h.css3 && a(h.fixedElements).appendTo(Mb),
                h.navigation && ja(),
                    la(),
                    ma(),
                    h.scrollOverflow ? ("complete" === c.readyState && ka(),
                        ba.on("load", ka)) : oa()
            }
            function $(b, c, d) {
                var e = 100 * d
                    , f = 100 / d;
                c.wrapAll('<div class="' + N + '" />'),
                    c.parent().wrap('<div class="' + L + '" />'),
                    b.find(O).css("width", e + "%"),
                d > 1 && (h.controlArrows && ia(b),
                h.slidesNavigation && pb(b, d)),
                    c.each(function(b) {
                        a(this).css("width", f + "%"),
                        h.verticalCentered && ib(a(this))
                    });
                var g = b.find(K);
                g.length && (0 !== a(v).index(u) || 0 === a(v).index(u) && 0 !== g.index()) ? Db(g) : c.eq(0).addClass(o)
            }
            function fa(b, c) {
                c || 0 !== a(v).length || b.addClass(o),
                    b.css("height", Vb + "px"),
                h.paddingTop && b.css("padding-top", h.paddingTop),
                h.paddingBottom && b.css("padding-bottom", h.paddingBottom),
                "undefined" != typeof h.sectionsColor[c] && b.css("background-color", h.sectionsColor[c]),
                "undefined" != typeof h.anchors[c] && b.attr("data-anchor", h.anchors[c])
            }
            function ga(b, c) {
                "undefined" != typeof h.anchors[c] && b.hasClass(o) && eb(h.anchors[c], c),
                h.menu && h.css3 && a(h.menu).closest(g).length && a(h.menu).appendTo(Mb)
            }
            function ha() {
                a(h.sectionSelector).each(function() {
                    a(this).addClass(t)
                }),
                    a(h.slideSelector).each(function() {
                        a(this).addClass(I)
                    })
            }
            function ia(a) {
                a.find(M).after('<div class="' + X + '"></div><div class="' + _ + '"></div>'),
                "#fff" != h.controlArrowColor && (a.find(aa).css("border-color", "transparent transparent transparent " + h.controlArrowColor),
                    a.find(Y).css("border-color", "transparent " + h.controlArrowColor + " transparent transparent")),
                h.loopHorizontal || a.find(Y).hide()
            }
            function ja() {
                Mb.append('<div id="' + C + '"><ul></ul></div>');
                var b = a(D);
                b.addClass(function() {
                    return h.showActiveTooltip ? G + " " + h.navigationPosition : h.navigationPosition
                });
                for (var c = 0; c < a(u).length; c++) {
                    var d = "";
                    h.anchors.length && (d = h.anchors[c]);
                    var e = '<li><a href="#' + d + '"><span></span></a>'
                        , f = h.navigationTooltips[c];
                    "undefined" != typeof f && "" !== f && (e += '<div class="' + E + " " + h.navigationPosition + '">' + f + "</div>"),
                        e += "</li>",
                        b.find("ul").append(e)
                }
                a(D).css("margin-top", "-" + a(D).height() / 2 + "px"),
                    a(D).find("li").eq(a(v).index(u)).find("a").addClass(o)
            }
            function ka() {
                a(u).each(function() {
                    var b = a(this).find(J);
                    b.length ? b.each(function() {
                        hb(a(this))
                    }) : hb(a(this))
                }),
                    oa()
            }
            function la() {
                Ub.find('iframe[src*="youtube.com/embed/"]').each(function() {
                    var b = na(a(this).attr("src"));
                    a(this).attr("src", a(this).attr("src") + b + "enablejsapi=1")
                })
            }
            function ma() {
                Ub.find('iframe[src*="player.vimeo.com/"]').each(function() {
                    var b = na(a(this).attr("src"));
                    a(this).attr("src", a(this).attr("src") + b + "api=1")
                })
            }
            function na(a) {
                return /\?/.test(a) ? "&" : "?"
            }
            function oa() {
                var b = a(v);
                b.addClass(q),
                h.scrollOverflowHandler.afterRender && h.scrollOverflowHandler.afterRender(b),
                    Ia(b),
                    Ja(b),
                a.isFunction(h.afterLoad) && h.afterLoad.call(b, b.data("anchor"), b.index(u) + 1),
                a.isFunction(h.afterRender) && h.afterRender.call(Ub)
            }
            function pa() {
                var b;
                if (!h.autoScrolling || h.scrollBar) {
                    for (var d = ba.scrollTop(), e = ra(d), f = 0, g = d + ba.height() / 2, i = c.querySelectorAll(u), j = 0; j < i.length; ++j) {
                        var k = i[j];
                        k.offsetTop <= g && (f = j)
                    }
                    if (qa(e) && (a(v).hasClass(q) || a(v).addClass(q).siblings().removeClass(q)),
                            b = a(i).eq(f),
                            !b.hasClass(o)) {
                        gc = !0;
                        var l = a(v)
                            , m = l.index(u) + 1
                            , n = fb(b)
                            , p = b.data("anchor")
                            , r = b.index(u) + 1
                            , s = b.find(K);
                        if (s.length)
                            var t = s.data("anchor")
                                , w = s.index();
                        Yb && (b.addClass(o).siblings().removeClass(o),
                        a.isFunction(h.onLeave) && h.onLeave.call(l, m, r, n),
                        a.isFunction(h.afterLoad) && h.afterLoad.call(b, p, r),
                            Ia(b),
                            eb(p, r - 1),
                        h.anchors.length && (Ob = p,
                            qb(w, t, p, r))),
                            clearTimeout(cc),
                            cc = setTimeout(function() {
                                gc = !1
                            }, 100)
                    }
                    h.fitToSection && (clearTimeout(dc),
                        dc = setTimeout(function() {
                            Yb && h.fitToSection && (a(v).is(b) && (Wb = !0),
                                Ca(a(v)),
                                Wb = !1)
                        }, h.fitToSectionDelay))
                }
            }
            function qa(b) {
                var c = a(v).position().top
                    , d = c + ba.height();
                return "up" == b ? d >= ba.scrollTop() + ba.height() : c <= ba.scrollTop()
            }
            function ra(a) {
                var b = a > hc ? "down" : "up";
                return hc = a,
                    b
            }
            function sa(a, b) {
                if ($b.m[a]) {
                    var c, d;
                    if ("down" == a ? (c = "bottom",
                            d = Nb.moveSectionDown) : (c = "top",
                            d = Nb.moveSectionUp),
                        b.length > 0) {
                        if (!h.scrollOverflowHandler.isScrolled(c, b))
                            return !0;
                        d()
                    } else
                        d()
                }
            }
            function ta(b) {
                var c = b.originalEvent;
                if (!ua(b.target) && va(c)) {
                    h.autoScrolling && b.preventDefault();
                    var e = a(v)
                        , f = h.scrollOverflowHandler.scrollable(e);
                    if (Yb && !Rb) {
                        var g = Cb(c);
                        kc = g.y,
                            lc = g.x,
                            e.find(M).length && d.abs(jc - lc) > d.abs(ic - kc) ? d.abs(jc - lc) > ba.outerWidth() / 100 * h.touchSensitivity && (jc > lc ? $b.m.right && Nb.moveSlideRight() : $b.m.left && Nb.moveSlideLeft()) : h.autoScrolling && d.abs(ic - kc) > ba.height() / 100 * h.touchSensitivity && (ic > kc ? sa("down", f) : kc > ic && sa("up", f))
                    }
                }
            }
            function ua(b, c) {
                c = c || 0;
                var d = a(b).parent();
                return !!(c < h.normalScrollElementTouchThreshold && d.is(h.normalScrollElements)) || c != h.normalScrollElementTouchThreshold && ua(d, ++c)
            }
            function va(a) {
                return "undefined" == typeof a.pointerType || "mouse" != a.pointerType
            }
            function wa(a) {
                var b = a.originalEvent;
                if (h.fitToSection && Lb.stop(),
                        va(b)) {
                    var c = Cb(b);
                    ic = c.y,
                        jc = c.x
                }
            }
            function xa(a, b) {
                for (var c = 0, e = a.slice(d.max(a.length - b, 1)), f = 0; f < e.length; f++)
                    c += e[f];
                return d.ceil(c / b)
            }
            function ya(c) {
                var e = (new Date).getTime()
                    , f = a(r).hasClass(B);
                if (h.autoScrolling && !Qb && !f) {
                    c = c || b.event;
                    var g = c.wheelDelta || -c.deltaY || -c.detail
                        , i = d.max(-1, d.min(1, g))
                        , j = "undefined" != typeof c.wheelDeltaX || "undefined" != typeof c.deltaX
                        , k = d.abs(c.wheelDeltaX) < d.abs(c.wheelDelta) || d.abs(c.deltaX) < d.abs(c.deltaY) || !j;
                    Zb.length > 149 && Zb.shift(),
                        Zb.push(d.abs(g)),
                    h.scrollBar && (c.preventDefault ? c.preventDefault() : c.returnValue = !1);
                    var l = a(v)
                        , m = h.scrollOverflowHandler.scrollable(l)
                        , n = e - mc;
                    if (mc = e,
                        n > 200 && (Zb = []),
                            Yb) {
                        var o = xa(Zb, 10)
                            , p = xa(Zb, 70)
                            , q = o >= p;
                        q && k && (0 > i ? sa("down", m) : sa("up", m))
                    }
                    return !1
                }
                h.fitToSection && Lb.stop()
            }
            function za(b, c) {
                var d = "undefined" == typeof c ? a(v) : c
                    , e = d.find(M)
                    , f = e.find(J).length;
                if (!(!e.length || Rb || 2 > f)) {
                    var g = e.find(K)
                        , i = null ;
                    if (i = "prev" === b ? g.prev(J) : g.next(J),
                            !i.length) {
                        if (!h.loopHorizontal)
                            return;
                        i = "prev" === b ? g.siblings(":last") : g.siblings(":first")
                    }
                    Rb = !0,
                        Za(e, i)
                }
            }
            function Aa() {
                a(K).each(function() {
                    Db(a(this), "internal")
                })
            }
            function Ba(a) {
                var b = a.position()
                    , c = b.top
                    , d = b.top > nc
                    , e = c - Vb + a.outerHeight();
                return a.outerHeight() > Vb ? d || (c = e) : (d || Wb && a.is(":last-child")) && (c = e),
                    nc = c,
                    c
            }
            function Ca(b, c, d) {
                if ("undefined" != typeof b) {
                    var e = Ba(b)
                        , f = {
                        element: b,
                        callback: c,
                        isMovementUp: d,
                        dtop: e,
                        yMovement: fb(b),
                        anchorLink: b.data("anchor"),
                        sectionIndex: b.index(u),
                        activeSlide: b.find(K),
                        activeSection: a(v),
                        leavingSection: a(v).index(u) + 1,
                        localIsResizing: Wb
                    };
                    if (!(f.activeSection.is(b) && !Wb || h.scrollBar && ba.scrollTop() === f.dtop && !b.hasClass(A))) {
                        if (f.activeSlide.length)
                            var g = f.activeSlide.data("anchor")
                                , i = f.activeSlide.index();
                        h.autoScrolling && h.continuousVertical && "undefined" != typeof f.isMovementUp && (!f.isMovementUp && "up" == f.yMovement || f.isMovementUp && "down" == f.yMovement) && (f = Fa(f)),
                        (!a.isFunction(h.onLeave) || f.localIsResizing || h.onLeave.call(f.activeSection, f.leavingSection, f.sectionIndex + 1, f.yMovement) !== !1) && (Ka(f.activeSection),
                            b.addClass(o).siblings().removeClass(o),
                            Ia(b),
                            h.scrollOverflowHandler.onLeave(),
                            Yb = !1,
                            qb(i, g, f.anchorLink, f.sectionIndex),
                            Da(f),
                            Ob = f.anchorLink,
                            eb(f.anchorLink, f.sectionIndex))
                    }
                }
            }
            function Da(b) {
                if (h.css3 && h.autoScrolling && !h.scrollBar) {
                    var c = "translate3d(0px, -" + b.dtop + "px, 0px)";
                    kb(c, !0),
                        h.scrollingSpeed ? ac = setTimeout(function() {
                            Ha(b)
                        }, h.scrollingSpeed) : Ha(b)
                } else {
                    var d = Ea(b);
                    a(d.element).animate(d.options, h.scrollingSpeed, h.easing).promise().done(function() {
                        h.scrollBar ? setTimeout(function() {
                            Ha(b)
                        }, 30) : Ha(b)
                    })
                }
            }
            function Ea(a) {
                var b = {};
                return h.autoScrolling && !h.scrollBar ? (b.options = {
                    top: -a.dtop
                },
                    b.element = g) : (b.options = {
                    scrollTop: a.dtop
                },
                    b.element = "html, body"),
                    b
            }
            function Fa(b) {
                return b.isMovementUp ? a(v).before(b.activeSection.nextAll(u)) : a(v).after(b.activeSection.prevAll(u).get().reverse()),
                    Eb(a(v).position().top),
                    Aa(),
                    b.wrapAroundElements = b.activeSection,
                    b.dtop = b.element.position().top,
                    b.yMovement = fb(b.element),
                    b
            }
            function Ga(b) {
                b.wrapAroundElements && b.wrapAroundElements.length && (b.isMovementUp ? a(w).before(b.wrapAroundElements) : a(x).after(b.wrapAroundElements),
                    Eb(a(v).position().top),
                    Aa())
            }
            function Ha(b) {
                Ga(b),
                    b.element.find(".fp-scrollable").mouseover(),
                a.isFunction(h.afterLoad) && !b.localIsResizing && h.afterLoad.call(b.element, b.anchorLink, b.sectionIndex + 1),
                    h.scrollOverflowHandler.afterLoad(),
                    Ja(b.element),
                    b.element.addClass(q).siblings().removeClass(q),
                    Yb = !0,
                a.isFunction(b.callback) && b.callback.call(this)
            }
            function Ia(b) {
                var b = La(b);
                b.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function() {
                    a(this).attr("src", a(this).data("src")),
                        a(this).removeAttr("data-src"),
                    a(this).is("source") && a(this).closest("video").get(0).load()
                })
            }
            function Ja(b) {
                var b = La(b);
                b.find("video, audio").each(function() {
                    var b = a(this).get(0);
                    b.hasAttribute("data-autoplay") && "function" == typeof b.play && b.play()
                }),
                    b.find('iframe[src*="youtube.com/embed/"]').each(function() {
                        var b = a(this).get(0);
                        /youtube\.com\/embed\//.test(a(this).attr("src")) && b.hasAttribute("data-autoplay") && b.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', "*")
                    })
            }
            function Ka(b) {
                var b = La(b);
                b.find("video, audio").each(function() {
                    var b = a(this).get(0);
                    b.hasAttribute("data-keepplaying") || "function" != typeof b.pause || b.pause()
                }),
                    b.find('iframe[src*="youtube.com/embed/"]').each(function() {
                        var b = a(this).get(0);
                        /youtube\.com\/embed\//.test(a(this).attr("src")) && !b.hasAttribute("data-keepplaying") && a(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', "*")
                    })
            }
            function La(b) {
                var c = b.find(K);
                return c.length && (b = a(c)),
                    b
            }
            function Ma() {
                var a = b.location.hash.replace("#", "").split("/")
                    , c = a[0]
                    , d = a[1];
                c && (h.animateAnchor ? nb(c, d) : Nb.silentMoveTo(c, d))
            }
            function Na() {
                if (!gc && !h.lockAnchors) {
                    var a = b.location.hash.replace("#", "").split("/")
                        , c = a[0]
                        , d = a[1]
                        , e = "undefined" == typeof Ob
                        , f = "undefined" == typeof Ob && "undefined" == typeof d && !Rb;
                    c.length && (c && c !== Ob && !e || f || !Rb && Pb != d) && nb(c, d)
                }
            }
            function Oa(b) {
                clearTimeout(ec);
                var c = a(":focus");
                if (!c.is("textarea") && !c.is("input") && !c.is("select") && "true" !== c.attr("contentEditable") && "" !== c.attr("contentEditable") && h.keyboardScrolling && h.autoScrolling) {
                    var d = b.which
                        , e = [40, 38, 32, 33, 34];
                    a.inArray(d, e) > -1 && b.preventDefault(),
                        Qb = b.ctrlKey,
                        ec = setTimeout(function() {
                            Xa(b)
                        }, 150)
                }
            }
            function Pa() {
                a(this).prev().trigger("click")
            }
            function Qa(a) {
                Xb && (Qb = a.ctrlKey)
            }
            function Ra(a) {
                2 == a.which && (oc = a.pageY,
                    Ub.on("mousemove", Ya))
            }
            function Sa(a) {
                2 == a.which && Ub.off("mousemove")
            }
            function Ta() {
                var b = a(this).closest(u);
                a(this).hasClass(V) ? $b.m.left && Nb.moveSlideLeft(b) : $b.m.right && Nb.moveSlideRight(b)
            }
            function Ua() {
                Xb = !1,
                    Qb = !1
            }
            function Va(b) {
                b.preventDefault();
                var c = a(this).parent().index();
                Ca(a(u).eq(c))
            }
            function Wa(b) {
                b.preventDefault();
                var c = a(this).closest(u).find(M)
                    , d = c.find(J).eq(a(this).closest("li").index());
                Za(c, d)
            }
            function Xa(b) {
                var c = b.shiftKey;
                switch (b.which) {
                    case 38:
                    case 33:
                        $b.k.up && Nb.moveSectionUp();
                        break;
                    case 32:
                        if (c && $b.k.up) {
                            Nb.moveSectionUp();
                            break
                        }
                    case 40:
                    case 34:
                        $b.k.down && Nb.moveSectionDown();
                        break;
                    case 36:
                        $b.k.up && Nb.moveTo(1);
                        break;
                    case 35:
                        $b.k.down && Nb.moveTo(a(u).length);
                        break;
                    case 37:
                        $b.k.left && Nb.moveSlideLeft();
                        break;
                    case 39:
                        $b.k.right && Nb.moveSlideRight();
                        break;
                    default:
                        return
                }
            }
            function Ya(a) {
                Yb && (a.pageY < oc && $b.m.up ? Nb.moveSectionUp() : a.pageY > oc && $b.m.down && Nb.moveSectionDown()),
                    oc = a.pageY
            }
            function Za(b, c) {
                var e = c.position()
                    , f = c.index()
                    , g = b.closest(u)
                    , i = g.index(u)
                    , j = g.data("anchor")
                    , k = g.find(R)
                    , l = sb(c)
                    , m = g.find(K)
                    , n = Wb;
                if (h.onSlideLeave) {
                    var q = m.index()
                        , r = gb(q, f);
                    if (!n && "none" !== r && a.isFunction(h.onSlideLeave) && h.onSlideLeave.call(m, j, i + 1, q, r, f) === !1)
                        return void (Rb = !1)
                }
                Ka(m),
                    c.addClass(o).siblings().removeClass(o),
                n || Ia(c),
                !h.loopHorizontal && h.controlArrows && (g.find(Y).toggle(0 !== f),
                    g.find(aa).toggle(!c.is(":last-child"))),
                g.hasClass(o) && qb(f, l, j, i);
                var s = function() {
                        n || a.isFunction(h.afterSlideLoad) && h.afterSlideLoad.call(c, j, i + 1, l, f),
                            Ja(c),
                            Rb = !1
                    }
                    ;
                if (h.css3) {
                    var t = "translate3d(-" + d.round(e.left) + "px, 0px, 0px)";
                    ab(b.find(O), h.scrollingSpeed > 0).css(Fb(t)),
                        bc = setTimeout(function() {
                            s()
                        }, h.scrollingSpeed, h.easing)
                } else
                    b.animate({
                        scrollLeft: d.round(e.left)
                    }, h.scrollingSpeed, h.easing, function() {
                        s()
                    });
                k.find(p).removeClass(o),
                    k.find("li").eq(f).find("a").addClass(o)
            }
            function $a() {
                if (_a(),
                        Sb) {
                    var b = a(c.activeElement);
                    if (!b.is("textarea") && !b.is("input") && !b.is("select")) {
                        var e = ba.height();
                        d.abs(e - pc) > 20 * d.max(pc, e) / 100 && (Nb.reBuild(!0),
                            pc = e)
                    }
                } else
                    clearTimeout(_b),
                        _b = setTimeout(function() {
                            Nb.reBuild(!0)
                        }, 350)
            }
            function _a() {
                var a = h.responsive || h.responsiveWidth
                    , b = h.responsiveHeight
                    , c = a && ba.outerWidth() < a
                    , d = b && ba.height() < b;
                a && b ? Nb.setResponsive(c || d) : a ? Nb.setResponsive(c) : b && Nb.setResponsive(d)
            }
            function ab(a) {
                var b = "all " + h.scrollingSpeed + "ms " + h.easingcss3;
                return a.removeClass(k),
                    a.css({
                        "-webkit-transition": b,
                        transition: b
                    })
            }
            function bb(a) {
                return a.addClass(k)
            }
            function cb(b, c) {
                h.navigation && (a(D).find(p).removeClass(o),
                    b ? a(D).find('a[href="#' + b + '"]').addClass(o) : a(D).find("li").eq(c).find("a").addClass(o))
            }
            function db(b) {
                h.menu && (a(h.menu).find(p).removeClass(o),
                    a(h.menu).find('[data-menuanchor="' + b + '"]').addClass(o))
            }
            function eb(a, b) {
                db(a),
                    cb(a, b)
            }
            function fb(b) {
                var c = a(v).index(u)
                    , d = b.index(u);
                return c == d ? "none" : c > d ? "up" : "down"
            }
            function gb(a, b) {
                return a == b ? "none" : a > b ? "left" : "right"
            }
            function hb(a) {
                if (!a.hasClass("fp-noscroll")) {
                    a.css("overflow", "hidden");
                    var b, c = h.scrollOverflowHandler, d = c.wrapContent(), e = a.closest(u), f = c.scrollable(a);
                    f.length ? b = c.scrollHeight(a) : (b = a.get(0).scrollHeight,
                    h.verticalCentered && (b = a.find(z).get(0).scrollHeight));
                    var g = Vb - parseInt(e.css("padding-bottom")) - parseInt(e.css("padding-top"));
                    b > g ? f.length ? c.update(a, g) : (h.verticalCentered ? a.find(z).wrapInner(d) : a.wrapInner(d),
                        c.create(a, g)) : c.remove(a),
                        a.css("overflow", "")
                }
            }
            function ib(a) {
                a.addClass(P).wrapInner('<div class="' + y + '" style="height:' + jb(a) + 'px;" />')
            }
            function jb(a) {
                var b = Vb;
                if (h.paddingTop || h.paddingBottom) {
                    var c = a;
                    c.hasClass(t) || (c = a.closest(u));
                    var d = parseInt(c.css("padding-top")) + parseInt(c.css("padding-bottom"));
                    b = Vb - d
                }
                return b
            }
            function kb(a, b) {
                b ? ab(Ub) : bb(Ub),
                    Ub.css(Fb(a)),
                    setTimeout(function() {
                        Ub.removeClass(k)
                    }, 10)
            }
            function lb(b) {
                var c = Ub.find(u + '[data-anchor="' + b + '"]');
                return c.length || (c = a(u).eq(b - 1)),
                    c
            }
            function mb(a, b) {
                var c = b.find(M)
                    , d = c.find(J + '[data-anchor="' + a + '"]');
                return d.length || (d = c.find(J).eq(a)),
                    d
            }
            function nb(a, b) {
                var c = lb(a);
                "undefined" == typeof b && (b = 0),
                    a === Ob || c.hasClass(o) ? ob(c, b) : Ca(c, function() {
                        ob(c, b)
                    })
            }
            function ob(a, b) {
                if ("undefined" != typeof b) {
                    var c = a.find(M)
                        , d = mb(b, a);
                    d.length && Za(c, d)
                }
            }
            function pb(a, b) {
                a.append('<div class="' + Q + '"><ul></ul></div>');
                var c = a.find(R);
                c.addClass(h.slidesNavPosition);
                for (var d = 0; b > d; d++)
                    c.find("ul").append('<li><a href="#"><span></span></a></li>');
                c.css("margin-left", "-" + c.width() / 2 + "px"),
                    c.find("li").first().find("a").addClass(o)
            }
            function qb(a, b, c, d) {
                var e = "";
                h.anchors.length && !h.lockAnchors && (a ? ("undefined" != typeof c && (e = c),
                "undefined" == typeof b && (b = a),
                    Pb = b,
                    rb(e + "/" + b)) : "undefined" != typeof a ? (Pb = b,
                    rb(c)) : rb(c)),
                    tb()
            }
            function rb(a) {
                if (h.recordHistory)
                    location.hash = a;
                else if (Sb || Tb)
                    b.history.replaceState(e, e, "#" + a);
                else {
                    var c = b.location.href.split("#")[0];
                    b.location.replace(c + "#" + a)
                }
            }
            function sb(a) {
                var b = a.data("anchor")
                    , c = a.index();
                return "undefined" == typeof b && (b = c),
                    b
            }
            function tb() {
                var b = a(v)
                    , c = b.find(K)
                    , d = sb(b)
                    , e = sb(c)
                    , f = String(d);
                c.length && (f = f + "-" + e),
                    f = f.replace("/", "-").replace("#", "");
                var g = new RegExp("\\b\\s?" + n + "-[^\\s]+\\b","g");
                Mb[0].className = Mb[0].className.replace(g, ""),
                    Mb.addClass(n + "-" + f)
            }
            function ub() {
                var a, d = c.createElement("p"), f = {
                    webkitTransform: "-webkit-transform",
                    OTransform: "-o-transform",
                    msTransform: "-ms-transform",
                    MozTransform: "-moz-transform",
                    transform: "transform"
                };
                c.body.insertBefore(d, null );
                for (var g in f)
                    d.style[g] !== e && (d.style[g] = "translate3d(1px,1px,1px)",
                        a = b.getComputedStyle(d).getPropertyValue(f[g]));
                return c.body.removeChild(d),
                a !== e && a.length > 0 && "none" !== a
            }
            function vb() {
                c.addEventListener ? (c.removeEventListener("mousewheel", ya, !1),
                    c.removeEventListener("wheel", ya, !1),
                    c.removeEventListener("MozMousePixelScroll", ya, !1)) : c.detachEvent("onmousewheel", ya)
            }
            function wb() {
                var a, d = "";
                b.addEventListener ? a = "addEventListener" : (a = "attachEvent",
                    d = "on");
                var f = "onwheel" in c.createElement("div") ? "wheel" : c.onmousewheel !== e ? "mousewheel" : "DOMMouseScroll";
                "DOMMouseScroll" == f ? c[a](d + "MozMousePixelScroll", ya, !1) : c[a](d + f, ya, !1)
            }
            function xb() {
                Ub.on("mousedown", Ra).on("mouseup", Sa)
            }
            function yb() {
                Ub.off("mousedown", Ra).off("mouseup", Sa)
            }
            function zb() {
                if (Sb || Tb) {
                    var b = Bb();
                    a(g).off("touchstart " + b.down).on("touchstart " + b.down, wa),
                        a(g).off("touchmove " + b.move).on("touchmove " + b.move, ta)
                }
            }
            function Ab() {
                if (Sb || Tb) {
                    var b = Bb();
                    a(g).off("touchstart " + b.down),
                        a(g).off("touchmove " + b.move)
                }
            }
            function Bb() {
                var a;
                return a = b.PointerEvent ? {
                    down: "pointerdown",
                    move: "pointermove"
                } : {
                    down: "MSPointerDown",
                    move: "MSPointerMove"
                }
            }
            function Cb(a) {
                var b = [];
                return b.y = "undefined" != typeof a.pageY && (a.pageY || a.pageX) ? a.pageY : a.touches[0].pageY,
                    b.x = "undefined" != typeof a.pageX && (a.pageY || a.pageX) ? a.pageX : a.touches[0].pageX,
                Tb && va(a) && h.scrollBar && (b.y = a.touches[0].pageY,
                    b.x = a.touches[0].pageX),
                    b
            }
            function Db(a, b) {
                Nb.setScrollingSpeed(0, "internal"),
                "undefined" != typeof b && (Wb = !0),
                    Za(a.closest(M), a),
                "undefined" != typeof b && (Wb = !1),
                    Nb.setScrollingSpeed(fc.scrollingSpeed, "internal")
            }
            function Eb(a) {
                if (h.scrollBar)
                    Ub.scrollTop(a);
                else if (h.css3) {
                    var b = "translate3d(0px, -" + a + "px, 0px)";
                    kb(b, !1)
                } else
                    Ub.css("top", -a)
            }
            function Fb(a) {
                return {
                    "-webkit-transform": a,
                    "-moz-transform": a,
                    "-ms-transform": a,
                    transform: a
                }
            }
            function Gb(a, b, c) {
                switch (b) {
                    case "up":
                        $b[c].up = a;
                        break;
                    case "down":
                        $b[c].down = a;
                        break;
                    case "left":
                        $b[c].left = a;
                        break;
                    case "right":
                        $b[c].right = a;
                        break;
                    case "all":
                        "m" == c ? Nb.setAllowScrolling(a) : Nb.setKeyboardScrolling(a)
                }
            }
            function Hb() {
                Eb(0),
                    a(D + ", " + R + ", " + U).remove(),
                    a(u).css({
                        height: "",
                        "background-color": "",
                        padding: ""
                    }),
                    a(J).css({
                        width: ""
                    }),
                    Ub.css({
                        height: "",
                        position: "",
                        "-ms-touch-action": "",
                        "touch-action": ""
                    }),
                    Lb.css({
                        overflow: "",
                        height: ""
                    }),
                    a("html").removeClass(m),
                    a.each(Mb.get(0).className.split(/\s+/), function(a, b) {
                        0 === b.indexOf(n) && Mb.removeClass(b)
                    }),
                    a(u + ", " + J).each(function() {
                        h.scrollOverflowHandler.remove(a(this)),
                            a(this).removeClass(P + " " + o)
                    }),
                    bb(Ub),
                    Ub.find(z + ", " + O + ", " + M).each(function() {
                        a(this).replaceWith(this.childNodes)
                    }),
                    Lb.scrollTop(0);
                var b = [t, I, N];
                a.each(b, function(b, c) {
                    a("." + c).removeClass(c)
                })
            }
            function Ib(a, b, c) {
                h[a] = b,
                "internal" !== c && (fc[a] = b)
            }
            function Jb() {
                return a("html").hasClass(m) ? void Kb("error", "Fullpage.js can only be initialized once and you are doing it multiple times!") : (h.continuousVertical && (h.loopTop || h.loopBottom) && (h.continuousVertical = !1,
                    Kb("warn", "Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),
                h.scrollBar && h.scrollOverflow && Kb("warn", "Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),
                h.continuousVertical && h.scrollBar && (h.continuousVertical = !1,
                    Kb("warn", "Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),
                    void a.each(h.anchors, function(b, c) {
                        var d = ca.find("[name]").filter(function() {
                            return a(this).attr("name") && a(this).attr("name").toLowerCase() == c.toLowerCase()
                        })
                            , e = ca.find("[id]").filter(function() {
                            return a(this).attr("id") && a(this).attr("id").toLowerCase() == c.toLowerCase()
                        });
                        (e.length || d.length) && (Kb("error", "data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),
                        e.length && Kb("error", '"' + c + '" is is being used by another element `id` property'),
                        d.length && Kb("error", '"' + c + '" is is being used by another element `name` property'))
                    }))
            }
            function Kb(a, b) {
                console && console[a] && console[a]("fullPage: " + b)
            }
            if (a("html").hasClass(m))
                return void Jb();
            var Lb = a("html, body")
                , Mb = a("body")
                , Nb = a.fn.fullpage;
            h = a.extend({
                menu: !1,
                anchors: [],
                lockAnchors: !1,
                navigation: !1,
                navigationPosition: "right",
                navigationTooltips: [],
                showActiveTooltip: !1,
                slidesNavigation: !1,
                slidesNavPosition: "bottom",
                scrollBar: !1,
                hybrid: !1,
                css3: !0,
                scrollingSpeed: 700,
                autoScrolling: !0,
                fitToSection: !0,
                fitToSectionDelay: 1e3,
                easing: "easeInOutCubic",
                easingcss3: "ease",
                loopBottom: !1,
                loopTop: !1,
                loopHorizontal: !0,
                continuousVertical: !1,
                normalScrollElements: null ,
                scrollOverflow: !1,
                scrollOverflowHandler: ea,
                scrollOverflowOptions: null ,
                touchSensitivity: 5,
                normalScrollElementTouchThreshold: 5,
                keyboardScrolling: !0,
                animateAnchor: !0,
                recordHistory: !0,
                controlArrows: !0,
                controlArrowColor: "#fff",
                verticalCentered: !0,
                sectionsColor: [],
                paddingTop: 0,
                paddingBottom: 0,
                fixedElements: null ,
                responsive: 0,
                responsiveWidth: 0,
                responsiveHeight: 0,
                sectionSelector: s,
                slideSelector: H,
                afterLoad: null ,
                onLeave: null ,
                afterRender: null ,
                afterResize: null ,
                afterReBuild: null ,
                afterSlideLoad: null ,
                onSlideLeave: null
            }, h),
                Jb(),
                da = a.extend(da, h.scrollOverflowOptions),
                a.extend(a.easing, {
                    easeInOutCubic: function(a, b, c, d, e) {
                        return (b /= e / 2) < 1 ? d / 2 * b * b * b + c : d / 2 * ((b -= 2) * b * b + 2) + c
                    }
                }),
                Nb.setAutoScrolling = function(b, c) {
                    Ib("autoScrolling", b, c);
                    var d = a(v);
                    h.autoScrolling && !h.scrollBar ? (Lb.css({
                        overflow: "hidden",
                        height: "100%"
                    }),
                        Nb.setRecordHistory(fc.recordHistory, "internal"),
                        Ub.css({
                            "-ms-touch-action": "none",
                            "touch-action": "none"
                        }),
                    d.length && Eb(d.position().top)) : (Lb.css({
                        overflow: "visible",
                        height: "initial"
                    }),
                        Nb.setRecordHistory(!1, "internal"),
                        Ub.css({
                            "-ms-touch-action": "",
                            "touch-action": ""
                        }),
                        Eb(0),
                    d.length && Lb.scrollTop(d.position().top))
                }
                ,
                Nb.setRecordHistory = function(a, b) {
                    Ib("recordHistory", a, b)
                }
                ,
                Nb.setScrollingSpeed = function(a, b) {
                    Ib("scrollingSpeed", a, b)
                }
                ,
                Nb.setFitToSection = function(a, b) {
                    Ib("fitToSection", a, b)
                }
                ,
                Nb.setLockAnchors = function(a) {
                    h.lockAnchors = a
                }
                ,
                Nb.setMouseWheelScrolling = function(a) {
                    a ? (wb(),
                        xb()) : (vb(),
                        yb())
                }
                ,
                Nb.setAllowScrolling = function(b, c) {
                    "undefined" != typeof c ? (c = c.replace(/ /g, "").split(","),
                        a.each(c, function(a, c) {
                            Gb(b, c, "m")
                        })) : b ? (Nb.setMouseWheelScrolling(!0),
                        zb()) : (Nb.setMouseWheelScrolling(!1),
                        Ab())
                }
                ,
                Nb.setKeyboardScrolling = function(b, c) {
                    "undefined" != typeof c ? (c = c.replace(/ /g, "").split(","),
                        a.each(c, function(a, c) {
                            Gb(b, c, "k")
                        })) : h.keyboardScrolling = b
                }
                ,
                Nb.moveSectionUp = function() {
                    var b = a(v).prev(u);
                    b.length || !h.loopTop && !h.continuousVertical || (b = a(u).last()),
                    b.length && Ca(b, null , !0)
                }
                ,
                Nb.moveSectionDown = function() {
                    var b = a(v).next(u);
                    b.length || !h.loopBottom && !h.continuousVertical || (b = a(u).first()),
                    b.length && Ca(b, null , !1)
                }
                ,
                Nb.silentMoveTo = function(a, b) {
                    Nb.setScrollingSpeed(0, "internal"),
                        Nb.moveTo(a, b),
                        Nb.setScrollingSpeed(fc.scrollingSpeed, "internal")
                }
                ,
                Nb.moveTo = function(a, b) {
                    var c = lb(a);
                    "undefined" != typeof b ? nb(a, b) : c.length > 0 && Ca(c)
                }
                ,
                Nb.moveSlideRight = function(a) {
                    za("next", a)
                }
                ,
                Nb.moveSlideLeft = function(a) {
                    za("prev", a)
                }
                ,
                Nb.reBuild = function(b) {
                    if (!Ub.hasClass(l)) {
                        Wb = !0,
                            Vb = ba.height(),
                            a(u).each(function() {
                                var b = a(this).find(M)
                                    , c = a(this).find(J);
                                h.verticalCentered && a(this).find(z).css("height", jb(a(this)) + "px"),
                                    a(this).css("height", Vb + "px"),
                                h.scrollOverflow && (c.length ? c.each(function() {
                                    hb(a(this))
                                }) : hb(a(this))),
                                c.length > 1 && Za(b, b.find(K))
                            });
                        var c = a(v)
                            , d = c.index(u);
                        d && Nb.silentMoveTo(d + 1),
                            Wb = !1,
                        a.isFunction(h.afterResize) && b && h.afterResize.call(Ub),
                        a.isFunction(h.afterReBuild) && !b && h.afterReBuild.call(Ub)
                    }
                }
                ,
                Nb.setResponsive = function(b) {
                    var c = Mb.hasClass(j);
                    b ? c || (Nb.setAutoScrolling(!1, "internal"),
                        Nb.setFitToSection(!1, "internal"),
                        a(D).hide(),
                        Mb.addClass(j)) : c && (Nb.setAutoScrolling(fc.autoScrolling, "internal"),
                        Nb.setFitToSection(fc.autoScrolling, "internal"),
                        a(D).show(),
                        Mb.removeClass(j))
                }
            ;
            var Ob, Pb, Qb, Rb = !1, Sb = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/), Tb = "ontouchstart" in b || navigator.msMaxTouchPoints > 0 || navigator.maxTouchPoints, Ub = a(this), Vb = ba.height(), Wb = !1, Xb = !0, Yb = !0, Zb = [], $b = {};
            $b.m = {
                up: !0,
                down: !0,
                left: !0,
                right: !0
            },
                $b.k = a.extend(!0, {}, $b.m);
            var _b, ac, bc, cc, dc, ec, fc = a.extend(!0, {}, h);
            a(this).length && (i(),
                T());
            var gc = !1
                , hc = 0
                , ic = 0
                , jc = 0
                , kc = 0
                , lc = 0
                , mc = (new Date).getTime()
                , nc = 0
                , oc = 0
                , pc = Vb;
            Nb.destroy = function(b) {
                Nb.setAutoScrolling(!1, "internal"),
                    Nb.setAllowScrolling(!1),
                    Nb.setKeyboardScrolling(!1),
                    Ub.addClass(l),
                    clearTimeout(bc),
                    clearTimeout(ac),
                    clearTimeout(_b),
                    clearTimeout(cc),
                    clearTimeout(dc),
                    ba.off("scroll", pa).off("hashchange", Na).off("resize", $a),
                    ca.off("click", D + " a").off("mouseenter", D + " li").off("mouseleave", D + " li").off("click", S).off("mouseover", h.normalScrollElements).off("mouseout", h.normalScrollElements),
                    a(u).off("click", U),
                    clearTimeout(bc),
                    clearTimeout(ac),
                b && Hb()
            }
        }
            ,
        "undefined" != typeof IScroll && (IScroll.prototype.wheelOn = function() {
                this.wrapper.addEventListener("wheel", this),
                    this.wrapper.addEventListener("mousewheel", this),
                    this.wrapper.addEventListener("DOMMouseScroll", this)
            }
                ,
                IScroll.prototype.wheelOff = function() {
                    this.wrapper.removeEventListener("wheel", this),
                        this.wrapper.removeEventListener("mousewheel", this),
                        this.wrapper.removeEventListener("DOMMouseScroll", this)
                }
        );
        var ea = {
            refreshId: null ,
            iScrollInstances: [],
            onLeave: function() {
                var b = a(v).find(i).data("iscrollInstance");
                "undefined" != typeof b && b.wheelOff()
            },
            afterLoad: function() {
                var b = a(v).find(i).data("iscrollInstance");
                "undefined" != typeof b && b.wheelOn()
            },
            create: function(b, c) {
                var d = b.find(i);
                d.height(c),
                    d.each(function() {
                        var b = jQuery(this)
                            , c = b.data("iscrollInstance");
                        c && a.each(ea.iScrollInstances, function() {
                            a(this).destroy()
                        }),
                            c = new IScroll(b.get(0),da),
                            ea.iScrollInstances.push(c),
                            b.data("iscrollInstance", c)
                    })
            },
            isScrolled: function(a, b) {
                var c = b.data("iscrollInstance");
                return !!c && ("top" === a ? c.y >= 0 && !b.scrollTop() : "bottom" === a ? 0 - c.y + b.scrollTop() + 1 + b.innerHeight() >= b[0].scrollHeight : void 0)
            },
            scrollable: function(a) {
                return a.find(M).length ? a.find(K).find(i) : a.find(i)
            },
            scrollHeight: function(a) {
                return a.find(i).children().first().get(0).scrollHeight
            },
            remove: function(a) {
                var b = a.find(i);
                if (b.length) {
                    var c = b.data("iscrollInstance");
                    c.destroy(),
                        b.data("iscrollInstance", e)
                }
                a.find(i).children().first().children().first().unwrap().unwrap()
            },
            update: function(b, c) {
                clearTimeout(ea.refreshId),
                    ea.refreshId = setTimeout(function() {
                        a.each(ea.iScrollInstances, function() {
                            a(this).get(0).refresh()
                        })
                    }, 150),
                    b.find(i).css("height", c + "px").parent().css("height", c + "px")
            },
            wrapContent: function() {
                return '<div class="' + h + '"><div class="fp-scroller"></div></div>'
            }
        }
    });
var THREE = {
    REVISION: "77"
};
"function" == typeof define && define.amd ? define("three", THREE) : "undefined" != typeof exports && "undefined" != typeof module && (module.exports = THREE),
void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)),
void 0 === Math.sign && (Math.sign = function(a) {
        return 0 > a ? -1 : a > 0 ? 1 : +a
    }
),
void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
    get: function() {
        return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]
    }
}),
void 0 === Object.assign && function() {
    Object.assign = function(a) {
        if (void 0 === a || null  === a)
            throw new TypeError("Cannot convert undefined or null to object");
        for (var b = Object(a), c = 1; c < arguments.length; c++) {
            var d = arguments[c];
            if (void 0 !== d && null  !== d)
                for (var e in d)
                    Object.prototype.hasOwnProperty.call(d, e) && (b[e] = d[e])
        }
        return b
    }
}(),
    Object.assign(THREE, {
        MOUSE: {
            LEFT: 0,
            MIDDLE: 1,
            RIGHT: 2
        },
        CullFaceNone: 0,
        CullFaceBack: 1,
        CullFaceFront: 2,
        CullFaceFrontBack: 3,
        FrontFaceDirectionCW: 0,
        FrontFaceDirectionCCW: 1,
        BasicShadowMap: 0,
        PCFShadowMap: 1,
        PCFSoftShadowMap: 2,
        FrontSide: 0,
        BackSide: 1,
        DoubleSide: 2,
        FlatShading: 1,
        SmoothShading: 2,
        NoColors: 0,
        FaceColors: 1,
        VertexColors: 2,
        NoBlending: 0,
        NormalBlending: 1,
        AdditiveBlending: 2,
        SubtractiveBlending: 3,
        MultiplyBlending: 4,
        CustomBlending: 5,
        AddEquation: 100,
        SubtractEquation: 101,
        ReverseSubtractEquation: 102,
        MinEquation: 103,
        MaxEquation: 104,
        ZeroFactor: 200,
        OneFactor: 201,
        SrcColorFactor: 202,
        OneMinusSrcColorFactor: 203,
        SrcAlphaFactor: 204,
        OneMinusSrcAlphaFactor: 205,
        DstAlphaFactor: 206,
        OneMinusDstAlphaFactor: 207,
        DstColorFactor: 208,
        OneMinusDstColorFactor: 209,
        SrcAlphaSaturateFactor: 210,
        NeverDepth: 0,
        AlwaysDepth: 1,
        LessDepth: 2,
        LessEqualDepth: 3,
        EqualDepth: 4,
        GreaterEqualDepth: 5,
        GreaterDepth: 6,
        NotEqualDepth: 7,
        MultiplyOperation: 0,
        MixOperation: 1,
        AddOperation: 2,
        NoToneMapping: 0,
        LinearToneMapping: 1,
        ReinhardToneMapping: 2,
        Uncharted2ToneMapping: 3,
        CineonToneMapping: 4,
        UVMapping: 300,
        CubeReflectionMapping: 301,
        CubeRefractionMapping: 302,
        EquirectangularReflectionMapping: 303,
        EquirectangularRefractionMapping: 304,
        SphericalReflectionMapping: 305,
        CubeUVReflectionMapping: 306,
        CubeUVRefractionMapping: 307,
        RepeatWrapping: 1e3,
        ClampToEdgeWrapping: 1001,
        MirroredRepeatWrapping: 1002,
        NearestFilter: 1003,
        NearestMipMapNearestFilter: 1004,
        NearestMipMapLinearFilter: 1005,
        LinearFilter: 1006,
        LinearMipMapNearestFilter: 1007,
        LinearMipMapLinearFilter: 1008,
        UnsignedByteType: 1009,
        ByteType: 1010,
        ShortType: 1011,
        UnsignedShortType: 1012,
        IntType: 1013,
        UnsignedIntType: 1014,
        FloatType: 1015,
        HalfFloatType: 1025,
        UnsignedShort4444Type: 1016,
        UnsignedShort5551Type: 1017,
        UnsignedShort565Type: 1018,
        AlphaFormat: 1019,
        RGBFormat: 1020,
        RGBAFormat: 1021,
        LuminanceFormat: 1022,
        LuminanceAlphaFormat: 1023,
        RGBEFormat: THREE.RGBAFormat,
        DepthFormat: 1026,
        RGB_S3TC_DXT1_Format: 2001,
        RGBA_S3TC_DXT1_Format: 2002,
        RGBA_S3TC_DXT3_Format: 2003,
        RGBA_S3TC_DXT5_Format: 2004,
        RGB_PVRTC_4BPPV1_Format: 2100,
        RGB_PVRTC_2BPPV1_Format: 2101,
        RGBA_PVRTC_4BPPV1_Format: 2102,
        RGBA_PVRTC_2BPPV1_Format: 2103,
        RGB_ETC1_Format: 2151,
        LoopOnce: 2200,
        LoopRepeat: 2201,
        LoopPingPong: 2202,
        InterpolateDiscrete: 2300,
        InterpolateLinear: 2301,
        InterpolateSmooth: 2302,
        ZeroCurvatureEnding: 2400,
        ZeroSlopeEnding: 2401,
        WrapAroundEnding: 2402,
        TrianglesDrawMode: 0,
        TriangleStripDrawMode: 1,
        TriangleFanDrawMode: 2,
        LinearEncoding: 3e3,
        sRGBEncoding: 3001,
        GammaEncoding: 3007,
        RGBEEncoding: 3002,
        LogLuvEncoding: 3003,
        RGBM7Encoding: 3004,
        RGBM16Encoding: 3005,
        RGBDEncoding: 3006,
        BasicDepthPacking: 3200,
        RGBADepthPacking: 3201
    }),
    THREE.Color = function(a, b, c) {
        return void 0 === b && void 0 === c ? this.set(a) : this.setRGB(a, b, c)
    }
    ,
    THREE.Color.prototype = {
        constructor: THREE.Color,
        r: 1,
        g: 1,
        b: 1,
        set: function(a) {
            return a instanceof THREE.Color ? this.copy(a) : "number" == typeof a ? this.setHex(a) : "string" == typeof a && this.setStyle(a),
                this
        },
        setScalar: function(a) {
            this.b = this.g = this.r = a
        },
        setHex: function(a) {
            return a = Math.floor(a),
                this.r = (a >> 16 & 255) / 255,
                this.g = (a >> 8 & 255) / 255,
                this.b = (255 & a) / 255,
                this
        },
        setRGB: function(a, b, c) {
            return this.r = a,
                this.g = b,
                this.b = c,
                this
        },
        setHSL: function() {
            function a(a, b, c) {
                return 0 > c && (c += 1),
                c > 1 && (c -= 1),
                    1 / 6 > c ? a + 6 * (b - a) * c : .5 > c ? b : 2 / 3 > c ? a + 6 * (b - a) * (2 / 3 - c) : a
            }
            return function(b, c, d) {
                return b = THREE.Math.euclideanModulo(b, 1),
                    c = THREE.Math.clamp(c, 0, 1),
                    d = THREE.Math.clamp(d, 0, 1),
                    0 === c ? this.r = this.g = this.b = d : (c = .5 >= d ? d * (1 + c) : d + c - d * c,
                        d = 2 * d - c,
                        this.r = a(d, c, b + 1 / 3),
                        this.g = a(d, c, b),
                        this.b = a(d, c, b - 1 / 3)),
                    this
            }
        }(),
        setStyle: function(a) {
            function b(b) {
                void 0 !== b && 1 > parseFloat(b) && console.warn("THREE.Color: Alpha component of " + a + " will be ignored.")
            }
            var c;
            if (c = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)) {
                var d = c[2];
                switch (c[1]) {
                    case "rgb":
                    case "rgba":
                        if (c = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))
                            return this.r = Math.min(255, parseInt(c[1], 10)) / 255,
                                this.g = Math.min(255, parseInt(c[2], 10)) / 255,
                                this.b = Math.min(255, parseInt(c[3], 10)) / 255,
                                b(c[5]),
                                this;
                        if (c = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))
                            return this.r = Math.min(100, parseInt(c[1], 10)) / 100,
                                this.g = Math.min(100, parseInt(c[2], 10)) / 100,
                                this.b = Math.min(100, parseInt(c[3], 10)) / 100,
                                b(c[5]),
                                this;
                        break;
                    case "hsl":
                    case "hsla":
                        if (c = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)) {
                            var d = parseFloat(c[1]) / 360
                                , e = parseInt(c[2], 10) / 100
                                , f = parseInt(c[3], 10) / 100;
                            return b(c[5]),
                                this.setHSL(d, e, f)
                        }
                }
            } else if (c = /^\#([A-Fa-f0-9]+)$/.exec(a)) {
                if (c = c[1],
                        d = c.length,
                    3 === d)
                    return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255,
                        this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255,
                        this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255,
                        this;
                if (6 === d)
                    return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255,
                        this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255,
                        this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255,
                        this
            }
            return a && 0 < a.length && (c = THREE.ColorKeywords[a],
                void 0 !== c ? this.setHex(c) : console.warn("THREE.Color: Unknown color " + a)),
                this
        },
        clone: function() {
            return new this.constructor(this.r,this.g,this.b)
        },
        copy: function(a) {
            return this.r = a.r,
                this.g = a.g,
                this.b = a.b,
                this
        },
        copyGammaToLinear: function(a, b) {
            return void 0 === b && (b = 2),
                this.r = Math.pow(a.r, b),
                this.g = Math.pow(a.g, b),
                this.b = Math.pow(a.b, b),
                this
        },
        copyLinearToGamma: function(a, b) {
            void 0 === b && (b = 2);
            var c = b > 0 ? 1 / b : 1;
            return this.r = Math.pow(a.r, c),
                this.g = Math.pow(a.g, c),
                this.b = Math.pow(a.b, c),
                this
        },
        convertGammaToLinear: function() {
            var a = this.r
                , b = this.g
                , c = this.b;
            return this.r = a * a,
                this.g = b * b,
                this.b = c * c,
                this
        },
        convertLinearToGamma: function() {
            return this.r = Math.sqrt(this.r),
                this.g = Math.sqrt(this.g),
                this.b = Math.sqrt(this.b),
                this
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6)
        },
        getHSL: function(a) {
            a = a || {
                    h: 0,
                    s: 0,
                    l: 0
                };
            var b, c = this.r, d = this.g, e = this.b, f = Math.max(c, d, e), g = Math.min(c, d, e), h = (g + f) / 2;
            if (g === f)
                g = b = 0;
            else {
                var i = f - g
                    , g = .5 >= h ? i / (f + g) : i / (2 - f - g);
                switch (f) {
                    case c:
                        b = (d - e) / i + (e > d ? 6 : 0);
                        break;
                    case d:
                        b = (e - c) / i + 2;
                        break;
                    case e:
                        b = (c - d) / i + 4
                }
                b /= 6
            }
            return a.h = b,
                a.s = g,
                a.l = h,
                a
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
        },
        offsetHSL: function(a, b, c) {
            var d = this.getHSL();
            return d.h += a,
                d.s += b,
                d.l += c,
                this.setHSL(d.h, d.s, d.l),
                this
        },
        add: function(a) {
            return this.r += a.r,
                this.g += a.g,
                this.b += a.b,
                this
        },
        addColors: function(a, b) {
            return this.r = a.r + b.r,
                this.g = a.g + b.g,
                this.b = a.b + b.b,
                this
        },
        addScalar: function(a) {
            return this.r += a,
                this.g += a,
                this.b += a,
                this
        },
        multiply: function(a) {
            return this.r *= a.r,
                this.g *= a.g,
                this.b *= a.b,
                this
        },
        multiplyScalar: function(a) {
            return this.r *= a,
                this.g *= a,
                this.b *= a,
                this
        },
        lerp: function(a, b) {
            return this.r += (a.r - this.r) * b,
                this.g += (a.g - this.g) * b,
                this.b += (a.b - this.b) * b,
                this
        },
        equals: function(a) {
            return a.r === this.r && a.g === this.g && a.b === this.b
        },
        fromArray: function(a, b) {
            return void 0 === b && (b = 0),
                this.r = a[b],
                this.g = a[b + 1],
                this.b = a[b + 2],
                this
        },
        toArray: function(a, b) {
            return void 0 === a && (a = []),
            void 0 === b && (b = 0),
                a[b] = this.r,
                a[b + 1] = this.g,
                a[b + 2] = this.b,
                a
        }
    },
    THREE.ColorKeywords = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    },
    THREE.Quaternion = function(a, b, c, d) {
        this._x = a || 0,
            this._y = b || 0,
            this._z = c || 0,
            this._w = void 0 !== d ? d : 1
    }
    ,
    THREE.Quaternion.prototype = {
        constructor: THREE.Quaternion,
        get x() {
            return this._x
        },
        set x(a) {
            this._x = a,
                this.onChangeCallback()
        },
        get y() {
            return this._y
        },
        set y(a) {
            this._y = a,
                this.onChangeCallback()
        },
        get z() {
            return this._z
        },
        set z(a) {
            this._z = a,
                this.onChangeCallback()
        },
        get w() {
            return this._w
        },
        set w(a) {
            this._w = a,
                this.onChangeCallback()
        },
        set: function(a, b, c, d) {
            return this._x = a,
                this._y = b,
                this._z = c,
                this._w = d,
                this.onChangeCallback(),
                this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._w)
        },
        copy: function(a) {
            return this._x = a.x,
                this._y = a.y,
                this._z = a.z,
                this._w = a.w,
                this.onChangeCallback(),
                this
        },
        setFromEuler: function(a, b) {
            if (0 == a instanceof THREE.Euler)
                throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var c = Math.cos(a._x / 2)
                , d = Math.cos(a._y / 2)
                , e = Math.cos(a._z / 2)
                , f = Math.sin(a._x / 2)
                , g = Math.sin(a._y / 2)
                , h = Math.sin(a._z / 2)
                , i = a.order;
            return "XYZ" === i ? (this._x = f * d * e + c * g * h,
                this._y = c * g * e - f * d * h,
                this._z = c * d * h + f * g * e,
                this._w = c * d * e - f * g * h) : "YXZ" === i ? (this._x = f * d * e + c * g * h,
                this._y = c * g * e - f * d * h,
                this._z = c * d * h - f * g * e,
                this._w = c * d * e + f * g * h) : "ZXY" === i ? (this._x = f * d * e - c * g * h,
                this._y = c * g * e + f * d * h,
                this._z = c * d * h + f * g * e,
                this._w = c * d * e - f * g * h) : "ZYX" === i ? (this._x = f * d * e - c * g * h,
                this._y = c * g * e + f * d * h,
                this._z = c * d * h - f * g * e,
                this._w = c * d * e + f * g * h) : "YZX" === i ? (this._x = f * d * e + c * g * h,
                this._y = c * g * e + f * d * h,
                this._z = c * d * h - f * g * e,
                this._w = c * d * e - f * g * h) : "XZY" === i && (this._x = f * d * e - c * g * h,
                this._y = c * g * e - f * d * h,
                this._z = c * d * h + f * g * e,
                this._w = c * d * e + f * g * h),
            !1 !== b && this.onChangeCallback(),
                this
        },
        setFromAxisAngle: function(a, b) {
            var c = b / 2
                , d = Math.sin(c);
            return this._x = a.x * d,
                this._y = a.y * d,
                this._z = a.z * d,
                this._w = Math.cos(c),
                this.onChangeCallback(),
                this
        },
        setFromRotationMatrix: function(a) {
            var b = a.elements
                , c = b[0];
            a = b[4];
            var d = b[8]
                , e = b[1]
                , f = b[5]
                , g = b[9]
                , h = b[2]
                , i = b[6]
                , b = b[10]
                , j = c + f + b;
            return j > 0 ? (c = .5 / Math.sqrt(j + 1),
                this._w = .25 / c,
                this._x = (i - g) * c,
                this._y = (d - h) * c,
                this._z = (e - a) * c) : c > f && c > b ? (c = 2 * Math.sqrt(1 + c - f - b),
                this._w = (i - g) / c,
                this._x = .25 * c,
                this._y = (a + e) / c,
                this._z = (d + h) / c) : f > b ? (c = 2 * Math.sqrt(1 + f - c - b),
                this._w = (d - h) / c,
                this._x = (a + e) / c,
                this._y = .25 * c,
                this._z = (g + i) / c) : (c = 2 * Math.sqrt(1 + b - c - f),
                this._w = (e - a) / c,
                this._x = (d + h) / c,
                this._y = (g + i) / c,
                this._z = .25 * c),
                this.onChangeCallback(),
                this
        },
        setFromUnitVectors: function() {
            var a, b;
            return function(c, d) {
                return void 0 === a && (a = new THREE.Vector3),
                    b = c.dot(d) + 1,
                    1e-6 > b ? (b = 0,
                        Math.abs(c.x) > Math.abs(c.z) ? a.set(-c.y, c.x, 0) : a.set(0, -c.z, c.y)) : a.crossVectors(c, d),
                    this._x = a.x,
                    this._y = a.y,
                    this._z = a.z,
                    this._w = b,
                    this.normalize()
            }
        }(),
        inverse: function() {
            return this.conjugate().normalize()
        },
        conjugate: function() {
            return this._x *= -1,
                this._y *= -1,
                this._z *= -1,
                this.onChangeCallback(),
                this
        },
        dot: function(a) {
            return this._x * a._x + this._y * a._y + this._z * a._z + this._w * a._w
        },
        lengthSq: function() {
            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
        },
        length: function() {
            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
        },
        normalize: function() {
            var a = this.length();
            return 0 === a ? (this._z = this._y = this._x = 0,
                this._w = 1) : (a = 1 / a,
                this._x *= a,
                this._y *= a,
                this._z *= a,
                this._w *= a),
                this.onChangeCallback(),
                this
        },
        multiply: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
                this.multiplyQuaternions(a, b)) : this.multiplyQuaternions(this, a)
        },
        premultiply: function(a) {
            return this.multiplyQuaternions(a, this)
        },
        multiplyQuaternions: function(a, b) {
            var c = a._x
                , d = a._y
                , e = a._z
                , f = a._w
                , g = b._x
                , h = b._y
                , i = b._z
                , j = b._w;
            return this._x = c * j + f * g + d * i - e * h,
                this._y = d * j + f * h + e * g - c * i,
                this._z = e * j + f * i + c * h - d * g,
                this._w = f * j - c * g - d * h - e * i,
                this.onChangeCallback(),
                this
        },
        slerp: function(a, b) {
            if (0 === b)
                return this;
            if (1 === b)
                return this.copy(a);
            var c = this._x
                , d = this._y
                , e = this._z
                , f = this._w
                , g = f * a._w + c * a._x + d * a._y + e * a._z;
            if (0 > g ? (this._w = -a._w,
                    this._x = -a._x,
                    this._y = -a._y,
                    this._z = -a._z,
                    g = -g) : this.copy(a),
                g >= 1)
                return this._w = f,
                    this._x = c,
                    this._y = d,
                    this._z = e,
                    this;
            var h = Math.sqrt(1 - g * g);
            if (.001 > Math.abs(h))
                return this._w = .5 * (f + this._w),
                    this._x = .5 * (c + this._x),
                    this._y = .5 * (d + this._y),
                    this._z = .5 * (e + this._z),
                    this;
            var i = Math.atan2(h, g)
                , g = Math.sin((1 - b) * i) / h
                , h = Math.sin(b * i) / h;
            return this._w = f * g + this._w * h,
                this._x = c * g + this._x * h,
                this._y = d * g + this._y * h,
                this._z = e * g + this._z * h,
                this.onChangeCallback(),
                this
        },
        equals: function(a) {
            return a._x === this._x && a._y === this._y && a._z === this._z && a._w === this._w
        },
        fromArray: function(a, b) {
            return void 0 === b && (b = 0),
                this._x = a[b],
                this._y = a[b + 1],
                this._z = a[b + 2],
                this._w = a[b + 3],
                this.onChangeCallback(),
                this
        },
        toArray: function(a, b) {
            return void 0 === a && (a = []),
            void 0 === b && (b = 0),
                a[b] = this._x,
                a[b + 1] = this._y,
                a[b + 2] = this._z,
                a[b + 3] = this._w,
                a
        },
        onChange: function(a) {
            return this.onChangeCallback = a,
                this
        },
        onChangeCallback: function() {}
    },
    Object.assign(THREE.Quaternion, {
        slerp: function(a, b, c, d) {
            return c.copy(a).slerp(b, d)
        },
        slerpFlat: function(a, b, c, d, e, f, g) {
            var h = c[d + 0]
                , i = c[d + 1]
                , j = c[d + 2];
            c = c[d + 3],
                d = e[f + 0];
            var k = e[f + 1]
                , l = e[f + 2];
            if (e = e[f + 3],
                c !== e || h !== d || i !== k || j !== l) {
                f = 1 - g;
                var m = h * d + i * k + j * l + c * e
                    , n = m >= 0 ? 1 : -1
                    , o = 1 - m * m;
                o > Number.EPSILON && (o = Math.sqrt(o),
                    m = Math.atan2(o, m * n),
                    f = Math.sin(f * m) / o,
                    g = Math.sin(g * m) / o),
                    n *= g,
                    h = h * f + d * n,
                    i = i * f + k * n,
                    j = j * f + l * n,
                    c = c * f + e * n,
                f === 1 - g && (g = 1 / Math.sqrt(h * h + i * i + j * j + c * c),
                    h *= g,
                    i *= g,
                    j *= g,
                    c *= g)
            }
            a[b] = h,
                a[b + 1] = i,
                a[b + 2] = j,
                a[b + 3] = c
        }
    }),
    THREE.Vector2 = function(a, b) {
        this.x = a || 0,
            this.y = b || 0
    }
    ,
    THREE.Vector2.prototype = {
        constructor: THREE.Vector2,
        get width() {
            return this.x
        },
        set width(a) {
            this.x = a
        },
        get height() {
            return this.y
        },
        set height(a) {
            this.y = a
        },
        set: function(a, b) {
            return this.x = a,
                this.y = b,
                this
        },
        setScalar: function(a) {
            return this.y = this.x = a,
                this
        },
        setX: function(a) {
            return this.x = a,
                this
        },
        setY: function(a) {
            return this.y = a,
                this
        },
        setComponent: function(a, b) {
            switch (a) {
                case 0:
                    this.x = b;
                    break;
                case 1:
                    this.y = b;
                    break;
                default:
                    throw Error("index is out of range: " + a)
            }
        },
        getComponent: function(a) {
            switch (a) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                default:
                    throw Error("index is out of range: " + a)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y)
        },
        copy: function(a) {
            return this.x = a.x,
                this.y = a.y,
                this
        },
        add: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
                this.addVectors(a, b)) : (this.x += a.x,
                this.y += a.y,
                this)
        },
        addScalar: function(a) {
            return this.x += a,
                this.y += a,
                this
        },
        addVectors: function(a, b) {
            return this.x = a.x + b.x,
                this.y = a.y + b.y,
                this
        },
        addScaledVector: function(a, b) {
            return this.x += a.x * b,
                this.y += a.y * b,
                this
        },
        sub: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(a, b)) : (this.x -= a.x,
                this.y -= a.y,
                this)
        },
        subScalar: function(a) {
            return this.x -= a,
                this.y -= a,
                this
        },
        subVectors: function(a, b) {
            return this.x = a.x - b.x,
                this.y = a.y - b.y,
                this
        },
        multiply: function(a) {
            return this.x *= a.x,
                this.y *= a.y,
                this
        },
        multiplyScalar: function(a) {
            return isFinite(a) ? (this.x *= a,
                this.y *= a) : this.y = this.x = 0,
                this
        },
        divide: function(a) {
            return this.x /= a.x,
                this.y /= a.y,
                this
        },
        divideScalar: function(a) {
            return this.multiplyScalar(1 / a)
        },
        min: function(a) {
            return this.x = Math.min(this.x, a.x),
                this.y = Math.min(this.y, a.y),
                this
        },
        max: function(a) {
            return this.x = Math.max(this.x, a.x),
                this.y = Math.max(this.y, a.y),
                this
        },
        clamp: function(a, b) {
            return this.x = Math.max(a.x, Math.min(b.x, this.x)),
                this.y = Math.max(a.y, Math.min(b.y, this.y)),
                this
        },
        clampScalar: function() {
            var a, b;
            return function(c, d) {
                return void 0 === a && (a = new THREE.Vector2,
                    b = new THREE.Vector2),
                    a.set(c, c),
                    b.set(d, d),
                    this.clamp(a, b)
            }
        }(),
        clampLength: function(a, b) {
            var c = this.length();
            return this.multiplyScalar(Math.max(a, Math.min(b, c)) / c)
        },
        floor: function() {
            return this.x = Math.floor(this.x),
                this.y = Math.floor(this.y),
                this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
                this.y = Math.ceil(this.y),
                this
        },
        round: function() {
            return this.x = Math.round(this.x),
                this.y = Math.round(this.y),
                this
        },
        roundToZero: function() {
            return this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x),
                this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y),
                this
        },
        negate: function() {
            return this.x = -this.x,
                this.y = -this.y,
                this
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        angle: function() {
            var a = Math.atan2(this.y, this.x);
            return 0 > a && (a += 2 * Math.PI),
                a
        },
        distanceTo: function(a) {
            return Math.sqrt(this.distanceToSquared(a))
        },
        distanceToSquared: function(a) {
            var b = this.x - a.x;
            return a = this.y - a.y,
            b * b + a * a
        },
        setLength: function(a) {
            return this.multiplyScalar(a / this.length())
        },
        lerp: function(a, b) {
            return this.x += (a.x - this.x) * b,
                this.y += (a.y - this.y) * b,
                this
        },
        lerpVectors: function(a, b, c) {
            return this.subVectors(b, a).multiplyScalar(c).add(a)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y
        },
        fromArray: function(a, b) {
            return void 0 === b && (b = 0),
                this.x = a[b],
                this.y = a[b + 1],
                this
        },
        toArray: function(a, b) {
            return void 0 === a && (a = []),
            void 0 === b && (b = 0),
                a[b] = this.x,
                a[b + 1] = this.y,
                a
        },
        fromAttribute: function(a, b, c) {
            return void 0 === c && (c = 0),
                b = b * a.itemSize + c,
                this.x = a.array[b],
                this.y = a.array[b + 1],
                this
        },
        rotateAround: function(a, b) {
            var c = Math.cos(b)
                , d = Math.sin(b)
                , e = this.x - a.x
                , f = this.y - a.y;
            return this.x = e * c - f * d + a.x,
                this.y = e * d + f * c + a.y,
                this
        }
    },
    THREE.Vector3 = function(a, b, c) {
        this.x = a || 0,
            this.y = b || 0,
            this.z = c || 0
    }
    ,
    THREE.Vector3.prototype = {
        constructor: THREE.Vector3,
        set: function(a, b, c) {
            return this.x = a,
                this.y = b,
                this.z = c,
                this
        },
        setScalar: function(a) {
            return this.z = this.y = this.x = a,
                this
        },
        setX: function(a) {
            return this.x = a,
                this
        },
        setY: function(a) {
            return this.y = a,
                this
        },
        setZ: function(a) {
            return this.z = a,
                this
        },
        setComponent: function(a, b) {
            switch (a) {
                case 0:
                    this.x = b;
                    break;
                case 1:
                    this.y = b;
                    break;
                case 2:
                    this.z = b;
                    break;
                default:
                    throw Error("index is out of range: " + a)
            }
        },
        getComponent: function(a) {
            switch (a) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                default:
                    throw Error("index is out of range: " + a)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z)
        },
        copy: function(a) {
            return this.x = a.x,
                this.y = a.y,
                this.z = a.z,
                this
        },
        add: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
                this.addVectors(a, b)) : (this.x += a.x,
                this.y += a.y,
                this.z += a.z,
                this)
        },
        addScalar: function(a) {
            return this.x += a,
                this.y += a,
                this.z += a,
                this
        },
        addVectors: function(a, b) {
            return this.x = a.x + b.x,
                this.y = a.y + b.y,
                this.z = a.z + b.z,
                this
        },
        addScaledVector: function(a, b) {
            return this.x += a.x * b,
                this.y += a.y * b,
                this.z += a.z * b,
                this
        },
        sub: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(a, b)) : (this.x -= a.x,
                this.y -= a.y,
                this.z -= a.z,
                this)
        },
        subScalar: function(a) {
            return this.x -= a,
                this.y -= a,
                this.z -= a,
                this
        },
        subVectors: function(a, b) {
            return this.x = a.x - b.x,
                this.y = a.y - b.y,
                this.z = a.z - b.z,
                this
        },
        multiply: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
                this.multiplyVectors(a, b)) : (this.x *= a.x,
                this.y *= a.y,
                this.z *= a.z,
                this)
        },
        multiplyScalar: function(a) {
            return isFinite(a) ? (this.x *= a,
                this.y *= a,
                this.z *= a) : this.z = this.y = this.x = 0,
                this
        },
        multiplyVectors: function(a, b) {
            return this.x = a.x * b.x,
                this.y = a.y * b.y,
                this.z = a.z * b.z,
                this
        },
        applyEuler: function() {
            var a;
            return function(b) {
                return 0 == b instanceof THREE.Euler && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),
                void 0 === a && (a = new THREE.Quaternion),
                    this.applyQuaternion(a.setFromEuler(b))
            }
        }(),
        applyAxisAngle: function() {
            var a;
            return function(b, c) {
                return void 0 === a && (a = new THREE.Quaternion),
                    this.applyQuaternion(a.setFromAxisAngle(b, c))
            }
        }(),
        applyMatrix3: function(a) {
            var b = this.x
                , c = this.y
                , d = this.z;
            return a = a.elements,
                this.x = a[0] * b + a[3] * c + a[6] * d,
                this.y = a[1] * b + a[4] * c + a[7] * d,
                this.z = a[2] * b + a[5] * c + a[8] * d,
                this
        },
        applyMatrix4: function(a) {
            var b = this.x
                , c = this.y
                , d = this.z;
            return a = a.elements,
                this.x = a[0] * b + a[4] * c + a[8] * d + a[12],
                this.y = a[1] * b + a[5] * c + a[9] * d + a[13],
                this.z = a[2] * b + a[6] * c + a[10] * d + a[14],
                this
        },
        applyProjection: function(a) {
            var b = this.x
                , c = this.y
                , d = this.z;
            a = a.elements;
            var e = 1 / (a[3] * b + a[7] * c + a[11] * d + a[15]);
            return this.x = (a[0] * b + a[4] * c + a[8] * d + a[12]) * e,
                this.y = (a[1] * b + a[5] * c + a[9] * d + a[13]) * e,
                this.z = (a[2] * b + a[6] * c + a[10] * d + a[14]) * e,
                this
        },
        applyQuaternion: function(a) {
            var b = this.x
                , c = this.y
                , d = this.z
                , e = a.x
                , f = a.y
                , g = a.z;
            a = a.w;
            var h = a * b + f * d - g * c
                , i = a * c + g * b - e * d
                , j = a * d + e * c - f * b
                , b = -e * b - f * c - g * d;
            return this.x = h * a + b * -e + i * -g - j * -f,
                this.y = i * a + b * -f + j * -e - h * -g,
                this.z = j * a + b * -g + h * -f - i * -e,
                this
        },
        project: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.multiplyMatrices(b.projectionMatrix, a.getInverse(b.matrixWorld)),
                    this.applyProjection(a)
            }
        }(),
        unproject: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.multiplyMatrices(b.matrixWorld, a.getInverse(b.projectionMatrix)),
                    this.applyProjection(a)
            }
        }(),
        transformDirection: function(a) {
            var b = this.x
                , c = this.y
                , d = this.z;
            return a = a.elements,
                this.x = a[0] * b + a[4] * c + a[8] * d,
                this.y = a[1] * b + a[5] * c + a[9] * d,
                this.z = a[2] * b + a[6] * c + a[10] * d,
                this.normalize()
        },
        divide: function(a) {
            return this.x /= a.x,
                this.y /= a.y,
                this.z /= a.z,
                this
        },
        divideScalar: function(a) {
            return this.multiplyScalar(1 / a)
        },
        min: function(a) {
            return this.x = Math.min(this.x, a.x),
                this.y = Math.min(this.y, a.y),
                this.z = Math.min(this.z, a.z),
                this
        },
        max: function(a) {
            return this.x = Math.max(this.x, a.x),
                this.y = Math.max(this.y, a.y),
                this.z = Math.max(this.z, a.z),
                this
        },
        clamp: function(a, b) {
            return this.x = Math.max(a.x, Math.min(b.x, this.x)),
                this.y = Math.max(a.y, Math.min(b.y, this.y)),
                this.z = Math.max(a.z, Math.min(b.z, this.z)),
                this
        },
        clampScalar: function() {
            var a, b;
            return function(c, d) {
                return void 0 === a && (a = new THREE.Vector3,
                    b = new THREE.Vector3),
                    a.set(c, c, c),
                    b.set(d, d, d),
                    this.clamp(a, b)
            }
        }(),
        clampLength: function(a, b) {
            var c = this.length();
            return this.multiplyScalar(Math.max(a, Math.min(b, c)) / c)
        },
        floor: function() {
            return this.x = Math.floor(this.x),
                this.y = Math.floor(this.y),
                this.z = Math.floor(this.z),
                this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
                this.y = Math.ceil(this.y),
                this.z = Math.ceil(this.z),
                this
        },
        round: function() {
            return this.x = Math.round(this.x),
                this.y = Math.round(this.y),
                this.z = Math.round(this.z),
                this
        },
        roundToZero: function() {
            return this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x),
                this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y),
                this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z),
                this
        },
        negate: function() {
            return this.x = -this.x,
                this.y = -this.y,
                this.z = -this.z,
                this
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y + this.z * a.z
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        setLength: function(a) {
            return this.multiplyScalar(a / this.length())
        },
        lerp: function(a, b) {
            return this.x += (a.x - this.x) * b,
                this.y += (a.y - this.y) * b,
                this.z += (a.z - this.z) * b,
                this
        },
        lerpVectors: function(a, b, c) {
            return this.subVectors(b, a).multiplyScalar(c).add(a)
        },
        cross: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),
                    this.crossVectors(a, b);
            var c = this.x
                , d = this.y
                , e = this.z;
            return this.x = d * a.z - e * a.y,
                this.y = e * a.x - c * a.z,
                this.z = c * a.y - d * a.x,
                this
        },
        crossVectors: function(a, b) {
            var c = a.x
                , d = a.y
                , e = a.z
                , f = b.x
                , g = b.y
                , h = b.z;
            return this.x = d * h - e * g,
                this.y = e * f - c * h,
                this.z = c * g - d * f,
                this
        },
        projectOnVector: function() {
            var a, b;
            return function(c) {
                return void 0 === a && (a = new THREE.Vector3),
                    a.copy(c).normalize(),
                    b = this.dot(a),
                    this.copy(a).multiplyScalar(b)
            }
        }(),
        projectOnPlane: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Vector3),
                    a.copy(this).projectOnVector(b),
                    this.sub(a)
            }
        }(),
        reflect: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Vector3),
                    this.sub(a.copy(b).multiplyScalar(2 * this.dot(b)))
            }
        }(),
        angleTo: function(a) {
            return a = this.dot(a) / Math.sqrt(this.lengthSq() * a.lengthSq()),
                Math.acos(THREE.Math.clamp(a, -1, 1))
        },
        distanceTo: function(a) {
            return Math.sqrt(this.distanceToSquared(a))
        },
        distanceToSquared: function(a) {
            var b = this.x - a.x
                , c = this.y - a.y;
            return a = this.z - a.z,
            b * b + c * c + a * a
        },
        setFromSpherical: function(a) {
            var b = Math.sin(a.phi) * a.radius;
            return this.x = b * Math.sin(a.theta),
                this.y = Math.cos(a.phi) * a.radius,
                this.z = b * Math.cos(a.theta),
                this
        },
        setFromMatrixPosition: function(a) {
            return this.setFromMatrixColumn(a, 3)
        },
        setFromMatrixScale: function(a) {
            var b = this.setFromMatrixColumn(a, 0).length()
                , c = this.setFromMatrixColumn(a, 1).length();
            return a = this.setFromMatrixColumn(a, 2).length(),
                this.x = b,
                this.y = c,
                this.z = a,
                this
        },
        setFromMatrixColumn: function(a, b) {
            if ("number" == typeof a) {
                console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");
                var c = a;
                a = b,
                    b = c
            }
            return this.fromArray(a.elements, 4 * b)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y && a.z === this.z
        },
        fromArray: function(a, b) {
            return void 0 === b && (b = 0),
                this.x = a[b],
                this.y = a[b + 1],
                this.z = a[b + 2],
                this
        },
        toArray: function(a, b) {
            return void 0 === a && (a = []),
            void 0 === b && (b = 0),
                a[b] = this.x,
                a[b + 1] = this.y,
                a[b + 2] = this.z,
                a
        },
        fromAttribute: function(a, b, c) {
            return void 0 === c && (c = 0),
                b = b * a.itemSize + c,
                this.x = a.array[b],
                this.y = a.array[b + 1],
                this.z = a.array[b + 2],
                this
        }
    },
    THREE.Vector4 = function(a, b, c, d) {
        this.x = a || 0,
            this.y = b || 0,
            this.z = c || 0,
            this.w = void 0 !== d ? d : 1
    }
    ,
    THREE.Vector4.prototype = {
        constructor: THREE.Vector4,
        set: function(a, b, c, d) {
            return this.x = a,
                this.y = b,
                this.z = c,
                this.w = d,
                this
        },
        setScalar: function(a) {
            return this.w = this.z = this.y = this.x = a,
                this
        },
        setX: function(a) {
            return this.x = a,
                this
        },
        setY: function(a) {
            return this.y = a,
                this
        },
        setZ: function(a) {
            return this.z = a,
                this
        },
        setW: function(a) {
            return this.w = a,
                this
        },
        setComponent: function(a, b) {
            switch (a) {
                case 0:
                    this.x = b;
                    break;
                case 1:
                    this.y = b;
                    break;
                case 2:
                    this.z = b;
                    break;
                case 3:
                    this.w = b;
                    break;
                default:
                    throw Error("index is out of range: " + a)
            }
        },
        getComponent: function(a) {
            switch (a) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                case 3:
                    return this.w;
                default:
                    throw Error("index is out of range: " + a)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z,this.w)
        },
        copy: function(a) {
            return this.x = a.x,
                this.y = a.y,
                this.z = a.z,
                this.w = void 0 !== a.w ? a.w : 1,
                this
        },
        add: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
                this.addVectors(a, b)) : (this.x += a.x,
                this.y += a.y,
                this.z += a.z,
                this.w += a.w,
                this)
        },
        addScalar: function(a) {
            return this.x += a,
                this.y += a,
                this.z += a,
                this.w += a,
                this
        },
        addVectors: function(a, b) {
            return this.x = a.x + b.x,
                this.y = a.y + b.y,
                this.z = a.z + b.z,
                this.w = a.w + b.w,
                this
        },
        addScaledVector: function(a, b) {
            return this.x += a.x * b,
                this.y += a.y * b,
                this.z += a.z * b,
                this.w += a.w * b,
                this
        },
        sub: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(a, b)) : (this.x -= a.x,
                this.y -= a.y,
                this.z -= a.z,
                this.w -= a.w,
                this)
        },
        subScalar: function(a) {
            return this.x -= a,
                this.y -= a,
                this.z -= a,
                this.w -= a,
                this
        },
        subVectors: function(a, b) {
            return this.x = a.x - b.x,
                this.y = a.y - b.y,
                this.z = a.z - b.z,
                this.w = a.w - b.w,
                this
        },
        multiplyScalar: function(a) {
            return isFinite(a) ? (this.x *= a,
                this.y *= a,
                this.z *= a,
                this.w *= a) : this.w = this.z = this.y = this.x = 0,
                this
        },
        applyMatrix4: function(a) {
            var b = this.x
                , c = this.y
                , d = this.z
                , e = this.w;
            return a = a.elements,
                this.x = a[0] * b + a[4] * c + a[8] * d + a[12] * e,
                this.y = a[1] * b + a[5] * c + a[9] * d + a[13] * e,
                this.z = a[2] * b + a[6] * c + a[10] * d + a[14] * e,
                this.w = a[3] * b + a[7] * c + a[11] * d + a[15] * e,
                this
        },
        divideScalar: function(a) {
            return this.multiplyScalar(1 / a)
        },
        setAxisAngleFromQuaternion: function(a) {
            this.w = 2 * Math.acos(a.w);
            var b = Math.sqrt(1 - a.w * a.w);
            return 1e-4 > b ? (this.x = 1,
                this.z = this.y = 0) : (this.x = a.x / b,
                this.y = a.y / b,
                this.z = a.z / b),
                this
        },
        setAxisAngleFromRotationMatrix: function(a) {
            var b, c, d;
            a = a.elements;
            var e = a[0];
            d = a[4];
            var f = a[8]
                , g = a[1]
                , h = a[5]
                , i = a[9];
            c = a[2],
                b = a[6];
            var j = a[10];
            return .01 > Math.abs(d - g) && .01 > Math.abs(f - c) && .01 > Math.abs(i - b) ? .1 > Math.abs(d + g) && .1 > Math.abs(f + c) && .1 > Math.abs(i + b) && .1 > Math.abs(e + h + j - 3) ? (this.set(1, 0, 0, 0),
                this) : (a = Math.PI,
                e = (e + 1) / 2,
                h = (h + 1) / 2,
                j = (j + 1) / 2,
                d = (d + g) / 4,
                f = (f + c) / 4,
                i = (i + b) / 4,
                e > h && e > j ? .01 > e ? (b = 0,
                    d = c = .707106781) : (b = Math.sqrt(e),
                    c = d / b,
                    d = f / b) : h > j ? .01 > h ? (b = .707106781,
                    c = 0,
                    d = .707106781) : (c = Math.sqrt(h),
                    b = d / c,
                    d = i / c) : .01 > j ? (c = b = .707106781,
                    d = 0) : (d = Math.sqrt(j),
                    b = f / d,
                    c = i / d),
                this.set(b, c, d, a),
                this) : (a = Math.sqrt((b - i) * (b - i) + (f - c) * (f - c) + (g - d) * (g - d)),
            .001 > Math.abs(a) && (a = 1),
                this.x = (b - i) / a,
                this.y = (f - c) / a,
                this.z = (g - d) / a,
                this.w = Math.acos((e + h + j - 1) / 2),
                this)
        },
        min: function(a) {
            return this.x = Math.min(this.x, a.x),
                this.y = Math.min(this.y, a.y),
                this.z = Math.min(this.z, a.z),
                this.w = Math.min(this.w, a.w),
                this
        },
        max: function(a) {
            return this.x = Math.max(this.x, a.x),
                this.y = Math.max(this.y, a.y),
                this.z = Math.max(this.z, a.z),
                this.w = Math.max(this.w, a.w),
                this
        },
        clamp: function(a, b) {
            return this.x = Math.max(a.x, Math.min(b.x, this.x)),
                this.y = Math.max(a.y, Math.min(b.y, this.y)),
                this.z = Math.max(a.z, Math.min(b.z, this.z)),
                this.w = Math.max(a.w, Math.min(b.w, this.w)),
                this
        },
        clampScalar: function() {
            var a, b;
            return function(c, d) {
                return void 0 === a && (a = new THREE.Vector4,
                    b = new THREE.Vector4),
                    a.set(c, c, c, c),
                    b.set(d, d, d, d),
                    this.clamp(a, b)
            }
        }(),
        floor: function() {
            return this.x = Math.floor(this.x),
                this.y = Math.floor(this.y),
                this.z = Math.floor(this.z),
                this.w = Math.floor(this.w),
                this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
                this.y = Math.ceil(this.y),
                this.z = Math.ceil(this.z),
                this.w = Math.ceil(this.w),
                this
        },
        round: function() {
            return this.x = Math.round(this.x),
                this.y = Math.round(this.y),
                this.z = Math.round(this.z),
                this.w = Math.round(this.w),
                this
        },
        roundToZero: function() {
            return this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x),
                this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y),
                this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z),
                this.w = 0 > this.w ? Math.ceil(this.w) : Math.floor(this.w),
                this
        },
        negate: function() {
            return this.x = -this.x,
                this.y = -this.y,
                this.z = -this.z,
                this.w = -this.w,
                this
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y + this.z * a.z + this.w * a.w
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        setLength: function(a) {
            return this.multiplyScalar(a / this.length())
        },
        lerp: function(a, b) {
            return this.x += (a.x - this.x) * b,
                this.y += (a.y - this.y) * b,
                this.z += (a.z - this.z) * b,
                this.w += (a.w - this.w) * b,
                this
        },
        lerpVectors: function(a, b, c) {
            return this.subVectors(b, a).multiplyScalar(c).add(a)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y && a.z === this.z && a.w === this.w
        },
        fromArray: function(a, b) {
            return void 0 === b && (b = 0),
                this.x = a[b],
                this.y = a[b + 1],
                this.z = a[b + 2],
                this.w = a[b + 3],
                this
        },
        toArray: function(a, b) {
            return void 0 === a && (a = []),
            void 0 === b && (b = 0),
                a[b] = this.x,
                a[b + 1] = this.y,
                a[b + 2] = this.z,
                a[b + 3] = this.w,
                a
        },
        fromAttribute: function(a, b, c) {
            return void 0 === c && (c = 0),
                b = b * a.itemSize + c,
                this.x = a.array[b],
                this.y = a.array[b + 1],
                this.z = a.array[b + 2],
                this.w = a.array[b + 3],
                this
        }
    },
    THREE.Euler = function(a, b, c, d) {
        this._x = a || 0,
            this._y = b || 0,
            this._z = c || 0,
            this._order = d || THREE.Euler.DefaultOrder
    }
    ,
    THREE.Euler.RotationOrders = "XYZ YZX ZXY XZY YXZ ZYX".split(" "),
    THREE.Euler.DefaultOrder = "XYZ",
    THREE.Euler.prototype = {
        constructor: THREE.Euler,
        get x() {
            return this._x
        },
        set x(a) {
            this._x = a,
                this.onChangeCallback()
        },
        get y() {
            return this._y
        },
        set y(a) {
            this._y = a,
                this.onChangeCallback()
        },
        get z() {
            return this._z
        },
        set z(a) {
            this._z = a,
                this.onChangeCallback()
        },
        get order() {
            return this._order
        },
        set order(a) {
            this._order = a,
                this.onChangeCallback()
        },
        set: function(a, b, c, d) {
            return this._x = a,
                this._y = b,
                this._z = c,
                this._order = d || this._order,
                this.onChangeCallback(),
                this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._order)
        },
        copy: function(a) {
            return this._x = a._x,
                this._y = a._y,
                this._z = a._z,
                this._order = a._order,
                this.onChangeCallback(),
                this
        },
        setFromRotationMatrix: function(a, b, c) {
            var d = THREE.Math.clamp
                , e = a.elements;
            a = e[0];
            var f = e[4]
                , g = e[8]
                , h = e[1]
                , i = e[5]
                , j = e[9]
                , k = e[2]
                , l = e[6]
                , e = e[10];
            return b = b || this._order,
                "XYZ" === b ? (this._y = Math.asin(d(g, -1, 1)),
                    .99999 > Math.abs(g) ? (this._x = Math.atan2(-j, e),
                        this._z = Math.atan2(-f, a)) : (this._x = Math.atan2(l, i),
                        this._z = 0)) : "YXZ" === b ? (this._x = Math.asin(-d(j, -1, 1)),
                    .99999 > Math.abs(j) ? (this._y = Math.atan2(g, e),
                        this._z = Math.atan2(h, i)) : (this._y = Math.atan2(-k, a),
                        this._z = 0)) : "ZXY" === b ? (this._x = Math.asin(d(l, -1, 1)),
                    .99999 > Math.abs(l) ? (this._y = Math.atan2(-k, e),
                        this._z = Math.atan2(-f, i)) : (this._y = 0,
                        this._z = Math.atan2(h, a))) : "ZYX" === b ? (this._y = Math.asin(-d(k, -1, 1)),
                    .99999 > Math.abs(k) ? (this._x = Math.atan2(l, e),
                        this._z = Math.atan2(h, a)) : (this._x = 0,
                        this._z = Math.atan2(-f, i))) : "YZX" === b ? (this._z = Math.asin(d(h, -1, 1)),
                    .99999 > Math.abs(h) ? (this._x = Math.atan2(-j, i),
                        this._y = Math.atan2(-k, a)) : (this._x = 0,
                        this._y = Math.atan2(g, e))) : "XZY" === b ? (this._z = Math.asin(-d(f, -1, 1)),
                    .99999 > Math.abs(f) ? (this._x = Math.atan2(l, i),
                        this._y = Math.atan2(g, a)) : (this._x = Math.atan2(-j, e),
                        this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + b),
                this._order = b,
            !1 !== c && this.onChangeCallback(),
                this
        },
        setFromQuaternion: function() {
            var a;
            return function(b, c, d) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.makeRotationFromQuaternion(b),
                    this.setFromRotationMatrix(a, c, d)
            }
        }(),
        setFromVector3: function(a, b) {
            return this.set(a.x, a.y, a.z, b || this._order)
        },
        reorder: function() {
            var a = new THREE.Quaternion;
            return function(b) {
                return a.setFromEuler(this),
                    this.setFromQuaternion(a, b)
            }
        }(),
        equals: function(a) {
            return a._x === this._x && a._y === this._y && a._z === this._z && a._order === this._order
        },
        fromArray: function(a) {
            return this._x = a[0],
                this._y = a[1],
                this._z = a[2],
            void 0 !== a[3] && (this._order = a[3]),
                this.onChangeCallback(),
                this
        },
        toArray: function(a, b) {
            return void 0 === a && (a = []),
            void 0 === b && (b = 0),
                a[b] = this._x,
                a[b + 1] = this._y,
                a[b + 2] = this._z,
                a[b + 3] = this._order,
                a
        },
        toVector3: function(a) {
            return a ? a.set(this._x, this._y, this._z) : new THREE.Vector3(this._x,this._y,this._z)
        },
        onChange: function(a) {
            return this.onChangeCallback = a,
                this
        },
        onChangeCallback: function() {}
    },
    THREE.Line3 = function(a, b) {
        this.start = void 0 !== a ? a : new THREE.Vector3,
            this.end = void 0 !== b ? b : new THREE.Vector3
    }
    ,
    THREE.Line3.prototype = {
        constructor: THREE.Line3,
        set: function(a, b) {
            return this.start.copy(a),
                this.end.copy(b),
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.start.copy(a.start),
                this.end.copy(a.end),
                this
        },
        center: function(a) {
            return (a || new THREE.Vector3).addVectors(this.start, this.end).multiplyScalar(.5)
        },
        delta: function(a) {
            return (a || new THREE.Vector3).subVectors(this.end, this.start)
        },
        distanceSq: function() {
            return this.start.distanceToSquared(this.end)
        },
        distance: function() {
            return this.start.distanceTo(this.end)
        },
        at: function(a, b) {
            var c = b || new THREE.Vector3;
            return this.delta(c).multiplyScalar(a).add(this.start)
        },
        closestPointToPointParameter: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3;
            return function(c, d) {
                a.subVectors(c, this.start),
                    b.subVectors(this.end, this.start);
                var e = b.dot(b)
                    , e = b.dot(a) / e;
                return d && (e = THREE.Math.clamp(e, 0, 1)),
                    e
            }
        }(),
        closestPointToPoint: function(a, b, c) {
            return a = this.closestPointToPointParameter(a, b),
                c = c || new THREE.Vector3,
                this.delta(c).multiplyScalar(a).add(this.start)
        },
        applyMatrix4: function(a) {
            return this.start.applyMatrix4(a),
                this.end.applyMatrix4(a),
                this
        },
        equals: function(a) {
            return a.start.equals(this.start) && a.end.equals(this.end)
        }
    },
    THREE.Box2 = function(a, b) {
        this.min = void 0 !== a ? a : new THREE.Vector2(1 / 0,1 / 0),
            this.max = void 0 !== b ? b : new THREE.Vector2(-(1 / 0),-(1 / 0))
    }
    ,
    THREE.Box2.prototype = {
        constructor: THREE.Box2,
        set: function(a, b) {
            return this.min.copy(a),
                this.max.copy(b),
                this
        },
        setFromPoints: function(a) {
            this.makeEmpty();
            for (var b = 0, c = a.length; c > b; b++)
                this.expandByPoint(a[b]);
            return this
        },
        setFromCenterAndSize: function() {
            var a = new THREE.Vector2;
            return function(b, c) {
                var d = a.copy(c).multiplyScalar(.5);
                return this.min.copy(b).sub(d),
                    this.max.copy(b).add(d),
                    this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.min.copy(a.min),
                this.max.copy(a.max),
                this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = 1 / 0,
                this.max.x = this.max.y = -(1 / 0),
                this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y
        },
        center: function(a) {
            return (a || new THREE.Vector2).addVectors(this.min, this.max).multiplyScalar(.5)
        },
        size: function(a) {
            return (a || new THREE.Vector2).subVectors(this.max, this.min)
        },
        expandByPoint: function(a) {
            return this.min.min(a),
                this.max.max(a),
                this
        },
        expandByVector: function(a) {
            return this.min.sub(a),
                this.max.add(a),
                this
        },
        expandByScalar: function(a) {
            return this.min.addScalar(-a),
                this.max.addScalar(a),
                this
        },
        containsPoint: function(a) {
            return !(a.x < this.min.x || a.x > this.max.x || a.y < this.min.y || a.y > this.max.y)
        },
        containsBox: function(a) {
            return this.min.x <= a.min.x && a.max.x <= this.max.x && this.min.y <= a.min.y && a.max.y <= this.max.y
        },
        getParameter: function(a, b) {
            return (b || new THREE.Vector2).set((a.x - this.min.x) / (this.max.x - this.min.x), (a.y - this.min.y) / (this.max.y - this.min.y))
        },
        intersectsBox: function(a) {
            return !(a.max.x < this.min.x || a.min.x > this.max.x || a.max.y < this.min.y || a.min.y > this.max.y)
        },
        clampPoint: function(a, b) {
            return (b || new THREE.Vector2).copy(a).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var a = new THREE.Vector2;
            return function(b) {
                return a.copy(b).clamp(this.min, this.max).sub(b).length()
            }
        }(),
        intersect: function(a) {
            return this.min.max(a.min),
                this.max.min(a.max),
                this
        },
        union: function(a) {
            return this.min.min(a.min),
                this.max.max(a.max),
                this
        },
        translate: function(a) {
            return this.min.add(a),
                this.max.add(a),
                this
        },
        equals: function(a) {
            return a.min.equals(this.min) && a.max.equals(this.max)
        }
    },
    THREE.Box3 = function(a, b) {
        this.min = void 0 !== a ? a : new THREE.Vector3(1 / 0,1 / 0,1 / 0),
            this.max = void 0 !== b ? b : new THREE.Vector3(-(1 / 0),-(1 / 0),-(1 / 0))
    }
    ,
    THREE.Box3.prototype = {
        constructor: THREE.Box3,
        set: function(a, b) {
            return this.min.copy(a),
                this.max.copy(b),
                this
        },
        setFromArray: function(a) {
            for (var b = 1 / 0, c = 1 / 0, d = 1 / 0, e = -(1 / 0), f = -(1 / 0), g = -(1 / 0), h = 0, i = a.length; i > h; h += 3) {
                var j = a[h]
                    , k = a[h + 1]
                    , l = a[h + 2];
                b > j && (b = j),
                c > k && (c = k),
                d > l && (d = l),
                j > e && (e = j),
                k > f && (f = k),
                l > g && (g = l)
            }
            this.min.set(b, c, d),
                this.max.set(e, f, g)
        },
        setFromPoints: function(a) {
            this.makeEmpty();
            for (var b = 0, c = a.length; c > b; b++)
                this.expandByPoint(a[b]);
            return this
        },
        setFromCenterAndSize: function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                var d = a.copy(c).multiplyScalar(.5);
                return this.min.copy(b).sub(d),
                    this.max.copy(b).add(d),
                    this
            }
        }(),
        setFromObject: function() {
            var a = new THREE.Vector3;
            return function(b) {
                var c = this;
                return b.updateMatrixWorld(!0),
                    this.makeEmpty(),
                    b.traverse(function(b) {
                        var d = b.geometry;
                        if (void 0 !== d)
                            if (d instanceof THREE.Geometry)
                                for (var e = d.vertices, d = 0, f = e.length; f > d; d++)
                                    a.copy(e[d]),
                                        a.applyMatrix4(b.matrixWorld),
                                        c.expandByPoint(a);
                            else if (d instanceof THREE.BufferGeometry && void 0 !== d.attributes.position)
                                for (e = d.attributes.position.array,
                                         d = 0,
                                         f = e.length; f > d; d += 3)
                                    a.fromArray(e, d),
                                        a.applyMatrix4(b.matrixWorld),
                                        c.expandByPoint(a)
                    }),
                    this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.min.copy(a.min),
                this.max.copy(a.max),
                this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = this.min.z = 1 / 0,
                this.max.x = this.max.y = this.max.z = -(1 / 0),
                this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
        },
        center: function(a) {
            return (a || new THREE.Vector3).addVectors(this.min, this.max).multiplyScalar(.5)
        },
        size: function(a) {
            return (a || new THREE.Vector3).subVectors(this.max, this.min)
        },
        expandByPoint: function(a) {
            return this.min.min(a),
                this.max.max(a),
                this
        },
        expandByVector: function(a) {
            return this.min.sub(a),
                this.max.add(a),
                this
        },
        expandByScalar: function(a) {
            return this.min.addScalar(-a),
                this.max.addScalar(a),
                this
        },
        containsPoint: function(a) {
            return !(a.x < this.min.x || a.x > this.max.x || a.y < this.min.y || a.y > this.max.y || a.z < this.min.z || a.z > this.max.z)
        },
        containsBox: function(a) {
            return this.min.x <= a.min.x && a.max.x <= this.max.x && this.min.y <= a.min.y && a.max.y <= this.max.y && this.min.z <= a.min.z && a.max.z <= this.max.z;
        },
        getParameter: function(a, b) {
            return (b || new THREE.Vector3).set((a.x - this.min.x) / (this.max.x - this.min.x), (a.y - this.min.y) / (this.max.y - this.min.y), (a.z - this.min.z) / (this.max.z - this.min.z))
        },
        intersectsBox: function(a) {
            return !(a.max.x < this.min.x || a.min.x > this.max.x || a.max.y < this.min.y || a.min.y > this.max.y || a.max.z < this.min.z || a.min.z > this.max.z)
        },
        intersectsSphere: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Vector3),
                    this.clampPoint(b.center, a),
                a.distanceToSquared(b.center) <= b.radius * b.radius
            }
        }(),
        intersectsPlane: function(a) {
            var b, c;
            return 0 < a.normal.x ? (b = a.normal.x * this.min.x,
                c = a.normal.x * this.max.x) : (b = a.normal.x * this.max.x,
                c = a.normal.x * this.min.x),
                0 < a.normal.y ? (b += a.normal.y * this.min.y,
                    c += a.normal.y * this.max.y) : (b += a.normal.y * this.max.y,
                    c += a.normal.y * this.min.y),
                0 < a.normal.z ? (b += a.normal.z * this.min.z,
                    c += a.normal.z * this.max.z) : (b += a.normal.z * this.max.z,
                    c += a.normal.z * this.min.z),
            b <= a.constant && c >= a.constant
        },
        clampPoint: function(a, b) {
            return (b || new THREE.Vector3).copy(a).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var a = new THREE.Vector3;
            return function(b) {
                return a.copy(b).clamp(this.min, this.max).sub(b).length()
            }
        }(),
        getBoundingSphere: function() {
            var a = new THREE.Vector3;
            return function(b) {
                return b = b || new THREE.Sphere,
                    b.center = this.center(),
                    b.radius = .5 * this.size(a).length(),
                    b
            }
        }(),
        intersect: function(a) {
            return this.min.max(a.min),
                this.max.min(a.max),
            this.isEmpty() && this.makeEmpty(),
                this
        },
        union: function(a) {
            return this.min.min(a.min),
                this.max.max(a.max),
                this
        },
        applyMatrix4: function() {
            var a = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3];
            return function(b) {
                return this.isEmpty() ? this : (a[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(b),
                    a[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(b),
                    a[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(b),
                    a[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(b),
                    a[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(b),
                    a[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(b),
                    a[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(b),
                    a[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(b),
                    this.setFromPoints(a),
                    this)
            }
        }(),
        translate: function(a) {
            return this.min.add(a),
                this.max.add(a),
                this
        },
        equals: function(a) {
            return a.min.equals(this.min) && a.max.equals(this.max)
        }
    },
    THREE.Matrix3 = function() {
        this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]),
        0 < arguments.length && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
    }
    ,
    THREE.Matrix3.prototype = {
        constructor: THREE.Matrix3,
        set: function(a, b, c, d, e, f, g, h, i) {
            var j = this.elements;
            return j[0] = a,
                j[1] = d,
                j[2] = g,
                j[3] = b,
                j[4] = e,
                j[5] = h,
                j[6] = c,
                j[7] = f,
                j[8] = i,
                this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1),
                this
        },
        clone: function() {
            return (new this.constructor).fromArray(this.elements)
        },
        copy: function(a) {
            return a = a.elements,
                this.set(a[0], a[3], a[6], a[1], a[4], a[7], a[2], a[5], a[8]),
                this
        },
        setFromMatrix4: function(a) {
            return a = a.elements,
                this.set(a[0], a[4], a[8], a[1], a[5], a[9], a[2], a[6], a[10]),
                this
        },
        applyToVector3Array: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new THREE.Vector3),
                void 0 === c && (c = 0),
                void 0 === d && (d = b.length);
                for (var e = 0; d > e; e += 3,
                    c += 3)
                    a.fromArray(b, c),
                        a.applyMatrix3(this),
                        a.toArray(b, c);
                return b
            }
        }(),
        applyToBuffer: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new THREE.Vector3),
                void 0 === c && (c = 0),
                void 0 === d && (d = b.length / b.itemSize);
                for (var e = 0; d > e; e++,
                    c++)
                    a.x = b.getX(c),
                        a.y = b.getY(c),
                        a.z = b.getZ(c),
                        a.applyMatrix3(this),
                        b.setXYZ(a.x, a.y, a.z);
                return b
            }
        }(),
        multiplyScalar: function(a) {
            var b = this.elements;
            return b[0] *= a,
                b[3] *= a,
                b[6] *= a,
                b[1] *= a,
                b[4] *= a,
                b[7] *= a,
                b[2] *= a,
                b[5] *= a,
                b[8] *= a,
                this
        },
        determinant: function() {
            var a = this.elements
                , b = a[0]
                , c = a[1]
                , d = a[2]
                , e = a[3]
                , f = a[4]
                , g = a[5]
                , h = a[6]
                , i = a[7]
                , a = a[8];
            return b * f * a - b * g * i - c * e * a + c * g * h + d * e * i - d * f * h
        },
        getInverse: function(a, b) {
            a instanceof THREE.Matrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
            var c = a.elements
                , d = this.elements
                , e = c[0]
                , f = c[1]
                , g = c[2]
                , h = c[3]
                , i = c[4]
                , j = c[5]
                , k = c[6]
                , l = c[7]
                , c = c[8]
                , m = c * i - j * l
                , n = j * k - c * h
                , o = l * h - i * k
                , p = e * m + f * n + g * o;
            if (0 === p) {
                if (b)
                    throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
                return console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"),
                    this.identity()
            }
            return p = 1 / p,
                d[0] = m * p,
                d[1] = (g * l - c * f) * p,
                d[2] = (j * f - g * i) * p,
                d[3] = n * p,
                d[4] = (c * e - g * k) * p,
                d[5] = (g * h - j * e) * p,
                d[6] = o * p,
                d[7] = (f * k - l * e) * p,
                d[8] = (i * e - f * h) * p,
                this
        },
        transpose: function() {
            var a, b = this.elements;
            return a = b[1],
                b[1] = b[3],
                b[3] = a,
                a = b[2],
                b[2] = b[6],
                b[6] = a,
                a = b[5],
                b[5] = b[7],
                b[7] = a,
                this
        },
        flattenToArrayOffset: function(a, b) {
            return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),
                this.toArray(a, b)
        },
        getNormalMatrix: function(a) {
            return this.setFromMatrix4(a).getInverse(this).transpose()
        },
        transposeIntoArray: function(a) {
            var b = this.elements;
            return a[0] = b[0],
                a[1] = b[3],
                a[2] = b[6],
                a[3] = b[1],
                a[4] = b[4],
                a[5] = b[7],
                a[6] = b[2],
                a[7] = b[5],
                a[8] = b[8],
                this
        },
        fromArray: function(a) {
            return this.elements.set(a),
                this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []),
            void 0 === b && (b = 0);
            var c = this.elements;
            return a[b] = c[0],
                a[b + 1] = c[1],
                a[b + 2] = c[2],
                a[b + 3] = c[3],
                a[b + 4] = c[4],
                a[b + 5] = c[5],
                a[b + 6] = c[6],
                a[b + 7] = c[7],
                a[b + 8] = c[8],
                a
        }
    },
    THREE.Matrix4 = function() {
        this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
        0 < arguments.length && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
    }
    ,
    THREE.Matrix4.prototype = {
        constructor: THREE.Matrix4,
        set: function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
            var q = this.elements;
            return q[0] = a,
                q[4] = b,
                q[8] = c,
                q[12] = d,
                q[1] = e,
                q[5] = f,
                q[9] = g,
                q[13] = h,
                q[2] = i,
                q[6] = j,
                q[10] = k,
                q[14] = l,
                q[3] = m,
                q[7] = n,
                q[11] = o,
                q[15] = p,
                this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                this
        },
        clone: function() {
            return (new THREE.Matrix4).fromArray(this.elements)
        },
        copy: function(a) {
            return this.elements.set(a.elements),
                this
        },
        copyPosition: function(a) {
            var b = this.elements;
            return a = a.elements,
                b[12] = a[12],
                b[13] = a[13],
                b[14] = a[14],
                this
        },
        extractBasis: function(a, b, c) {
            return a.setFromMatrixColumn(this, 0),
                b.setFromMatrixColumn(this, 1),
                c.setFromMatrixColumn(this, 2),
                this
        },
        makeBasis: function(a, b, c) {
            return this.set(a.x, b.x, c.x, 0, a.y, b.y, c.y, 0, a.z, b.z, c.z, 0, 0, 0, 0, 1),
                this
        },
        extractRotation: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new THREE.Vector3);
                var c = this.elements
                    , d = b.elements
                    , e = 1 / a.setFromMatrixColumn(b, 0).length()
                    , f = 1 / a.setFromMatrixColumn(b, 1).length();
                return b = 1 / a.setFromMatrixColumn(b, 2).length(),
                    c[0] = d[0] * e,
                    c[1] = d[1] * e,
                    c[2] = d[2] * e,
                    c[4] = d[4] * f,
                    c[5] = d[5] * f,
                    c[6] = d[6] * f,
                    c[8] = d[8] * b,
                    c[9] = d[9] * b,
                    c[10] = d[10] * b,
                    this
            }
        }(),
        makeRotationFromEuler: function(a) {
            0 == a instanceof THREE.Euler && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var b = this.elements
                , c = a.x
                , d = a.y
                , e = a.z
                , f = Math.cos(c)
                , c = Math.sin(c)
                , g = Math.cos(d)
                , d = Math.sin(d)
                , h = Math.cos(e)
                , e = Math.sin(e);
            if ("XYZ" === a.order) {
                a = f * h;
                var i = f * e
                    , j = c * h
                    , k = c * e;
                b[0] = g * h,
                    b[4] = -g * e,
                    b[8] = d,
                    b[1] = i + j * d,
                    b[5] = a - k * d,
                    b[9] = -c * g,
                    b[2] = k - a * d,
                    b[6] = j + i * d,
                    b[10] = f * g
            } else
                "YXZ" === a.order ? (a = g * h,
                    i = g * e,
                    j = d * h,
                    k = d * e,
                    b[0] = a + k * c,
                    b[4] = j * c - i,
                    b[8] = f * d,
                    b[1] = f * e,
                    b[5] = f * h,
                    b[9] = -c,
                    b[2] = i * c - j,
                    b[6] = k + a * c,
                    b[10] = f * g) : "ZXY" === a.order ? (a = g * h,
                    i = g * e,
                    j = d * h,
                    k = d * e,
                    b[0] = a - k * c,
                    b[4] = -f * e,
                    b[8] = j + i * c,
                    b[1] = i + j * c,
                    b[5] = f * h,
                    b[9] = k - a * c,
                    b[2] = -f * d,
                    b[6] = c,
                    b[10] = f * g) : "ZYX" === a.order ? (a = f * h,
                    i = f * e,
                    j = c * h,
                    k = c * e,
                    b[0] = g * h,
                    b[4] = j * d - i,
                    b[8] = a * d + k,
                    b[1] = g * e,
                    b[5] = k * d + a,
                    b[9] = i * d - j,
                    b[2] = -d,
                    b[6] = c * g,
                    b[10] = f * g) : "YZX" === a.order ? (a = f * g,
                    i = f * d,
                    j = c * g,
                    k = c * d,
                    b[0] = g * h,
                    b[4] = k - a * e,
                    b[8] = j * e + i,
                    b[1] = e,
                    b[5] = f * h,
                    b[9] = -c * h,
                    b[2] = -d * h,
                    b[6] = i * e + j,
                    b[10] = a - k * e) : "XZY" === a.order && (a = f * g,
                    i = f * d,
                    j = c * g,
                    k = c * d,
                    b[0] = g * h,
                    b[4] = -e,
                    b[8] = d * h,
                    b[1] = a * e + k,
                    b[5] = f * h,
                    b[9] = i * e - j,
                    b[2] = j * e - i,
                    b[6] = c * h,
                    b[10] = k * e + a);
            return b[3] = 0,
                b[7] = 0,
                b[11] = 0,
                b[12] = 0,
                b[13] = 0,
                b[14] = 0,
                b[15] = 1,
                this
        },
        makeRotationFromQuaternion: function(a) {
            var b = this.elements
                , c = a.x
                , d = a.y
                , e = a.z
                , f = a.w
                , g = c + c
                , h = d + d
                , i = e + e;
            a = c * g;
            var j = c * h
                , c = c * i
                , k = d * h
                , d = d * i
                , e = e * i
                , g = f * g
                , h = f * h
                , f = f * i;
            return b[0] = 1 - (k + e),
                b[4] = j - f,
                b[8] = c + h,
                b[1] = j + f,
                b[5] = 1 - (a + e),
                b[9] = d - g,
                b[2] = c - h,
                b[6] = d + g,
                b[10] = 1 - (a + k),
                b[3] = 0,
                b[7] = 0,
                b[11] = 0,
                b[12] = 0,
                b[13] = 0,
                b[14] = 0,
                b[15] = 1,
                this
        },
        lookAt: function() {
            var a, b, c;
            return function(d, e, f) {
                void 0 === a && (a = new THREE.Vector3,
                    b = new THREE.Vector3,
                    c = new THREE.Vector3);
                var g = this.elements;
                return c.subVectors(d, e).normalize(),
                0 === c.lengthSq() && (c.z = 1),
                    a.crossVectors(f, c).normalize(),
                0 === a.lengthSq() && (c.z += 1e-4,
                    a.crossVectors(f, c).normalize()),
                    b.crossVectors(c, a),
                    g[0] = a.x,
                    g[4] = b.x,
                    g[8] = c.x,
                    g[1] = a.y,
                    g[5] = b.y,
                    g[9] = c.y,
                    g[2] = a.z,
                    g[6] = b.z,
                    g[10] = c.z,
                    this
            }
        }(),
        multiply: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
                this.multiplyMatrices(a, b)) : this.multiplyMatrices(this, a)
        },
        premultiply: function(a) {
            return this.multiplyMatrices(a, this)
        },
        multiplyMatrices: function(a, b) {
            var c = a.elements
                , d = b.elements
                , e = this.elements
                , f = c[0]
                , g = c[4]
                , h = c[8]
                , i = c[12]
                , j = c[1]
                , k = c[5]
                , l = c[9]
                , m = c[13]
                , n = c[2]
                , o = c[6]
                , p = c[10]
                , q = c[14]
                , r = c[3]
                , s = c[7]
                , t = c[11]
                , c = c[15]
                , u = d[0]
                , v = d[4]
                , w = d[8]
                , x = d[12]
                , y = d[1]
                , z = d[5]
                , A = d[9]
                , B = d[13]
                , C = d[2]
                , D = d[6]
                , E = d[10]
                , F = d[14]
                , G = d[3]
                , H = d[7]
                , I = d[11]
                , d = d[15];
            return e[0] = f * u + g * y + h * C + i * G,
                e[4] = f * v + g * z + h * D + i * H,
                e[8] = f * w + g * A + h * E + i * I,
                e[12] = f * x + g * B + h * F + i * d,
                e[1] = j * u + k * y + l * C + m * G,
                e[5] = j * v + k * z + l * D + m * H,
                e[9] = j * w + k * A + l * E + m * I,
                e[13] = j * x + k * B + l * F + m * d,
                e[2] = n * u + o * y + p * C + q * G,
                e[6] = n * v + o * z + p * D + q * H,
                e[10] = n * w + o * A + p * E + q * I,
                e[14] = n * x + o * B + p * F + q * d,
                e[3] = r * u + s * y + t * C + c * G,
                e[7] = r * v + s * z + t * D + c * H,
                e[11] = r * w + s * A + t * E + c * I,
                e[15] = r * x + s * B + t * F + c * d,
                this
        },
        multiplyToArray: function(a, b, c) {
            var d = this.elements;
            return this.multiplyMatrices(a, b),
                c[0] = d[0],
                c[1] = d[1],
                c[2] = d[2],
                c[3] = d[3],
                c[4] = d[4],
                c[5] = d[5],
                c[6] = d[6],
                c[7] = d[7],
                c[8] = d[8],
                c[9] = d[9],
                c[10] = d[10],
                c[11] = d[11],
                c[12] = d[12],
                c[13] = d[13],
                c[14] = d[14],
                c[15] = d[15],
                this
        },
        multiplyScalar: function(a) {
            var b = this.elements;
            return b[0] *= a,
                b[4] *= a,
                b[8] *= a,
                b[12] *= a,
                b[1] *= a,
                b[5] *= a,
                b[9] *= a,
                b[13] *= a,
                b[2] *= a,
                b[6] *= a,
                b[10] *= a,
                b[14] *= a,
                b[3] *= a,
                b[7] *= a,
                b[11] *= a,
                b[15] *= a,
                this
        },
        applyToVector3Array: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new THREE.Vector3),
                void 0 === c && (c = 0),
                void 0 === d && (d = b.length);
                for (var e = 0; d > e; e += 3,
                    c += 3)
                    a.fromArray(b, c),
                        a.applyMatrix4(this),
                        a.toArray(b, c);
                return b
            }
        }(),
        applyToBuffer: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new THREE.Vector3),
                void 0 === c && (c = 0),
                void 0 === d && (d = b.length / b.itemSize);
                for (var e = 0; d > e; e++,
                    c++)
                    a.x = b.getX(c),
                        a.y = b.getY(c),
                        a.z = b.getZ(c),
                        a.applyMatrix4(this),
                        b.setXYZ(a.x, a.y, a.z);
                return b
            }
        }(),
        determinant: function() {
            var a = this.elements
                , b = a[0]
                , c = a[4]
                , d = a[8]
                , e = a[12]
                , f = a[1]
                , g = a[5]
                , h = a[9]
                , i = a[13]
                , j = a[2]
                , k = a[6]
                , l = a[10]
                , m = a[14];
            return a[3] * (+e * h * k - d * i * k - e * g * l + c * i * l + d * g * m - c * h * m) + a[7] * (+b * h * m - b * i * l + e * f * l - d * f * m + d * i * j - e * h * j) + a[11] * (+b * i * k - b * g * m - e * f * k + c * f * m + e * g * j - c * i * j) + a[15] * (-d * g * j - b * h * k + b * g * l + d * f * k - c * f * l + c * h * j)
        },
        transpose: function() {
            var a, b = this.elements;
            return a = b[1],
                b[1] = b[4],
                b[4] = a,
                a = b[2],
                b[2] = b[8],
                b[8] = a,
                a = b[6],
                b[6] = b[9],
                b[9] = a,
                a = b[3],
                b[3] = b[12],
                b[12] = a,
                a = b[7],
                b[7] = b[13],
                b[13] = a,
                a = b[11],
                b[11] = b[14],
                b[14] = a,
                this
        },
        flattenToArrayOffset: function(a, b) {
            return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),
                this.toArray(a, b)
        },
        getPosition: function() {
            var a;
            return function() {
                return void 0 === a && (a = new THREE.Vector3),
                    console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),
                    a.setFromMatrixColumn(this, 3)
            }
        }(),
        setPosition: function(a) {
            var b = this.elements;
            return b[12] = a.x,
                b[13] = a.y,
                b[14] = a.z,
                this
        },
        getInverse: function(a, b) {
            var c = this.elements
                , d = a.elements
                , e = d[0]
                , f = d[1]
                , g = d[2]
                , h = d[3]
                , i = d[4]
                , j = d[5]
                , k = d[6]
                , l = d[7]
                , m = d[8]
                , n = d[9]
                , o = d[10]
                , p = d[11]
                , q = d[12]
                , r = d[13]
                , s = d[14]
                , d = d[15]
                , t = n * s * l - r * o * l + r * k * p - j * s * p - n * k * d + j * o * d
                , u = q * o * l - m * s * l - q * k * p + i * s * p + m * k * d - i * o * d
                , v = m * r * l - q * n * l + q * j * p - i * r * p - m * j * d + i * n * d
                , w = q * n * k - m * r * k - q * j * o + i * r * o + m * j * s - i * n * s
                , x = e * t + f * u + g * v + h * w;
            if (0 === x) {
                if (b)
                    throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
                return console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"),
                    this.identity()
            }
            return x = 1 / x,
                c[0] = t * x,
                c[1] = (r * o * h - n * s * h - r * g * p + f * s * p + n * g * d - f * o * d) * x,
                c[2] = (j * s * h - r * k * h + r * g * l - f * s * l - j * g * d + f * k * d) * x,
                c[3] = (n * k * h - j * o * h - n * g * l + f * o * l + j * g * p - f * k * p) * x,
                c[4] = u * x,
                c[5] = (m * s * h - q * o * h + q * g * p - e * s * p - m * g * d + e * o * d) * x,
                c[6] = (q * k * h - i * s * h - q * g * l + e * s * l + i * g * d - e * k * d) * x,
                c[7] = (i * o * h - m * k * h + m * g * l - e * o * l - i * g * p + e * k * p) * x,
                c[8] = v * x,
                c[9] = (q * n * h - m * r * h - q * f * p + e * r * p + m * f * d - e * n * d) * x,
                c[10] = (i * r * h - q * j * h + q * f * l - e * r * l - i * f * d + e * j * d) * x,
                c[11] = (m * j * h - i * n * h - m * f * l + e * n * l + i * f * p - e * j * p) * x,
                c[12] = w * x,
                c[13] = (m * r * g - q * n * g + q * f * o - e * r * o - m * f * s + e * n * s) * x,
                c[14] = (q * j * g - i * r * g - q * f * k + e * r * k + i * f * s - e * j * s) * x,
                c[15] = (i * n * g - m * j * g + m * f * k - e * n * k - i * f * o + e * j * o) * x,
                this
        },
        scale: function(a) {
            var b = this.elements
                , c = a.x
                , d = a.y;
            return a = a.z,
                b[0] *= c,
                b[4] *= d,
                b[8] *= a,
                b[1] *= c,
                b[5] *= d,
                b[9] *= a,
                b[2] *= c,
                b[6] *= d,
                b[10] *= a,
                b[3] *= c,
                b[7] *= d,
                b[11] *= a,
                this
        },
        getMaxScaleOnAxis: function() {
            var a = this.elements;
            return Math.sqrt(Math.max(a[0] * a[0] + a[1] * a[1] + a[2] * a[2], a[4] * a[4] + a[5] * a[5] + a[6] * a[6], a[8] * a[8] + a[9] * a[9] + a[10] * a[10]))
        },
        makeTranslation: function(a, b, c) {
            return this.set(1, 0, 0, a, 0, 1, 0, b, 0, 0, 1, c, 0, 0, 0, 1),
                this
        },
        makeRotationX: function(a) {
            var b = Math.cos(a);
            return a = Math.sin(a),
                this.set(1, 0, 0, 0, 0, b, -a, 0, 0, a, b, 0, 0, 0, 0, 1),
                this
        },
        makeRotationY: function(a) {
            var b = Math.cos(a);
            return a = Math.sin(a),
                this.set(b, 0, a, 0, 0, 1, 0, 0, -a, 0, b, 0, 0, 0, 0, 1),
                this
        },
        makeRotationZ: function(a) {
            var b = Math.cos(a);
            return a = Math.sin(a),
                this.set(b, -a, 0, 0, a, b, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                this
        },
        makeRotationAxis: function(a, b) {
            var c = Math.cos(b)
                , d = Math.sin(b)
                , e = 1 - c
                , f = a.x
                , g = a.y
                , h = a.z
                , i = e * f
                , j = e * g;
            return this.set(i * f + c, i * g - d * h, i * h + d * g, 0, i * g + d * h, j * g + c, j * h - d * f, 0, i * h - d * g, j * h + d * f, e * h * h + c, 0, 0, 0, 0, 1),
                this
        },
        makeScale: function(a, b, c) {
            return this.set(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, 0, 1),
                this
        },
        compose: function(a, b, c) {
            return this.makeRotationFromQuaternion(b),
                this.scale(c),
                this.setPosition(a),
                this
        },
        decompose: function() {
            var a, b;
            return function(c, d, e) {
                void 0 === a && (a = new THREE.Vector3,
                    b = new THREE.Matrix4);
                var f = this.elements
                    , g = a.set(f[0], f[1], f[2]).length()
                    , h = a.set(f[4], f[5], f[6]).length()
                    , i = a.set(f[8], f[9], f[10]).length();
                0 > this.determinant() && (g = -g),
                    c.x = f[12],
                    c.y = f[13],
                    c.z = f[14],
                    b.elements.set(this.elements),
                    c = 1 / g;
                var f = 1 / h
                    , j = 1 / i;
                return b.elements[0] *= c,
                    b.elements[1] *= c,
                    b.elements[2] *= c,
                    b.elements[4] *= f,
                    b.elements[5] *= f,
                    b.elements[6] *= f,
                    b.elements[8] *= j,
                    b.elements[9] *= j,
                    b.elements[10] *= j,
                    d.setFromRotationMatrix(b),
                    e.x = g,
                    e.y = h,
                    e.z = i,
                    this
            }
        }(),
        makeFrustum: function(a, b, c, d, e, f) {
            var g = this.elements;
            return g[0] = 2 * e / (b - a),
                g[4] = 0,
                g[8] = (b + a) / (b - a),
                g[12] = 0,
                g[1] = 0,
                g[5] = 2 * e / (d - c),
                g[9] = (d + c) / (d - c),
                g[13] = 0,
                g[2] = 0,
                g[6] = 0,
                g[10] = -(f + e) / (f - e),
                g[14] = -2 * f * e / (f - e),
                g[3] = 0,
                g[7] = 0,
                g[11] = -1,
                g[15] = 0,
                this
        },
        makePerspective: function(a, b, c, d) {
            a = c * Math.tan(THREE.Math.DEG2RAD * a * .5);
            var e = -a;
            return this.makeFrustum(e * b, a * b, e, a, c, d)
        },
        makeOrthographic: function(a, b, c, d, e, f) {
            var g = this.elements
                , h = 1 / (b - a)
                , i = 1 / (c - d)
                , j = 1 / (f - e);
            return g[0] = 2 * h,
                g[4] = 0,
                g[8] = 0,
                g[12] = -((b + a) * h),
                g[1] = 0,
                g[5] = 2 * i,
                g[9] = 0,
                g[13] = -((c + d) * i),
                g[2] = 0,
                g[6] = 0,
                g[10] = -2 * j,
                g[14] = -((f + e) * j),
                g[3] = 0,
                g[7] = 0,
                g[11] = 0,
                g[15] = 1,
                this
        },
        equals: function(a) {
            var b = this.elements;
            a = a.elements;
            for (var c = 0; 16 > c; c++)
                if (b[c] !== a[c])
                    return !1;
            return !0
        },
        fromArray: function(a) {
            return this.elements.set(a),
                this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []),
            void 0 === b && (b = 0);
            var c = this.elements;
            return a[b] = c[0],
                a[b + 1] = c[1],
                a[b + 2] = c[2],
                a[b + 3] = c[3],
                a[b + 4] = c[4],
                a[b + 5] = c[5],
                a[b + 6] = c[6],
                a[b + 7] = c[7],
                a[b + 8] = c[8],
                a[b + 9] = c[9],
                a[b + 10] = c[10],
                a[b + 11] = c[11],
                a[b + 12] = c[12],
                a[b + 13] = c[13],
                a[b + 14] = c[14],
                a[b + 15] = c[15],
                a
        }
    },
    THREE.Ray = function(a, b) {
        this.origin = void 0 !== a ? a : new THREE.Vector3,
            this.direction = void 0 !== b ? b : new THREE.Vector3
    }
    ,
    THREE.Ray.prototype = {
        constructor: THREE.Ray,
        set: function(a, b) {
            return this.origin.copy(a),
                this.direction.copy(b),
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.origin.copy(a.origin),
                this.direction.copy(a.direction),
                this
        },
        at: function(a, b) {
            return (b || new THREE.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)
        },
        lookAt: function(a) {
            return this.direction.copy(a).sub(this.origin).normalize(),
                this
        },
        recast: function() {
            var a = new THREE.Vector3;
            return function(b) {
                return this.origin.copy(this.at(b, a)),
                    this
            }
        }(),
        closestPointToPoint: function(a, b) {
            var c = b || new THREE.Vector3;
            c.subVectors(a, this.origin);
            var d = c.dot(this.direction);
            return 0 > d ? c.copy(this.origin) : c.copy(this.direction).multiplyScalar(d).add(this.origin)
        },
        distanceToPoint: function(a) {
            return Math.sqrt(this.distanceSqToPoint(a))
        },
        distanceSqToPoint: function() {
            var a = new THREE.Vector3;
            return function(b) {
                var c = a.subVectors(b, this.origin).dot(this.direction);
                return 0 > c ? this.origin.distanceToSquared(b) : (a.copy(this.direction).multiplyScalar(c).add(this.origin),
                    a.distanceToSquared(b))
            }
        }(),
        distanceSqToSegment: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3
                , c = new THREE.Vector3;
            return function(d, e, f, g) {
                a.copy(d).add(e).multiplyScalar(.5),
                    b.copy(e).sub(d).normalize(),
                    c.copy(this.origin).sub(a);
                var h, i = .5 * d.distanceTo(e), j = -this.direction.dot(b), k = c.dot(this.direction), l = -c.dot(b), m = c.lengthSq(), n = Math.abs(1 - j * j);
                return n > 0 ? (d = j * l - k,
                    e = j * k - l,
                    h = i * n,
                    d >= 0 ? e >= -h ? h >= e ? (i = 1 / n,
                        d *= i,
                        e *= i,
                        j = d * (d + j * e + 2 * k) + e * (j * d + e + 2 * l) + m) : (e = i,
                        d = Math.max(0, -(j * e + k)),
                        j = -d * d + e * (e + 2 * l) + m) : (e = -i,
                        d = Math.max(0, -(j * e + k)),
                        j = -d * d + e * (e + 2 * l) + m) : -h >= e ? (d = Math.max(0, -(-j * i + k)),
                        e = d > 0 ? -i : Math.min(Math.max(-i, -l), i),
                        j = -d * d + e * (e + 2 * l) + m) : h >= e ? (d = 0,
                        e = Math.min(Math.max(-i, -l), i),
                        j = e * (e + 2 * l) + m) : (d = Math.max(0, -(j * i + k)),
                        e = d > 0 ? i : Math.min(Math.max(-i, -l), i),
                        j = -d * d + e * (e + 2 * l) + m)) : (e = j > 0 ? -i : i,
                    d = Math.max(0, -(j * e + k)),
                    j = -d * d + e * (e + 2 * l) + m),
                f && f.copy(this.direction).multiplyScalar(d).add(this.origin),
                g && g.copy(b).multiplyScalar(e).add(a),
                    j
            }
        }(),
        intersectSphere: function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                a.subVectors(b.center, this.origin);
                var d = a.dot(this.direction)
                    , e = a.dot(a) - d * d
                    , f = b.radius * b.radius;
                return e > f ? null  : (f = Math.sqrt(f - e),
                    e = d - f,
                    d += f,
                    0 > e && 0 > d ? null  : 0 > e ? this.at(d, c) : this.at(e, c))
            }
        }(),
        intersectsSphere: function(a) {
            return this.distanceToPoint(a.center) <= a.radius
        },
        distanceToPlane: function(a) {
            var b = a.normal.dot(this.direction);
            return 0 === b ? 0 === a.distanceToPoint(this.origin) ? 0 : null  : (a = -(this.origin.dot(a.normal) + a.constant) / b,
                a >= 0 ? a : null )
        },
        intersectPlane: function(a, b) {
            var c = this.distanceToPlane(a);
            return null  === c ? null  : this.at(c, b)
        },
        intersectsPlane: function(a) {
            var b = a.distanceToPoint(this.origin);
            return 0 === b || 0 > a.normal.dot(this.direction) * b
        },
        intersectBox: function(a, b) {
            var c, d, e, f, g;
            d = 1 / this.direction.x,
                f = 1 / this.direction.y,
                g = 1 / this.direction.z;
            var h = this.origin;
            return d >= 0 ? (c = (a.min.x - h.x) * d,
                d *= a.max.x - h.x) : (c = (a.max.x - h.x) * d,
                d *= a.min.x - h.x),
                f >= 0 ? (e = (a.min.y - h.y) * f,
                    f *= a.max.y - h.y) : (e = (a.max.y - h.y) * f,
                    f *= a.min.y - h.y),
                c > f || e > d ? null  : ((e > c || c !== c) && (c = e),
                (d > f || d !== d) && (d = f),
                    g >= 0 ? (e = (a.min.z - h.z) * g,
                        g *= a.max.z - h.z) : (e = (a.max.z - h.z) * g,
                        g *= a.min.z - h.z),
                    c > g || e > d ? null  : ((e > c || c !== c) && (c = e),
                    (d > g || d !== d) && (d = g),
                        0 > d ? null  : this.at(c >= 0 ? c : d, b)))
        },
        intersectsBox: function() {
            var a = new THREE.Vector3;
            return function(b) {
                return null  !== this.intersectBox(b, a)
            }
        }(),
        intersectTriangle: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3
                , c = new THREE.Vector3
                , d = new THREE.Vector3;
            return function(e, f, g, h, i) {
                if (b.subVectors(f, e),
                        c.subVectors(g, e),
                        d.crossVectors(b, c),
                        f = this.direction.dot(d),
                    f > 0) {
                    if (h)
                        return null ;
                    h = 1
                } else {
                    if (!(0 > f))
                        return null ;
                    h = -1,
                        f = -f
                }
                return a.subVectors(this.origin, e),
                    e = h * this.direction.dot(c.crossVectors(a, c)),
                    0 > e ? null  : (g = h * this.direction.dot(b.cross(a)),
                        0 > g || e + g > f ? null  : (e = -h * a.dot(d),
                            0 > e ? null  : this.at(e / f, i)))
            }
        }(),
        applyMatrix4: function(a) {
            return this.direction.add(this.origin).applyMatrix4(a),
                this.origin.applyMatrix4(a),
                this.direction.sub(this.origin),
                this.direction.normalize(),
                this
        },
        equals: function(a) {
            return a.origin.equals(this.origin) && a.direction.equals(this.direction)
        }
    },
    THREE.Sphere = function(a, b) {
        this.center = void 0 !== a ? a : new THREE.Vector3,
            this.radius = void 0 !== b ? b : 0
    }
    ,
    THREE.Sphere.prototype = {
        constructor: THREE.Sphere,
        set: function(a, b) {
            return this.center.copy(a),
                this.radius = b,
                this
        },
        setFromPoints: function() {
            var a = new THREE.Box3;
            return function(b, c) {
                var d = this.center;
                void 0 !== c ? d.copy(c) : a.setFromPoints(b).center(d);
                for (var e = 0, f = 0, g = b.length; g > f; f++)
                    e = Math.max(e, d.distanceToSquared(b[f]));
                return this.radius = Math.sqrt(e),
                    this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.center.copy(a.center),
                this.radius = a.radius,
                this
        },
        empty: function() {
            return 0 >= this.radius
        },
        containsPoint: function(a) {
            return a.distanceToSquared(this.center) <= this.radius * this.radius
        },
        distanceToPoint: function(a) {
            return a.distanceTo(this.center) - this.radius
        },
        intersectsSphere: function(a) {
            var b = this.radius + a.radius;
            return a.center.distanceToSquared(this.center) <= b * b
        },
        intersectsBox: function(a) {
            return a.intersectsSphere(this)
        },
        intersectsPlane: function(a) {
            return Math.abs(this.center.dot(a.normal) - a.constant) <= this.radius
        },
        clampPoint: function(a, b) {
            var c = this.center.distanceToSquared(a)
                , d = b || new THREE.Vector3;
            return d.copy(a),
            c > this.radius * this.radius && (d.sub(this.center).normalize(),
                d.multiplyScalar(this.radius).add(this.center)),
                d
        },
        getBoundingBox: function(a) {
            return a = a || new THREE.Box3,
                a.set(this.center, this.center),
                a.expandByScalar(this.radius),
                a
        },
        applyMatrix4: function(a) {
            return this.center.applyMatrix4(a),
                this.radius *= a.getMaxScaleOnAxis(),
                this
        },
        translate: function(a) {
            return this.center.add(a),
                this
        },
        equals: function(a) {
            return a.center.equals(this.center) && a.radius === this.radius
        }
    },
    THREE.Frustum = function(a, b, c, d, e, f) {
        this.planes = [void 0 !== a ? a : new THREE.Plane, void 0 !== b ? b : new THREE.Plane, void 0 !== c ? c : new THREE.Plane, void 0 !== d ? d : new THREE.Plane, void 0 !== e ? e : new THREE.Plane, void 0 !== f ? f : new THREE.Plane]
    }
    ,
    THREE.Frustum.prototype = {
        constructor: THREE.Frustum,
        set: function(a, b, c, d, e, f) {
            var g = this.planes;
            return g[0].copy(a),
                g[1].copy(b),
                g[2].copy(c),
                g[3].copy(d),
                g[4].copy(e),
                g[5].copy(f),
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            for (var b = this.planes, c = 0; 6 > c; c++)
                b[c].copy(a.planes[c]);
            return this
        },
        setFromMatrix: function(a) {
            var b = this.planes
                , c = a.elements;
            a = c[0];
            var d = c[1]
                , e = c[2]
                , f = c[3]
                , g = c[4]
                , h = c[5]
                , i = c[6]
                , j = c[7]
                , k = c[8]
                , l = c[9]
                , m = c[10]
                , n = c[11]
                , o = c[12]
                , p = c[13]
                , q = c[14]
                , c = c[15];
            return b[0].setComponents(f - a, j - g, n - k, c - o).normalize(),
                b[1].setComponents(f + a, j + g, n + k, c + o).normalize(),
                b[2].setComponents(f + d, j + h, n + l, c + p).normalize(),
                b[3].setComponents(f - d, j - h, n - l, c - p).normalize(),
                b[4].setComponents(f - e, j - i, n - m, c - q).normalize(),
                b[5].setComponents(f + e, j + i, n + m, c + q).normalize(),
                this
        },
        intersectsObject: function() {
            var a = new THREE.Sphere;
            return function(b) {
                var c = b.geometry;
                return null  === c.boundingSphere && c.computeBoundingSphere(),
                    a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld),
                    this.intersectsSphere(a)
            }
        }(),
        intersectsSprite: function() {
            var a = new THREE.Sphere;
            return function(b) {
                return a.center.set(0, 0, 0),
                    a.radius = .7071067811865476,
                    a.applyMatrix4(b.matrixWorld),
                    this.intersectsSphere(a)
            }
        }(),
        intersectsSphere: function(a) {
            var b = this.planes
                , c = a.center;
            a = -a.radius;
            for (var d = 0; 6 > d; d++)
                if (b[d].distanceToPoint(c) < a)
                    return !1;
            return !0
        },
        intersectsBox: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3;
            return function(c) {
                for (var d = this.planes, e = 0; 6 > e; e++) {
                    var f = d[e];
                    a.x = 0 < f.normal.x ? c.min.x : c.max.x,
                        b.x = 0 < f.normal.x ? c.max.x : c.min.x,
                        a.y = 0 < f.normal.y ? c.min.y : c.max.y,
                        b.y = 0 < f.normal.y ? c.max.y : c.min.y,
                        a.z = 0 < f.normal.z ? c.min.z : c.max.z,
                        b.z = 0 < f.normal.z ? c.max.z : c.min.z;
                    var g = f.distanceToPoint(a)
                        , f = f.distanceToPoint(b);
                    if (0 > g && 0 > f)
                        return !1
                }
                return !0
            }
        }(),
        containsPoint: function(a) {
            for (var b = this.planes, c = 0; 6 > c; c++)
                if (0 > b[c].distanceToPoint(a))
                    return !1;
            return !0
        }
    },
    THREE.Plane = function(a, b) {
        this.normal = void 0 !== a ? a : new THREE.Vector3(1,0,0),
            this.constant = void 0 !== b ? b : 0
    }
    ,
    THREE.Plane.prototype = {
        constructor: THREE.Plane,
        set: function(a, b) {
            return this.normal.copy(a),
                this.constant = b,
                this
        },
        setComponents: function(a, b, c, d) {
            return this.normal.set(a, b, c),
                this.constant = d,
                this
        },
        setFromNormalAndCoplanarPoint: function(a, b) {
            return this.normal.copy(a),
                this.constant = -b.dot(this.normal),
                this
        },
        setFromCoplanarPoints: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3;
            return function(c, d, e) {
                return d = a.subVectors(e, d).cross(b.subVectors(c, d)).normalize(),
                    this.setFromNormalAndCoplanarPoint(d, c),
                    this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.normal.copy(a.normal),
                this.constant = a.constant,
                this
        },
        normalize: function() {
            var a = 1 / this.normal.length();
            return this.normal.multiplyScalar(a),
                this.constant *= a,
                this
        },
        negate: function() {
            return this.constant *= -1,
                this.normal.negate(),
                this
        },
        distanceToPoint: function(a) {
            return this.normal.dot(a) + this.constant
        },
        distanceToSphere: function(a) {
            return this.distanceToPoint(a.center) - a.radius
        },
        projectPoint: function(a, b) {
            return this.orthoPoint(a, b).sub(a).negate()
        },
        orthoPoint: function(a, b) {
            var c = this.distanceToPoint(a);
            return (b || new THREE.Vector3).copy(this.normal).multiplyScalar(c)
        },
        intersectLine: function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                var d = c || new THREE.Vector3
                    , e = b.delta(a)
                    , f = this.normal.dot(e);
                return 0 !== f ? (f = -(b.start.dot(this.normal) + this.constant) / f,
                    0 > f || f > 1 ? void 0 : d.copy(e).multiplyScalar(f).add(b.start)) : 0 === this.distanceToPoint(b.start) ? d.copy(b.start) : void 0
            }
        }(),
        intersectsLine: function(a) {
            var b = this.distanceToPoint(a.start);
            return a = this.distanceToPoint(a.end),
            0 > b && a > 0 || 0 > a && b > 0
        },
        intersectsBox: function(a) {
            return a.intersectsPlane(this)
        },
        intersectsSphere: function(a) {
            return a.intersectsPlane(this)
        },
        coplanarPoint: function(a) {
            return (a || new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)
        },
        applyMatrix4: function() {
            var a = new THREE.Vector3
                , b = new THREE.Matrix3;
            return function(c, d) {
                var e = this.coplanarPoint(a).applyMatrix4(c)
                    , f = d || b.getNormalMatrix(c)
                    , f = this.normal.applyMatrix3(f).normalize();
                return this.constant = -e.dot(f),
                    this
            }
        }(),
        translate: function(a) {
            return this.constant -= a.dot(this.normal),
                this
        },
        equals: function(a) {
            return a.normal.equals(this.normal) && a.constant === this.constant
        }
    },
    THREE.Spherical = function(a, b, c) {
        return this.radius = void 0 !== a ? a : 1,
            this.phi = void 0 !== b ? b : 0,
            this.theta = void 0 !== c ? c : 0,
            this
    }
    ,
    THREE.Spherical.prototype = {
        constructor: THREE.Spherical,
        set: function(a, b, c) {
            return this.radius = a,
                this.phi = b,
                this.theta = c,
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.radius.copy(a.radius),
                this.phi.copy(a.phi),
                this.theta.copy(a.theta),
                this
        },
        makeSafe: function() {
            return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)),
                this
        },
        setFromVector3: function(a) {
            return this.radius = a.length(),
                0 === this.radius ? this.phi = this.theta = 0 : (this.theta = Math.atan2(a.x, a.z),
                    this.phi = Math.acos(THREE.Math.clamp(a.y / this.radius, -1, 1))),
                this
        }
    },
    THREE.Math = {
        DEG2RAD: Math.PI / 180,
        RAD2DEG: 180 / Math.PI,
        generateUUID: function() {
            var a, b = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), c = Array(36), d = 0;
            return function() {
                for (var e = 0; 36 > e; e++)
                    8 === e || 13 === e || 18 === e || 23 === e ? c[e] = "-" : 14 === e ? c[e] = "4" : (2 >= d && (d = 33554432 + 16777216 * Math.random() | 0),
                        a = 15 & d,
                        d >>= 4,
                        c[e] = b[19 === e ? 3 & a | 8 : a]);
                return c.join("")
            }
        }(),
        clamp: function(a, b, c) {
            return Math.max(b, Math.min(c, a))
        },
        euclideanModulo: function(a, b) {
            return (a % b + b) % b
        },
        mapLinear: function(a, b, c, d, e) {
            return d + (a - b) * (e - d) / (c - b)
        },
        smoothstep: function(a, b, c) {
            return b >= a ? 0 : a >= c ? 1 : (a = (a - b) / (c - b),
            a * a * (3 - 2 * a))
        },
        smootherstep: function(a, b, c) {
            return b >= a ? 0 : a >= c ? 1 : (a = (a - b) / (c - b),
            a * a * a * (a * (6 * a - 15) + 10))
        },
        random16: function() {
            return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),
                Math.random()
        },
        randInt: function(a, b) {
            return a + Math.floor(Math.random() * (b - a + 1))
        },
        randFloat: function(a, b) {
            return a + Math.random() * (b - a)
        },
        randFloatSpread: function(a) {
            return a * (.5 - Math.random())
        },
        degToRad: function(a) {
            return a * THREE.Math.DEG2RAD
        },
        radToDeg: function(a) {
            return a * THREE.Math.RAD2DEG
        },
        isPowerOfTwo: function(a) {
            return 0 === (a & a - 1) && 0 !== a
        },
        nearestPowerOfTwo: function(a) {
            return Math.pow(2, Math.round(Math.log(a) / Math.LN2))
        },
        nextPowerOfTwo: function(a) {
            return a--,
                a |= a >> 1,
                a |= a >> 2,
                a |= a >> 4,
                a |= a >> 8,
                a |= a >> 16,
                a++,
                a
        }
    },
    THREE.Spline = function(a) {
        function b(a, b, c, d, e, f, g) {
            return a = .5 * (c - a),
                d = .5 * (d - b),
            (2 * (b - c) + a + d) * g + (-3 * (b - c) - 2 * a - d) * f + a * e + b
        }
        this.points = a;
        var c, d, e, f, g, h, i, j, k, l = [], m = {
            x: 0,
            y: 0,
            z: 0
        };
        this.initFromArray = function(a) {
            this.points = [];
            for (var b = 0; b < a.length; b++)
                this.points[b] = {
                    x: a[b][0],
                    y: a[b][1],
                    z: a[b][2]
                }
        }
            ,
            this.getPoint = function(a) {
                return c = (this.points.length - 1) * a,
                    d = Math.floor(c),
                    e = c - d,
                    l[0] = 0 === d ? d : d - 1,
                    l[1] = d,
                    l[2] = d > this.points.length - 2 ? this.points.length - 1 : d + 1,
                    l[3] = d > this.points.length - 3 ? this.points.length - 1 : d + 2,
                    h = this.points[l[0]],
                    i = this.points[l[1]],
                    j = this.points[l[2]],
                    k = this.points[l[3]],
                    f = e * e,
                    g = e * f,
                    m.x = b(h.x, i.x, j.x, k.x, e, f, g),
                    m.y = b(h.y, i.y, j.y, k.y, e, f, g),
                    m.z = b(h.z, i.z, j.z, k.z, e, f, g),
                    m
            }
            ,
            this.getControlPointsArray = function() {
                var a, b, c = this.points.length, d = [];
                for (a = 0; c > a; a++)
                    b = this.points[a],
                        d[a] = [b.x, b.y, b.z];
                return d
            }
            ,
            this.getLength = function(a) {
                var b, c, d, e = b = b = 0, f = new THREE.Vector3, g = new THREE.Vector3, h = [], i = 0;
                for (h[0] = 0,
                     a || (a = 100),
                         c = this.points.length * a,
                         f.copy(this.points[0]),
                         a = 1; c > a; a++)
                    b = a / c,
                        d = this.getPoint(b),
                        g.copy(d),
                        i += g.distanceTo(f),
                        f.copy(d),
                        b *= this.points.length - 1,
                        b = Math.floor(b),
                    b !== e && (h[b] = i,
                        e = b);
                return h[h.length] = i,
                {
                    chunks: h,
                    total: i
                }
            }
            ,
            this.reparametrizeByArcLength = function(a) {
                var b, c, d, e, f, g, h = [], i = new THREE.Vector3, j = this.getLength();
                for (h.push(i.copy(this.points[0]).clone()),
                         b = 1; b < this.points.length; b++) {
                    for (c = j.chunks[b] - j.chunks[b - 1],
                             g = Math.ceil(a * c / j.total),
                             e = (b - 1) / (this.points.length - 1),
                             f = b / (this.points.length - 1),
                             c = 1; g - 1 > c; c++)
                        d = e + 1 / g * c * (f - e),
                            d = this.getPoint(d),
                            h.push(i.copy(d).clone());
                    h.push(i.copy(this.points[b]).clone())
                }
                this.points = h
            }
    }
    ,
    THREE.Triangle = function(a, b, c) {
        this.a = void 0 !== a ? a : new THREE.Vector3,
            this.b = void 0 !== b ? b : new THREE.Vector3,
            this.c = void 0 !== c ? c : new THREE.Vector3
    }
    ,
    THREE.Triangle.normal = function() {
        var a = new THREE.Vector3;
        return function(b, c, d, e) {
            return e = e || new THREE.Vector3,
                e.subVectors(d, c),
                a.subVectors(b, c),
                e.cross(a),
                b = e.lengthSq(),
                b > 0 ? e.multiplyScalar(1 / Math.sqrt(b)) : e.set(0, 0, 0)
        }
    }(),
    THREE.Triangle.barycoordFromPoint = function() {
        var a = new THREE.Vector3
            , b = new THREE.Vector3
            , c = new THREE.Vector3;
        return function(d, e, f, g, h) {
            a.subVectors(g, e),
                b.subVectors(f, e),
                c.subVectors(d, e),
                d = a.dot(a),
                e = a.dot(b),
                f = a.dot(c);
            var i = b.dot(b);
            g = b.dot(c);
            var j = d * i - e * e;
            return h = h || new THREE.Vector3,
                0 === j ? h.set(-2, -1, -1) : (j = 1 / j,
                    i = (i * f - e * g) * j,
                    d = (d * g - e * f) * j,
                    h.set(1 - i - d, d, i))
        }
    }(),
    THREE.Triangle.containsPoint = function() {
        var a = new THREE.Vector3;
        return function(b, c, d, e) {
            return b = THREE.Triangle.barycoordFromPoint(b, c, d, e, a),
            0 <= b.x && 0 <= b.y && 1 >= b.x + b.y
        }
    }(),
    THREE.Triangle.prototype = {
        constructor: THREE.Triangle,
        set: function(a, b, c) {
            return this.a.copy(a),
                this.b.copy(b),
                this.c.copy(c),
                this
        },
        setFromPointsAndIndices: function(a, b, c, d) {
            return this.a.copy(a[b]),
                this.b.copy(a[c]),
                this.c.copy(a[d]),
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            return this.a.copy(a.a),
                this.b.copy(a.b),
                this.c.copy(a.c),
                this
        },
        area: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3;
            return function() {
                return a.subVectors(this.c, this.b),
                    b.subVectors(this.a, this.b),
                .5 * a.cross(b).length()
            }
        }(),
        midpoint: function(a) {
            return (a || new THREE.Vector3).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
        },
        normal: function(a) {
            return THREE.Triangle.normal(this.a, this.b, this.c, a)
        },
        plane: function(a) {
            return (a || new THREE.Plane).setFromCoplanarPoints(this.a, this.b, this.c)
        },
        barycoordFromPoint: function(a, b) {
            return THREE.Triangle.barycoordFromPoint(a, this.a, this.b, this.c, b)
        },
        containsPoint: function(a) {
            return THREE.Triangle.containsPoint(a, this.a, this.b, this.c)
        },
        closestPointToPoint: function() {
            var a, b, c, d;
            return function(e, f) {
                void 0 === a && (a = new THREE.Plane,
                    b = [new THREE.Line3, new THREE.Line3, new THREE.Line3],
                    c = new THREE.Vector3,
                    d = new THREE.Vector3);
                var g = f || new THREE.Vector3
                    , h = 1 / 0;
                if (a.setFromCoplanarPoints(this.a, this.b, this.c),
                        a.projectPoint(e, c),
                    !0 === this.containsPoint(c))
                    g.copy(c);
                else {
                    b[0].set(this.a, this.b),
                        b[1].set(this.b, this.c),
                        b[2].set(this.c, this.a);
                    for (var i = 0; i < b.length; i++) {
                        b[i].closestPointToPoint(c, !0, d);
                        var j = c.distanceToSquared(d);
                        h > j && (h = j,
                            g.copy(d))
                    }
                }
                return g
            }
        }(),
        equals: function(a) {
            return a.a.equals(this.a) && a.b.equals(this.b) && a.c.equals(this.c)
        }
    },
    THREE.Interpolant = function(a, b, c, d) {
        this.parameterPositions = a,
            this._cachedIndex = 0,
            this.resultBuffer = void 0 !== d ? d : new b.constructor(c),
            this.sampleValues = b,
            this.valueSize = c
    }
    ,
    THREE.Interpolant.prototype = {
        constructor: THREE.Interpolant,
        evaluate: function(a) {
            var b = this.parameterPositions
                , c = this._cachedIndex
                , d = b[c]
                , e = b[c - 1];
            a: {
                b: {
                    c: {
                        d: if (!(d > a)) {
                            for (var f = c + 2; ; ) {
                                if (void 0 === d) {
                                    if (e > a)
                                        break d;
                                    return this._cachedIndex = c = b.length,
                                        this.afterEnd_(c - 1, a, e)
                                }
                                if (c === f)
                                    break;
                                if (e = d,
                                        d = b[++c],
                                    d > a)
                                    break b
                            }
                            d = b.length;
                            break c
                        }
                        if (a >= e)
                            break a;
                        for (f = b[1],
                             f > a && (c = 2,
                                 e = f),
                                 f = c - 2; ; ) {
                            if (void 0 === e)
                                return this._cachedIndex = 0,
                                    this.beforeStart_(0, a, d);
                            if (c === f)
                                break;
                            if (d = e,
                                    e = b[--c - 1],
                                a >= e)
                                break b
                        }
                        d = c,
                            c = 0
                    }
                    for (; d > c; )
                        e = c + d >>> 1,
                            a < b[e] ? d = e : c = e + 1;
                    if (d = b[c],
                            e = b[c - 1],
                        void 0 === e)
                        return this._cachedIndex = 0,
                            this.beforeStart_(0, a, d);
                    if (void 0 === d)
                        return this._cachedIndex = c = b.length,
                            this.afterEnd_(c - 1, e, a)
                }
                this._cachedIndex = c,
                    this.intervalChanged_(c, e, d)
            }
            return this.interpolate_(c, e, a, d)
        },
        settings: null ,
        DefaultSettings_: {},
        getSettings_: function() {
            return this.settings || this.DefaultSettings_
        },
        copySampleValue_: function(a) {
            var b = this.resultBuffer
                , c = this.sampleValues
                , d = this.valueSize;
            a *= d;
            for (var e = 0; e !== d; ++e)
                b[e] = c[a + e];
            return b
        },
        interpolate_: function(a, b, c, d) {
            throw Error("call to abstract method")
        },
        intervalChanged_: function(a, b, c) {}
    },
    Object.assign(THREE.Interpolant.prototype, {
        beforeStart_: THREE.Interpolant.prototype.copySampleValue_,
        afterEnd_: THREE.Interpolant.prototype.copySampleValue_
    }),
    THREE.CubicInterpolant = function(a, b, c, d) {
        THREE.Interpolant.call(this, a, b, c, d),
            this._offsetNext = this._weightNext = this._offsetPrev = this._weightPrev = -0
    }
    ,
    THREE.CubicInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), {
        constructor: THREE.CubicInterpolant,
        DefaultSettings_: {
            endingStart: THREE.ZeroCurvatureEnding,
            endingEnd: THREE.ZeroCurvatureEnding
        },
        intervalChanged_: function(a, b, c) {
            var d = this.parameterPositions
                , e = a - 2
                , f = a + 1
                , g = d[e]
                , h = d[f];
            if (void 0 === g)
                switch (this.getSettings_().endingStart) {
                    case THREE.ZeroSlopeEnding:
                        e = a,
                            g = 2 * b - c;
                        break;
                    case THREE.WrapAroundEnding:
                        e = d.length - 2,
                            g = b + d[e] - d[e + 1];
                        break;
                    default:
                        e = a,
                            g = c
                }
            if (void 0 === h)
                switch (this.getSettings_().endingEnd) {
                    case THREE.ZeroSlopeEnding:
                        f = a,
                            h = 2 * c - b;
                        break;
                    case THREE.WrapAroundEnding:
                        f = 1,
                            h = c + d[1] - d[0];
                        break;
                    default:
                        f = a - 1,
                            h = b
                }
            a = .5 * (c - b),
                d = this.valueSize,
                this._weightPrev = a / (b - g),
                this._weightNext = a / (h - c),
                this._offsetPrev = e * d,
                this._offsetNext = f * d
        },
        interpolate_: function(a, b, c, d) {
            var e = this.resultBuffer
                , f = this.sampleValues
                , g = this.valueSize;
            a *= g;
            var h = a - g
                , i = this._offsetPrev
                , j = this._offsetNext
                , k = this._weightPrev
                , l = this._weightNext
                , m = (c - b) / (d - b);
            for (c = m * m,
                     d = c * m,
                     b = -k * d + 2 * k * c - k * m,
                     k = (1 + k) * d + (-1.5 - 2 * k) * c + (-.5 + k) * m + 1,
                     m = (-1 - l) * d + (1.5 + l) * c + .5 * m,
                     l = l * d - l * c,
                     c = 0; c !== g; ++c)
                e[c] = b * f[i + c] + k * f[h + c] + m * f[a + c] + l * f[j + c];
            return e
        }
    }),
    THREE.DiscreteInterpolant = function(a, b, c, d) {
        THREE.Interpolant.call(this, a, b, c, d)
    }
    ,
    THREE.DiscreteInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), {
        constructor: THREE.DiscreteInterpolant,
        interpolate_: function(a, b, c, d) {
            return this.copySampleValue_(a - 1)
        }
    }),
    THREE.LinearInterpolant = function(a, b, c, d) {
        THREE.Interpolant.call(this, a, b, c, d)
    }
    ,
    THREE.LinearInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), {
        constructor: THREE.LinearInterpolant,
        interpolate_: function(a, b, c, d) {
            var e = this.resultBuffer
                , f = this.sampleValues
                , g = this.valueSize;
            a *= g;
            var h = a - g;
            for (b = (c - b) / (d - b),
                     c = 1 - b,
                     d = 0; d !== g; ++d)
                e[d] = f[h + d] * c + f[a + d] * b;
            return e
        }
    }),
    THREE.QuaternionLinearInterpolant = function(a, b, c, d) {
        THREE.Interpolant.call(this, a, b, c, d)
    }
    ,
    THREE.QuaternionLinearInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), {
        constructor: THREE.QuaternionLinearInterpolant,
        interpolate_: function(a, b, c, d) {
            var e = this.resultBuffer
                , f = this.sampleValues
                , g = this.valueSize;
            for (a *= g,
                     b = (c - b) / (d - b),
                     c = a + g; a !== c; a += 4)
                THREE.Quaternion.slerpFlat(e, 0, f, a - g, f, a, b);
            return e
        }
    }),
    THREE.Clock = function(a) {
        this.autoStart = void 0 === a || a,
            this.elapsedTime = this.oldTime = this.startTime = 0,
            this.running = !1
    }
    ,
    THREE.Clock.prototype = {
        constructor: THREE.Clock,
        start: function() {
            this.oldTime = this.startTime = (performance || Date).now(),
                this.running = !0
        },
        stop: function() {
            this.getElapsedTime(),
                this.running = !1
        },
        getElapsedTime: function() {
            return this.getDelta(),
                this.elapsedTime
        },
        getDelta: function() {
            var a = 0;
            if (this.autoStart && !this.running && this.start(),
                    this.running) {
                var b = (performance || Date).now()
                    , a = (b - this.oldTime) / 1e3;
                this.oldTime = b,
                    this.elapsedTime += a
            }
            return a
        }
    },
    THREE.EventDispatcher = function() {}
    ,
    Object.assign(THREE.EventDispatcher.prototype, {
        addEventListener: function(a, b) {
            void 0 === this._listeners && (this._listeners = {});
            var c = this._listeners;
            void 0 === c[a] && (c[a] = []),
            -1 === c[a].indexOf(b) && c[a].push(b)
        },
        hasEventListener: function(a, b) {
            if (void 0 === this._listeners)
                return !1;
            var c = this._listeners;
            return void 0 !== c[a] && -1 !== c[a].indexOf(b)
        },
        removeEventListener: function(a, b) {
            if (void 0 !== this._listeners) {
                var c = this._listeners[a];
                if (void 0 !== c) {
                    var d = c.indexOf(b);
                    -1 !== d && c.splice(d, 1)
                }
            }
        },
        dispatchEvent: function(a) {
            if (void 0 !== this._listeners) {
                var b = this._listeners[a.type];
                if (void 0 !== b) {
                    a.target = this;
                    for (var c = [], d = 0, e = b.length, d = 0; e > d; d++)
                        c[d] = b[d];
                    for (d = 0; e > d; d++)
                        c[d].call(this, a)
                }
            }
        }
    }),
    THREE.Layers = function() {
        this.mask = 1
    }
    ,
    THREE.Layers.prototype = {
        constructor: THREE.Layers,
        set: function(a) {
            this.mask = 1 << a
        },
        enable: function(a) {
            this.mask |= 1 << a
        },
        toggle: function(a) {
            this.mask ^= 1 << a
        },
        disable: function(a) {
            this.mask &= ~(1 << a)
        },
        test: function(a) {
            return 0 !== (this.mask & a.mask)
        }
    },
    function(a) {
        function b(a, b) {
            return a.distance - b.distance
        }
        function c(a, b, d, e) {
            if (!1 !== a.visible && (a.raycast(b, d),
                !0 === e)) {
                a = a.children,
                    e = 0;
                for (var f = a.length; f > e; e++)
                    c(a[e], b, d, !0)
            }
        }
        a.Raycaster = function(b, c, d, e) {
            this.ray = new a.Ray(b,c),
                this.near = d || 0,
                this.far = e || 1 / 0,
                this.params = {
                    Mesh: {},
                    Line: {},
                    LOD: {},
                    Points: {
                        threshold: 1
                    },
                    Sprite: {}
                },
                Object.defineProperties(this.params, {
                    PointCloud: {
                        get: function() {
                            return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),
                                this.Points
                        }
                    }
                })
        }
            ,
            a.Raycaster.prototype = {
                constructor: a.Raycaster,
                linePrecision: 1,
                set: function(a, b) {
                    this.ray.set(a, b)
                },
                setFromCamera: function(b, c) {
                    c instanceof a.PerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(c.matrixWorld),
                        this.ray.direction.set(b.x, b.y, .5).unproject(c).sub(this.ray.origin).normalize()) : c instanceof a.OrthographicCamera ? (this.ray.origin.set(b.x, b.y, -1).unproject(c),
                        this.ray.direction.set(0, 0, -1).transformDirection(c.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
                },
                intersectObject: function(a, d) {
                    var e = [];
                    return c(a, this, e, d),
                        e.sort(b),
                        e
                },
                intersectObjects: function(a, d) {
                    var e = [];
                    if (!1 === Array.isArray(a))
                        return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
                            e;
                    for (var f = 0, g = a.length; g > f; f++)
                        c(a[f], this, e, d);
                    return e.sort(b),
                        e
                }
            }
    }(THREE),
    THREE.Object3D = function() {
        Object.defineProperty(this, "id", {
            value: THREE.Object3DIdCount++
        }),
            this.uuid = THREE.Math.generateUUID(),
            this.name = "",
            this.type = "Object3D",
            this.parent = null ,
            this.children = [],
            this.up = THREE.Object3D.DefaultUp.clone();
        var a = new THREE.Vector3
            , b = new THREE.Euler
            , c = new THREE.Quaternion
            , d = new THREE.Vector3(1,1,1);
        b.onChange(function() {
            c.setFromEuler(b, !1)
        }),
            c.onChange(function() {
                b.setFromQuaternion(c, void 0, !1)
            }),
            Object.defineProperties(this, {
                position: {
                    enumerable: !0,
                    value: a
                },
                rotation: {
                    enumerable: !0,
                    value: b
                },
                quaternion: {
                    enumerable: !0,
                    value: c
                },
                scale: {
                    enumerable: !0,
                    value: d
                },
                modelViewMatrix: {
                    value: new THREE.Matrix4
                },
                normalMatrix: {
                    value: new THREE.Matrix3
                }
            }),
            this.matrix = new THREE.Matrix4,
            this.matrixWorld = new THREE.Matrix4,
            this.matrixAutoUpdate = THREE.Object3D.DefaultMatrixAutoUpdate,
            this.matrixWorldNeedsUpdate = !1,
            this.layers = new THREE.Layers,
            this.visible = !0,
            this.receiveShadow = this.castShadow = !1,
            this.frustumCulled = !0,
            this.renderOrder = 0,
            this.userData = {}
    }
    ,
    THREE.Object3D.DefaultUp = new THREE.Vector3(0,1,0),
    THREE.Object3D.DefaultMatrixAutoUpdate = !0,
    Object.assign(THREE.Object3D.prototype, THREE.EventDispatcher.prototype, {
        applyMatrix: function(a) {
            this.matrix.multiplyMatrices(a, this.matrix),
                this.matrix.decompose(this.position, this.quaternion, this.scale)
        },
        setRotationFromAxisAngle: function(a, b) {
            this.quaternion.setFromAxisAngle(a, b)
        },
        setRotationFromEuler: function(a) {
            this.quaternion.setFromEuler(a, !0)
        },
        setRotationFromMatrix: function(a) {
            this.quaternion.setFromRotationMatrix(a)
        },
        setRotationFromQuaternion: function(a) {
            this.quaternion.copy(a)
        },
        rotateOnAxis: function() {
            var a = new THREE.Quaternion;
            return function(b, c) {
                return a.setFromAxisAngle(b, c),
                    this.quaternion.multiply(a),
                    this
            }
        }(),
        rotateX: function() {
            var a = new THREE.Vector3(1,0,0);
            return function(b) {
                return this.rotateOnAxis(a, b)
            }
        }(),
        rotateY: function() {
            var a = new THREE.Vector3(0,1,0);
            return function(b) {
                return this.rotateOnAxis(a, b)
            }
        }(),
        rotateZ: function() {
            var a = new THREE.Vector3(0,0,1);
            return function(b) {
                return this.rotateOnAxis(a, b)
            }
        }(),
        translateOnAxis: function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                return a.copy(b).applyQuaternion(this.quaternion),
                    this.position.add(a.multiplyScalar(c)),
                    this
            }
        }(),
        translateX: function() {
            var a = new THREE.Vector3(1,0,0);
            return function(b) {
                return this.translateOnAxis(a, b)
            }
        }(),
        translateY: function() {
            var a = new THREE.Vector3(0,1,0);
            return function(b) {
                return this.translateOnAxis(a, b)
            }
        }(),
        translateZ: function() {
            var a = new THREE.Vector3(0,0,1);
            return function(b) {
                return this.translateOnAxis(a, b)
            }
        }(),
        localToWorld: function(a) {
            return a.applyMatrix4(this.matrixWorld)
        },
        worldToLocal: function() {
            var a = new THREE.Matrix4;
            return function(b) {
                return b.applyMatrix4(a.getInverse(this.matrixWorld))
            }
        }(),
        lookAt: function() {
            var a = new THREE.Matrix4;
            return function(b) {
                a.lookAt(b, this.position, this.up),
                    this.quaternion.setFromRotationMatrix(a)
            }
        }(),
        add: function(a) {
            if (1 < arguments.length) {
                for (var b = 0; b < arguments.length; b++)
                    this.add(arguments[b]);
                return this
            }
            return a === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", a),
                this) : (a instanceof THREE.Object3D ? (null  !== a.parent && a.parent.remove(a),
                a.parent = this,
                a.dispatchEvent({
                    type: "added"
                }),
                this.children.push(a)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", a),
                this)
        },
        remove: function(a) {
            if (1 < arguments.length)
                for (var b = 0; b < arguments.length; b++)
                    this.remove(arguments[b]);
            b = this.children.indexOf(a),
            -1 !== b && (a.parent = null ,
                a.dispatchEvent({
                    type: "removed"
                }),
                this.children.splice(b, 1))
        },
        getObjectById: function(a) {
            return this.getObjectByProperty("id", a)
        },
        getObjectByName: function(a) {
            return this.getObjectByProperty("name", a)
        },
        getObjectByProperty: function(a, b) {
            if (this[a] === b)
                return this;
            for (var c = 0, d = this.children.length; d > c; c++) {
                var e = this.children[c].getObjectByProperty(a, b);
                if (void 0 !== e)
                    return e
            }
        },
        getWorldPosition: function(a) {
            return a = a || new THREE.Vector3,
                this.updateMatrixWorld(!0),
                a.setFromMatrixPosition(this.matrixWorld)
        },
        getWorldQuaternion: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3;
            return function(c) {
                return c = c || new THREE.Quaternion,
                    this.updateMatrixWorld(!0),
                    this.matrixWorld.decompose(a, c, b),
                    c
            }
        }(),
        getWorldRotation: function() {
            var a = new THREE.Quaternion;
            return function(b) {
                return b = b || new THREE.Euler,
                    this.getWorldQuaternion(a),
                    b.setFromQuaternion(a, this.rotation.order, !1)
            }
        }(),
        getWorldScale: function() {
            var a = new THREE.Vector3
                , b = new THREE.Quaternion;
            return function(c) {
                return c = c || new THREE.Vector3,
                    this.updateMatrixWorld(!0),
                    this.matrixWorld.decompose(a, b, c),
                    c
            }
        }(),
        getWorldDirection: function() {
            var a = new THREE.Quaternion;
            return function(b) {
                return b = b || new THREE.Vector3,
                    this.getWorldQuaternion(a),
                    b.set(0, 0, 1).applyQuaternion(a)
            }
        }(),
        raycast: function() {},
        traverse: function(a) {
            a(this);
            for (var b = this.children, c = 0, d = b.length; d > c; c++)
                b[c].traverse(a)
        },
        traverseVisible: function(a) {
            if (!1 !== this.visible) {
                a(this);
                for (var b = this.children, c = 0, d = b.length; d > c; c++)
                    b[c].traverseVisible(a)
            }
        },
        traverseAncestors: function(a) {
            var b = this.parent;
            null  !== b && (a(b),
                b.traverseAncestors(a))
        },
        updateMatrix: function() {
            this.matrix.compose(this.position, this.quaternion, this.scale),
                this.matrixWorldNeedsUpdate = !0
        },
        updateMatrixWorld: function(a) {
            !0 === this.matrixAutoUpdate && this.updateMatrix(),
            (!0 === this.matrixWorldNeedsUpdate || !0 === a) && (null  === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix),
                this.matrixWorldNeedsUpdate = !1,
                a = !0);
            for (var b = 0, c = this.children.length; c > b; b++)
                this.children[b].updateMatrixWorld(a)
        },
        toJSON: function(a) {
            function b(a) {
                var b, c = [];
                for (b in a) {
                    var d = a[b];
                    delete d.metadata,
                        c.push(d)
                }
                return c
            }
            var c = void 0 === a || "" === a
                , d = {};
            c && (a = {
                geometries: {},
                materials: {},
                textures: {},
                images: {}
            },
                d.metadata = {
                    version: 4.4,
                    type: "Object",
                    generator: "Object3D.toJSON"
                });
            var e = {};
            if (e.uuid = this.uuid,
                    e.type = this.type,
                "" !== this.name && (e.name = this.name),
                "{}" !== JSON.stringify(this.userData) && (e.userData = this.userData),
                !0 === this.castShadow && (e.castShadow = !0),
                !0 === this.receiveShadow && (e.receiveShadow = !0),
                !1 === this.visible && (e.visible = !1),
                    e.matrix = this.matrix.toArray(),
                void 0 !== this.geometry && (void 0 === a.geometries[this.geometry.uuid] && (a.geometries[this.geometry.uuid] = this.geometry.toJSON(a)),
                    e.geometry = this.geometry.uuid),
                void 0 !== this.material && (void 0 === a.materials[this.material.uuid] && (a.materials[this.material.uuid] = this.material.toJSON(a)),
                    e.material = this.material.uuid),
                0 < this.children.length) {
                e.children = [];
                for (var f = 0; f < this.children.length; f++)
                    e.children.push(this.children[f].toJSON(a).object)
            }
            if (c) {
                var c = b(a.geometries)
                    , f = b(a.materials)
                    , g = b(a.textures);
                a = b(a.images),
                0 < c.length && (d.geometries = c),
                0 < f.length && (d.materials = f),
                0 < g.length && (d.textures = g),
                0 < a.length && (d.images = a)
            }
            return d.object = e,
                d
        },
        clone: function(a) {
            return (new this.constructor).copy(this, a)
        },
        copy: function(a, b) {
            if (void 0 === b && (b = !0),
                    this.name = a.name,
                    this.up.copy(a.up),
                    this.position.copy(a.position),
                    this.quaternion.copy(a.quaternion),
                    this.scale.copy(a.scale),
                    this.matrix.copy(a.matrix),
                    this.matrixWorld.copy(a.matrixWorld),
                    this.matrixAutoUpdate = a.matrixAutoUpdate,
                    this.matrixWorldNeedsUpdate = a.matrixWorldNeedsUpdate,
                    this.visible = a.visible,
                    this.castShadow = a.castShadow,
                    this.receiveShadow = a.receiveShadow,
                    this.frustumCulled = a.frustumCulled,
                    this.renderOrder = a.renderOrder,
                    this.userData = JSON.parse(JSON.stringify(a.userData)),
                !0 === b)
                for (var c = 0; c < a.children.length; c++)
                    this.add(a.children[c].clone());
            return this
        }
    }),
    THREE.Object3DIdCount = 0,
    THREE.Face3 = function(a, b, c, d, e, f) {
        this.a = a,
            this.b = b,
            this.c = c,
            this.normal = d instanceof THREE.Vector3 ? d : new THREE.Vector3,
            this.vertexNormals = Array.isArray(d) ? d : [],
            this.color = e instanceof THREE.Color ? e : new THREE.Color,
            this.vertexColors = Array.isArray(e) ? e : [],
            this.materialIndex = void 0 !== f ? f : 0
    }
    ,
    THREE.Face3.prototype = {
        constructor: THREE.Face3,
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.a = a.a,
                this.b = a.b,
                this.c = a.c,
                this.normal.copy(a.normal),
                this.color.copy(a.color),
                this.materialIndex = a.materialIndex;
            for (var b = 0, c = a.vertexNormals.length; c > b; b++)
                this.vertexNormals[b] = a.vertexNormals[b].clone();
            for (b = 0,
                     c = a.vertexColors.length; c > b; b++)
                this.vertexColors[b] = a.vertexColors[b].clone();
            return this
        }
    },
    THREE.BufferAttribute = function(a, b, c) {
        this.uuid = THREE.Math.generateUUID(),
            this.array = a,
            this.itemSize = b,
            this.dynamic = !1,
            this.updateRange = {
                offset: 0,
                count: -1
            },
            this.version = 0,
            this.normalized = !0 === c
    }
    ,
    THREE.BufferAttribute.prototype = {
        constructor: THREE.BufferAttribute,
        get count() {
            return this.array.length / this.itemSize
        },
        set needsUpdate(a) {
            !0 === a && this.version++
        },
        setDynamic: function(a) {
            return this.dynamic = a,
                this
        },
        copy: function(a) {
            return this.array = new a.array.constructor(a.array),
                this.itemSize = a.itemSize,
                this.dynamic = a.dynamic,
                this
        },
        copyAt: function(a, b, c) {
            a *= this.itemSize,
                c *= b.itemSize;
            for (var d = 0, e = this.itemSize; e > d; d++)
                this.array[a + d] = b.array[c + d];
            return this
        },
        copyArray: function(a) {
            return this.array.set(a),
                this
        },
        copyColorsArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; e > d; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", d),
                    f = new THREE.Color),
                    b[c++] = f.r,
                    b[c++] = f.g,
                    b[c++] = f.b
            }
            return this
        },
        copyIndicesArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; e > d; d++) {
                var f = a[d];
                b[c++] = f.a,
                    b[c++] = f.b,
                    b[c++] = f.c
            }
            return this
        },
        copyVector2sArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; e > d; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", d),
                    f = new THREE.Vector2),
                    b[c++] = f.x,
                    b[c++] = f.y
            }
            return this
        },
        copyVector3sArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; e > d; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", d),
                    f = new THREE.Vector3),
                    b[c++] = f.x,
                    b[c++] = f.y,
                    b[c++] = f.z
            }
            return this
        },
        copyVector4sArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; e > d; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", d),
                    f = new THREE.Vector4),
                    b[c++] = f.x,
                    b[c++] = f.y,
                    b[c++] = f.z,
                    b[c++] = f.w
            }
            return this
        },
        set: function(a, b) {
            return void 0 === b && (b = 0),
                this.array.set(a, b),
                this
        },
        getX: function(a) {
            return this.array[a * this.itemSize]
        },
        setX: function(a, b) {
            return this.array[a * this.itemSize] = b,
                this
        },
        getY: function(a) {
            return this.array[a * this.itemSize + 1]
        },
        setY: function(a, b) {
            return this.array[a * this.itemSize + 1] = b,
                this
        },
        getZ: function(a) {
            return this.array[a * this.itemSize + 2]
        },
        setZ: function(a, b) {
            return this.array[a * this.itemSize + 2] = b,
                this
        },
        getW: function(a) {
            return this.array[a * this.itemSize + 3]
        },
        setW: function(a, b) {
            return this.array[a * this.itemSize + 3] = b,
                this
        },
        setXY: function(a, b, c) {
            return a *= this.itemSize,
                this.array[a + 0] = b,
                this.array[a + 1] = c,
                this
        },
        setXYZ: function(a, b, c, d) {
            return a *= this.itemSize,
                this.array[a + 0] = b,
                this.array[a + 1] = c,
                this.array[a + 2] = d,
                this
        },
        setXYZW: function(a, b, c, d, e) {
            return a *= this.itemSize,
                this.array[a + 0] = b,
                this.array[a + 1] = c,
                this.array[a + 2] = d,
                this.array[a + 3] = e,
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    },
    THREE.Int8Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Int8Array(a),b)
    }
    ,
    THREE.Uint8Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Uint8Array(a),b)
    }
    ,
    THREE.Uint8ClampedAttribute = function(a, b) {
        return new THREE.BufferAttribute(new Uint8ClampedArray(a),b)
    }
    ,
    THREE.Int16Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Int16Array(a),b)
    }
    ,
    THREE.Uint16Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Uint16Array(a),b)
    }
    ,
    THREE.Int32Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Int32Array(a),b)
    }
    ,
    THREE.Uint32Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Uint32Array(a),b)
    }
    ,
    THREE.Float32Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Float32Array(a),b)
    }
    ,
    THREE.Float64Attribute = function(a, b) {
        return new THREE.BufferAttribute(new Float64Array(a),b)
    }
    ,
    THREE.DynamicBufferAttribute = function(a, b) {
        return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),
            new THREE.BufferAttribute(a,b).setDynamic(!0)
    }
    ,
    THREE.InstancedBufferAttribute = function(a, b, c) {
        THREE.BufferAttribute.call(this, a, b),
            this.meshPerAttribute = c || 1
    }
    ,
    THREE.InstancedBufferAttribute.prototype = Object.create(THREE.BufferAttribute.prototype),
    THREE.InstancedBufferAttribute.prototype.constructor = THREE.InstancedBufferAttribute,
    THREE.InstancedBufferAttribute.prototype.copy = function(a) {
        return THREE.BufferAttribute.prototype.copy.call(this, a),
            this.meshPerAttribute = a.meshPerAttribute,
            this
    }
    ,
    THREE.InterleavedBuffer = function(a, b) {
        this.uuid = THREE.Math.generateUUID(),
            this.array = a,
            this.stride = b,
            this.dynamic = !1,
            this.updateRange = {
                offset: 0,
                count: -1
            },
            this.version = 0
    }
    ,
    THREE.InterleavedBuffer.prototype = {
        constructor: THREE.InterleavedBuffer,
        get length() {
            return this.array.length
        },
        get count() {
            return this.array.length / this.stride
        },
        set needsUpdate(a) {
            !0 === a && this.version++
        },
        setDynamic: function(a) {
            return this.dynamic = a,
                this
        },
        copy: function(a) {
            return this.array = new a.array.constructor(a.array),
                this.stride = a.stride,
                this.dynamic = a.dynamic,
                this
        },
        copyAt: function(a, b, c) {
            a *= this.stride,
                c *= b.stride;
            for (var d = 0, e = this.stride; e > d; d++)
                this.array[a + d] = b.array[c + d];
            return this
        },
        set: function(a, b) {
            return void 0 === b && (b = 0),
                this.array.set(a, b),
                this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    },
    THREE.InstancedInterleavedBuffer = function(a, b, c) {
        THREE.InterleavedBuffer.call(this, a, b),
            this.meshPerAttribute = c || 1
    }
    ,
    THREE.InstancedInterleavedBuffer.prototype = Object.create(THREE.InterleavedBuffer.prototype),
    THREE.InstancedInterleavedBuffer.prototype.constructor = THREE.InstancedInterleavedBuffer,
    THREE.InstancedInterleavedBuffer.prototype.copy = function(a) {
        return THREE.InterleavedBuffer.prototype.copy.call(this, a),
            this.meshPerAttribute = a.meshPerAttribute,
            this
    }
    ,
    THREE.InterleavedBufferAttribute = function(a, b, c) {
        this.uuid = THREE.Math.generateUUID(),
            this.data = a,
            this.itemSize = b,
            this.offset = c
    }
    ,
    THREE.InterleavedBufferAttribute.prototype = {
        constructor: THREE.InterleavedBufferAttribute,
        get length() {
            return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),
                this.array.length
        },
        get count() {
            return this.data.count
        },
        setX: function(a, b) {
            return this.data.array[a * this.data.stride + this.offset] = b,
                this
        },
        setY: function(a, b) {
            return this.data.array[a * this.data.stride + this.offset + 1] = b,
                this
        },
        setZ: function(a, b) {
            return this.data.array[a * this.data.stride + this.offset + 2] = b,
                this
        },
        setW: function(a, b) {
            return this.data.array[a * this.data.stride + this.offset + 3] = b,
                this
        },
        getX: function(a) {
            return this.data.array[a * this.data.stride + this.offset]
        },
        getY: function(a) {
            return this.data.array[a * this.data.stride + this.offset + 1]
        },
        getZ: function(a) {
            return this.data.array[a * this.data.stride + this.offset + 2]
        },
        getW: function(a) {
            return this.data.array[a * this.data.stride + this.offset + 3]
        },
        setXY: function(a, b, c) {
            return a = a * this.data.stride + this.offset,
                this.data.array[a + 0] = b,
                this.data.array[a + 1] = c,
                this
        },
        setXYZ: function(a, b, c, d) {
            return a = a * this.data.stride + this.offset,
                this.data.array[a + 0] = b,
                this.data.array[a + 1] = c,
                this.data.array[a + 2] = d,
                this
        },
        setXYZW: function(a, b, c, d, e) {
            return a = a * this.data.stride + this.offset,
                this.data.array[a + 0] = b,
                this.data.array[a + 1] = c,
                this.data.array[a + 2] = d,
                this.data.array[a + 3] = e,
                this
        }
    },
    THREE.Geometry = function() {
        Object.defineProperty(this, "id", {
            value: THREE.GeometryIdCount++
        }),
            this.uuid = THREE.Math.generateUUID(),
            this.name = "",
            this.type = "Geometry",
            this.vertices = [],
            this.colors = [],
            this.faces = [],
            this.faceVertexUvs = [[]],
            this.morphTargets = [],
            this.morphNormals = [],
            this.skinWeights = [],
            this.skinIndices = [],
            this.lineDistances = [],
            this.boundingSphere = this.boundingBox = null ,
            this.groupsNeedUpdate = this.lineDistancesNeedUpdate = this.colorsNeedUpdate = this.normalsNeedUpdate = this.uvsNeedUpdate = this.elementsNeedUpdate = this.verticesNeedUpdate = !1
    }
    ,
    Object.assign(THREE.Geometry.prototype, THREE.EventDispatcher.prototype, {
        applyMatrix: function(a) {
            for (var b = (new THREE.Matrix3).getNormalMatrix(a), c = 0, d = this.vertices.length; d > c; c++)
                this.vertices[c].applyMatrix4(a);
            for (c = 0,
                     d = this.faces.length; d > c; c++) {
                a = this.faces[c],
                    a.normal.applyMatrix3(b).normalize();
                for (var e = 0, f = a.vertexNormals.length; f > e; e++)
                    a.vertexNormals[e].applyMatrix3(b).normalize()
            }
            return null  !== this.boundingBox && this.computeBoundingBox(),
            null  !== this.boundingSphere && this.computeBoundingSphere(),
                this.normalsNeedUpdate = this.verticesNeedUpdate = !0,
                this
        },
        rotateX: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.makeRotationX(b),
                    this.applyMatrix(a),
                    this
            }
        }(),
        rotateY: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.makeRotationY(b),
                    this.applyMatrix(a),
                    this
            }
        }(),
        rotateZ: function() {
            var a;
            return function(b) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.makeRotationZ(b),
                    this.applyMatrix(a),
                    this
            }
        }(),
        translate: function() {
            var a;
            return function(b, c, d) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.makeTranslation(b, c, d),
                    this.applyMatrix(a),
                    this
            }
        }(),
        scale: function() {
            var a;
            return function(b, c, d) {
                return void 0 === a && (a = new THREE.Matrix4),
                    a.makeScale(b, c, d),
                    this.applyMatrix(a),
                    this
            }
        }(),
        lookAt: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new THREE.Object3D),
                    a.lookAt(b),
                    a.updateMatrix(),
                    this.applyMatrix(a.matrix)
            }
        }(),
        fromBufferGeometry: function(a) {
            function b(a, b, d, e) {
                var f = void 0 !== g ? [k[a].clone(), k[b].clone(), k[d].clone()] : []
                    , n = void 0 !== h ? [c.colors[a].clone(), c.colors[b].clone(), c.colors[d].clone()] : [];
                e = new THREE.Face3(a,b,d,f,n,e),
                    c.faces.push(e),
                void 0 !== i && c.faceVertexUvs[0].push([l[a].clone(), l[b].clone(), l[d].clone()]),
                void 0 !== j && c.faceVertexUvs[1].push([m[a].clone(), m[b].clone(), m[d].clone()])
            }
            var c = this
                , d = null  !== a.index ? a.index.array : void 0
                , e = a.attributes
                , f = e.position.array
                , g = void 0 !== e.normal ? e.normal.array : void 0
                , h = void 0 !== e.color ? e.color.array : void 0
                , i = void 0 !== e.uv ? e.uv.array : void 0
                , j = void 0 !== e.uv2 ? e.uv2.array : void 0;
            void 0 !== j && (this.faceVertexUvs[1] = []);
            for (var k = [], l = [], m = [], n = e = 0; e < f.length; e += 3,
                n += 2)
                c.vertices.push(new THREE.Vector3(f[e],f[e + 1],f[e + 2])),
                void 0 !== g && k.push(new THREE.Vector3(g[e],g[e + 1],g[e + 2])),
                void 0 !== h && c.colors.push(new THREE.Color(h[e],h[e + 1],h[e + 2])),
                void 0 !== i && l.push(new THREE.Vector2(i[n],i[n + 1])),
                void 0 !== j && m.push(new THREE.Vector2(j[n],j[n + 1]));
            if (void 0 !== d)
                if (f = a.groups,
                    0 < f.length)
                    for (e = 0; e < f.length; e++)
                        for (var o = f[e], p = o.start, q = o.count, n = p, p = p + q; p > n; n += 3)
                            b(d[n], d[n + 1], d[n + 2], o.materialIndex);
                else
                    for (e = 0; e < d.length; e += 3)
                        b(d[e], d[e + 1], d[e + 2]);
            else
                for (e = 0; e < f.length / 3; e += 3)
                    b(e, e + 1, e + 2);
            return this.computeFaceNormals(),
            null  !== a.boundingBox && (this.boundingBox = a.boundingBox.clone()),
            null  !== a.boundingSphere && (this.boundingSphere = a.boundingSphere.clone()),
                this
        },
        center: function() {
            this.computeBoundingBox();
            var a = this.boundingBox.center().negate();
            return this.translate(a.x, a.y, a.z),
                a
        },
        normalize: function() {
            this.computeBoundingSphere();
            var a = this.boundingSphere.center
                , b = this.boundingSphere.radius
                , b = 0 === b ? 1 : 1 / b
                , c = new THREE.Matrix4;
            return c.set(b, 0, 0, -b * a.x, 0, b, 0, -b * a.y, 0, 0, b, -b * a.z, 0, 0, 0, 1),
                this.applyMatrix(c),
                this
        },
        computeFaceNormals: function() {
            for (var a = new THREE.Vector3, b = new THREE.Vector3, c = 0, d = this.faces.length; d > c; c++) {
                var e = this.faces[c]
                    , f = this.vertices[e.a]
                    , g = this.vertices[e.b];
                a.subVectors(this.vertices[e.c], g),
                    b.subVectors(f, g),
                    a.cross(b),
                    a.normalize(),
                    e.normal.copy(a)
            }
        },
        computeVertexNormals: function(a) {
            void 0 === a && (a = !0);
            var b, c, d;
            for (d = Array(this.vertices.length),
                     b = 0,
                     c = this.vertices.length; c > b; b++)
                d[b] = new THREE.Vector3;
            if (a) {
                var e, f, g, h = new THREE.Vector3, i = new THREE.Vector3;
                for (a = 0,
                         b = this.faces.length; b > a; a++)
                    c = this.faces[a],
                        e = this.vertices[c.a],
                        f = this.vertices[c.b],
                        g = this.vertices[c.c],
                        h.subVectors(g, f),
                        i.subVectors(e, f),
                        h.cross(i),
                        d[c.a].add(h),
                        d[c.b].add(h),
                        d[c.c].add(h)
            } else
                for (a = 0,
                         b = this.faces.length; b > a; a++)
                    c = this.faces[a],
                        d[c.a].add(c.normal),
                        d[c.b].add(c.normal),
                        d[c.c].add(c.normal);
            for (b = 0,
                     c = this.vertices.length; c > b; b++)
                d[b].normalize();
            for (a = 0,
                     b = this.faces.length; b > a; a++)
                c = this.faces[a],
                    e = c.vertexNormals,
                    3 === e.length ? (e[0].copy(d[c.a]),
                        e[1].copy(d[c.b]),
                        e[2].copy(d[c.c])) : (e[0] = d[c.a].clone(),
                        e[1] = d[c.b].clone(),
                        e[2] = d[c.c].clone());
            0 < this.faces.length && (this.normalsNeedUpdate = !0)
        },
        computeMorphNormals: function() {
            var a, b, c, d, e;
            for (c = 0,
                     d = this.faces.length; d > c; c++)
                for (e = this.faces[c],
                         e.__originalFaceNormal ? e.__originalFaceNormal.copy(e.normal) : e.__originalFaceNormal = e.normal.clone(),
                     e.__originalVertexNormals || (e.__originalVertexNormals = []),
                         a = 0,
                         b = e.vertexNormals.length; b > a; a++)
                    e.__originalVertexNormals[a] ? e.__originalVertexNormals[a].copy(e.vertexNormals[a]) : e.__originalVertexNormals[a] = e.vertexNormals[a].clone();
            var f = new THREE.Geometry;
            for (f.faces = this.faces,
                     a = 0,
                     b = this.morphTargets.length; b > a; a++) {
                if (!this.morphNormals[a]) {
                    this.morphNormals[a] = {},
                        this.morphNormals[a].faceNormals = [],
                        this.morphNormals[a].vertexNormals = [],
                        e = this.morphNormals[a].faceNormals;
                    var g, h, i = this.morphNormals[a].vertexNormals;
                    for (c = 0,
                             d = this.faces.length; d > c; c++)
                        g = new THREE.Vector3,
                            h = {
                                a: new THREE.Vector3,
                                b: new THREE.Vector3,
                                c: new THREE.Vector3
                            },
                            e.push(g),
                            i.push(h)
                }
                for (i = this.morphNormals[a],
                         f.vertices = this.morphTargets[a].vertices,
                         f.computeFaceNormals(),
                         f.computeVertexNormals(),
                         c = 0,
                         d = this.faces.length; d > c; c++)
                    e = this.faces[c],
                        g = i.faceNormals[c],
                        h = i.vertexNormals[c],
                        g.copy(e.normal),
                        h.a.copy(e.vertexNormals[0]),
                        h.b.copy(e.vertexNormals[1]),
                        h.c.copy(e.vertexNormals[2])
            }
            for (c = 0,
                     d = this.faces.length; d > c; c++)
                e = this.faces[c],
                    e.normal = e.__originalFaceNormal,
                    e.vertexNormals = e.__originalVertexNormals
        },
        computeTangents: function() {
            console.warn("THREE.Geometry: .computeTangents() has been removed.")
        },
        computeLineDistances: function() {
            for (var a = 0, b = this.vertices, c = 0, d = b.length; d > c; c++)
                c > 0 && (a += b[c].distanceTo(b[c - 1])),
                    this.lineDistances[c] = a
        },
        computeBoundingBox: function() {
            null  === this.boundingBox && (this.boundingBox = new THREE.Box3),
                this.boundingBox.setFromPoints(this.vertices)
        },
        computeBoundingSphere: function() {
            null  === this.boundingSphere && (this.boundingSphere = new THREE.Sphere),
                this.boundingSphere.setFromPoints(this.vertices)
        },
        merge: function(a, b, c) {
            if (0 == a instanceof THREE.Geometry)
                console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", a);
            else {
                var d, e = this.vertices.length, f = this.vertices, g = a.vertices, h = this.faces, i = a.faces, j = this.faceVertexUvs[0];
                a = a.faceVertexUvs[0],
                void 0 === c && (c = 0),
                void 0 !== b && (d = (new THREE.Matrix3).getNormalMatrix(b));
                for (var k = 0, l = g.length; l > k; k++) {
                    var m = g[k].clone();
                    void 0 !== b && m.applyMatrix4(b),
                        f.push(m)
                }
                for (k = 0,
                         l = i.length; l > k; k++) {
                    var n, g = i[k], o = g.vertexNormals, p = g.vertexColors, m = new THREE.Face3(g.a + e,g.b + e,g.c + e);
                    for (m.normal.copy(g.normal),
                         void 0 !== d && m.normal.applyMatrix3(d).normalize(),
                             b = 0,
                             f = o.length; f > b; b++)
                        n = o[b].clone(),
                        void 0 !== d && n.applyMatrix3(d).normalize(),
                            m.vertexNormals.push(n);
                    for (m.color.copy(g.color),
                             b = 0,
                             f = p.length; f > b; b++)
                        n = p[b],
                            m.vertexColors.push(n.clone());
                    m.materialIndex = g.materialIndex + c,
                        h.push(m)
                }
                for (k = 0,
                         l = a.length; l > k; k++)
                    if (c = a[k],
                            d = [],
                        void 0 !== c) {
                        for (b = 0,
                                 f = c.length; f > b; b++)
                            d.push(c[b].clone());
                        j.push(d)
                    }
            }
        },
        mergeMesh: function(a) {
            0 == a instanceof THREE.Mesh ? console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", a) : (a.matrixAutoUpdate && a.updateMatrix(),
                this.merge(a.geometry, a.matrix))
        },
        mergeVertices: function() {
            var a, b, c, d = {}, e = [], f = [], g = Math.pow(10, 4);
            for (b = 0,
                     c = this.vertices.length; c > b; b++)
                a = this.vertices[b],
                    a = Math.round(a.x * g) + "_" + Math.round(a.y * g) + "_" + Math.round(a.z * g),
                    void 0 === d[a] ? (d[a] = b,
                        e.push(this.vertices[b]),
                        f[b] = e.length - 1) : f[b] = f[d[a]];
            for (d = [],
                     b = 0,
                     c = this.faces.length; c > b; b++)
                for (g = this.faces[b],
                         g.a = f[g.a],
                         g.b = f[g.b],
                         g.c = f[g.c],
                         g = [g.a, g.b, g.c],
                         a = 0; 3 > a; a++)
                    if (g[a] === g[(a + 1) % 3]) {
                        d.push(b);
                        break
                    }
            for (b = d.length - 1; b >= 0; b--)
                for (g = d[b],
                         this.faces.splice(g, 1),
                         f = 0,
                         c = this.faceVertexUvs.length; c > f; f++)
                    this.faceVertexUvs[f].splice(g, 1);
            return b = this.vertices.length - e.length,
                this.vertices = e,
                b
        },
        sortFacesByMaterialIndex: function() {
            for (var a = this.faces, b = a.length, c = 0; b > c; c++)
                a[c]._id = c;
            a.sort(function(a, b) {
                return a.materialIndex - b.materialIndex
            });
            var d, e, f = this.faceVertexUvs[0], g = this.faceVertexUvs[1];
            for (f && f.length === b && (d = []),
                 g && g.length === b && (e = []),
                     c = 0; b > c; c++) {
                var h = a[c]._id;
                d && d.push(f[h]),
                e && e.push(g[h])
            }
            d && (this.faceVertexUvs[0] = d),
            e && (this.faceVertexUvs[1] = e)
        },
        toJSON: function() {
            function a(a, b, c) {
                return c ? a | 1 << b : a & ~(1 << b)
            }
            function b(a) {
                var b = a.x.toString() + a.y.toString() + a.z.toString();
                return void 0 !== j[b] ? j[b] : (j[b] = i.length / 3,
                    i.push(a.x, a.y, a.z),
                    j[b])
            }
            function c(a) {
                var b = a.r.toString() + a.g.toString() + a.b.toString();
                return void 0 !== l[b] ? l[b] : (l[b] = k.length,
                    k.push(a.getHex()),
                    l[b])
            }
            function d(a) {
                var b = a.x.toString() + a.y.toString();
                return void 0 !== n[b] ? n[b] : (n[b] = m.length / 2,
                    m.push(a.x, a.y),
                    n[b])
            }
            var e = {
                metadata: {
                    version: 4.4,
                    type: "Geometry",
                    generator: "Geometry.toJSON"
                }
            };
            if (e.uuid = this.uuid,
                    e.type = this.type,
                "" !== this.name && (e.name = this.name),
                void 0 !== this.parameters) {
                var f, g = this.parameters;
                for (f in g)
                    void 0 !== g[f] && (e[f] = g[f]);
                return e
            }
            for (g = [],
                     f = 0; f < this.vertices.length; f++) {
                var h = this.vertices[f];
                g.push(h.x, h.y, h.z)
            }
            var h = []
                , i = []
                , j = {}
                , k = []
                , l = {}
                , m = []
                , n = {};
            for (f = 0; f < this.faces.length; f++) {
                var o = this.faces[f]
                    , p = void 0 !== this.faceVertexUvs[0][f]
                    , q = 0 < o.normal.length()
                    , r = 0 < o.vertexNormals.length
                    , s = 1 !== o.color.r || 1 !== o.color.g || 1 !== o.color.b
                    , t = 0 < o.vertexColors.length
                    , u = 0
                    , u = a(u, 0, 0)
                    , u = a(u, 1, !0)
                    , u = a(u, 2, !1)
                    , u = a(u, 3, p)
                    , u = a(u, 4, q)
                    , u = a(u, 5, r)
                    , u = a(u, 6, s)
                    , u = a(u, 7, t);
                h.push(u),
                    h.push(o.a, o.b, o.c),
                    h.push(o.materialIndex),
                p && (p = this.faceVertexUvs[0][f],
                    h.push(d(p[0]), d(p[1]), d(p[2]))),
                q && h.push(b(o.normal)),
                r && (q = o.vertexNormals,
                    h.push(b(q[0]), b(q[1]), b(q[2]))),
                s && h.push(c(o.color)),
                t && (o = o.vertexColors,
                    h.push(c(o[0]), c(o[1]), c(o[2])))
            }
            return e.data = {},
                e.data.vertices = g,
                e.data.normals = i,
            0 < k.length && (e.data.colors = k),
            0 < m.length && (e.data.uvs = [m]),
                e.data.faces = h,
                e
        },
        clone: function() {
            return (new THREE.Geometry).copy(this)
        },
        copy: function(a) {
            this.vertices = [],
                this.faces = [],
                this.faceVertexUvs = [[]];
            for (var b = a.vertices, c = 0, d = b.length; d > c; c++)
                this.vertices.push(b[c].clone());
            for (b = a.faces,
                     c = 0,
                     d = b.length; d > c; c++)
                this.faces.push(b[c].clone());
            for (c = 0,
                     d = a.faceVertexUvs.length; d > c; c++) {
                b = a.faceVertexUvs[c],
                void 0 === this.faceVertexUvs[c] && (this.faceVertexUvs[c] = []);
                for (var e = 0, f = b.length; f > e; e++) {
                    for (var g = b[e], h = [], i = 0, j = g.length; j > i; i++)
                        h.push(g[i].clone());
                    this.faceVertexUvs[c].push(h)
                }
            }
            return this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    THREE.GeometryIdCount = 0,
THREE.DirectGeometry = function() {
    Object.defineProperty(this, "id", {
        value: THREE.GeometryIdCount++
    }),
        this.uuid = THREE.Math.generateUUID(),
        this.name = "",
        this.type = "DirectGeometry",
        this.indices = [],
        this.vertices = [],
        this.normals = [],
        this.colors = [],
        this.uvs = [],
        this.uvs2 = [],
        this.groups = [],
        this.morphTargets = {},
        this.skinWeights = [],
        this.skinIndices = [],
        this.boundingSphere = this.boundingBox = null ,
        this.groupsNeedUpdate = this.uvsNeedUpdate = this.colorsNeedUpdate = this.normalsNeedUpdate = this.verticesNeedUpdate = !1
}
,
Object.assign(THREE.DirectGeometry.prototype, THREE.EventDispatcher.prototype, {
    computeBoundingBox: THREE.Geometry.prototype.computeBoundingBox,
    computeBoundingSphere: THREE.Geometry.prototype.computeBoundingSphere,
    computeFaceNormals: function() {
        console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")
    },
    computeVertexNormals: function() {
        console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")
    },
    computeGroups: function(a) {
        var b, c, d = [];
        a = a.faces;
        for (var e = 0; e < a.length; e++) {
            var f = a[e];
            f.materialIndex !== c && (c = f.materialIndex,
            void 0 !== b && (b.count = 3 * e - b.start,
                d.push(b)),
                b = {
                    start: 3 * e,
                    materialIndex: c
                })
        }
        void 0 !== b && (b.count = 3 * e - b.start,
            d.push(b)),
            this.groups = d
    },
    fromGeometry: function(a) {
        var b, c = a.faces, d = a.vertices, e = a.faceVertexUvs, f = e[0] && 0 < e[0].length, g = e[1] && 0 < e[1].length, h = a.morphTargets, i = h.length;
        if (i > 0) {
            b = [];
            for (var j = 0; i > j; j++)
                b[j] = [];
            this.morphTargets.position = b
        }
        var k, l = a.morphNormals, m = l.length;
        if (m > 0) {
            for (k = [],
                     j = 0; m > j; j++)
                k[j] = [];
            this.morphTargets.normal = k
        }
        for (var n = a.skinIndices, o = a.skinWeights, p = n.length === d.length, q = o.length === d.length, j = 0; j < c.length; j++) {
            var r = c[j];
            this.vertices.push(d[r.a], d[r.b], d[r.c]);
            var s = r.vertexNormals;
            for (3 === s.length ? this.normals.push(s[0], s[1], s[2]) : (s = r.normal,
                this.normals.push(s, s, s)),
                     s = r.vertexColors,
                     3 === s.length ? this.colors.push(s[0], s[1], s[2]) : (s = r.color,
                         this.colors.push(s, s, s)),
                 !0 === f && (s = e[0][j],
                     void 0 !== s ? this.uvs.push(s[0], s[1], s[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", j),
                         this.uvs.push(new THREE.Vector2, new THREE.Vector2, new THREE.Vector2))),
                 !0 === g && (s = e[1][j],
                     void 0 !== s ? this.uvs2.push(s[0], s[1], s[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", j),
                         this.uvs2.push(new THREE.Vector2, new THREE.Vector2, new THREE.Vector2))),
                     s = 0; i > s; s++) {
                var t = h[s].vertices;
                b[s].push(t[r.a], t[r.b], t[r.c])
            }
            for (s = 0; m > s; s++)
                t = l[s].vertexNormals[j],
                    k[s].push(t.a, t.b, t.c);
            p && this.skinIndices.push(n[r.a], n[r.b], n[r.c]),
            q && this.skinWeights.push(o[r.a], o[r.b], o[r.c])
        }
        return this.computeGroups(a),
            this.verticesNeedUpdate = a.verticesNeedUpdate,
            this.normalsNeedUpdate = a.normalsNeedUpdate,
            this.colorsNeedUpdate = a.colorsNeedUpdate,
            this.uvsNeedUpdate = a.uvsNeedUpdate,
            this.groupsNeedUpdate = a.groupsNeedUpdate,
            this
    },
    dispose: function() {
        this.dispatchEvent({
            type: "dispose"
        })
    }
}),
THREE.BufferGeometry = function() {
    Object.defineProperty(this, "id", {
        value: THREE.GeometryIdCount++
    }),
        this.uuid = THREE.Math.generateUUID(),
        this.name = "",
        this.type = "BufferGeometry",
        this.index = null ,
        this.attributes = {},
        this.morphAttributes = {},
        this.groups = [],
        this.boundingSphere = this.boundingBox = null ,
        this.drawRange = {
            start: 0,
            count: 1 / 0
        }
}
,
Object.assign(THREE.BufferGeometry.prototype, THREE.EventDispatcher.prototype, {
    getIndex: function() {
        return this.index
    },
    setIndex: function(a) {
        this.index = a
    },
    addAttribute: function(a, b, c) {
        if (0 == b instanceof THREE.BufferAttribute && 0 == b instanceof THREE.InterleavedBufferAttribute)
            console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),
                this.addAttribute(a, new THREE.BufferAttribute(b,c));
        else {
            if ("index" !== a)
                return this.attributes[a] = b,
                    this;
            console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
                this.setIndex(b)
        }
    },
    getAttribute: function(a) {
        return this.attributes[a]
    },
    removeAttribute: function(a) {
        return delete this.attributes[a],
            this
    },
    addGroup: function(a, b, c) {
        this.groups.push({
            start: a,
            count: b,
            materialIndex: void 0 !== c ? c : 0
        })
    },
    clearGroups: function() {
        this.groups = []
    },
    setDrawRange: function(a, b) {
        this.drawRange.start = a,
            this.drawRange.count = b
    },
    applyMatrix: function(a) {
        var b = this.attributes.position;
        return void 0 !== b && (a.applyToVector3Array(b.array),
            b.needsUpdate = !0),
            b = this.attributes.normal,
        void 0 !== b && ((new THREE.Matrix3).getNormalMatrix(a).applyToVector3Array(b.array),
            b.needsUpdate = !0),
        null  !== this.boundingBox && this.computeBoundingBox(),
        null  !== this.boundingSphere && this.computeBoundingSphere(),
            this
    },
    rotateX: function() {
        var a;
        return function(b) {
            return void 0 === a && (a = new THREE.Matrix4),
                a.makeRotationX(b),
                this.applyMatrix(a),
                this
        }
    }(),
    rotateY: function() {
        var a;
        return function(b) {
            return void 0 === a && (a = new THREE.Matrix4),
                a.makeRotationY(b),
                this.applyMatrix(a),
                this
        }
    }(),
    rotateZ: function() {
        var a;
        return function(b) {
            return void 0 === a && (a = new THREE.Matrix4),
                a.makeRotationZ(b),
                this.applyMatrix(a),
                this
        }
    }(),
    translate: function() {
        var a;
        return function(b, c, d) {
            return void 0 === a && (a = new THREE.Matrix4),
                a.makeTranslation(b, c, d),
                this.applyMatrix(a),
                this
        }
    }(),
    scale: function() {
        var a;
        return function(b, c, d) {
            return void 0 === a && (a = new THREE.Matrix4),
                a.makeScale(b, c, d),
                this.applyMatrix(a),
                this
        }
    }(),
    lookAt: function() {
        var a;
        return function(b) {
            void 0 === a && (a = new THREE.Object3D),
                a.lookAt(b),
                a.updateMatrix(),
                this.applyMatrix(a.matrix)
        }
    }(),
    center: function() {
        this.computeBoundingBox();
        var a = this.boundingBox.center().negate();
        return this.translate(a.x, a.y, a.z),
            a
    },
    setFromObject: function(a) {
        var b = a.geometry;
        if (a instanceof THREE.Points || a instanceof THREE.Line) {
            a = new THREE.Float32Attribute(3 * b.vertices.length,3);
            var c = new THREE.Float32Attribute(3 * b.colors.length,3);
            this.addAttribute("position", a.copyVector3sArray(b.vertices)),
                this.addAttribute("color", c.copyColorsArray(b.colors)),
            b.lineDistances && b.lineDistances.length === b.vertices.length && (a = new THREE.Float32Attribute(b.lineDistances.length,1),
                this.addAttribute("lineDistance", a.copyArray(b.lineDistances))),
            null  !== b.boundingSphere && (this.boundingSphere = b.boundingSphere.clone()),
            null  !== b.boundingBox && (this.boundingBox = b.boundingBox.clone())
        } else
            a instanceof THREE.Mesh && b instanceof THREE.Geometry && this.fromGeometry(b);
        return this
    },
    updateFromObject: function(a) {
        var b = a.geometry;
        if (a instanceof THREE.Mesh) {
            var c = b.__directGeometry;
            if (void 0 === c)
                return this.fromGeometry(b);
            c.verticesNeedUpdate = b.verticesNeedUpdate,
                c.normalsNeedUpdate = b.normalsNeedUpdate,
                c.colorsNeedUpdate = b.colorsNeedUpdate,
                c.uvsNeedUpdate = b.uvsNeedUpdate,
                c.groupsNeedUpdate = b.groupsNeedUpdate,
                b.verticesNeedUpdate = !1,
                b.normalsNeedUpdate = !1,
                b.colorsNeedUpdate = !1,
                b.uvsNeedUpdate = !1,
                b.groupsNeedUpdate = !1,
                b = c
        }
        return !0 === b.verticesNeedUpdate && (c = this.attributes.position,
        void 0 !== c && (c.copyVector3sArray(b.vertices),
            c.needsUpdate = !0),
            b.verticesNeedUpdate = !1),
        !0 === b.normalsNeedUpdate && (c = this.attributes.normal,
        void 0 !== c && (c.copyVector3sArray(b.normals),
            c.needsUpdate = !0),
            b.normalsNeedUpdate = !1),
        !0 === b.colorsNeedUpdate && (c = this.attributes.color,
        void 0 !== c && (c.copyColorsArray(b.colors),
            c.needsUpdate = !0),
            b.colorsNeedUpdate = !1),
        b.uvsNeedUpdate && (c = this.attributes.uv,
        void 0 !== c && (c.copyVector2sArray(b.uvs),
            c.needsUpdate = !0),
            b.uvsNeedUpdate = !1),
        b.lineDistancesNeedUpdate && (c = this.attributes.lineDistance,
        void 0 !== c && (c.copyArray(b.lineDistances),
            c.needsUpdate = !0),
            b.lineDistancesNeedUpdate = !1),
        b.groupsNeedUpdate && (b.computeGroups(a.geometry),
            this.groups = b.groups,
            b.groupsNeedUpdate = !1),
            this
    },
    fromGeometry: function(a) {
        return a.__directGeometry = (new THREE.DirectGeometry).fromGeometry(a),
            this.fromDirectGeometry(a.__directGeometry)
    },
    fromDirectGeometry: function(a) {
        var b = new Float32Array(3 * a.vertices.length);
        this.addAttribute("position", new THREE.BufferAttribute(b,3).copyVector3sArray(a.vertices)),
        0 < a.normals.length && (b = new Float32Array(3 * a.normals.length),
            this.addAttribute("normal", new THREE.BufferAttribute(b,3).copyVector3sArray(a.normals))),
        0 < a.colors.length && (b = new Float32Array(3 * a.colors.length),
            this.addAttribute("color", new THREE.BufferAttribute(b,3).copyColorsArray(a.colors))),
        0 < a.uvs.length && (b = new Float32Array(2 * a.uvs.length),
            this.addAttribute("uv", new THREE.BufferAttribute(b,2).copyVector2sArray(a.uvs))),
        0 < a.uvs2.length && (b = new Float32Array(2 * a.uvs2.length),
            this.addAttribute("uv2", new THREE.BufferAttribute(b,2).copyVector2sArray(a.uvs2))),
        0 < a.indices.length && (b = new (65535 < a.vertices.length ? Uint32Array : Uint16Array)(3 * a.indices.length),
            this.setIndex(new THREE.BufferAttribute(b,1).copyIndicesArray(a.indices))),
            this.groups = a.groups;
        for (var c in a.morphTargets) {
            for (var b = [], d = a.morphTargets[c], e = 0, f = d.length; f > e; e++) {
                var g = d[e]
                    , h = new THREE.Float32Attribute(3 * g.length,3);
                b.push(h.copyVector3sArray(g))
            }
            this.morphAttributes[c] = b
        }
        return 0 < a.skinIndices.length && (c = new THREE.Float32Attribute(4 * a.skinIndices.length,4),
            this.addAttribute("skinIndex", c.copyVector4sArray(a.skinIndices))),
        0 < a.skinWeights.length && (c = new THREE.Float32Attribute(4 * a.skinWeights.length,4),
            this.addAttribute("skinWeight", c.copyVector4sArray(a.skinWeights))),
        null  !== a.boundingSphere && (this.boundingSphere = a.boundingSphere.clone()),
        null  !== a.boundingBox && (this.boundingBox = a.boundingBox.clone()),
            this
    },
    computeBoundingBox: function() {
        null  === this.boundingBox && (this.boundingBox = new THREE.Box3);
        var a = this.attributes.position.array;
        void 0 !== a ? this.boundingBox.setFromArray(a) : this.boundingBox.makeEmpty(),
        (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
    },
    computeBoundingSphere: function() {
        var a = new THREE.Box3
            , b = new THREE.Vector3;
        return function() {
            null  === this.boundingSphere && (this.boundingSphere = new THREE.Sphere);
            var c = this.attributes.position.array;
            if (c) {
                var d = this.boundingSphere.center;
                a.setFromArray(c),
                    a.center(d);
                for (var e = 0, f = 0, g = c.length; g > f; f += 3)
                    b.fromArray(c, f),
                        e = Math.max(e, d.distanceToSquared(b));
                this.boundingSphere.radius = Math.sqrt(e),
                isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
            }
        }
    }(),
    computeFaceNormals: function() {},
    computeVertexNormals: function() {
        var a = this.index
            , b = this.attributes
            , c = this.groups;
        if (b.position) {
            var d = b.position.array;
            if (void 0 === b.normal)
                this.addAttribute("normal", new THREE.BufferAttribute(new Float32Array(d.length),3));
            else
                for (var e = b.normal.array, f = 0, g = e.length; g > f; f++)
                    e[f] = 0;
            var h, i, j, e = b.normal.array, k = new THREE.Vector3, l = new THREE.Vector3, m = new THREE.Vector3, n = new THREE.Vector3, o = new THREE.Vector3;
            if (a) {
                a = a.array,
                0 === c.length && this.addGroup(0, a.length);
                for (var p = 0, q = c.length; q > p; ++p)
                    for (f = c[p],
                             g = f.start,
                             h = f.count,
                             f = g,
                             g += h; g > f; f += 3)
                        h = 3 * a[f + 0],
                            i = 3 * a[f + 1],
                            j = 3 * a[f + 2],
                            k.fromArray(d, h),
                            l.fromArray(d, i),
                            m.fromArray(d, j),
                            n.subVectors(m, l),
                            o.subVectors(k, l),
                            n.cross(o),
                            e[h] += n.x,
                            e[h + 1] += n.y,
                            e[h + 2] += n.z,
                            e[i] += n.x,
                            e[i + 1] += n.y,
                            e[i + 2] += n.z,
                            e[j] += n.x,
                            e[j + 1] += n.y,
                            e[j + 2] += n.z
            } else
                for (f = 0,
                         g = d.length; g > f; f += 9)
                    k.fromArray(d, f),
                        l.fromArray(d, f + 3),
                        m.fromArray(d, f + 6),
                        n.subVectors(m, l),
                        o.subVectors(k, l),
                        n.cross(o),
                        e[f] = n.x,
                        e[f + 1] = n.y,
                        e[f + 2] = n.z,
                        e[f + 3] = n.x,
                        e[f + 4] = n.y,
                        e[f + 5] = n.z,
                        e[f + 6] = n.x,
                        e[f + 7] = n.y,
                        e[f + 8] = n.z;
            this.normalizeNormals(),
                b.normal.needsUpdate = !0
        }
    },
    merge: function(a, b) {
        if (0 != a instanceof THREE.BufferGeometry) {
            void 0 === b && (b = 0);
            var c, d = this.attributes;
            for (c in d)
                if (void 0 !== a.attributes[c])
                    for (var e = d[c].array, f = a.attributes[c], g = f.array, h = 0, f = f.itemSize * b; h < g.length; h++,
                        f++)
                        e[f] = g[h];
            return this
        }
        console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", a)
    },
    normalizeNormals: function() {
        for (var a, b, c, d = this.attributes.normal.array, e = 0, f = d.length; f > e; e += 3)
            a = d[e],
                b = d[e + 1],
                c = d[e + 2],
                a = 1 / Math.sqrt(a * a + b * b + c * c),
                d[e] *= a,
                d[e + 1] *= a,
                d[e + 2] *= a
    },
    toNonIndexed: function() {
        if (null  === this.index)
            return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
                this;
        var a, b = new THREE.BufferGeometry, c = this.index.array, d = this.attributes;
        for (a in d) {
            for (var e = d[a], f = e.array, e = e.itemSize, g = new f.constructor(c.length * e), h = 0, i = 0, j = 0, k = c.length; k > j; j++)
                for (var h = c[j] * e, l = 0; e > l; l++)
                    g[i++] = f[h++];
            b.addAttribute(a, new THREE.BufferAttribute(g,e))
        }
        return b
    },
    toJSON: function() {
        var a = {
            metadata: {
                version: 4.4,
                type: "BufferGeometry",
                generator: "BufferGeometry.toJSON"
            }
        };
        if (a.uuid = this.uuid,
                a.type = this.type,
            "" !== this.name && (a.name = this.name),
            void 0 !== this.parameters) {
            var b, c = this.parameters;
            for (b in c)
                void 0 !== c[b] && (a[b] = c[b]);
            return a
        }
        a.data = {
            attributes: {}
        };
        var d = this.index;
        null  !== d && (c = Array.prototype.slice.call(d.array),
            a.data.index = {
                type: d.array.constructor.name,
                array: c
            }),
            d = this.attributes;
        for (b in d) {
            var e = d[b]
                , c = Array.prototype.slice.call(e.array);
            a.data.attributes[b] = {
                itemSize: e.itemSize,
                type: e.array.constructor.name,
                array: c,
                normalized: e.normalized
            }
        }
        return b = this.groups,
        0 < b.length && (a.data.groups = JSON.parse(JSON.stringify(b))),
            b = this.boundingSphere,
        null  !== b && (a.data.boundingSphere = {
            center: b.center.toArray(),
            radius: b.radius
        }),
            a
    },
    clone: function() {
        return (new THREE.BufferGeometry).copy(this)
    },
    copy: function(a) {
        var b = a.index;
        null  !== b && this.setIndex(b.clone());
        var c, b = a.attributes;
        for (c in b)
            this.addAttribute(c, b[c].clone());
        for (a = a.groups,
                 c = 0,
                 b = a.length; b > c; c++) {
            var d = a[c];
            this.addGroup(d.start, d.count, d.materialIndex)
        }
        return this
    },
    dispose: function() {
        this.dispatchEvent({
            type: "dispose"
        })
    }
}),
THREE.BufferGeometry.MaxIndex = 65535,
THREE.InstancedBufferGeometry = function() {
    THREE.BufferGeometry.call(this),
        this.type = "InstancedBufferGeometry",
        this.maxInstancedCount = void 0
}
,
THREE.InstancedBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.InstancedBufferGeometry.prototype.constructor = THREE.InstancedBufferGeometry,
THREE.InstancedBufferGeometry.prototype.addGroup = function(a, b, c) {
    this.groups.push({
        start: a,
        count: b,
        instances: c
    })
}
,
THREE.InstancedBufferGeometry.prototype.copy = function(a) {
    var b = a.index;
    null  !== b && this.setIndex(b.clone());
    var c, b = a.attributes;
    for (c in b)
        this.addAttribute(c, b[c].clone());
    for (a = a.groups,
             c = 0,
             b = a.length; b > c; c++) {
        var d = a[c];
        this.addGroup(d.start, d.count, d.instances)
    }
    return this
}
,
THREE.Uniform = function(a, b) {
    "string" == typeof a && (console.warn("THREE.Uniform: Type parameter is no longer needed."),
        a = b),
        this.value = a,
        this.dynamic = !1
}
,
THREE.Uniform.prototype = {
    constructor: THREE.Uniform,
    onUpdate: function(a) {
        return this.dynamic = !0,
            this.onUpdateCallback = a,
            this
    }
},
THREE.AnimationAction = function() {
    throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.")
}
,
THREE.AnimationAction._new = function(a, b, c) {
    this._mixer = a,
        this._clip = b,
        this._localRoot = c || null ,
        a = b.tracks,
        b = a.length,
        c = Array(b);
    for (var d = {
        endingStart: THREE.ZeroCurvatureEnding,
        endingEnd: THREE.ZeroCurvatureEnding
    }, e = 0; e !== b; ++e) {
        var f = a[e].createInterpolant(null );
        c[e] = f,
            f.settings = d
    }
    this._interpolantSettings = d,
        this._interpolants = c,
        this._propertyBindings = Array(b),
        this._weightInterpolant = this._timeScaleInterpolant = this._byClipCacheIndex = this._cacheIndex = null ,
        this.loop = THREE.LoopRepeat,
        this._loopCount = -1,
        this._startTime = null ,
        this.time = 0,
        this._effectiveWeight = this.weight = this._effectiveTimeScale = this.timeScale = 1,
        this.repetitions = 1 / 0,
        this.paused = !1,
        this.enabled = !0,
        this.clampWhenFinished = !1,
        this.zeroSlopeAtEnd = this.zeroSlopeAtStart = !0
}
,
THREE.AnimationAction._new.prototype = {
    constructor: THREE.AnimationAction._new,
    play: function() {
        return this._mixer._activateAction(this),
            this
    },
    stop: function() {
        return this._mixer._deactivateAction(this),
            this.reset()
    },
    reset: function() {
        return this.paused = !1,
            this.enabled = !0,
            this.time = 0,
            this._loopCount = -1,
            this._startTime = null ,
            this.stopFading().stopWarping()
    },
    isRunning: function() {
        return this.enabled && !this.paused && 0 !== this.timeScale && null  === this._startTime && this._mixer._isActiveAction(this)
    },
    isScheduled: function() {
        return this._mixer._isActiveAction(this)
    },
    startAt: function(a) {
        return this._startTime = a,
            this
    },
    setLoop: function(a, b) {
        return this.loop = a,
            this.repetitions = b,
            this
    },
    setEffectiveWeight: function(a) {
        return this.weight = a,
            this._effectiveWeight = this.enabled ? a : 0,
            this.stopFading()
    },
    getEffectiveWeight: function() {
        return this._effectiveWeight
    },
    fadeIn: function(a) {
        return this._scheduleFading(a, 0, 1)
    },
    fadeOut: function(a) {
        return this._scheduleFading(a, 1, 0)
    },
    crossFadeFrom: function(a, b, c) {
        if (a.fadeOut(b),
                this.fadeIn(b),
                c) {
            c = this._clip.duration;
            var d = a._clip.duration
                , e = c / d;
            a.warp(1, d / c, b),
                this.warp(e, 1, b)
        }
        return this
    },
    crossFadeTo: function(a, b, c) {
        return a.crossFadeFrom(this, b, c)
    },
    stopFading: function() {
        var a = this._weightInterpolant;
        return null  !== a && (this._weightInterpolant = null ,
            this._mixer._takeBackControlInterpolant(a)),
            this
    },
    setEffectiveTimeScale: function(a) {
        return this.timeScale = a,
            this._effectiveTimeScale = this.paused ? 0 : a,
            this.stopWarping()
    },
    getEffectiveTimeScale: function() {
        return this._effectiveTimeScale
    },
    setDuration: function(a) {
        return this.timeScale = this._clip.duration / a,
            this.stopWarping()
    },
    syncWith: function(a) {
        return this.time = a.time,
            this.timeScale = a.timeScale,
            this.stopWarping()
    },
    halt: function(a) {
        return this.warp(this._effectiveTimeScale, 0, a)
    },
    warp: function(a, b, c) {
        var d = this._mixer
            , e = d.time
            , f = this._timeScaleInterpolant
            , g = this.timeScale;
        return null  === f && (this._timeScaleInterpolant = f = d._lendControlInterpolant()),
            d = f.parameterPositions,
            f = f.sampleValues,
            d[0] = e,
            d[1] = e + c,
            f[0] = a / g,
            f[1] = b / g,
            this
    },
    stopWarping: function() {
        var a = this._timeScaleInterpolant;
        return null  !== a && (this._timeScaleInterpolant = null ,
            this._mixer._takeBackControlInterpolant(a)),
            this
    },
    getMixer: function() {
        return this._mixer
    },
    getClip: function() {
        return this._clip
    },
    getRoot: function() {
        return this._localRoot || this._mixer._root
    },
    _update: function(a, b, c, d) {
        var e = this._startTime;
        if (null  !== e) {
            if (b = (a - e) * c,
                0 > b || 0 === c)
                return;
            this._startTime = null ,
                b *= c
        }
        if (b *= this._updateTimeScale(a),
                c = this._updateTime(b),
                a = this._updateWeight(a),
            a > 0) {
            b = this._interpolants;
            for (var e = this._propertyBindings, f = 0, g = b.length; f !== g; ++f)
                b[f].evaluate(c),
                    e[f].accumulate(d, a)
        }
    },
    _updateWeight: function(a) {
        var b = 0;
        if (this.enabled) {
            var b = this.weight
                , c = this._weightInterpolant;
            if (null  !== c) {
                var d = c.evaluate(a)[0]
                    , b = b * d;
                a > c.parameterPositions[1] && (this.stopFading(),
                0 === d && (this.enabled = !1))
            }
        }
        return this._effectiveWeight = b
    },
    _updateTimeScale: function(a) {
        var b = 0;
        if (!this.paused) {
            var b = this.timeScale
                , c = this._timeScaleInterpolant;
            if (null  !== c) {
                var d = c.evaluate(a)[0]
                    , b = b * d;
                a > c.parameterPositions[1] && (this.stopWarping(),
                    0 === b ? this.paused = !0 : this.timeScale = b)
            }
        }
        return this._effectiveTimeScale = b
    },
    _updateTime: function(a) {
        var b = this.time + a;
        if (0 === a)
            return b;
        var c = this._clip.duration
            , d = this.loop
            , e = this._loopCount;
        if (d === THREE.LoopOnce)
            a: {
                if (-1 === e && (this.loopCount = 0,
                        this._setEndings(!0, !0, !1)),
                    b >= c)
                    b = c;
                else {
                    if (!(0 > b))
                        break a;
                    b = 0
                }
                this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                    this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: 0 > a ? -1 : 1
                    })
            }
        else {
            if (d = d === THREE.LoopPingPong,
                -1 === e && (a >= 0 ? (e = 0,
                    this._setEndings(!0, 0 === this.repetitions, d)) : this._setEndings(0 === this.repetitions, !0, d)),
                b >= c || 0 > b) {
                var f = Math.floor(b / c)
                    , b = b - c * f
                    , e = e + Math.abs(f)
                    , g = this.repetitions - e;
                0 > g ? (this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                    b = a > 0 ? c : 0,
                    this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: a > 0 ? 1 : -1
                    })) : (0 === g ? (a = 0 > a,
                    this._setEndings(a, !a, d)) : this._setEndings(!1, !1, d),
                    this._loopCount = e,
                    this._mixer.dispatchEvent({
                        type: "loop",
                        action: this,
                        loopDelta: f
                    }))
            }
            if (d && 1 === (1 & e))
                return this.time = b,
                c - b
        }
        return this.time = b
    },
    _setEndings: function(a, b, c) {
        var d = this._interpolantSettings;
        c ? (d.endingStart = THREE.ZeroSlopeEnding,
            d.endingEnd = THREE.ZeroSlopeEnding) : (d.endingStart = a ? this.zeroSlopeAtStart ? THREE.ZeroSlopeEnding : THREE.ZeroCurvatureEnding : THREE.WrapAroundEnding,
            d.endingEnd = b ? this.zeroSlopeAtEnd ? THREE.ZeroSlopeEnding : THREE.ZeroCurvatureEnding : THREE.WrapAroundEnding)
    },
    _scheduleFading: function(a, b, c) {
        var d = this._mixer
            , e = d.time
            , f = this._weightInterpolant;
        return null  === f && (this._weightInterpolant = f = d._lendControlInterpolant()),
            d = f.parameterPositions,
            f = f.sampleValues,
            d[0] = e,
            f[0] = b,
            d[1] = e + a,
            f[1] = c,
            this
    }
},
THREE.AnimationClip = function(a, b, c) {
    this.name = a,
        this.tracks = c,
        this.duration = void 0 !== b ? b : -1,
        this.uuid = THREE.Math.generateUUID(),
    0 > this.duration && this.resetDuration(),
        this.trim(),
        this.optimize()
}
,
THREE.AnimationClip.prototype = {
    constructor: THREE.AnimationClip,
    resetDuration: function() {
        for (var a = 0, b = 0, c = this.tracks.length; b !== c; ++b)
             var d = this.tracks[b]
                 , a = Math.max(a, d.times[d.times.length - 1]);
        this.duration = a
    },
    trim: function() {
        for (var a = 0; a < this.tracks.length; a++)
            this.tracks[a].trim(0, this.duration);
        return this
    },
    optimize: function() {
        for (var a = 0; a < this.tracks.length; a++)
            this.tracks[a].optimize();
        return this
    }
},
Object.assign(THREE.AnimationClip, {
    parse: function(a) {
        for (var b = [], c = a.tracks, d = 1 / (a.fps || 1), e = 0, f = c.length; e !== f; ++e)
            b.push(THREE.KeyframeTrack.parse(c[e]).scale(d));
        return new THREE.AnimationClip(a.name,a.duration,b)
    },
    toJSON: function(a) {
        var b = []
            , c = a.tracks;
        a = {
            name: a.name,
            duration: a.duration,
            tracks: b
        };
        for (var d = 0, e = c.length; d !== e; ++d)
            b.push(THREE.KeyframeTrack.toJSON(c[d]));
        return a
    },
    CreateFromMorphTargetSequence: function(a, b, c, d) {
        for (var e = b.length, f = [], g = 0; e > g; g++) {
            var h = []
                , i = [];
            h.push((g + e - 1) % e, g, (g + 1) % e),
                i.push(0, 1, 0);
            var j = THREE.AnimationUtils.getKeyframeOrder(h)
                , h = THREE.AnimationUtils.sortedArray(h, 1, j)
                , i = THREE.AnimationUtils.sortedArray(i, 1, j);
            d || 0 !== h[0] || (h.push(e),
                i.push(i[0])),
                f.push(new THREE.NumberKeyframeTrack(".morphTargetInfluences[" + b[g].name + "]",h,i).scale(1 / c))
        }
        return new THREE.AnimationClip(a,-1,f)
    },
    findByName: function(a, b) {
        var c = a;
        Array.isArray(a) || (c = a.geometry && a.geometry.animations || a.animations);
        for (var d = 0; d < c.length; d++)
            if (c[d].name === b)
                return c[d];
        return null
    },
    CreateClipsFromMorphTargetSequences: function(a, b, c) {
        for (var d = {}, e = /^([\w-]*?)([\d]+)$/, f = 0, g = a.length; g > f; f++) {
            var h = a[f]
                , i = h.name.match(e);
            if (i && 1 < i.length) {
                var j = i[1];
                (i = d[j]) || (d[j] = i = []),
                    i.push(h)
            }
        }
        a = [];
        for (j in d)
            a.push(THREE.AnimationClip.CreateFromMorphTargetSequence(j, d[j], b, c));
        return a
    },
    parseAnimation: function(a, b, c) {
        if (!a)
            return console.error("  no animation in JSONLoader data"),
                null ;
        c = function(a, b, c, d, e) {
            if (0 !== c.length) {
                var f = []
                    , g = [];
                THREE.AnimationUtils.flattenJSON(c, f, g, d),
                0 !== f.length && e.push(new a(b,f,g))
            }
        }
        ;
        var d = []
            , e = a.name || "default"
            , f = a.length || -1
            , g = a.fps || 30;
        a = a.hierarchy || [];
        for (var h = 0; h < a.length; h++) {
            var i = a[h].keys;
            if (i && 0 !== i.length)
                if (i[0].morphTargets) {
                    for (var f = {}, j = 0; j < i.length; j++)
                        if (i[j].morphTargets)
                            for (var k = 0; k < i[j].morphTargets.length; k++)
                                f[i[j].morphTargets[k]] = -1;
                    for (var l in f) {
                        for (var m = [], n = [], k = 0; k !== i[j].morphTargets.length; ++k) {
                            var o = i[j];
                            m.push(o.time),
                                n.push(o.morphTarget === l ? 1 : 0)
                        }
                        d.push(new THREE.NumberKeyframeTrack(".morphTargetInfluence[" + l + "]",m,n))
                    }
                    f = f.length * (g || 1)
                } else
                    j = ".bones[" + b[h].name + "]",
                        c(THREE.VectorKeyframeTrack, j + ".position", i, "pos", d),
                        c(THREE.QuaternionKeyframeTrack, j + ".quaternion", i, "rot", d),
                        c(THREE.VectorKeyframeTrack, j + ".scale", i, "scl", d)
        }
        return 0 === d.length ? null  : new THREE.AnimationClip(e,f,d)
    }
}),
THREE.AnimationMixer = function(a) {
    this._root = a,
        this._initMemoryManager(),
        this.time = this._accuIndex = 0,
        this.timeScale = 1
}
,
Object.assign(THREE.AnimationMixer.prototype, THREE.EventDispatcher.prototype, {
    clipAction: function(a, b) {
        var c = b || this._root
            , d = c.uuid
            , e = "string" == typeof a ? THREE.AnimationClip.findByName(c, a) : a
            , c = null  !== e ? e.uuid : a
            , f = this._actionsByClip[c]
            , g = null ;
        if (void 0 !== f) {
            if (g = f.actionByRoot[d],
                void 0 !== g)
                return g;
            g = f.knownActions[0],
            null  === e && (e = g._clip)
        }
        return null  === e ? null  : (e = new THREE.AnimationMixer._Action(this,e,b),
            this._bindAction(e, g),
            this._addInactiveAction(e, c, d),
            e)
    },
    existingAction: function(a, b) {
        var c = b || this._root
            , d = c.uuid
            , c = "string" == typeof a ? THREE.AnimationClip.findByName(c, a) : a
            , c = this._actionsByClip[c ? c.uuid : a];
        return void 0 !== c ? c.actionByRoot[d] || null  : null
    },
    stopAllAction: function() {
        for (var a = this._actions, b = this._nActiveActions, c = this._bindings, d = this._nActiveBindings, e = this._nActiveBindings = this._nActiveActions = 0; e !== b; ++e)
            a[e].reset();
        for (e = 0; e !== d; ++e)
            c[e].useCount = 0;
        return this
    },
    update: function(a) {
        a *= this.timeScale;
        for (var b = this._actions, c = this._nActiveActions, d = this.time += a, e = Math.sign(a), f = this._accuIndex ^= 1, g = 0; g !== c; ++g) {
            var h = b[g];
            h.enabled && h._update(d, a, e, f)
        }
        for (a = this._bindings,
                 b = this._nActiveBindings,
                 g = 0; g !== b; ++g)
            a[g].apply(f);
        return this
    },
    getRoot: function() {
        return this._root
    },
    uncacheClip: function(a) {
        var b = this._actions;
        a = a.uuid;
        var c = this._actionsByClip
            , d = c[a];
        if (void 0 !== d) {
            for (var d = d.knownActions, e = 0, f = d.length; e !== f; ++e) {
                var g = d[e];
                this._deactivateAction(g);
                var h = g._cacheIndex
                    , i = b[b.length - 1];
                g._cacheIndex = null ,
                    g._byClipCacheIndex = null ,
                    i._cacheIndex = h,
                    b[h] = i,
                    b.pop(),
                    this._removeInactiveBindingsForAction(g)
            }
            delete c[a]
        }
    },
    uncacheRoot: function(a) {
        a = a.uuid;
        var b, c = this._actionsByClip;
        for (b in c) {
            var d = c[b].actionByRoot[a];
            void 0 !== d && (this._deactivateAction(d),
                this._removeInactiveAction(d))
        }
        if (b = this._bindingsByRootAndName[a],
            void 0 !== b)
            for (var e in b)
                a = b[e],
                    a.restoreOriginalState(),
                    this._removeInactiveBinding(a)
    },
    uncacheAction: function(a, b) {
        var c = this.existingAction(a, b);
        null  !== c && (this._deactivateAction(c),
            this._removeInactiveAction(c))
    }
}),
THREE.AnimationMixer._Action = THREE.AnimationAction._new,
Object.assign(THREE.AnimationMixer.prototype, {
    _bindAction: function(a, b) {
        var c = a._localRoot || this._root
            , d = a._clip.tracks
            , e = d.length
            , f = a._propertyBindings
            , g = a._interpolants
            , h = c.uuid
            , i = this._bindingsByRootAndName
            , j = i[h];
        for (void 0 === j && (j = {},
            i[h] = j),
                 i = 0; i !== e; ++i) {
            var k = d[i]
                , l = k.name
                , m = j[l];
            if (void 0 === m) {
                if (m = f[i],
                    void 0 !== m) {
                    null  === m._cacheIndex && (++m.referenceCount,
                        this._addInactiveBinding(m, h, l));
                    continue
                }
                m = new THREE.PropertyMixer(THREE.PropertyBinding.create(c, l, b && b._propertyBindings[i].binding.parsedPath),k.ValueTypeName,k.getValueSize()),
                    ++m.referenceCount,
                    this._addInactiveBinding(m, h, l)
            }
            f[i] = m,
                g[i].resultBuffer = m.buffer
        }
    },
    _activateAction: function(a) {
        if (!this._isActiveAction(a)) {
            if (null  === a._cacheIndex) {
                var b = (a._localRoot || this._root).uuid
                    , c = a._clip.uuid
                    , d = this._actionsByClip[c];
                this._bindAction(a, d && d.knownActions[0]),
                    this._addInactiveAction(a, c, b)
            }
            for (b = a._propertyBindings,
                     c = 0,
                     d = b.length; c !== d; ++c) {
                var e = b[c];
                0 === e.useCount++ && (this._lendBinding(e),
                    e.saveOriginalState())
            }
            this._lendAction(a)
        }
    },
    _deactivateAction: function(a) {
        if (this._isActiveAction(a)) {
            for (var b = a._propertyBindings, c = 0, d = b.length; c !== d; ++c) {
                var e = b[c];
                0 === --e.useCount && (e.restoreOriginalState(),
                    this._takeBackBinding(e))
            }
            this._takeBackAction(a)
        }
    },
    _initMemoryManager: function() {
        this._actions = [],
            this._nActiveActions = 0,
            this._actionsByClip = {},
            this._bindings = [],
            this._nActiveBindings = 0,
            this._bindingsByRootAndName = {},
            this._controlInterpolants = [],
            this._nActiveControlInterpolants = 0;
        var a = this;
        this.stats = {
            actions: {
                get total() {
                    return a._actions.length
                },
                get inUse() {
                    return a._nActiveActions
                }
            },
            bindings: {
                get total() {
                    return a._bindings.length
                },
                get inUse() {
                    return a._nActiveBindings
                }
            },
            controlInterpolants: {
                get total() {
                    return a._controlInterpolants.length
                },
                get inUse() {
                    return a._nActiveControlInterpolants
                }
            }
        }
    },
    _isActiveAction: function(a) {
        return a = a._cacheIndex,
        null  !== a && a < this._nActiveActions
    },
    _addInactiveAction: function(a, b, c) {
        var d = this._actions
            , e = this._actionsByClip
            , f = e[b];
        void 0 === f ? (f = {
            knownActions: [a],
            actionByRoot: {}
        },
            a._byClipCacheIndex = 0,
            e[b] = f) : (b = f.knownActions,
            a._byClipCacheIndex = b.length,
            b.push(a)),
            a._cacheIndex = d.length,
            d.push(a),
            f.actionByRoot[c] = a
    },
    _removeInactiveAction: function(a) {
        var b = this._actions
            , c = b[b.length - 1]
            , d = a._cacheIndex;
        c._cacheIndex = d,
            b[d] = c,
            b.pop(),
            a._cacheIndex = null ;
        var c = a._clip.uuid
            , d = this._actionsByClip
            , e = d[c]
            , f = e.knownActions
            , g = f[f.length - 1]
            , h = a._byClipCacheIndex;
        g._byClipCacheIndex = h,
            f[h] = g,
            f.pop(),
            a._byClipCacheIndex = null ,
            delete e.actionByRoot[(b._localRoot || this._root).uuid],
        0 === f.length && delete d[c],
            this._removeInactiveBindingsForAction(a)
    },
    _removeInactiveBindingsForAction: function(a) {
        a = a._propertyBindings;
        for (var b = 0, c = a.length; b !== c; ++b) {
            var d = a[b];
            0 === --d.referenceCount && this._removeInactiveBinding(d)
        }
    },
    _lendAction: function(a) {
        var b = this._actions
            , c = a._cacheIndex
            , d = this._nActiveActions++
            , e = b[d];
        a._cacheIndex = d,
            b[d] = a,
            e._cacheIndex = c,
            b[c] = e
    },
    _takeBackAction: function(a) {
        var b = this._actions
            , c = a._cacheIndex
            , d = --this._nActiveActions
            , e = b[d];
        a._cacheIndex = d,
            b[d] = a,
            e._cacheIndex = c,
            b[c] = e
    },
    _addInactiveBinding: function(a, b, c) {
        var d = this._bindingsByRootAndName
            , e = d[b]
            , f = this._bindings;
        void 0 === e && (e = {},
            d[b] = e),
            e[c] = a,
            a._cacheIndex = f.length,
            f.push(a)
    },
    _removeInactiveBinding: function(a) {
        var b = this._bindings
            , c = a.binding
            , d = c.rootNode.uuid
            , c = c.path
            , e = this._bindingsByRootAndName
            , f = e[d]
            , g = b[b.length - 1];
        a = a._cacheIndex,
            g._cacheIndex = a,
            b[a] = g,
            b.pop(),
            delete f[c];
        a: {
            for (var h in f)
                break a;
            delete e[d]
        }
    },
    _lendBinding: function(a) {
        var b = this._bindings
            , c = a._cacheIndex
            , d = this._nActiveBindings++
            , e = b[d];
        a._cacheIndex = d,
            b[d] = a,
            e._cacheIndex = c,
            b[c] = e
    },
    _takeBackBinding: function(a) {
        var b = this._bindings
            , c = a._cacheIndex
            , d = --this._nActiveBindings
            , e = b[d];
        a._cacheIndex = d,
            b[d] = a,
            e._cacheIndex = c,
            b[c] = e
    },
    _lendControlInterpolant: function() {
        var a = this._controlInterpolants
            , b = this._nActiveControlInterpolants++
            , c = a[b];
        return void 0 === c && (c = new THREE.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),
            c.__cacheIndex = b,
            a[b] = c),
            c
    },
    _takeBackControlInterpolant: function(a) {
        var b = this._controlInterpolants
            , c = a.__cacheIndex
            , d = --this._nActiveControlInterpolants
            , e = b[d];
        a.__cacheIndex = d,
            b[d] = a,
            e.__cacheIndex = c,
            b[c] = e
    },
    _controlInterpolantsResultBuffer: new Float32Array(1)
}),
THREE.AnimationObjectGroup = function(a) {
    this.uuid = THREE.Math.generateUUID(),
        this._objects = Array.prototype.slice.call(arguments),
        this.nCachedObjects_ = 0;
    var b = {};
    this._indicesByUUID = b;
    for (var c = 0, d = arguments.length; c !== d; ++c)
        b[arguments[c].uuid] = c;
    this._paths = [],
        this._parsedPaths = [],
        this._bindings = [],
        this._bindingsIndicesByPath = {};
    var e = this;
    this.stats = {
        objects: {
            get total() {
                return e._objects.length
            },
            get inUse() {
                return this.total - e.nCachedObjects_
            }
        },
        get bindingsPerObject() {
            return e._bindings.length
        }
    }
}
,
THREE.AnimationObjectGroup.prototype = {
    constructor: THREE.AnimationObjectGroup,
    add: function(a) {
        for (var b = this._objects, c = b.length, d = this.nCachedObjects_, e = this._indicesByUUID, f = this._paths, g = this._parsedPaths, h = this._bindings, i = h.length, j = 0, k = arguments.length; j !== k; ++j) {
            var l = arguments[j]
                , m = l.uuid
                , n = e[m];
            if (void 0 === n) {
                n = c++,
                    e[m] = n,
                    b.push(l);
                for (var m = 0, o = i; m !== o; ++m)
                    h[m].push(new THREE.PropertyBinding(l,f[m],g[m]))
            } else if (d > n) {
                var p = b[n]
                    , q = --d
                    , o = b[q];
                for (e[o.uuid] = n,
                         b[n] = o,
                         e[m] = q,
                         b[q] = l,
                         m = 0,
                         o = i; m !== o; ++m) {
                    var r = h[m]
                        , s = r[n];
                    r[n] = r[q],
                    void 0 === s && (s = new THREE.PropertyBinding(l,f[m],g[m])),
                        r[q] = s
                }
            } else
                b[n] !== p && console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")
        }
        this.nCachedObjects_ = d
    },
    remove: function(a) {
        for (var b = this._objects, c = this.nCachedObjects_, d = this._indicesByUUID, e = this._bindings, f = e.length, g = 0, h = arguments.length; g !== h; ++g) {
            var i = arguments[g]
                , j = i.uuid
                , k = d[j];
            if (void 0 !== k && k >= c) {
                var l = c++
                    , m = b[l];
                for (d[m.uuid] = k,
                         b[k] = m,
                         d[j] = l,
                         b[l] = i,
                         i = 0,
                         j = f; i !== j; ++i) {
                    var m = e[i]
                        , n = m[k];
                    m[k] = m[l],
                        m[l] = n
                }
            }
        }
        this.nCachedObjects_ = c
    },
    uncache: function(a) {
        for (var b = this._objects, c = b.length, d = this.nCachedObjects_, e = this._indicesByUUID, f = this._bindings, g = f.length, h = 0, i = arguments.length; h !== i; ++h) {
            var j = arguments[h].uuid
                , k = e[j];
            if (void 0 !== k)
                if (delete e[j],
                    d > k) {
                    var j = --d
                        , l = b[j]
                        , m = --c
                        , n = b[m];
                    for (e[l.uuid] = k,
                             b[k] = l,
                             e[n.uuid] = j,
                             b[j] = n,
                             b.pop(),
                             l = 0,
                             n = g; l !== n; ++l) {
                        var o = f[l]
                            , p = o[m];
                        o[k] = o[j],
                            o[j] = p,
                            o.pop()
                    }
                } else
                    for (m = --c,
                             n = b[m],
                             e[n.uuid] = k,
                             b[k] = n,
                             b.pop(),
                             l = 0,
                             n = g; l !== n; ++l)
                        o = f[l],
                            o[k] = o[m],
                            o.pop()
        }
        this.nCachedObjects_ = d
    },
    subscribe_: function(a, b) {
        var c = this._bindingsIndicesByPath
            , d = c[a]
            , e = this._bindings;
        if (void 0 !== d)
            return e[d];
        var f = this._paths
            , g = this._parsedPaths
            , h = this._objects
            , i = this.nCachedObjects_
            , j = Array(h.length)
            , d = e.length;
        for (c[a] = d,
                 f.push(a),
                 g.push(b),
                 e.push(j),
                 c = i,
                 d = h.length; c !== d; ++c)
            j[c] = new THREE.PropertyBinding(h[c],a,b);
        return j
    },
    unsubscribe_: function(a) {
        var b = this._bindingsIndicesByPath
            , c = b[a];
        if (void 0 !== c) {
            var d = this._paths
                , e = this._parsedPaths
                , f = this._bindings
                , g = f.length - 1
                , h = f[g];
            b[a[g]] = c,
                f[c] = h,
                f.pop(),
                e[c] = e[g],
                e.pop(),
                d[c] = d[g],
                d.pop()
        }
    }
},
THREE.AnimationUtils = {
    arraySlice: function(a, b, c) {
        return THREE.AnimationUtils.isTypedArray(a) ? new a.constructor(a.subarray(b, c)) : a.slice(b, c)
    },
    convertArray: function(a, b, c) {
        return !a || !c && a.constructor === b ? a : "number" == typeof b.BYTES_PER_ELEMENT ? new b(a) : Array.prototype.slice.call(a)
    },
    isTypedArray: function(a) {
        return ArrayBuffer.isView(a) && !(a instanceof DataView)
    },
    getKeyframeOrder: function(a) {
        for (var b = a.length, c = Array(b), d = 0; d !== b; ++d)
            c[d] = d;
        return c.sort(function(b, c) {
            return a[b] - a[c]
        }),
            c
    },
    sortedArray: function(a, b, c) {
        for (var d = a.length, e = new a.constructor(d), f = 0, g = 0; g !== d; ++f)
            for (var h = c[f] * b, i = 0; i !== b; ++i)
                e[g++] = a[h + i];
        return e
    },
    flattenJSON: function(a, b, c, d) {
        for (var e = 1, f = a[0]; void 0 !== f && void 0 === f[d]; )
            f = a[e++];
        if (void 0 !== f) {
            var g = f[d];
            if (void 0 !== g)
                if (Array.isArray(g)) {
                    do
                        g = f[d],
                        void 0 !== g && (b.push(f.time),
                            c.push.apply(c, g)),
                            f = a[e++];
                    while (void 0 !== f)
                } else if (void 0 !== g.toArray) {
                    do
                        g = f[d],
                        void 0 !== g && (b.push(f.time),
                            g.toArray(c, c.length)),
                            f = a[e++];
                    while (void 0 !== f)
                } else
                    do
                        g = f[d],
                        void 0 !== g && (b.push(f.time),
                            c.push(g)),
                            f = a[e++];
                    while (void 0 !== f)
        }
    }
},
THREE.KeyframeTrack = function(a, b, c, d) {
    if (void 0 === a)
        throw Error("track name is undefined");
    if (void 0 === b || 0 === b.length)
        throw Error("no keyframes in track named " + a);
    this.name = a,
        this.times = THREE.AnimationUtils.convertArray(b, this.TimeBufferType),
        this.values = THREE.AnimationUtils.convertArray(c, this.ValueBufferType),
        this.setInterpolation(d || this.DefaultInterpolation),
        this.validate(),
        this.optimize()
}
,
THREE.KeyframeTrack.prototype = {
    constructor: THREE.KeyframeTrack,
    TimeBufferType: Float32Array,
    ValueBufferType: Float32Array,
    DefaultInterpolation: THREE.InterpolateLinear,
    InterpolantFactoryMethodDiscrete: function(a) {
        return new THREE.DiscreteInterpolant(this.times,this.values,this.getValueSize(),a)
    },
    InterpolantFactoryMethodLinear: function(a) {
        return new THREE.LinearInterpolant(this.times,this.values,this.getValueSize(),a)
    },
    InterpolantFactoryMethodSmooth: function(a) {
        return new THREE.CubicInterpolant(this.times,this.values,this.getValueSize(),a)
    },
    setInterpolation: function(a) {
        var b;
        switch (a) {
            case THREE.InterpolateDiscrete:
                b = this.InterpolantFactoryMethodDiscrete;
                break;
            case THREE.InterpolateLinear:
                b = this.InterpolantFactoryMethodLinear;
                break;
            case THREE.InterpolateSmooth:
                b = this.InterpolantFactoryMethodSmooth
        }
        if (void 0 === b) {
            if (b = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name,
                void 0 === this.createInterpolant) {
                if (a === this.DefaultInterpolation)
                    throw Error(b);
                this.setInterpolation(this.DefaultInterpolation)
            }
            console.warn(b)
        } else
            this.createInterpolant = b
    },
    getInterpolation: function() {
        switch (this.createInterpolant) {
            case this.InterpolantFactoryMethodDiscrete:
                return THREE.InterpolateDiscrete;
            case this.InterpolantFactoryMethodLinear:
                return THREE.InterpolateLinear;
            case this.InterpolantFactoryMethodSmooth:
                return THREE.InterpolateSmooth
        }
    },
    getValueSize: function() {
        return this.values.length / this.times.length
    },
    shift: function(a) {
        if (0 !== a)
            for (var b = this.times, c = 0, d = b.length; c !== d; ++c)
                b[c] += a;
        return this
    },
    scale: function(a) {
        if (1 !== a)
            for (var b = this.times, c = 0, d = b.length; c !== d; ++c)
                b[c] *= a;
        return this
    },
    trim: function(a, b) {
        for (var c = this.times, d = c.length, e = 0, f = d - 1; e !== d && c[e] < a; )
            ++e;
        for (; -1 !== f && c[f] > b; )
            --f;
        return ++f,
        (0 !== e || f !== d) && (e >= f && (f = Math.max(f, 1),
            e = f - 1),
            d = this.getValueSize(),
            this.times = THREE.AnimationUtils.arraySlice(c, e, f),
            this.values = THREE.AnimationUtils.arraySlice(this.values, e * d, f * d)),
            this
    },
    validate: function() {
        var a = !0
            , b = this.getValueSize();
        0 !== b - Math.floor(b) && (console.error("invalid value size in track", this),
            a = !1);
        var c = this.times
            , b = this.values
            , d = c.length;
        0 === d && (console.error("track is empty", this),
            a = !1);
        for (var e = null , f = 0; f !== d; f++) {
            var g = c[f];
            if ("number" == typeof g && isNaN(g)) {
                console.error("time is not a valid number", this, f, g),
                    a = !1;
                break
            }
            if (null  !== e && e > g) {
                console.error("out of order keys", this, f, g, e),
                    a = !1;
                break
            }
            e = g
        }
        if (void 0 !== b && THREE.AnimationUtils.isTypedArray(b))
            for (f = 0,
                     c = b.length; f !== c; ++f)
                if (d = b[f],
                        isNaN(d)) {
                    console.error("value is not a valid number", this, f, d),
                        a = !1;
                    break
                }
        return a
    },
    optimize: function() {
        for (var a = this.times, b = this.values, c = this.getValueSize(), d = 1, e = 1, f = a.length - 1; f >= e; ++e) {
            var g = !1
                , h = a[e];
            if (h !== a[e + 1] && (1 !== e || h !== h[0]))
                for (var i = e * c, j = i - c, k = i + c, h = 0; h !== c; ++h) {
                    var l = b[i + h];
                    if (l !== b[j + h] || l !== b[k + h]) {
                        g = !0;
                        break
                    }
                }
            if (g) {
                if (e !== d)
                    for (a[d] = a[e],
                             g = e * c,
                             i = d * c,
                             h = 0; h !== c; ++h)
                        b[i + h] = b[g + h];
                ++d
            }
        }
        return d !== a.length && (this.times = THREE.AnimationUtils.arraySlice(a, 0, d),
            this.values = THREE.AnimationUtils.arraySlice(b, 0, d * c)),
            this
    }
},
Object.assign(THREE.KeyframeTrack, {
    parse: function(a) {
        if (void 0 === a.type)
            throw Error("track type undefined, can not parse");
        var b = THREE.KeyframeTrack._getTrackTypeForValueTypeName(a.type);
        if (void 0 === a.times) {
            var c = []
                , d = [];
            THREE.AnimationUtils.flattenJSON(a.keys, c, d, "value"),
                a.times = c,
                a.values = d
        }
        return void 0 !== b.parse ? b.parse(a) : new b(a.name,a.times,a.values,a.interpolation)
    },
    toJSON: function(a) {
        var b = a.constructor;
        if (void 0 !== b.toJSON)
            b = b.toJSON(a);
        else {
            var b = {
                name: a.name,
                times: THREE.AnimationUtils.convertArray(a.times, Array),
                values: THREE.AnimationUtils.convertArray(a.values, Array)
            }
                , c = a.getInterpolation();
            c !== a.DefaultInterpolation && (b.interpolation = c)
        }
        return b.type = a.ValueTypeName,
            b
    },
    _getTrackTypeForValueTypeName: function(a) {
        switch (a.toLowerCase()) {
            case "scalar":
            case "double":
            case "float":
            case "number":
            case "integer":
                return THREE.NumberKeyframeTrack;
            case "vector":
            case "vector2":
            case "vector3":
            case "vector4":
                return THREE.VectorKeyframeTrack;
            case "color":
                return THREE.ColorKeyframeTrack;
            case "quaternion":
                return THREE.QuaternionKeyframeTrack;
            case "bool":
            case "boolean":
                return THREE.BooleanKeyframeTrack;
            case "string":
                return THREE.StringKeyframeTrack
        }
        throw Error("Unsupported typeName: " + a)
    }
}),
THREE.PropertyBinding = function(a, b, c) {
    this.path = b,
        this.parsedPath = c || THREE.PropertyBinding.parseTrackName(b),
        this.node = THREE.PropertyBinding.findNode(a, this.parsedPath.nodeName) || a,
        this.rootNode = a
}
,
THREE.PropertyBinding.prototype = {
    constructor: THREE.PropertyBinding,
    getValue: function(a, b) {
        this.bind(),
            this.getValue(a, b)
    },
    setValue: function(a, b) {
        this.bind(),
            this.setValue(a, b)
    },
    bind: function() {
        var a = this.node
            , b = this.parsedPath
            , c = b.objectName
            , d = b.propertyName
            , e = b.propertyIndex;
        if (a || (this.node = a = THREE.PropertyBinding.findNode(this.rootNode, b.nodeName) || this.rootNode),
                this.getValue = this._getValue_unavailable,
                this.setValue = this._setValue_unavailable,
                a) {
            if (c) {
                var f = b.objectIndex;
                switch (c) {
                    case "materials":
                        if (!a.material)
                            return void console.error("  can not bind to material as node does not have a material", this);
                        if (!a.material.materials)
                            return void console.error("  can not bind to material.materials as node.material does not have a materials array", this);
                        a = a.material.materials;
                        break;
                    case "bones":
                        if (!a.skeleton)
                            return void console.error("  can not bind to bones as node does not have a skeleton", this);
                        for (a = a.skeleton.bones,
                                 c = 0; c < a.length; c++)
                            if (a[c].name === f) {
                                f = c;
                                break
                            }
                        break;
                    default:
                        if (void 0 === a[c])
                            return void console.error("  can not bind to objectName of node, undefined", this);
                        a = a[c]
                }
                if (void 0 !== f) {
                    if (void 0 === a[f])
                        return void console.error("  trying to bind to objectIndex of objectName, but is undefined:", this, a);
                    a = a[f]
                }
            }
            if (f = a[d]) {
                if (b = this.Versioning.None,
                        void 0 !== a.needsUpdate ? (b = this.Versioning.NeedsUpdate,
                            this.targetObject = a) : void 0 !== a.matrixWorldNeedsUpdate && (b = this.Versioning.MatrixWorldNeedsUpdate,
                            this.targetObject = a),
                        c = this.BindingType.Direct,
                    void 0 !== e) {
                    if ("morphTargetInfluences" === d) {
                        if (!a.geometry)
                            return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry", this);
                        if (!a.geometry.morphTargets)
                            return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets", this);
                        for (c = 0; c < this.node.geometry.morphTargets.length; c++)
                            if (a.geometry.morphTargets[c].name === e) {
                                e = c;
                                break
                            }
                    }
                    c = this.BindingType.ArrayElement,
                        this.resolvedProperty = f,
                        this.propertyIndex = e
                } else
                    void 0 !== f.fromArray && void 0 !== f.toArray ? (c = this.BindingType.HasFromToArray,
                        this.resolvedProperty = f) : void 0 !== f.length ? (c = this.BindingType.EntireArray,
                        this.resolvedProperty = f) : this.propertyName = d;
                this.getValue = this.GetterByBindingType[c],
                    this.setValue = this.SetterByBindingTypeAndVersioning[c][b]
            } else
                console.error("  trying to update property for track: " + b.nodeName + "." + d + " but it wasn't found.", a)
        } else
            console.error("  trying to update node for track: " + this.path + " but it wasn't found.")
    },
    unbind: function() {
        this.node = null ,
            this.getValue = this._getValue_unbound,
            this.setValue = this._setValue_unbound
    }
},
Object.assign(THREE.PropertyBinding.prototype, {
    _getValue_unavailable: function() {},
    _setValue_unavailable: function() {},
    _getValue_unbound: THREE.PropertyBinding.prototype.getValue,
    _setValue_unbound: THREE.PropertyBinding.prototype.setValue,
    BindingType: {
        Direct: 0,
        EntireArray: 1,
        ArrayElement: 2,
        HasFromToArray: 3
    },
    Versioning: {
        None: 0,
        NeedsUpdate: 1,
        MatrixWorldNeedsUpdate: 2
    },
    GetterByBindingType: [function(a, b) {
        a[b] = this.node[this.propertyName]
    }
        , function(a, b) {
            for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
                a[b++] = c[d]
        }
        , function(a, b) {
            a[b] = this.resolvedProperty[this.propertyIndex]
        }
        , function(a, b) {
            this.resolvedProperty.toArray(a, b)
        }
    ],
    SetterByBindingTypeAndVersioning: [[function(a, b) {
        this.node[this.propertyName] = a[b]
    }
        , function(a, b) {
            this.node[this.propertyName] = a[b],
                this.targetObject.needsUpdate = !0
        }
        , function(a, b) {
            this.node[this.propertyName] = a[b],
                this.targetObject.matrixWorldNeedsUpdate = !0
        }
    ], [function(a, b) {
        for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
            c[d] = a[b++]
    }
        , function(a, b) {
            for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
                c[d] = a[b++];
            this.targetObject.needsUpdate = !0
        }
        , function(a, b) {
            for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
                c[d] = a[b++];
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
    ], [function(a, b) {
        this.resolvedProperty[this.propertyIndex] = a[b]
    }
        , function(a, b) {
            this.resolvedProperty[this.propertyIndex] = a[b],
                this.targetObject.needsUpdate = !0
        }
        , function(a, b) {
            this.resolvedProperty[this.propertyIndex] = a[b],
                this.targetObject.matrixWorldNeedsUpdate = !0
        }
    ], [function(a, b) {
        this.resolvedProperty.fromArray(a, b)
    }
        , function(a, b) {
            this.resolvedProperty.fromArray(a, b),
                this.targetObject.needsUpdate = !0
        }
        , function(a, b) {
            this.resolvedProperty.fromArray(a, b),
                this.targetObject.matrixWorldNeedsUpdate = !0
        }
    ]]
}),
THREE.PropertyBinding.Composite = function(a, b, c) {
    c = c || THREE.PropertyBinding.parseTrackName(b),
        this._targetGroup = a,
        this._bindings = a.subscribe_(b, c)
}
,
THREE.PropertyBinding.Composite.prototype = {
    constructor: THREE.PropertyBinding.Composite,
    getValue: function(a, b) {
        this.bind();
        var c = this._bindings[this._targetGroup.nCachedObjects_];
        void 0 !== c && c.getValue(a, b)
    },
    setValue: function(a, b) {
        for (var c = this._bindings, d = this._targetGroup.nCachedObjects_, e = c.length; d !== e; ++d)
            c[d].setValue(a, b)
    },
    bind: function() {
        for (var a = this._bindings, b = this._targetGroup.nCachedObjects_, c = a.length; b !== c; ++b)
            a[b].bind()
    },
    unbind: function() {
        for (var a = this._bindings, b = this._targetGroup.nCachedObjects_, c = a.length; b !== c; ++b)
            a[b].unbind()
    }
},
THREE.PropertyBinding.create = function(a, b, c) {
    return a instanceof THREE.AnimationObjectGroup ? new THREE.PropertyBinding.Composite(a,b,c) : new THREE.PropertyBinding(a,b,c)
}
,
THREE.PropertyBinding.parseTrackName = function(a) {
    var b = /^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/
        , c = b.exec(a);
    if (!c)
        throw Error("cannot parse trackName at all: " + a);
    if (c.index === b.lastIndex && b.lastIndex++,
            b = {
                nodeName: c[3],
                objectName: c[5],
                objectIndex: c[7],
                propertyName: c[9],
                propertyIndex: c[11]
            },
        null  === b.propertyName || 0 === b.propertyName.length)
        throw Error("can not parse propertyName from trackName: " + a);
    return b
}
,
THREE.PropertyBinding.findNode = function(a, b) {
    if (!b || "" === b || "root" === b || "." === b || -1 === b || b === a.name || b === a.uuid)
        return a;
    if (a.skeleton) {
        var c = function(a) {
            for (var c = 0; c < a.bones.length; c++) {
                var d = a.bones[c];
                if (d.name === b)
                    return d
            }
            return null
        }(a.skeleton);
        if (c)
            return c
    }
    if (a.children) {
        var d = function(a) {
                for (var c = 0; c < a.length; c++) {
                    var e = a[c];
                    if (e.name === b || e.uuid === b || (e = d(e.children)))
                        return e
                }
                return null
            }
            ;
        if (c = d(a.children))
            return c
    }
    return null
}
,
THREE.PropertyMixer = function(a, b, c) {
    switch (this.binding = a,
        this.valueSize = c,
        a = Float64Array,
        b) {
        case "quaternion":
            b = this._slerp;
            break;
        case "string":
        case "bool":
            a = Array,
                b = this._select;
            break;
        default:
            b = this._lerp
    }
    this.buffer = new a(4 * c),
        this._mixBufferRegion = b,
        this.referenceCount = this.useCount = this.cumulativeWeight = 0
}
,
THREE.PropertyMixer.prototype = {
    constructor: THREE.PropertyMixer,
    accumulate: function(a, b) {
        var c = this.buffer
            , d = this.valueSize
            , e = a * d + d
            , f = this.cumulativeWeight;
        if (0 === f) {
            for (f = 0; f !== d; ++f)
                c[e + f] = c[f];
            f = b
        } else
            f += b,
                this._mixBufferRegion(c, e, 0, b / f, d);
        this.cumulativeWeight = f
    },
    apply: function(a) {
        var b = this.valueSize
            , c = this.buffer;
        a = a * b + b;
        var d = this.cumulativeWeight
            , e = this.binding;
        this.cumulativeWeight = 0,
        1 > d && this._mixBufferRegion(c, a, 3 * b, 1 - d, b);
        for (var d = b, f = b + b; d !== f; ++d)
            if (c[d] !== c[d + b]) {
                e.setValue(c, a);
                break
            }
    },
    saveOriginalState: function() {
        var a = this.buffer
            , b = this.valueSize
            , c = 3 * b;
        this.binding.getValue(a, c);
        for (var d = b; d !== c; ++d)
            a[d] = a[c + d % b];
        this.cumulativeWeight = 0
    },
    restoreOriginalState: function() {
        this.binding.setValue(this.buffer, 3 * this.valueSize)
    },
    _select: function(a, b, c, d, e) {
        if (d >= .5)
            for (d = 0; d !== e; ++d)
                a[b + d] = a[c + d]
    },
    _slerp: function(a, b, c, d, e) {
        THREE.Quaternion.slerpFlat(a, b, a, b, a, c, d)
    },
    _lerp: function(a, b, c, d, e) {
        for (var f = 1 - d, g = 0; g !== e; ++g) {
            var h = b + g;
            a[h] = a[h] * f + a[c + g] * d
        }
    }
},
THREE.BooleanKeyframeTrack = function(a, b, c) {
    THREE.KeyframeTrack.call(this, a, b, c)
}
,
THREE.BooleanKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), {
    constructor: THREE.BooleanKeyframeTrack,
    ValueTypeName: "bool",
    ValueBufferType: Array,
    DefaultInterpolation: THREE.InterpolateDiscrete,
    InterpolantFactoryMethodLinear: void 0,
    InterpolantFactoryMethodSmooth: void 0
}),
THREE.ColorKeyframeTrack = function(a, b, c, d) {
    THREE.KeyframeTrack.call(this, a, b, c, d)
}
,
THREE.ColorKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), {
    constructor: THREE.ColorKeyframeTrack,
    ValueTypeName: "color"
}),
THREE.NumberKeyframeTrack = function(a, b, c, d) {
    THREE.KeyframeTrack.call(this, a, b, c, d)
}
,
THREE.NumberKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), {
    constructor: THREE.NumberKeyframeTrack,
    ValueTypeName: "number"
}),
THREE.QuaternionKeyframeTrack = function(a, b, c, d) {
    THREE.KeyframeTrack.call(this, a, b, c, d)
}
,
THREE.QuaternionKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), {
    constructor: THREE.QuaternionKeyframeTrack,
    ValueTypeName: "quaternion",
    DefaultInterpolation: THREE.InterpolateLinear,
    InterpolantFactoryMethodLinear: function(a) {
        return new THREE.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),a)
    },
    InterpolantFactoryMethodSmooth: void 0
}),
THREE.StringKeyframeTrack = function(a, b, c, d) {
    THREE.KeyframeTrack.call(this, a, b, c, d)
}
,
THREE.StringKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), {
    constructor: THREE.StringKeyframeTrack,
    ValueTypeName: "string",
    ValueBufferType: Array,
    DefaultInterpolation: THREE.InterpolateDiscrete,
    InterpolantFactoryMethodLinear: void 0,
    InterpolantFactoryMethodSmooth: void 0
}),
THREE.VectorKeyframeTrack = function(a, b, c, d) {
    THREE.KeyframeTrack.call(this, a, b, c, d)
}
,
THREE.VectorKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), {
    constructor: THREE.VectorKeyframeTrack,
    ValueTypeName: "vector"
}),
THREE.Audio = function(a) {
    THREE.Object3D.call(this),
        this.type = "Audio",
        this.context = a.context,
        this.source = this.context.createBufferSource(),
        this.source.onended = this.onEnded.bind(this),
        this.gain = this.context.createGain(),
        this.gain.connect(a.getInput()),
        this.autoplay = !1,
        this.startTime = 0,
        this.playbackRate = 1,
        this.isPlaying = !1,
        this.hasPlaybackControl = !0,
        this.sourceType = "empty",
        this.filters = []
}
,
THREE.Audio.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Audio,
    getOutput: function() {
        return this.gain
    },
    setNodeSource: function(a) {
        return this.hasPlaybackControl = !1,
            this.sourceType = "audioNode",
            this.source = a,
            this.connect(),
            this
    },
    setBuffer: function(a) {
        return this.source.buffer = a,
            this.sourceType = "buffer",
        this.autoplay && this.play(),
            this
    },
    play: function() {
        if (!0 === this.isPlaying)
            console.warn("THREE.Audio: Audio is already playing.");
        else {
            if (!1 !== this.hasPlaybackControl) {
                var a = this.context.createBufferSource();
                return a.buffer = this.source.buffer,
                    a.loop = this.source.loop,
                    a.onended = this.source.onended,
                    a.start(0, this.startTime),
                    a.playbackRate.value = this.playbackRate,
                    this.isPlaying = !0,
                    this.source = a,
                    this.connect()
            }
            console.warn("THREE.Audio: this Audio has no playback control.")
        }
    },
    pause: function() {
        return !1 !== this.hasPlaybackControl ? (this.source.stop(),
            this.startTime = this.context.currentTime,
            this) : void console.warn("THREE.Audio: this Audio has no playback control.")
    },
    stop: function() {
        return !1 !== this.hasPlaybackControl ? (this.source.stop(),
            this.startTime = 0,
            this) : void console.warn("THREE.Audio: this Audio has no playback control.")
    },
    connect: function() {
        if (0 < this.filters.length) {
            this.source.connect(this.filters[0]);
            for (var a = 1, b = this.filters.length; b > a; a++)
                this.filters[a - 1].connect(this.filters[a]);
            this.filters[this.filters.length - 1].connect(this.getOutput())
        } else
            this.source.connect(this.getOutput());
        return this
    },
    disconnect: function() {
        if (0 < this.filters.length) {
            this.source.disconnect(this.filters[0]);
            for (var a = 1, b = this.filters.length; b > a; a++)
                this.filters[a - 1].disconnect(this.filters[a]);
            this.filters[this.filters.length - 1].disconnect(this.getOutput())
        } else
            this.source.disconnect(this.getOutput());
        return this
    },
    getFilters: function() {
        return this.filters
    },
    setFilters: function(a) {
        return a || (a = []),
            !0 === this.isPlaying ? (this.disconnect(),
                this.filters = a,
                this.connect()) : this.filters = a,
            this
    },
    getFilter: function() {
        return this.getFilters()[0]
    },
    setFilter: function(a) {
        return this.setFilters(a ? [a] : [])
    },
    setPlaybackRate: function(a) {
        return !1 !== this.hasPlaybackControl ? (this.playbackRate = a,
        !0 === this.isPlaying && (this.source.playbackRate.value = this.playbackRate),
            this) : void console.warn("THREE.Audio: this Audio has no playback control.")
    },
    getPlaybackRate: function() {
        return this.playbackRate
    },
    onEnded: function() {
        this.isPlaying = !1
    },
    getLoop: function() {
        return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."),
            !1) : this.source.loop
    },
    setLoop: function(a) {
        !1 === this.hasPlaybackControl ? console.warn("THREE.Audio: this Audio has no playback control.") : this.source.loop = a
    },
    getVolume: function() {
        return this.gain.gain.value
    },
    setVolume: function(a) {
        return this.gain.gain.value = a,
            this
    }
}),
THREE.AudioAnalyser = function(a, b) {
    this.analyser = a.context.createAnalyser(),
        this.analyser.fftSize = void 0 !== b ? b : 2048,
        this.data = new Uint8Array(this.analyser.frequencyBinCount),
        a.getOutput().connect(this.analyser)
}
,
Object.assign(THREE.AudioAnalyser.prototype, {
    getFrequencyData: function() {
        return this.analyser.getByteFrequencyData(this.data),
            this.data
    },
    getAverageFrequency: function() {
        for (var a = 0, b = this.getFrequencyData(), c = 0; c < b.length; c++)
            a += b[c];
        return a / b.length
    }
}),
Object.defineProperty(THREE, "AudioContext", {
    get: function() {
        var a;
        return function() {
            return void 0 === a && (a = new (window.AudioContext || window.webkitAudioContext)),
                a
        }
    }()
}),
THREE.PositionalAudio = function(a) {
    THREE.Audio.call(this, a),
        this.panner = this.context.createPanner(),
        this.panner.connect(this.gain)
}
,
THREE.PositionalAudio.prototype = Object.assign(Object.create(THREE.Audio.prototype), {
    constructor: THREE.PositionalAudio,
    getOutput: function() {
        return this.panner
    },
    getRefDistance: function() {
        return this.panner.refDistance
    },
    setRefDistance: function(a) {
        this.panner.refDistance = a
    },
    getRolloffFactor: function() {
        return this.panner.rolloffFactor
    },
    setRolloffFactor: function(a) {
        this.panner.rolloffFactor = a
    },
    getDistanceModel: function() {
        return this.panner.distanceModel
    },
    setDistanceModel: function(a) {
        this.panner.distanceModel = a
    },
    getMaxDistance: function() {
        return this.panner.maxDistance
    },
    setMaxDistance: function(a) {
        this.panner.maxDistance = a
    },
    updateMatrixWorld: function() {
        var a = new THREE.Vector3;
        return function(b) {
            THREE.Object3D.prototype.updateMatrixWorld.call(this, b),
                a.setFromMatrixPosition(this.matrixWorld),
                this.panner.setPosition(a.x, a.y, a.z)
        }
    }()
}),
THREE.AudioListener = function() {
    THREE.Object3D.call(this),
        this.type = "AudioListener",
        this.context = THREE.AudioContext,
        this.gain = this.context.createGain(),
        this.gain.connect(this.context.destination),
        this.filter = null
}
,
THREE.AudioListener.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.AudioListener,
    getInput: function() {
        return this.gain
    },
    removeFilter: function() {
        null  !== this.filter && (this.gain.disconnect(this.filter),
            this.filter.disconnect(this.context.destination),
            this.gain.connect(this.context.destination),
            this.filter = null )
    },
    getFilter: function() {
        return this.filter
    },
    setFilter: function(a) {
        null  !== this.filter ? (this.gain.disconnect(this.filter),
            this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination),
            this.filter = a,
            this.gain.connect(this.filter),
            this.filter.connect(this.context.destination)
    },
    getMasterVolume: function() {
        return this.gain.gain.value
    },
    setMasterVolume: function(a) {
        this.gain.gain.value = a
    },
    updateMatrixWorld: function() {
        var a = new THREE.Vector3
            , b = new THREE.Quaternion
            , c = new THREE.Vector3
            , d = new THREE.Vector3;
        return function(e) {
            THREE.Object3D.prototype.updateMatrixWorld.call(this, e),
                e = this.context.listener;
            var f = this.up;
            this.matrixWorld.decompose(a, b, c),
                d.set(0, 0, -1).applyQuaternion(b),
                e.setPosition(a.x, a.y, a.z),
                e.setOrientation(d.x, d.y, d.z, f.x, f.y, f.z)
        }
    }()
}),
THREE.Camera = function() {
    THREE.Object3D.call(this),
        this.type = "Camera",
        this.matrixWorldInverse = new THREE.Matrix4,
        this.projectionMatrix = new THREE.Matrix4
}
,
THREE.Camera.prototype = Object.create(THREE.Object3D.prototype),
THREE.Camera.prototype.constructor = THREE.Camera,
THREE.Camera.prototype.getWorldDirection = function() {
    var a = new THREE.Quaternion;
    return function(b) {
        return b = b || new THREE.Vector3,
            this.getWorldQuaternion(a),
            b.set(0, 0, -1).applyQuaternion(a)
    }
}(),
THREE.Camera.prototype.lookAt = function() {
    var a = new THREE.Matrix4;
    return function(b) {
        a.lookAt(this.position, b, this.up),
            this.quaternion.setFromRotationMatrix(a)
    }
}(),
THREE.Camera.prototype.clone = function() {
    return (new this.constructor).copy(this)
}
,
THREE.Camera.prototype.copy = function(a) {
    return THREE.Object3D.prototype.copy.call(this, a),
        this.matrixWorldInverse.copy(a.matrixWorldInverse),
        this.projectionMatrix.copy(a.projectionMatrix),
        this
}
,
THREE.CubeCamera = function(a, b, c) {
    THREE.Object3D.call(this),
        this.type = "CubeCamera";
    var d = new THREE.PerspectiveCamera(90,1,a,b);
    d.up.set(0, -1, 0),
        d.lookAt(new THREE.Vector3(1,0,0)),
        this.add(d);
    var e = new THREE.PerspectiveCamera(90,1,a,b);
    e.up.set(0, -1, 0),
        e.lookAt(new THREE.Vector3(-1,0,0)),
        this.add(e);
    var f = new THREE.PerspectiveCamera(90,1,a,b);
    f.up.set(0, 0, 1),
        f.lookAt(new THREE.Vector3(0,1,0)),
        this.add(f);
    var g = new THREE.PerspectiveCamera(90,1,a,b);
    g.up.set(0, 0, -1),
        g.lookAt(new THREE.Vector3(0,-1,0)),
        this.add(g);
    var h = new THREE.PerspectiveCamera(90,1,a,b);
    h.up.set(0, -1, 0),
        h.lookAt(new THREE.Vector3(0,0,1)),
        this.add(h);
    var i = new THREE.PerspectiveCamera(90,1,a,b);
    i.up.set(0, -1, 0),
        i.lookAt(new THREE.Vector3(0,0,-1)),
        this.add(i),
        this.renderTarget = new THREE.WebGLRenderTargetCube(c,c,{
            format: THREE.RGBFormat,
            magFilter: THREE.LinearFilter,
            minFilter: THREE.LinearFilter
        }),
        this.updateCubeMap = function(a, b) {
            null  === this.parent && this.updateMatrixWorld();
            var c = this.renderTarget
                , j = c.texture.generateMipmaps;
            c.texture.generateMipmaps = !1,
                c.activeCubeFace = 0,
                a.render(b, d, c),
                c.activeCubeFace = 1,
                a.render(b, e, c),
                c.activeCubeFace = 2,
                a.render(b, f, c),
                c.activeCubeFace = 3,
                a.render(b, g, c),
                c.activeCubeFace = 4,
                a.render(b, h, c),
                c.texture.generateMipmaps = j,
                c.activeCubeFace = 5,
                a.render(b, i, c),
                a.setRenderTarget(null )
        }
}
,
THREE.CubeCamera.prototype = Object.create(THREE.Object3D.prototype),
THREE.CubeCamera.prototype.constructor = THREE.CubeCamera,
THREE.OrthographicCamera = function(a, b, c, d, e, f) {
    THREE.Camera.call(this),
        this.type = "OrthographicCamera",
        this.zoom = 1,
        this.left = a,
        this.right = b,
        this.top = c,
        this.bottom = d,
        this.near = void 0 !== e ? e : .1,
        this.far = void 0 !== f ? f : 2e3,
        this.updateProjectionMatrix()
}
,
THREE.OrthographicCamera.prototype = Object.assign(Object.create(THREE.Camera.prototype), {
    constructor: THREE.OrthographicCamera,
    copy: function(a) {
        return THREE.Camera.prototype.copy.call(this, a),
            this.left = a.left,
            this.right = a.right,
            this.top = a.top,
            this.bottom = a.bottom,
            this.near = a.near,
            this.far = a.far,
            this.zoom = a.zoom,
            this
    },
    updateProjectionMatrix: function() {
        var a = (this.right - this.left) / (2 * this.zoom)
            , b = (this.top - this.bottom) / (2 * this.zoom)
            , c = (this.right + this.left) / 2
            , d = (this.top + this.bottom) / 2;
        this.projectionMatrix.makeOrthographic(c - a, c + a, d + b, d - b, this.near, this.far)
    },
    toJSON: function(a) {
        return a = THREE.Object3D.prototype.toJSON.call(this, a),
            a.object.zoom = this.zoom,
            a.object.left = this.left,
            a.object.right = this.right,
            a.object.top = this.top,
            a.object.bottom = this.bottom,
            a.object.near = this.near,
            a.object.far = this.far,
            a
    }
}),
THREE.PerspectiveCamera = function(a, b, c, d) {
    THREE.Camera.call(this),
        this.type = "PerspectiveCamera",
        this.fov = void 0 !== a ? a : 50,
        this.zoom = 1,
        this.near = void 0 !== c ? c : .1,
        this.far = void 0 !== d ? d : 2e3,
        this.focus = 10,
        this.aspect = void 0 !== b ? b : 1,
        this.view = null ,
        this.filmGauge = 35,
        this.filmOffset = 0,
        this.updateProjectionMatrix()
}
,
THREE.PerspectiveCamera.prototype = Object.assign(Object.create(THREE.Camera.prototype), {
    constructor: THREE.PerspectiveCamera,
    copy: function(a) {
        return THREE.Camera.prototype.copy.call(this, a),
            this.fov = a.fov,
            this.zoom = a.zoom,
            this.near = a.near,
            this.far = a.far,
            this.focus = a.focus,
            this.aspect = a.aspect,
            this.view = null  === a.view ? null  : Object.assign({}, a.view),
            this.filmGauge = a.filmGauge,
            this.filmOffset = a.filmOffset,
            this
    },
    setFocalLength: function(a) {
        a = .5 * this.getFilmHeight() / a,
            this.fov = 2 * THREE.Math.RAD2DEG * Math.atan(a),
            this.updateProjectionMatrix()
    },
    getFocalLength: function() {
        var a = Math.tan(.5 * THREE.Math.DEG2RAD * this.fov);
        return .5 * this.getFilmHeight() / a
    },
    getEffectiveFOV: function() {
        return 2 * THREE.Math.RAD2DEG * Math.atan(Math.tan(.5 * THREE.Math.DEG2RAD * this.fov) / this.zoom)
    },
    getFilmWidth: function() {
        return this.filmGauge * Math.min(this.aspect, 1)
    },
    getFilmHeight: function() {
        return this.filmGauge / Math.max(this.aspect, 1)
    },
    setViewOffset: function(a, b, c, d, e, f) {
        this.aspect = a / b,
            this.view = {
                fullWidth: a,
                fullHeight: b,
                offsetX: c,
                offsetY: d,
                width: e,
                height: f
            },
            this.updateProjectionMatrix()
    },
    clearViewOffset: function() {
        this.view = null ,
            this.updateProjectionMatrix()
    },
    updateProjectionMatrix: function() {
        var a = this.near
            , b = a * Math.tan(.5 * THREE.Math.DEG2RAD * this.fov) / this.zoom
            , c = 2 * b
            , d = this.aspect * c
            , e = -.5 * d
            , f = this.view;
        if (null  !== f)
            var g = f.fullWidth
                , h = f.fullHeight
                , e = e + f.offsetX * d / g
                , b = b - f.offsetY * c / h
                , d = f.width / g * d
                , c = f.height / h * c;
        f = this.filmOffset,
        0 !== f && (e += a * f / this.getFilmWidth()),
            this.projectionMatrix.makeFrustum(e, e + d, b - c, b, a, this.far)
    },
    toJSON: function(a) {
        return a = THREE.Object3D.prototype.toJSON.call(this, a),
            a.object.fov = this.fov,
            a.object.zoom = this.zoom,
            a.object.near = this.near,
            a.object.far = this.far,
            a.object.focus = this.focus,
            a.object.aspect = this.aspect,
        null  !== this.view && (a.object.view = Object.assign({}, this.view)),
            a.object.filmGauge = this.filmGauge,
            a.object.filmOffset = this.filmOffset,
            a
    }
}),
THREE.StereoCamera = function() {
    this.type = "StereoCamera",
        this.aspect = 1,
        this.cameraL = new THREE.PerspectiveCamera,
        this.cameraL.layers.enable(1),
        this.cameraL.matrixAutoUpdate = !1,
        this.cameraR = new THREE.PerspectiveCamera,
        this.cameraR.layers.enable(2),
        this.cameraR.matrixAutoUpdate = !1
}
,
Object.assign(THREE.StereoCamera.prototype, {
    update: function() {
        var a, b, c, d, e, f = new THREE.Matrix4, g = new THREE.Matrix4;
        return function(h) {
            if (a !== h.focus || b !== h.fov || c !== h.aspect * this.aspect || d !== h.near || e !== h.far) {
                a = h.focus,
                    b = h.fov,
                    c = h.aspect * this.aspect,
                    d = h.near,
                    e = h.far;
                var i, j, k = h.projectionMatrix.clone(), l = .032 * d / a, m = d * Math.tan(THREE.Math.DEG2RAD * b * .5);
                g.elements[12] = -.032,
                    f.elements[12] = .032,
                    i = -m * c + l,
                    j = m * c + l,
                    k.elements[0] = 2 * d / (j - i),
                    k.elements[8] = (j + i) / (j - i),
                    this.cameraL.projectionMatrix.copy(k),
                    i = -m * c - l,
                    j = m * c - l,
                    k.elements[0] = 2 * d / (j - i),
                    k.elements[8] = (j + i) / (j - i),
                    this.cameraR.projectionMatrix.copy(k)
            }
            this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(g),
                this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(f)
        }
    }()
}),
THREE.Light = function(a, b) {
    THREE.Object3D.call(this),
        this.type = "Light",
        this.color = new THREE.Color(a),
        this.intensity = void 0 !== b ? b : 1,
        this.receiveShadow = void 0
}
,
THREE.Light.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Light,
    copy: function(a) {
        return THREE.Object3D.prototype.copy.call(this, a),
            this.color.copy(a.color),
            this.intensity = a.intensity,
            this
    },
    toJSON: function(a) {
        return a = THREE.Object3D.prototype.toJSON.call(this, a),
            a.object.color = this.color.getHex(),
            a.object.intensity = this.intensity,
        void 0 !== this.groundColor && (a.object.groundColor = this.groundColor.getHex()),
        void 0 !== this.distance && (a.object.distance = this.distance),
        void 0 !== this.angle && (a.object.angle = this.angle),
        void 0 !== this.decay && (a.object.decay = this.decay),
        void 0 !== this.penumbra && (a.object.penumbra = this.penumbra),
            a
    }
}),
THREE.LightShadow = function(a) {
    this.camera = a,
        this.bias = 0,
        this.radius = 1,
        this.mapSize = new THREE.Vector2(512,512),
        this.map = null ,
        this.matrix = new THREE.Matrix4
}
,
Object.assign(THREE.LightShadow.prototype, {
    copy: function(a) {
        return this.camera = a.camera.clone(),
            this.bias = a.bias,
            this.radius = a.radius,
            this.mapSize.copy(a.mapSize),
            this
    },
    clone: function() {
        return (new this.constructor).copy(this)
    }
}),
THREE.AmbientLight = function(a, b) {
    THREE.Light.call(this, a, b),
        this.type = "AmbientLight",
        this.castShadow = void 0
}
,
THREE.AmbientLight.prototype = Object.assign(Object.create(THREE.Light.prototype), {
    constructor: THREE.AmbientLight
}),
THREE.DirectionalLight = function(a, b) {
    THREE.Light.call(this, a, b),
        this.type = "DirectionalLight",
        this.position.set(0, 1, 0),
        this.updateMatrix(),
        this.target = new THREE.Object3D,
        this.shadow = new THREE.DirectionalLightShadow
}
,
THREE.DirectionalLight.prototype = Object.assign(Object.create(THREE.Light.prototype), {
    constructor: THREE.DirectionalLight,
    copy: function(a) {
        return THREE.Light.prototype.copy.call(this, a),
            this.target = a.target.clone(),
            this.shadow = a.shadow.clone(),
            this
    }
}),
THREE.DirectionalLightShadow = function(a) {
    THREE.LightShadow.call(this, new THREE.OrthographicCamera(-5,5,5,-5,.5,500))
}
,
THREE.DirectionalLightShadow.prototype = Object.assign(Object.create(THREE.LightShadow.prototype), {
    constructor: THREE.DirectionalLightShadow
}),
THREE.HemisphereLight = function(a, b, c) {
    THREE.Light.call(this, a, c),
        this.type = "HemisphereLight",
        this.castShadow = void 0,
        this.position.set(0, 1, 0),
        this.updateMatrix(),
        this.groundColor = new THREE.Color(b)
}
,
THREE.HemisphereLight.prototype = Object.assign(Object.create(THREE.Light.prototype), {
    constructor: THREE.HemisphereLight,
    copy: function(a) {
        return THREE.Light.prototype.copy.call(this, a),
            this.groundColor.copy(a.groundColor),
            this
    }
}),
THREE.PointLight = function(a, b, c, d) {
    THREE.Light.call(this, a, b),
        this.type = "PointLight",
        Object.defineProperty(this, "power", {
            get: function() {
                return 4 * this.intensity * Math.PI
            },
            set: function(a) {
                this.intensity = a / (4 * Math.PI)
            }
        }),
        this.distance = void 0 !== c ? c : 0,
        this.decay = void 0 !== d ? d : 1,
        this.shadow = new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,.5,500))
}
,
THREE.PointLight.prototype = Object.assign(Object.create(THREE.Light.prototype), {
    constructor: THREE.PointLight,
    copy: function(a) {
        return THREE.Light.prototype.copy.call(this, a),
            this.distance = a.distance,
            this.decay = a.decay,
            this.shadow = a.shadow.clone(),
            this
    }
}),
THREE.SpotLight = function(a, b, c, d, e, f) {
    THREE.Light.call(this, a, b),
        this.type = "SpotLight",
        this.position.set(0, 1, 0),
        this.updateMatrix(),
        this.target = new THREE.Object3D,
        Object.defineProperty(this, "power", {
            get: function() {
                return this.intensity * Math.PI
            },
            set: function(a) {
                this.intensity = a / Math.PI
            }
        }),
        this.distance = void 0 !== c ? c : 0,
        this.angle = void 0 !== d ? d : Math.PI / 3,
        this.penumbra = void 0 !== e ? e : 0,
        this.decay = void 0 !== f ? f : 1,
        this.shadow = new THREE.SpotLightShadow
}
,
THREE.SpotLight.prototype = Object.assign(Object.create(THREE.Light.prototype), {
    constructor: THREE.SpotLight,
    copy: function(a) {
        return THREE.Light.prototype.copy.call(this, a),
            this.distance = a.distance,
            this.angle = a.angle,
            this.penumbra = a.penumbra,
            this.decay = a.decay,
            this.target = a.target.clone(),
            this.shadow = a.shadow.clone(),
            this
    }
}),
THREE.SpotLightShadow = function() {
    THREE.LightShadow.call(this, new THREE.PerspectiveCamera(50,1,.5,500))
}
,
THREE.SpotLightShadow.prototype = Object.assign(Object.create(THREE.LightShadow.prototype), {
    constructor: THREE.SpotLightShadow,
    update: function(a) {
        var b = 2 * THREE.Math.RAD2DEG * a.angle
            , c = this.mapSize.width / this.mapSize.height;
        a = a.distance || 500;
        var d = this.camera;
        (b !== d.fov || c !== d.aspect || a !== d.far) && (d.fov = b,
            d.aspect = c,
            d.far = a,
            d.updateProjectionMatrix())
    }
}),
THREE.AudioLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.AudioLoader.prototype = {
    constructor: THREE.AudioLoader,
    load: function(a, b, c, d) {
        var e = new THREE.XHRLoader(this.manager);
        e.setResponseType("arraybuffer"),
            e.load(a, function(a) {
                THREE.AudioContext.decodeAudioData(a, function(a) {
                    b(a)
                })
            }, c, d)
    }
},
THREE.Cache = {
    enabled: !1,
    files: {},
    add: function(a, b) {
        !1 !== this.enabled && (this.files[a] = b)
    },
    get: function(a) {
        return !1 !== this.enabled ? this.files[a] : void 0
    },
    remove: function(a) {
        delete this.files[a]
    },
    clear: function() {
        this.files = {}
    }
},
THREE.Loader = function() {
    this.onLoadStart = function() {}
        ,
        this.onLoadProgress = function() {}
        ,
        this.onLoadComplete = function() {}
}
,
THREE.Loader.prototype = {
    constructor: THREE.Loader,
    crossOrigin: void 0,
    extractUrlBase: function(a) {
        return a = a.split("/"),
            1 === a.length ? "./" : (a.pop(),
            a.join("/") + "/")
    },
    initMaterials: function(a, b, c) {
        for (var d = [], e = 0; e < a.length; ++e)
            d[e] = this.createMaterial(a[e], b, c);
        return d
    },
    createMaterial: function() {
        var a, b, c;
        return function(d, e, f) {
            function g(a, c, d, g, h) {
                a = e + a;
                var j = THREE.Loader.Handlers.get(a);
                return null  !== j ? a = j.load(a) : (b.setCrossOrigin(f),
                    a = b.load(a)),
                void 0 !== c && (a.repeat.fromArray(c),
                1 !== c[0] && (a.wrapS = THREE.RepeatWrapping),
                1 !== c[1] && (a.wrapT = THREE.RepeatWrapping)),
                void 0 !== d && a.offset.fromArray(d),
                void 0 !== g && ("repeat" === g[0] && (a.wrapS = THREE.RepeatWrapping),
                "mirror" === g[0] && (a.wrapS = THREE.MirroredRepeatWrapping),
                "repeat" === g[1] && (a.wrapT = THREE.RepeatWrapping),
                "mirror" === g[1] && (a.wrapT = THREE.MirroredRepeatWrapping)),
                void 0 !== h && (a.anisotropy = h),
                    c = THREE.Math.generateUUID(),
                    i[c] = a,
                    c
            }
            void 0 === a && (a = new THREE.Color),
            void 0 === b && (b = new THREE.TextureLoader),
            void 0 === c && (c = new THREE.MaterialLoader);
            var h, i = {}, j = {
                uuid: THREE.Math.generateUUID(),
                type: "MeshLambertMaterial"
            };
            for (h in d) {
                var k = d[h];
                switch (h) {
                    case "DbgColor":
                    case "DbgIndex":
                    case "opticalDensity":
                    case "illumination":
                        break;
                    case "DbgName":
                        j.name = k;
                        break;
                    case "blending":
                        j.blending = THREE[k];
                        break;
                    case "colorAmbient":
                    case "mapAmbient":
                        console.warn("THREE.Loader.createMaterial:", h, "is no longer supported.");
                        break;
                    case "colorDiffuse":
                        j.color = a.fromArray(k).getHex();
                        break;
                    case "colorSpecular":
                        j.specular = a.fromArray(k).getHex();
                        break;
                    case "colorEmissive":
                        j.emissive = a.fromArray(k).getHex();
                        break;
                    case "specularCoef":
                        j.shininess = k;
                        break;
                    case "shading":
                        "basic" === k.toLowerCase() && (j.type = "MeshBasicMaterial"),
                        "phong" === k.toLowerCase() && (j.type = "MeshPhongMaterial");
                        break;
                    case "mapDiffuse":
                        j.map = g(k, d.mapDiffuseRepeat, d.mapDiffuseOffset, d.mapDiffuseWrap, d.mapDiffuseAnisotropy);
                        break;
                    case "mapDiffuseRepeat":
                    case "mapDiffuseOffset":
                    case "mapDiffuseWrap":
                    case "mapDiffuseAnisotropy":
                        break;
                    case "mapLight":
                        j.lightMap = g(k, d.mapLightRepeat, d.mapLightOffset, d.mapLightWrap, d.mapLightAnisotropy);
                        break;
                    case "mapLightRepeat":
                    case "mapLightOffset":
                    case "mapLightWrap":
                    case "mapLightAnisotropy":
                        break;
                    case "mapAO":
                        j.aoMap = g(k, d.mapAORepeat, d.mapAOOffset, d.mapAOWrap, d.mapAOAnisotropy);
                        break;
                    case "mapAORepeat":
                    case "mapAOOffset":
                    case "mapAOWrap":
                    case "mapAOAnisotropy":
                        break;
                    case "mapBump":
                        j.bumpMap = g(k, d.mapBumpRepeat, d.mapBumpOffset, d.mapBumpWrap, d.mapBumpAnisotropy);
                        break;
                    case "mapBumpScale":
                        j.bumpScale = k;
                        break;
                    case "mapBumpRepeat":
                    case "mapBumpOffset":
                    case "mapBumpWrap":
                    case "mapBumpAnisotropy":
                        break;
                    case "mapNormal":
                        j.normalMap = g(k, d.mapNormalRepeat, d.mapNormalOffset, d.mapNormalWrap, d.mapNormalAnisotropy);
                        break;
                    case "mapNormalFactor":
                        j.normalScale = [k, k];
                        break;
                    case "mapNormalRepeat":
                    case "mapNormalOffset":
                    case "mapNormalWrap":
                    case "mapNormalAnisotropy":
                        break;
                    case "mapSpecular":
                        j.specularMap = g(k, d.mapSpecularRepeat, d.mapSpecularOffset, d.mapSpecularWrap, d.mapSpecularAnisotropy);
                        break;
                    case "mapSpecularRepeat":
                    case "mapSpecularOffset":
                    case "mapSpecularWrap":
                    case "mapSpecularAnisotropy":
                        break;
                    case "mapAlpha":
                        j.alphaMap = g(k, d.mapAlphaRepeat, d.mapAlphaOffset, d.mapAlphaWrap, d.mapAlphaAnisotropy);
                        break;
                    case "mapAlphaRepeat":
                    case "mapAlphaOffset":
                    case "mapAlphaWrap":
                    case "mapAlphaAnisotropy":
                        break;
                    case "flipSided":
                        j.side = THREE.BackSide;
                        break;
                    case "doubleSided":
                        j.side = THREE.DoubleSide;
                        break;
                    case "transparency":
                        console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),
                            j.opacity = k;
                        break;
                    case "depthTest":
                    case "depthWrite":
                    case "colorWrite":
                    case "opacity":
                    case "reflectivity":
                    case "transparent":
                    case "visible":
                    case "wireframe":
                        j[h] = k;
                        break;
                    case "vertexColors":
                        !0 === k && (j.vertexColors = THREE.VertexColors),
                        "face" === k && (j.vertexColors = THREE.FaceColors);
                        break;
                    default:
                        console.error("THREE.Loader.createMaterial: Unsupported", h, k)
                }
            }
            return "MeshBasicMaterial" === j.type && delete j.emissive,
            "MeshPhongMaterial" !== j.type && delete j.specular,
            1 > j.opacity && (j.transparent = !0),
                c.setTextures(i),
                c.parse(j)
        }
    }()
},
THREE.Loader.Handlers = {
    handlers: [],
    add: function(a, b) {
        this.handlers.push(a, b)
    },
    get: function(a) {
        for (var b = this.handlers, c = 0, d = b.length; d > c; c += 2) {
            var e = b[c + 1];
            if (b[c].test(a))
                return e
        }
        return null
    }
},
THREE.XHRLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.XHRLoader.prototype = {
    constructor: THREE.XHRLoader,
    load: function(a, b, c, d) {
        void 0 !== this.path && (a = this.path + a);
        var e = this
            , f = THREE.Cache.get(a);
        if (void 0 !== f)
            return b && setTimeout(function() {
                b(f)
            }, 0),
                f;
        var g = new XMLHttpRequest;
        return g.overrideMimeType("text/plain"),
            g.open("GET", a, !0),
            g.addEventListener("load", function(c) {
                var f = c.target.response;
                THREE.Cache.add(a, f),
                    200 === this.status ? (b && b(f),
                        e.manager.itemEnd(a)) : 0 === this.status ? (console.warn("THREE.XHRLoader: HTTP Status 0 received."),
                    b && b(f),
                        e.manager.itemEnd(a)) : (d && d(c),
                        e.manager.itemError(a))
            }, !1),
        void 0 !== c && g.addEventListener("progress", function(a) {
            c(a)
        }, !1),
            g.addEventListener("error", function(b) {
                d && d(b),
                    e.manager.itemError(a)
            }, !1),
        void 0 !== this.responseType && (g.responseType = this.responseType),
        void 0 !== this.withCredentials && (g.withCredentials = this.withCredentials),
            g.send(null ),
            e.manager.itemStart(a),
            g
    },
    setPath: function(a) {
        this.path = a
    },
    setResponseType: function(a) {
        this.responseType = a
    },
    setWithCredentials: function(a) {
        this.withCredentials = a
    }
},
THREE.FontLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.FontLoader.prototype = {
    constructor: THREE.FontLoader,
    load: function(a, b, c, d) {
        var e = this;
        new THREE.XHRLoader(this.manager).load(a, function(a) {
            var c;
            try {
                c = JSON.parse(a)
            } catch (b) {
                console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
                    c = JSON.parse(a.substring(65, a.length - 2))
            }
            a = e.parse(c),
            b && b(a)
        }, c, d)
    },
    parse: function(a) {
        return new THREE.Font(a)
    }
},
THREE.ImageLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.ImageLoader.prototype = {
    constructor: THREE.ImageLoader,
    load: function(a, b, c, d) {
        void 0 !== this.path && (a = this.path + a);
        var e = this
            , f = THREE.Cache.get(a);
        if (void 0 !== f)
            return e.manager.itemStart(a),
                b ? setTimeout(function() {
                    b(f),
                        e.manager.itemEnd(a)
                }, 0) : e.manager.itemEnd(a),
                f;
        var g = document.createElement("img");
        return g.addEventListener("load", function(c) {
            THREE.Cache.add(a, this),
            b && b(this),
                e.manager.itemEnd(a)
        }, !1),
        void 0 !== c && g.addEventListener("progress", function(a) {
            c(a)
        }, !1),
            g.addEventListener("error", function(b) {
                d && d(b),
                    e.manager.itemError(a)
            }, !1),
        void 0 !== this.crossOrigin && (g.crossOrigin = this.crossOrigin),
            e.manager.itemStart(a),
            g.src = a,
            g
    },
    setCrossOrigin: function(a) {
        this.crossOrigin = a
    },
    setPath: function(a) {
        this.path = a
    }
},
THREE.JSONLoader = function(a) {
    "boolean" == typeof a && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),
        a = void 0),
        this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager,
        this.withCredentials = !1
}
,
THREE.JSONLoader.prototype = {
    constructor: THREE.JSONLoader,
    get statusDomElement() {
        return void 0 === this._statusDomElement && (this._statusDomElement = document.createElement("div")),
            console.warn("THREE.JSONLoader: .statusDomElement has been removed."),
            this._statusDomElement
    },
    load: function(a, b, c, d) {
        var e = this
            , f = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : THREE.Loader.prototype.extractUrlBase(a)
            , g = new THREE.XHRLoader(this.manager);
        g.setWithCredentials(this.withCredentials),
            g.load(a, function(c) {
                c = JSON.parse(c);
                var d = c.metadata;
                if (void 0 !== d && (d = d.type,
                    void 0 !== d)) {
                    if ("object" === d.toLowerCase())
                        return void console.error("THREE.JSONLoader: " + a + " should be loaded with THREE.ObjectLoader instead.");
                    if ("scene" === d.toLowerCase())
                        return void console.error("THREE.JSONLoader: " + a + " should be loaded with THREE.SceneLoader instead.")
                }
                c = e.parse(c, f),
                    b(c.geometry, c.materials)
            }, c, d)
    },
    setTexturePath: function(a) {
        this.texturePath = a
    },
    parse: function(a, b) {
        var c = new THREE.Geometry
            , d = void 0 !== a.scale ? 1 / a.scale : 1;
        return function(b) {
            var d, e, f, g, h, i, j, k, l, m, n, o, p, q = a.faces;
            i = a.vertices;
            var r = a.normals
                , s = a.colors
                , t = 0;
            if (void 0 !== a.uvs) {
                for (d = 0; d < a.uvs.length; d++)
                    a.uvs[d].length && t++;
                for (d = 0; t > d; d++)
                    c.faceVertexUvs[d] = []
            }
            for (g = 0,
                     h = i.length; h > g; )
                d = new THREE.Vector3,
                    d.x = i[g++] * b,
                    d.y = i[g++] * b,
                    d.z = i[g++] * b,
                    c.vertices.push(d);
            for (g = 0,
                     h = q.length; h > g; )
                if (b = q[g++],
                        l = 1 & b,
                        f = 2 & b,
                        d = 8 & b,
                        j = 16 & b,
                        m = 32 & b,
                        i = 64 & b,
                        b &= 128,
                        l) {
                    if (l = new THREE.Face3,
                            l.a = q[g],
                            l.b = q[g + 1],
                            l.c = q[g + 3],
                            n = new THREE.Face3,
                            n.a = q[g + 1],
                            n.b = q[g + 2],
                            n.c = q[g + 3],
                            g += 4,
                        f && (f = q[g++],
                            l.materialIndex = f,
                            n.materialIndex = f),
                            f = c.faces.length,
                            d)
                        for (d = 0; t > d; d++)
                            for (o = a.uvs[d],
                                     c.faceVertexUvs[d][f] = [],
                                     c.faceVertexUvs[d][f + 1] = [],
                                     e = 0; 4 > e; e++)
                                k = q[g++],
                                    p = o[2 * k],
                                    k = o[2 * k + 1],
                                    p = new THREE.Vector2(p,k),
                                2 !== e && c.faceVertexUvs[d][f].push(p),
                                0 !== e && c.faceVertexUvs[d][f + 1].push(p);
                    if (j && (j = 3 * q[g++],
                            l.normal.set(r[j++], r[j++], r[j]),
                            n.normal.copy(l.normal)),
                            m)
                        for (d = 0; 4 > d; d++)
                            j = 3 * q[g++],
                                m = new THREE.Vector3(r[j++],r[j++],r[j]),
                            2 !== d && l.vertexNormals.push(m),
                            0 !== d && n.vertexNormals.push(m);
                    if (i && (i = q[g++],
                            i = s[i],
                            l.color.setHex(i),
                            n.color.setHex(i)),
                            b)
                        for (d = 0; 4 > d; d++)
                            i = q[g++],
                                i = s[i],
                            2 !== d && l.vertexColors.push(new THREE.Color(i)),
                            0 !== d && n.vertexColors.push(new THREE.Color(i));
                    c.faces.push(l),
                        c.faces.push(n)
                } else {
                    if (l = new THREE.Face3,
                            l.a = q[g++],
                            l.b = q[g++],
                            l.c = q[g++],
                        f && (f = q[g++],
                            l.materialIndex = f),
                            f = c.faces.length,
                            d)
                        for (d = 0; t > d; d++)
                            for (o = a.uvs[d],
                                     c.faceVertexUvs[d][f] = [],
                                     e = 0; 3 > e; e++)
                                k = q[g++],
                                    p = o[2 * k],
                                    k = o[2 * k + 1],
                                    p = new THREE.Vector2(p,k),
                                    c.faceVertexUvs[d][f].push(p);
                    if (j && (j = 3 * q[g++],
                            l.normal.set(r[j++], r[j++], r[j])),
                            m)
                        for (d = 0; 3 > d; d++)
                            j = 3 * q[g++],
                                m = new THREE.Vector3(r[j++],r[j++],r[j]),
                                l.vertexNormals.push(m);
                    if (i && (i = q[g++],
                            l.color.setHex(s[i])),
                            b)
                        for (d = 0; 3 > d; d++)
                            i = q[g++],
                                l.vertexColors.push(new THREE.Color(s[i]));
                    c.faces.push(l)
                }
        }(d),
            function() {
                var b = void 0 !== a.influencesPerVertex ? a.influencesPerVertex : 2;
                if (a.skinWeights)
                    for (var d = 0, e = a.skinWeights.length; e > d; d += b)
                        c.skinWeights.push(new THREE.Vector4(a.skinWeights[d],b > 1 ? a.skinWeights[d + 1] : 0,b > 2 ? a.skinWeights[d + 2] : 0,b > 3 ? a.skinWeights[d + 3] : 0));
                if (a.skinIndices)
                    for (d = 0,
                             e = a.skinIndices.length; e > d; d += b)
                        c.skinIndices.push(new THREE.Vector4(a.skinIndices[d],b > 1 ? a.skinIndices[d + 1] : 0,b > 2 ? a.skinIndices[d + 2] : 0,b > 3 ? a.skinIndices[d + 3] : 0));
                c.bones = a.bones,
                c.bones && 0 < c.bones.length && (c.skinWeights.length !== c.skinIndices.length || c.skinIndices.length !== c.vertices.length) && console.warn("When skinning, number of vertices (" + c.vertices.length + "), skinIndices (" + c.skinIndices.length + "), and skinWeights (" + c.skinWeights.length + ") should match.")
            }(),
            function(b) {
                if (void 0 !== a.morphTargets)
                    for (var d = 0, e = a.morphTargets.length; e > d; d++) {
                        c.morphTargets[d] = {},
                            c.morphTargets[d].name = a.morphTargets[d].name,
                            c.morphTargets[d].vertices = [];
                        for (var f = c.morphTargets[d].vertices, g = a.morphTargets[d].vertices, h = 0, i = g.length; i > h; h += 3) {
                            var j = new THREE.Vector3;
                            j.x = g[h] * b,
                                j.y = g[h + 1] * b,
                                j.z = g[h + 2] * b,
                                f.push(j)
                        }
                    }
                if (void 0 !== a.morphColors && 0 < a.morphColors.length)
                    for (console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),
                             b = c.faces,
                             f = a.morphColors[0].colors,
                             d = 0,
                             e = b.length; e > d; d++)
                        b[d].color.fromArray(f, 3 * d)
            }(d),
            function() {
                var b = []
                    , d = [];
                void 0 !== a.animation && d.push(a.animation),
                void 0 !== a.animations && (a.animations.length ? d = d.concat(a.animations) : d.push(a.animations));
                for (var e = 0; e < d.length; e++) {
                    var f = THREE.AnimationClip.parseAnimation(d[e], c.bones);
                    f && b.push(f)
                }
                c.morphTargets && (d = THREE.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets, 10),
                    b = b.concat(d)),
                0 < b.length && (c.animations = b)
            }(),
            c.computeFaceNormals(),
            c.computeBoundingSphere(),
            void 0 === a.materials || 0 === a.materials.length ? {
                geometry: c
            } : (d = THREE.Loader.prototype.initMaterials(a.materials, b, this.crossOrigin),
            {
                geometry: c,
                materials: d
            })
    }
},
THREE.LoadingManager = function(a, b, c) {
    var d = this
        , e = !1
        , f = 0
        , g = 0;
    this.onStart = void 0,
        this.onLoad = a,
        this.onProgress = b,
        this.onError = c,
        this.itemStart = function(a) {
            g++,
            !1 === e && void 0 !== d.onStart && d.onStart(a, f, g),
                e = !0
        }
        ,
        this.itemEnd = function(a) {
            f++,
            void 0 !== d.onProgress && d.onProgress(a, f, g),
            f === g && (e = !1,
            void 0 !== d.onLoad) && d.onLoad()
        }
        ,
        this.itemError = function(a) {
            void 0 !== d.onError && d.onError(a)
        }
}
,
THREE.DefaultLoadingManager = new THREE.LoadingManager,
THREE.BufferGeometryLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.BufferGeometryLoader.prototype = {
    constructor: THREE.BufferGeometryLoader,
    load: function(a, b, c, d) {
        var e = this;
        new THREE.XHRLoader(e.manager).load(a, function(a) {
            b(e.parse(JSON.parse(a)))
        }, c, d)
    },
    parse: function(a) {
        var b = new THREE.BufferGeometry
            , c = a.data.index
            , d = {
            Int8Array: Int8Array,
            Uint8Array: Uint8Array,
            Uint8ClampedArray: Uint8ClampedArray,
            Int16Array: Int16Array,
            Uint16Array: Uint16Array,
            Int32Array: Int32Array,
            Uint32Array: Uint32Array,
            Float32Array: Float32Array,
            Float64Array: Float64Array
        };
        void 0 !== c && (c = new d[c.type](c.array),
            b.setIndex(new THREE.BufferAttribute(c,1)));
        var e, f = a.data.attributes;
        for (e in f) {
            var g = f[e]
                , c = new d[g.type](g.array);
            b.addAttribute(e, new THREE.BufferAttribute(c,g.itemSize,g.normalized))
        }
        if (d = a.data.groups || a.data.drawcalls || a.data.offsets,
            void 0 !== d)
            for (e = 0,
                     c = d.length; e !== c; ++e)
                f = d[e],
                    b.addGroup(f.start, f.count, f.materialIndex);
        return a = a.data.boundingSphere,
        void 0 !== a && (d = new THREE.Vector3,
        void 0 !== a.center && d.fromArray(a.center),
            b.boundingSphere = new THREE.Sphere(d,a.radius)),
            b
    }
},
THREE.MaterialLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager,
        this.textures = {}
}
,
THREE.MaterialLoader.prototype = {
    constructor: THREE.MaterialLoader,
    load: function(a, b, c, d) {
        var e = this;
        new THREE.XHRLoader(e.manager).load(a, function(a) {
            b(e.parse(JSON.parse(a)))
        }, c, d)
    },
    setTextures: function(a) {
        this.textures = a
    },
    getTexture: function(a) {
        var b = this.textures;
        return void 0 === b[a] && console.warn("THREE.MaterialLoader: Undefined texture", a),
            b[a]
    },
    parse: function(a) {
        var b = new THREE[a.type];
        if (void 0 !== a.uuid && (b.uuid = a.uuid),
            void 0 !== a.name && (b.name = a.name),
            void 0 !== a.color && b.color.setHex(a.color),
            void 0 !== a.roughness && (b.roughness = a.roughness),
            void 0 !== a.metalness && (b.metalness = a.metalness),
            void 0 !== a.emissive && b.emissive.setHex(a.emissive),
            void 0 !== a.specular && b.specular.setHex(a.specular),
            void 0 !== a.shininess && (b.shininess = a.shininess),
            void 0 !== a.uniforms && (b.uniforms = a.uniforms),
            void 0 !== a.vertexShader && (b.vertexShader = a.vertexShader),
            void 0 !== a.fragmentShader && (b.fragmentShader = a.fragmentShader),
            void 0 !== a.vertexColors && (b.vertexColors = a.vertexColors),
            void 0 !== a.shading && (b.shading = a.shading),
            void 0 !== a.blending && (b.blending = a.blending),
            void 0 !== a.side && (b.side = a.side),
            void 0 !== a.opacity && (b.opacity = a.opacity),
            void 0 !== a.transparent && (b.transparent = a.transparent),
            void 0 !== a.alphaTest && (b.alphaTest = a.alphaTest),
            void 0 !== a.depthTest && (b.depthTest = a.depthTest),
            void 0 !== a.depthWrite && (b.depthWrite = a.depthWrite),
            void 0 !== a.colorWrite && (b.colorWrite = a.colorWrite),
            void 0 !== a.wireframe && (b.wireframe = a.wireframe),
            void 0 !== a.wireframeLinewidth && (b.wireframeLinewidth = a.wireframeLinewidth),
            void 0 !== a.size && (b.size = a.size),
            void 0 !== a.sizeAttenuation && (b.sizeAttenuation = a.sizeAttenuation),
            void 0 !== a.map && (b.map = this.getTexture(a.map)),
            void 0 !== a.alphaMap && (b.alphaMap = this.getTexture(a.alphaMap),
                b.transparent = !0),
            void 0 !== a.bumpMap && (b.bumpMap = this.getTexture(a.bumpMap)),
            void 0 !== a.bumpScale && (b.bumpScale = a.bumpScale),
            void 0 !== a.normalMap && (b.normalMap = this.getTexture(a.normalMap)),
            void 0 !== a.normalScale) {
            var c = a.normalScale;
            !1 === Array.isArray(c) && (c = [c, c]),
                b.normalScale = (new THREE.Vector2).fromArray(c)
        }
        if (void 0 !== a.displacementMap && (b.displacementMap = this.getTexture(a.displacementMap)),
            void 0 !== a.displacementScale && (b.displacementScale = a.displacementScale),
            void 0 !== a.displacementBias && (b.displacementBias = a.displacementBias),
            void 0 !== a.roughnessMap && (b.roughnessMap = this.getTexture(a.roughnessMap)),
            void 0 !== a.metalnessMap && (b.metalnessMap = this.getTexture(a.metalnessMap)),
            void 0 !== a.emissiveMap && (b.emissiveMap = this.getTexture(a.emissiveMap)),
            void 0 !== a.emissiveIntensity && (b.emissiveIntensity = a.emissiveIntensity),
            void 0 !== a.specularMap && (b.specularMap = this.getTexture(a.specularMap)),
            void 0 !== a.envMap && (b.envMap = this.getTexture(a.envMap),
                b.combine = THREE.MultiplyOperation),
            a.reflectivity && (b.reflectivity = a.reflectivity),
            void 0 !== a.lightMap && (b.lightMap = this.getTexture(a.lightMap)),
            void 0 !== a.lightMapIntensity && (b.lightMapIntensity = a.lightMapIntensity),
            void 0 !== a.aoMap && (b.aoMap = this.getTexture(a.aoMap)),
            void 0 !== a.aoMapIntensity && (b.aoMapIntensity = a.aoMapIntensity),
            void 0 !== a.materials)
            for (var c = 0, d = a.materials.length; d > c; c++)
                b.materials.push(this.parse(a.materials[c]));
        return b
    }
},
THREE.ObjectLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager,
        this.texturePath = ""
}
,
THREE.ObjectLoader.prototype = {
    constructor: THREE.ObjectLoader,
    load: function(a, b, c, d) {
        "" === this.texturePath && (this.texturePath = a.substring(0, a.lastIndexOf("/") + 1));
        var e = this;
        new THREE.XHRLoader(e.manager).load(a, function(a) {
            e.parse(JSON.parse(a), b)
        }, c, d)
    },
    setTexturePath: function(a) {
        this.texturePath = a
    },
    setCrossOrigin: function(a) {
        this.crossOrigin = a
    },
    parse: function(a, b) {
        var c = this.parseGeometries(a.geometries)
            , d = this.parseImages(a.images, function() {
            void 0 !== b && b(e)
        })
            , d = this.parseTextures(a.textures, d)
            , d = this.parseMaterials(a.materials, d)
            , e = this.parseObject(a.object, c, d);
        return a.animations && (e.animations = this.parseAnimations(a.animations)),
        void 0 !== a.images && 0 !== a.images.length || void 0 === b || b(e),
            e
    },
    parseGeometries: function(a) {
        var b = {};
        if (void 0 !== a)
            for (var c = new THREE.JSONLoader, d = new THREE.BufferGeometryLoader, e = 0, f = a.length; f > e; e++) {
                var g, h = a[e];
                switch (h.type) {
                    case "PlaneGeometry":
                    case "PlaneBufferGeometry":
                        g = new THREE[h.type](h.width,h.height,h.widthSegments,h.heightSegments);
                        break;
                    case "BoxGeometry":
                    case "BoxBufferGeometry":
                    case "CubeGeometry":
                        g = new THREE[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);
                        break;
                    case "CircleGeometry":
                    case "CircleBufferGeometry":
                        g = new THREE[h.type](h.radius,h.segments,h.thetaStart,h.thetaLength);
                        break;
                    case "CylinderGeometry":
                    case "CylinderBufferGeometry":
                        g = new THREE[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);
                        break;
                    case "ConeGeometry":
                    case "ConeBufferGeometry":
                        g = new THREE[h.type](h.radius,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);
                        break;
                    case "SphereGeometry":
                    case "SphereBufferGeometry":
                        g = new THREE[h.type](h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);
                        break;
                    case "DodecahedronGeometry":
                    case "IcosahedronGeometry":
                    case "OctahedronGeometry":
                    case "TetrahedronGeometry":
                        g = new THREE[h.type](h.radius,h.detail);
                        break;
                    case "RingGeometry":
                    case "RingBufferGeometry":
                        g = new THREE[h.type](h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);
                        break;
                    case "TorusGeometry":
                    case "TorusBufferGeometry":
                        g = new THREE[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);
                        break;
                    case "TorusKnotGeometry":
                    case "TorusKnotBufferGeometry":
                        g = new THREE[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);
                        break;
                    case "LatheGeometry":
                    case "LatheBufferGeometry":
                        g = new THREE[h.type](h.points,h.segments,h.phiStart,h.phiLength);
                        break;
                    case "BufferGeometry":
                        g = d.parse(h);
                        break;
                    case "Geometry":
                        g = c.parse(h.data, this.texturePath).geometry;
                        break;
                    default:
                        console.warn('THREE.ObjectLoader: Unsupported geometry type "' + h.type + '"');
                        continue
                }
                g.uuid = h.uuid,
                void 0 !== h.name && (g.name = h.name),
                    b[h.uuid] = g
            }
        return b
    },
    parseMaterials: function(a, b) {
        var c = {};
        if (void 0 !== a) {
            var d = new THREE.MaterialLoader;
            d.setTextures(b);
            for (var e = 0, f = a.length; f > e; e++) {
                var g = d.parse(a[e]);
                c[g.uuid] = g
            }
        }
        return c
    },
    parseAnimations: function(a) {
        for (var b = [], c = 0; c < a.length; c++) {
            var d = THREE.AnimationClip.parse(a[c]);
            b.push(d)
        }
        return b
    },
    parseImages: function(a, b) {
        function c(a) {
            return d.manager.itemStart(a),
                g.load(a, function() {
                    d.manager.itemEnd(a)
                })
        }
        var d = this
            , e = {};
        if (void 0 !== a && 0 < a.length) {
            var f = new THREE.LoadingManager(b)
                , g = new THREE.ImageLoader(f);
            g.setCrossOrigin(this.crossOrigin);
            for (var f = 0, h = a.length; h > f; f++) {
                var i = a[f]
                    , j = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(i.url) ? i.url : d.texturePath + i.url;
                e[i.uuid] = c(j)
            }
        }
        return e
    },
    parseTextures: function(a, b) {
        function c(a) {
            return "number" == typeof a ? a : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", a),
                THREE[a])
        }
        var d = {};
        if (void 0 !== a)
            for (var e = 0, f = a.length; f > e; e++) {
                var g = a[e];
                void 0 === g.image && console.warn('THREE.ObjectLoader: No "image" specified for', g.uuid),
                void 0 === b[g.image] && console.warn("THREE.ObjectLoader: Undefined image", g.image);
                var h = new THREE.Texture(b[g.image]);
                h.needsUpdate = !0,
                    h.uuid = g.uuid,
                void 0 !== g.name && (h.name = g.name),
                void 0 !== g.mapping && (h.mapping = c(g.mapping)),
                void 0 !== g.offset && (h.offset = new THREE.Vector2(g.offset[0],g.offset[1])),
                void 0 !== g.repeat && (h.repeat = new THREE.Vector2(g.repeat[0],g.repeat[1])),
                void 0 !== g.minFilter && (h.minFilter = c(g.minFilter)),
                void 0 !== g.magFilter && (h.magFilter = c(g.magFilter)),
                void 0 !== g.anisotropy && (h.anisotropy = g.anisotropy),
                Array.isArray(g.wrap) && (h.wrapS = c(g.wrap[0]),
                    h.wrapT = c(g.wrap[1])),
                    d[g.uuid] = h
            }
        return d
    },
    parseObject: function() {
        var a = new THREE.Matrix4;
        return function(b, c, d) {
            function e(a) {
                return void 0 === c[a] && console.warn("THREE.ObjectLoader: Undefined geometry", a),
                    c[a]
            }
            function f(a) {
                return void 0 !== a ? (void 0 === d[a] && console.warn("THREE.ObjectLoader: Undefined material", a),
                    d[a]) : void 0
            }
            var g;
            switch (b.type) {
                case "Scene":
                    g = new THREE.Scene;
                    break;
                case "PerspectiveCamera":
                    g = new THREE.PerspectiveCamera(b.fov,b.aspect,b.near,b.far),
                    void 0 !== b.focus && (g.focus = b.focus),
                    void 0 !== b.zoom && (g.zoom = b.zoom),
                    void 0 !== b.filmGauge && (g.filmGauge = b.filmGauge),
                    void 0 !== b.filmOffset && (g.filmOffset = b.filmOffset),
                    void 0 !== b.view && (g.view = Object.assign({}, b.view));
                    break;
                case "OrthographicCamera":
                    g = new THREE.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);
                    break;
                case "AmbientLight":
                    g = new THREE.AmbientLight(b.color,b.intensity);
                    break;
                case "DirectionalLight":
                    g = new THREE.DirectionalLight(b.color,b.intensity);
                    break;
                case "PointLight":
                    g = new THREE.PointLight(b.color,b.intensity,b.distance,b.decay);
                    break;
                case "SpotLight":
                    g = new THREE.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);
                    break;
                case "HemisphereLight":
                    g = new THREE.HemisphereLight(b.color,b.groundColor,b.intensity);
                    break;
                case "Mesh":
                    g = e(b.geometry);
                    var h = f(b.material);
                    g = g.bones && 0 < g.bones.length ? new THREE.SkinnedMesh(g,h) : new THREE.Mesh(g,h);
                    break;
                case "LOD":
                    g = new THREE.LOD;
                    break;
                case "Line":
                    g = new THREE.Line(e(b.geometry),f(b.material),b.mode);
                    break;
                case "PointCloud":
                case "Points":
                    g = new THREE.Points(e(b.geometry),f(b.material));
                    break;
                case "Sprite":
                    g = new THREE.Sprite(f(b.material));
                    break;
                case "Group":
                    g = new THREE.Group;
                    break;
                default:
                    g = new THREE.Object3D
            }
            if (g.uuid = b.uuid,
                void 0 !== b.name && (g.name = b.name),
                    void 0 !== b.matrix ? (a.fromArray(b.matrix),
                        a.decompose(g.position, g.quaternion, g.scale)) : (void 0 !== b.position && g.position.fromArray(b.position),
                    void 0 !== b.rotation && g.rotation.fromArray(b.rotation),
                    void 0 !== b.scale && g.scale.fromArray(b.scale)),
                void 0 !== b.castShadow && (g.castShadow = b.castShadow),
                void 0 !== b.receiveShadow && (g.receiveShadow = b.receiveShadow),
                void 0 !== b.visible && (g.visible = b.visible),
                void 0 !== b.userData && (g.userData = b.userData),
                void 0 !== b.children)
                for (var i in b.children)
                    g.add(this.parseObject(b.children[i], c, d));
            if ("LOD" === b.type)
                for (b = b.levels,
                         h = 0; h < b.length; h++) {
                    var j = b[h];
                    i = g.getObjectByProperty("uuid", j.object),
                    void 0 !== i && g.addLevel(i, j.distance)
                }
            return g
        }
    }()
},
THREE.TextureLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.TextureLoader.prototype = {
    constructor: THREE.TextureLoader,
    load: function(a, b, c, d) {
        var e = new THREE.Texture
            , f = new THREE.ImageLoader(this.manager);
        return f.setCrossOrigin(this.crossOrigin),
            f.setPath(this.path),
            f.load(a, function(a) {
                e.image = a,
                    e.needsUpdate = !0,
                void 0 !== b && b(e)
            }, c, d),
            e
    },
    setCrossOrigin: function(a) {
        this.crossOrigin = a
    },
    setPath: function(a) {
        this.path = a
    }
},
THREE.CubeTextureLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager
}
,
THREE.CubeTextureLoader.prototype = {
    constructor: THREE.CubeTextureLoader,
    load: function(a, b, c, d) {
        function e(c) {
            g.load(a[c], function(a) {
                f.images[c] = a,
                    h++,
                6 === h && (f.needsUpdate = !0,
                b && b(f))
            }, void 0, d)
        }
        var f = new THREE.CubeTexture
            , g = new THREE.ImageLoader(this.manager);
        g.setCrossOrigin(this.crossOrigin),
            g.setPath(this.path);
        var h = 0;
        for (c = 0; c < a.length; ++c)
            e(c);
        return f
    },
    setCrossOrigin: function(a) {
        this.crossOrigin = a
    },
    setPath: function(a) {
        this.path = a
    }
},
THREE.DataTextureLoader = THREE.BinaryTextureLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager,
        this._parser = null
}
,
THREE.BinaryTextureLoader.prototype = {
    constructor: THREE.BinaryTextureLoader,
    load: function(a, b, c, d) {
        var e = this
            , f = new THREE.DataTexture
            , g = new THREE.XHRLoader(this.manager);
        return g.setResponseType("arraybuffer"),
            g.load(a, function(a) {
                (a = e._parser(a)) && (void 0 !== a.image ? f.image = a.image : void 0 !== a.data && (f.image.width = a.width,
                    f.image.height = a.height,
                    f.image.data = a.data),
                    f.wrapS = void 0 !== a.wrapS ? a.wrapS : THREE.ClampToEdgeWrapping,
                    f.wrapT = void 0 !== a.wrapT ? a.wrapT : THREE.ClampToEdgeWrapping,
                    f.magFilter = void 0 !== a.magFilter ? a.magFilter : THREE.LinearFilter,
                    f.minFilter = void 0 !== a.minFilter ? a.minFilter : THREE.LinearMipMapLinearFilter,
                    f.anisotropy = void 0 !== a.anisotropy ? a.anisotropy : 1,
                void 0 !== a.format && (f.format = a.format),
                void 0 !== a.type && (f.type = a.type),
                void 0 !== a.mipmaps && (f.mipmaps = a.mipmaps),
                1 === a.mipmapCount && (f.minFilter = THREE.LinearFilter),
                    f.needsUpdate = !0,
                b && b(f, a))
            }, c, d),
            f
    }
},
THREE.CompressedTextureLoader = function(a) {
    this.manager = void 0 !== a ? a : THREE.DefaultLoadingManager,
        this._parser = null
}
,
THREE.CompressedTextureLoader.prototype = {
    constructor: THREE.CompressedTextureLoader,
    load: function(a, b, c, d) {
        function e(e) {
            i.load(a[e], function(a) {
                a = f._parser(a, !0),
                    g[e] = {
                        width: a.width,
                        height: a.height,
                        format: a.format,
                        mipmaps: a.mipmaps
                    },
                    j += 1,
                6 === j && (1 === a.mipmapCount && (h.minFilter = THREE.LinearFilter),
                    h.format = a.format,
                    h.needsUpdate = !0,
                b && b(h))
            }, c, d)
        }
        var f = this
            , g = []
            , h = new THREE.CompressedTexture;
        h.image = g;
        var i = new THREE.XHRLoader(this.manager);
        if (i.setPath(this.path),
                i.setResponseType("arraybuffer"),
                Array.isArray(a))
            for (var j = 0, k = 0, l = a.length; l > k; ++k)
                e(k);
        else
            i.load(a, function(a) {
                if (a = f._parser(a, !0),
                        a.isCubemap)
                    for (var c = a.mipmaps.length / a.mipmapCount, d = 0; c > d; d++) {
                        g[d] = {
                            mipmaps: []
                        };
                        for (var e = 0; e < a.mipmapCount; e++)
                            g[d].mipmaps.push(a.mipmaps[d * a.mipmapCount + e]),
                                g[d].format = a.format,
                                g[d].width = a.width,
                                g[d].height = a.height
                    }
                else
                    h.image.width = a.width,
                        h.image.height = a.height,
                        h.mipmaps = a.mipmaps;
                1 === a.mipmapCount && (h.minFilter = THREE.LinearFilter),
                    h.format = a.format,
                    h.needsUpdate = !0,
                b && b(h)
            }, c, d);
        return h
    },
    setPath: function(a) {
        this.path = a
    }
},
THREE.Material = function() {
    Object.defineProperty(this, "id", {
        value: THREE.MaterialIdCount++
    }),
        this.uuid = THREE.Math.generateUUID(),
        this.name = "",
        this.type = "Material",
        this.lights = this.fog = !0,
        this.blending = THREE.NormalBlending,
        this.side = THREE.FrontSide,
        this.shading = THREE.SmoothShading,
        this.vertexColors = THREE.NoColors,
        this.opacity = 1,
        this.transparent = !1,
        this.blendSrc = THREE.SrcAlphaFactor,
        this.blendDst = THREE.OneMinusSrcAlphaFactor,
        this.blendEquation = THREE.AddEquation,
        this.blendEquationAlpha = this.blendDstAlpha = this.blendSrcAlpha = null ,
        this.depthFunc = THREE.LessEqualDepth,
        this.depthWrite = this.depthTest = !0,
        this.clippingPlanes = null ,
        this.clipShadows = !1,
        this.colorWrite = !0,
        this.precision = null ,
        this.polygonOffset = !1,
        this.alphaTest = this.polygonOffsetUnits = this.polygonOffsetFactor = 0,
        this.premultipliedAlpha = !1,
        this.overdraw = 0,
        this._needsUpdate = this.visible = !0
}
,
THREE.Material.prototype = {
    constructor: THREE.Material,
    get needsUpdate() {
        return this._needsUpdate
    },
    set needsUpdate(a) {
        !0 === a && this.update(),
            this._needsUpdate = a
    },
    setValues: function(a) {
        if (void 0 !== a)
            for (var b in a) {
                var c = a[b];
                if (void 0 === c)
                    console.warn("THREE.Material: '" + b + "' parameter is undefined.");
                else {
                    var d = this[b];
                    void 0 === d ? console.warn("THREE." + this.type + ": '" + b + "' is not a property of this material.") : d instanceof THREE.Color ? d.set(c) : d instanceof THREE.Vector3 && c instanceof THREE.Vector3 ? d.copy(c) : this[b] = "overdraw" === b ? Number(c) : c
                }
            }
    },
    toJSON: function(a) {
        function b(a) {
            var b, c = [];
            for (b in a) {
                var d = a[b];
                delete d.metadata,
                    c.push(d)
            }
            return c
        }
        var c = void 0 === a;
        c && (a = {
            textures: {},
            images: {}
        });
        var d = {
            metadata: {
                version: 4.4,
                type: "Material",
                generator: "Material.toJSON"
            }
        };
        return d.uuid = this.uuid,
            d.type = this.type,
        "" !== this.name && (d.name = this.name),
        this.color instanceof THREE.Color && (d.color = this.color.getHex()),
        .5 !== this.roughness && (d.roughness = this.roughness),
        .5 !== this.metalness && (d.metalness = this.metalness),
        this.emissive instanceof THREE.Color && (d.emissive = this.emissive.getHex()),
        this.specular instanceof THREE.Color && (d.specular = this.specular.getHex()),
        void 0 !== this.shininess && (d.shininess = this.shininess),
        this.map instanceof THREE.Texture && (d.map = this.map.toJSON(a).uuid),
        this.alphaMap instanceof THREE.Texture && (d.alphaMap = this.alphaMap.toJSON(a).uuid),
        this.lightMap instanceof THREE.Texture && (d.lightMap = this.lightMap.toJSON(a).uuid),
        this.bumpMap instanceof THREE.Texture && (d.bumpMap = this.bumpMap.toJSON(a).uuid,
            d.bumpScale = this.bumpScale),
        this.normalMap instanceof THREE.Texture && (d.normalMap = this.normalMap.toJSON(a).uuid,
            d.normalScale = this.normalScale.toArray()),
        this.displacementMap instanceof THREE.Texture && (d.displacementMap = this.displacementMap.toJSON(a).uuid,
            d.displacementScale = this.displacementScale,
            d.displacementBias = this.displacementBias),
        this.roughnessMap instanceof THREE.Texture && (d.roughnessMap = this.roughnessMap.toJSON(a).uuid),
        this.metalnessMap instanceof THREE.Texture && (d.metalnessMap = this.metalnessMap.toJSON(a).uuid),
        this.emissiveMap instanceof THREE.Texture && (d.emissiveMap = this.emissiveMap.toJSON(a).uuid),
        this.specularMap instanceof THREE.Texture && (d.specularMap = this.specularMap.toJSON(a).uuid),
        this.envMap instanceof THREE.Texture && (d.envMap = this.envMap.toJSON(a).uuid,
            d.reflectivity = this.reflectivity),
        void 0 !== this.size && (d.size = this.size),
        void 0 !== this.sizeAttenuation && (d.sizeAttenuation = this.sizeAttenuation),
        this.blending !== THREE.NormalBlending && (d.blending = this.blending),
        this.shading !== THREE.SmoothShading && (d.shading = this.shading),
        this.side !== THREE.FrontSide && (d.side = this.side),
        this.vertexColors !== THREE.NoColors && (d.vertexColors = this.vertexColors),
        1 > this.opacity && (d.opacity = this.opacity),
        !0 === this.transparent && (d.transparent = this.transparent),
        0 < this.alphaTest && (d.alphaTest = this.alphaTest),
        !0 === this.premultipliedAlpha && (d.premultipliedAlpha = this.premultipliedAlpha),
        !0 === this.wireframe && (d.wireframe = this.wireframe),
        1 < this.wireframeLinewidth && (d.wireframeLinewidth = this.wireframeLinewidth),
        c && (c = b(a.textures),
            a = b(a.images),
        0 < c.length && (d.textures = c),
        0 < a.length && (d.images = a)),
            d
    },
    clone: function() {
        return (new this.constructor).copy(this)
    },
    copy: function(a) {
        this.name = a.name,
            this.fog = a.fog,
            this.lights = a.lights,
            this.blending = a.blending,
            this.side = a.side,
            this.vertexColors = a.vertexColors,
            this.opacity = a.opacity,
            this.transparent = a.transparent,
            this.blendSrc = a.blendSrc,
            this.blendDst = a.blendDst,
            this.blendEquation = a.blendEquation,
            this.blendSrcAlpha = a.blendSrcAlpha,
            this.blendDstAlpha = a.blendDstAlpha,
            this.blendEquationAlpha = a.blendEquationAlpha,
            this.depthFunc = a.depthFunc,
            this.depthTest = a.depthTest,
            this.depthWrite = a.depthWrite,
            this.colorWrite = a.colorWrite,
            this.precision = a.precision,
            this.polygonOffset = a.polygonOffset,
            this.polygonOffsetFactor = a.polygonOffsetFactor,
            this.polygonOffsetUnits = a.polygonOffsetUnits,
            this.alphaTest = a.alphaTest,
            this.premultipliedAlpha = a.premultipliedAlpha,
            this.overdraw = a.overdraw,
            this.visible = a.visible,
            this.clipShadows = a.clipShadows,
            a = a.clippingPlanes;
        var b = null ;
        if (null  !== a)
            for (var c = a.length, b = Array(c), d = 0; d !== c; ++d)
                b[d] = a[d].clone();
        return this.clippingPlanes = b,
            this
    },
    update: function() {
        this.dispatchEvent({
            type: "update"
        })
    },
    dispose: function() {
        this.dispatchEvent({
            type: "dispose"
        })
    }
},
Object.assign(THREE.Material.prototype, THREE.EventDispatcher.prototype),
THREE.MaterialIdCount = 0,
THREE.LineBasicMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "LineBasicMaterial",
        this.color = new THREE.Color(16777215),
        this.linewidth = 1,
        this.linejoin = this.linecap = "round",
        this.lights = !1,
        this.setValues(a)
}
,
THREE.LineBasicMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.LineBasicMaterial.prototype.constructor = THREE.LineBasicMaterial,
THREE.LineBasicMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.linewidth = a.linewidth,
        this.linecap = a.linecap,
        this.linejoin = a.linejoin,
        this
}
,
THREE.LineDashedMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "LineDashedMaterial",
        this.color = new THREE.Color(16777215),
        this.scale = this.linewidth = 1,
        this.dashSize = 3,
        this.gapSize = 1,
        this.lights = !1,
        this.setValues(a)
}
,
THREE.LineDashedMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.LineDashedMaterial.prototype.constructor = THREE.LineDashedMaterial,
THREE.LineDashedMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.linewidth = a.linewidth,
        this.scale = a.scale,
        this.dashSize = a.dashSize,
        this.gapSize = a.gapSize,
        this
}
,
THREE.MeshBasicMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "MeshBasicMaterial",
        this.color = new THREE.Color(16777215),
        this.aoMap = this.map = null ,
        this.aoMapIntensity = 1,
        this.envMap = this.alphaMap = this.specularMap = null ,
        this.combine = THREE.MultiplyOperation,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinejoin = this.wireframeLinecap = "round",
        this.lights = this.morphTargets = this.skinning = !1,
        this.setValues(a)
}
,
THREE.MeshBasicMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.MeshBasicMaterial.prototype.constructor = THREE.MeshBasicMaterial,
THREE.MeshBasicMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.map = a.map,
        this.aoMap = a.aoMap,
        this.aoMapIntensity = a.aoMapIntensity,
        this.specularMap = a.specularMap,
        this.alphaMap = a.alphaMap,
        this.envMap = a.envMap,
        this.combine = a.combine,
        this.reflectivity = a.reflectivity,
        this.refractionRatio = a.refractionRatio,
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this.wireframeLinecap = a.wireframeLinecap,
        this.wireframeLinejoin = a.wireframeLinejoin,
        this.skinning = a.skinning,
        this.morphTargets = a.morphTargets,
        this
}
,
THREE.MeshDepthMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "MeshDepthMaterial",
        this.depthPacking = THREE.BasicDepthPacking,
        this.morphTargets = this.skinning = !1,
        this.displacementMap = this.alphaMap = this.map = null ,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.lights = this.fog = !1,
        this.setValues(a)
}
,
THREE.MeshDepthMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.MeshDepthMaterial.prototype.constructor = THREE.MeshDepthMaterial,
THREE.MeshDepthMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.depthPacking = a.depthPacking,
        this.skinning = a.skinning,
        this.morphTargets = a.morphTargets,
        this.map = a.map,
        this.alphaMap = a.alphaMap,
        this.displacementMap = a.displacementMap,
        this.displacementScale = a.displacementScale,
        this.displacementBias = a.displacementBias,
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this
}
,
THREE.MeshLambertMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "MeshLambertMaterial",
        this.color = new THREE.Color(16777215),
        this.lightMap = this.map = null ,
        this.lightMapIntensity = 1,
        this.aoMap = null ,
        this.aoMapIntensity = 1,
        this.emissive = new THREE.Color(0),
        this.emissiveIntensity = 1,
        this.envMap = this.alphaMap = this.specularMap = this.emissiveMap = null ,
        this.combine = THREE.MultiplyOperation,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinejoin = this.wireframeLinecap = "round",
        this.morphNormals = this.morphTargets = this.skinning = !1,
        this.setValues(a)
}
,
THREE.MeshLambertMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.MeshLambertMaterial.prototype.constructor = THREE.MeshLambertMaterial,
THREE.MeshLambertMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.map = a.map,
        this.lightMap = a.lightMap,
        this.lightMapIntensity = a.lightMapIntensity,
        this.aoMap = a.aoMap,
        this.aoMapIntensity = a.aoMapIntensity,
        this.emissive.copy(a.emissive),
        this.emissiveMap = a.emissiveMap,
        this.emissiveIntensity = a.emissiveIntensity,
        this.specularMap = a.specularMap,
        this.alphaMap = a.alphaMap,
        this.envMap = a.envMap,
        this.combine = a.combine,
        this.reflectivity = a.reflectivity,
        this.refractionRatio = a.refractionRatio,
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this.wireframeLinecap = a.wireframeLinecap,
        this.wireframeLinejoin = a.wireframeLinejoin,
        this.skinning = a.skinning,
        this.morphTargets = a.morphTargets,
        this.morphNormals = a.morphNormals,
        this
}
,
THREE.MeshNormalMaterial = function(a) {
    THREE.Material.call(this, a),
        this.type = "MeshNormalMaterial",
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.morphTargets = this.lights = this.fog = !1,
        this.setValues(a)
}
,
THREE.MeshNormalMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.MeshNormalMaterial.prototype.constructor = THREE.MeshNormalMaterial,
THREE.MeshNormalMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this
}
,
THREE.MeshPhongMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "MeshPhongMaterial",
        this.color = new THREE.Color(16777215),
        this.specular = new THREE.Color(1118481),
        this.shininess = 30,
        this.lightMap = this.map = null ,
        this.lightMapIntensity = 1,
        this.aoMap = null ,
        this.aoMapIntensity = 1,
        this.emissive = new THREE.Color(0),
        this.emissiveIntensity = 1,
        this.bumpMap = this.emissiveMap = null ,
        this.bumpScale = 1,
        this.normalMap = null ,
        this.normalScale = new THREE.Vector2(1,1),
        this.displacementMap = null ,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.envMap = this.alphaMap = this.specularMap = null ,
        this.combine = THREE.MultiplyOperation,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinejoin = this.wireframeLinecap = "round",
        this.morphNormals = this.morphTargets = this.skinning = !1,
        this.setValues(a)
}
,
THREE.MeshPhongMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.MeshPhongMaterial.prototype.constructor = THREE.MeshPhongMaterial,
THREE.MeshPhongMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.specular.copy(a.specular),
        this.shininess = a.shininess,
        this.map = a.map,
        this.lightMap = a.lightMap,
        this.lightMapIntensity = a.lightMapIntensity,
        this.aoMap = a.aoMap,
        this.aoMapIntensity = a.aoMapIntensity,
        this.emissive.copy(a.emissive),
        this.emissiveMap = a.emissiveMap,
        this.emissiveIntensity = a.emissiveIntensity,
        this.bumpMap = a.bumpMap,
        this.bumpScale = a.bumpScale,
        this.normalMap = a.normalMap,
        this.normalScale.copy(a.normalScale),
        this.displacementMap = a.displacementMap,
        this.displacementScale = a.displacementScale,
        this.displacementBias = a.displacementBias,
        this.specularMap = a.specularMap,
        this.alphaMap = a.alphaMap,
        this.envMap = a.envMap,
        this.combine = a.combine,
        this.reflectivity = a.reflectivity,
        this.refractionRatio = a.refractionRatio,
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this.wireframeLinecap = a.wireframeLinecap,
        this.wireframeLinejoin = a.wireframeLinejoin,
        this.skinning = a.skinning,
        this.morphTargets = a.morphTargets,
        this.morphNormals = a.morphNormals,
        this
}
,
THREE.MeshStandardMaterial = function(a) {
    THREE.Material.call(this),
        this.defines = {
            STANDARD: ""
        },
        this.type = "MeshStandardMaterial",
        this.color = new THREE.Color(16777215),
        this.metalness = this.roughness = .5,
        this.lightMap = this.map = null ,
        this.lightMapIntensity = 1,
        this.aoMap = null ,
        this.aoMapIntensity = 1,
        this.emissive = new THREE.Color(0),
        this.emissiveIntensity = 1,
        this.bumpMap = this.emissiveMap = null ,
        this.bumpScale = 1,
        this.normalMap = null ,
        this.normalScale = new THREE.Vector2(1,1),
        this.displacementMap = null ,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.envMap = this.alphaMap = this.metalnessMap = this.roughnessMap = null ,
        this.envMapIntensity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinejoin = this.wireframeLinecap = "round",
        this.morphNormals = this.morphTargets = this.skinning = !1,
        this.setValues(a)
}
,
THREE.MeshStandardMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.MeshStandardMaterial.prototype.constructor = THREE.MeshStandardMaterial,
THREE.MeshStandardMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.defines = {
            STANDARD: ""
        },
        this.color.copy(a.color),
        this.roughness = a.roughness,
        this.metalness = a.metalness,
        this.map = a.map,
        this.lightMap = a.lightMap,
        this.lightMapIntensity = a.lightMapIntensity,
        this.aoMap = a.aoMap,
        this.aoMapIntensity = a.aoMapIntensity,
        this.emissive.copy(a.emissive),
        this.emissiveMap = a.emissiveMap,
        this.emissiveIntensity = a.emissiveIntensity,
        this.bumpMap = a.bumpMap,
        this.bumpScale = a.bumpScale,
        this.normalMap = a.normalMap,
        this.normalScale.copy(a.normalScale),
        this.displacementMap = a.displacementMap,
        this.displacementScale = a.displacementScale,
        this.displacementBias = a.displacementBias,
        this.roughnessMap = a.roughnessMap,
        this.metalnessMap = a.metalnessMap,
        this.alphaMap = a.alphaMap,
        this.envMap = a.envMap,
        this.envMapIntensity = a.envMapIntensity,
        this.refractionRatio = a.refractionRatio,
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this.wireframeLinecap = a.wireframeLinecap,
        this.wireframeLinejoin = a.wireframeLinejoin,
        this.skinning = a.skinning,
        this.morphTargets = a.morphTargets,
        this.morphNormals = a.morphNormals,
        this
}
,
THREE.MeshPhysicalMaterial = function(a) {
    THREE.MeshStandardMaterial.call(this),
        this.defines = {
            PHYSICAL: ""
        },
        this.type = "MeshPhysicalMaterial",
        this.reflectivity = .5,
        this.setValues(a)
}
,
THREE.MeshPhysicalMaterial.prototype = Object.create(THREE.MeshStandardMaterial.prototype),
THREE.MeshPhysicalMaterial.prototype.constructor = THREE.MeshPhysicalMaterial,
THREE.MeshPhysicalMaterial.prototype.copy = function(a) {
    return THREE.MeshStandardMaterial.prototype.copy.call(this, a),
        this.defines = {
            PHYSICAL: ""
        },
        this.reflectivity = a.reflectivity,
        this
}
,
THREE.MultiMaterial = function(a) {
    this.uuid = THREE.Math.generateUUID(),
        this.type = "MultiMaterial",
        this.materials = a instanceof Array ? a : [],
        this.visible = !0
}
,
THREE.MultiMaterial.prototype = {
    constructor: THREE.MultiMaterial,
    toJSON: function(a) {
        for (var b = {
            metadata: {
                version: 4.2,
                type: "material",
                generator: "MaterialExporter"
            },
            uuid: this.uuid,
            type: this.type,
            materials: []
        }, c = this.materials, d = 0, e = c.length; e > d; d++) {
            var f = c[d].toJSON(a);
            delete f.metadata,
                b.materials.push(f)
        }
        return b.visible = this.visible,
            b
    },
    clone: function() {
        for (var a = new this.constructor, b = 0; b < this.materials.length; b++)
            a.materials.push(this.materials[b].clone());
        return a.visible = this.visible,
            a
    }
},
THREE.PointsMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "PointsMaterial",
        this.color = new THREE.Color(16777215),
        this.map = null ,
        this.size = 1,
        this.sizeAttenuation = !0,
        this.lights = !1,
        this.setValues(a)
}
,
THREE.PointsMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.PointsMaterial.prototype.constructor = THREE.PointsMaterial,
THREE.PointsMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.map = a.map,
        this.size = a.size,
        this.sizeAttenuation = a.sizeAttenuation,
        this
}
,
THREE.ShaderMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "ShaderMaterial",
        this.defines = {},
        this.uniforms = {},
        this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
        this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",
        this.linewidth = 1,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.morphNormals = this.morphTargets = this.skinning = this.clipping = this.lights = this.fog = !1,
        this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1
        },
        this.defaultAttributeValues = {
            color: [1, 1, 1],
            uv: [0, 0],
            uv2: [0, 0]
        },
        this.index0AttributeName = void 0,
    void 0 !== a && (void 0 !== a.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),
        this.setValues(a))
}
,
THREE.ShaderMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.ShaderMaterial.prototype.constructor = THREE.ShaderMaterial,
THREE.ShaderMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.fragmentShader = a.fragmentShader,
        this.vertexShader = a.vertexShader,
        this.uniforms = THREE.UniformsUtils.clone(a.uniforms),
        this.defines = a.defines,
        this.wireframe = a.wireframe,
        this.wireframeLinewidth = a.wireframeLinewidth,
        this.lights = a.lights,
        this.clipping = a.clipping,
        this.skinning = a.skinning,
        this.morphTargets = a.morphTargets,
        this.morphNormals = a.morphNormals,
        this.extensions = a.extensions,
        this
}
,
THREE.ShaderMaterial.prototype.toJSON = function(a) {
    return a = THREE.Material.prototype.toJSON.call(this, a),
        a.uniforms = this.uniforms,
        a.vertexShader = this.vertexShader,
        a.fragmentShader = this.fragmentShader,
        a
}
,
THREE.RawShaderMaterial = function(a) {
    THREE.ShaderMaterial.call(this, a),
        this.type = "RawShaderMaterial"
}
,
THREE.RawShaderMaterial.prototype = Object.create(THREE.ShaderMaterial.prototype),
THREE.RawShaderMaterial.prototype.constructor = THREE.RawShaderMaterial,
THREE.SpriteMaterial = function(a) {
    THREE.Material.call(this),
        this.type = "SpriteMaterial",
        this.color = new THREE.Color(16777215),
        this.map = null ,
        this.rotation = 0,
        this.lights = this.fog = !1,
        this.setValues(a)
}
,
THREE.SpriteMaterial.prototype = Object.create(THREE.Material.prototype),
THREE.SpriteMaterial.prototype.constructor = THREE.SpriteMaterial,
THREE.SpriteMaterial.prototype.copy = function(a) {
    return THREE.Material.prototype.copy.call(this, a),
        this.color.copy(a.color),
        this.map = a.map,
        this.rotation = a.rotation,
        this
}
,
THREE.ShadowMaterial = function() {
    THREE.ShaderMaterial.call(this, {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.lights, {
            opacity: {
                value: 1
            }
        }]),
        vertexShader: THREE.ShaderChunk.shadow_vert,
        fragmentShader: THREE.ShaderChunk.shadow_frag
    }),
        this.transparent = this.lights = !0,
        Object.defineProperties(this, {
            opacity: {
                enumerable: !0,
                get: function() {
                    return this.uniforms.opacity.value
                },
                set: function(a) {
                    this.uniforms.opacity.value = a
                }
            }
        })
}
,
THREE.ShadowMaterial.prototype = Object.create(THREE.ShaderMaterial.prototype),
THREE.ShadowMaterial.prototype.constructor = THREE.ShadowMaterial,
THREE.Texture = function(a, b, c, d, e, f, g, h, i, j) {
    Object.defineProperty(this, "id", {
        value: THREE.TextureIdCount++
    }),
        this.uuid = THREE.Math.generateUUID(),
        this.sourceFile = this.name = "",
        this.image = void 0 !== a ? a : THREE.Texture.DEFAULT_IMAGE,
        this.mipmaps = [],
        this.mapping = void 0 !== b ? b : THREE.Texture.DEFAULT_MAPPING,
        this.wrapS = void 0 !== c ? c : THREE.ClampToEdgeWrapping,
        this.wrapT = void 0 !== d ? d : THREE.ClampToEdgeWrapping,
        this.magFilter = void 0 !== e ? e : THREE.LinearFilter,
        this.minFilter = void 0 !== f ? f : THREE.LinearMipMapLinearFilter,
        this.anisotropy = void 0 !== i ? i : 1,
        this.format = void 0 !== g ? g : THREE.RGBAFormat,
        this.type = void 0 !== h ? h : THREE.UnsignedByteType,
        this.offset = new THREE.Vector2(0,0),
        this.repeat = new THREE.Vector2(1,1),
        this.generateMipmaps = !0,
        this.premultiplyAlpha = !1,
        this.flipY = !0,
        this.unpackAlignment = 4,
        this.encoding = void 0 !== j ? j : THREE.LinearEncoding,
        this.version = 0,
        this.onUpdate = null
}
,
THREE.Texture.DEFAULT_IMAGE = void 0,
THREE.Texture.DEFAULT_MAPPING = THREE.UVMapping,
THREE.Texture.prototype = {
    constructor: THREE.Texture,
    set needsUpdate(a) {
        !0 === a && this.version++
    },
    clone: function() {
        return (new this.constructor).copy(this)
    },
    copy: function(a) {
        return this.image = a.image,
            this.mipmaps = a.mipmaps.slice(0),
            this.mapping = a.mapping,
            this.wrapS = a.wrapS,
            this.wrapT = a.wrapT,
            this.magFilter = a.magFilter,
            this.minFilter = a.minFilter,
            this.anisotropy = a.anisotropy,
            this.format = a.format,
            this.type = a.type,
            this.offset.copy(a.offset),
            this.repeat.copy(a.repeat),
            this.generateMipmaps = a.generateMipmaps,
            this.premultiplyAlpha = a.premultiplyAlpha,
            this.flipY = a.flipY,
            this.unpackAlignment = a.unpackAlignment,
            this.encoding = a.encoding,
            this
    },
    toJSON: function(a) {
        if (void 0 !== a.textures[this.uuid])
            return a.textures[this.uuid];
        var b = {
            metadata: {
                version: 4.4,
                type: "Texture",
                generator: "Texture.toJSON"
            },
            uuid: this.uuid,
            name: this.name,
            mapping: this.mapping,
            repeat: [this.repeat.x, this.repeat.y],
            offset: [this.offset.x, this.offset.y],
            wrap: [this.wrapS, this.wrapT],
            minFilter: this.minFilter,
            magFilter: this.magFilter,
            anisotropy: this.anisotropy
        };
        if (void 0 !== this.image) {
            var c = this.image;
            if (void 0 === c.uuid && (c.uuid = THREE.Math.generateUUID()),
                void 0 === a.images[c.uuid]) {
                var d, e = a.images, f = c.uuid, g = c.uuid;
                void 0 !== c.toDataURL ? d = c : (d = document.createElement("canvas"),
                    d.width = c.width,
                    d.height = c.height,
                    d.getContext("2d").drawImage(c, 0, 0, c.width, c.height)),
                    d = 2048 < d.width || 2048 < d.height ? d.toDataURL("image/jpeg", .6) : d.toDataURL("image/png"),
                    e[f] = {
                        uuid: g,
                        url: d
                    }
            }
            b.image = c.uuid
        }
        return a.textures[this.uuid] = b
    },
    dispose: function() {
        this.dispatchEvent({
            type: "dispose"
        })
    },
    transformUv: function(a) {
        if (this.mapping === THREE.UVMapping) {
            if (a.multiply(this.repeat),
                    a.add(this.offset),
                0 > a.x || 1 < a.x)
                switch (this.wrapS) {
                    case THREE.RepeatWrapping:
                        a.x -= Math.floor(a.x);
                        break;
                    case THREE.ClampToEdgeWrapping:
                        a.x = 0 > a.x ? 0 : 1;
                        break;
                    case THREE.MirroredRepeatWrapping:
                        1 === Math.abs(Math.floor(a.x) % 2) ? a.x = Math.ceil(a.x) - a.x : a.x -= Math.floor(a.x)
                }
            if (0 > a.y || 1 < a.y)
                switch (this.wrapT) {
                    case THREE.RepeatWrapping:
                        a.y -= Math.floor(a.y);
                        break;
                    case THREE.ClampToEdgeWrapping:
                        a.y = 0 > a.y ? 0 : 1;
                        break;
                    case THREE.MirroredRepeatWrapping:
                        1 === Math.abs(Math.floor(a.y) % 2) ? a.y = Math.ceil(a.y) - a.y : a.y -= Math.floor(a.y)
                }
            this.flipY && (a.y = 1 - a.y)
        }
    }
},
Object.assign(THREE.Texture.prototype, THREE.EventDispatcher.prototype),
THREE.TextureIdCount = 0,
THREE.DepthTexture = function(a, b, c, d, e, f, g, h, i) {
    THREE.Texture.call(this, null , d, e, f, g, h, THREE.DepthFormat, c, i),
        this.image = {
            width: a,
            height: b
        },
        this.type = void 0 !== c ? c : THREE.UnsignedShortType,
        this.magFilter = void 0 !== g ? g : THREE.NearestFilter,
        this.minFilter = void 0 !== h ? h : THREE.NearestFilter,
        this.generateMipmaps = this.flipY = !1
}
,
THREE.DepthTexture.prototype = Object.create(THREE.Texture.prototype),
THREE.DepthTexture.prototype.constructor = THREE.DepthTexture,
THREE.CanvasTexture = function(a, b, c, d, e, f, g, h, i) {
    THREE.Texture.call(this, a, b, c, d, e, f, g, h, i),
        this.needsUpdate = !0
}
,
THREE.CanvasTexture.prototype = Object.create(THREE.Texture.prototype),
THREE.CanvasTexture.prototype.constructor = THREE.CanvasTexture,
THREE.CubeTexture = function(a, b, c, d, e, f, g, h, i, j) {
    a = void 0 !== a ? a : [],
        b = void 0 !== b ? b : THREE.CubeReflectionMapping,
        THREE.Texture.call(this, a, b, c, d, e, f, g, h, i, j),
        this.flipY = !1
}
,
THREE.CubeTexture.prototype = Object.create(THREE.Texture.prototype),
THREE.CubeTexture.prototype.constructor = THREE.CubeTexture,
Object.defineProperty(THREE.CubeTexture.prototype, "images", {
    get: function() {
        return this.image
    },
    set: function(a) {
        this.image = a
    }
}),
THREE.CompressedTexture = function(a, b, c, d, e, f, g, h, i, j, k, l) {
    THREE.Texture.call(this, null , f, g, h, i, j, d, e, k, l),
        this.image = {
            width: b,
            height: c
        },
        this.mipmaps = a,
        this.generateMipmaps = this.flipY = !1
}
,
THREE.CompressedTexture.prototype = Object.create(THREE.Texture.prototype),
THREE.CompressedTexture.prototype.constructor = THREE.CompressedTexture,
THREE.DataTexture = function(a, b, c, d, e, f, g, h, i, j, k, l) {
    THREE.Texture.call(this, null , f, g, h, i, j, d, e, k, l),
        this.image = {
            data: a,
            width: b,
            height: c
        },
        this.magFilter = void 0 !== i ? i : THREE.NearestFilter,
        this.minFilter = void 0 !== j ? j : THREE.NearestFilter,
        this.generateMipmaps = this.flipY = !1
}
,
THREE.DataTexture.prototype = Object.create(THREE.Texture.prototype),
THREE.DataTexture.prototype.constructor = THREE.DataTexture,
THREE.VideoTexture = function(a, b, c, d, e, f, g, h, i) {
    function j() {
        requestAnimationFrame(j),
        a.readyState >= a.HAVE_CURRENT_DATA && (k.needsUpdate = !0)
    }
    THREE.Texture.call(this, a, b, c, d, e, f, g, h, i),
        this.generateMipmaps = !1;
    var k = this;
    j()
}
,
THREE.VideoTexture.prototype = Object.create(THREE.Texture.prototype),
THREE.VideoTexture.prototype.constructor = THREE.VideoTexture,
THREE.Group = function() {
    THREE.Object3D.call(this),
        this.type = "Group"
}
,
THREE.Group.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Group
}),
THREE.Points = function(a, b) {
    THREE.Object3D.call(this),
        this.type = "Points",
        this.geometry = void 0 !== a ? a : new THREE.BufferGeometry,
        this.material = void 0 !== b ? b : new THREE.PointsMaterial({
            color: 16777215 * Math.random()
        })
}
,
THREE.Points.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Points,
    raycast: function() {
        var a = new THREE.Matrix4
            , b = new THREE.Ray
            , c = new THREE.Sphere;
        return function(d, e) {
            function f(a, c) {
                var f = b.distanceSqToPoint(a);
                if (k > f) {
                    var h = b.closestPointToPoint(a);
                    h.applyMatrix4(i);
                    var j = d.ray.origin.distanceTo(h);
                    j < d.near || j > d.far || e.push({
                        distance: j,
                        distanceToRay: Math.sqrt(f),
                        point: h.clone(),
                        index: c,
                        face: null ,
                        object: g
                    })
                }
            }
            var g = this
                , h = this.geometry
                , i = this.matrixWorld
                , j = d.params.Points.threshold;
            if (null  === h.boundingSphere && h.computeBoundingSphere(),
                    c.copy(h.boundingSphere),
                    c.applyMatrix4(i),
                !1 !== d.ray.intersectsSphere(c)) {
                a.getInverse(i),
                    b.copy(d.ray).applyMatrix4(a);
                var j = j / ((this.scale.x + this.scale.y + this.scale.z) / 3)
                    , k = j * j
                    , j = new THREE.Vector3;
                if (h instanceof THREE.BufferGeometry) {
                    var l = h.index
                        , h = h.attributes.position.array;
                    if (null  !== l)
                        for (var m = l.array, l = 0, n = m.length; n > l; l++) {
                            var o = m[l];
                            j.fromArray(h, 3 * o),
                                f(j, o)
                        }
                    else
                        for (l = 0,
                                 m = h.length / 3; m > l; l++)
                            j.fromArray(h, 3 * l),
                                f(j, l)
                } else
                    for (j = h.vertices,
                             l = 0,
                             m = j.length; m > l; l++)
                        f(j[l], l)
            }
        }
    }(),
    clone: function() {
        return new this.constructor(this.geometry,this.material).copy(this)
    }
}),
THREE.Line = function(a, b, c) {
    return 1 === c ? (console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),
        new THREE.LineSegments(a,b)) : (THREE.Object3D.call(this),
        this.type = "Line",
        this.geometry = void 0 !== a ? a : new THREE.BufferGeometry,
        void (this.material = void 0 !== b ? b : new THREE.LineBasicMaterial({
            color: 16777215 * Math.random()
        })))
}
,
THREE.Line.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Line,
    raycast: function() {
        var a = new THREE.Matrix4
            , b = new THREE.Ray
            , c = new THREE.Sphere;
        return function(d, e) {
            var f = d.linePrecision
                , f = f * f
                , g = this.geometry
                , h = this.matrixWorld;
            if (null  === g.boundingSphere && g.computeBoundingSphere(),
                    c.copy(g.boundingSphere),
                    c.applyMatrix4(h),
                !1 !== d.ray.intersectsSphere(c)) {
                a.getInverse(h),
                    b.copy(d.ray).applyMatrix4(a);
                var i = new THREE.Vector3
                    , j = new THREE.Vector3
                    , h = new THREE.Vector3
                    , k = new THREE.Vector3
                    , l = this instanceof THREE.LineSegments ? 2 : 1;
                if (g instanceof THREE.BufferGeometry) {
                    var m = g.index
                        , n = g.attributes.position.array;
                    if (null  !== m)
                        for (var m = m.array, g = 0, o = m.length - 1; o > g; g += l) {
                            var p = m[g + 1];
                            i.fromArray(n, 3 * m[g]),
                                j.fromArray(n, 3 * p),
                                p = b.distanceSqToSegment(i, j, k, h),
                            p > f || (k.applyMatrix4(this.matrixWorld),
                                p = d.ray.origin.distanceTo(k),
                            p < d.near || p > d.far || e.push({
                                distance: p,
                                point: h.clone().applyMatrix4(this.matrixWorld),
                                index: g,
                                face: null ,
                                faceIndex: null ,
                                object: this
                            }))
                        }
                    else
                        for (g = 0,
                                 o = n.length / 3 - 1; o > g; g += l)
                            i.fromArray(n, 3 * g),
                                j.fromArray(n, 3 * g + 3),
                                p = b.distanceSqToSegment(i, j, k, h),
                            p > f || (k.applyMatrix4(this.matrixWorld),
                                p = d.ray.origin.distanceTo(k),
                            p < d.near || p > d.far || e.push({
                                distance: p,
                                point: h.clone().applyMatrix4(this.matrixWorld),
                                index: g,
                                face: null ,
                                faceIndex: null ,
                                object: this
                            }))
                } else if (g instanceof THREE.Geometry)
                    for (i = g.vertices,
                             j = i.length,
                             g = 0; j - 1 > g; g += l)
                        p = b.distanceSqToSegment(i[g], i[g + 1], k, h),
                        p > f || (k.applyMatrix4(this.matrixWorld),
                            p = d.ray.origin.distanceTo(k),
                        p < d.near || p > d.far || e.push({
                            distance: p,
                            point: h.clone().applyMatrix4(this.matrixWorld),
                            index: g,
                            face: null ,
                            faceIndex: null ,
                            object: this
                        }))
            }
        }
    }(),
    clone: function() {
        return new this.constructor(this.geometry,this.material).copy(this)
    }
}),
THREE.LineSegments = function(a, b) {
    THREE.Line.call(this, a, b),
        this.type = "LineSegments"
}
,
THREE.LineSegments.prototype = Object.assign(Object.create(THREE.Line.prototype), {
    constructor: THREE.LineSegments
}),
THREE.Mesh = function(a, b) {
    THREE.Object3D.call(this),
        this.type = "Mesh",
        this.geometry = void 0 !== a ? a : new THREE.BufferGeometry,
        this.material = void 0 !== b ? b : new THREE.MeshBasicMaterial({
            color: 16777215 * Math.random()
        }),
        this.drawMode = THREE.TrianglesDrawMode,
        this.updateMorphTargets()
}
,
THREE.Mesh.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Mesh,
    setDrawMode: function(a) {
        this.drawMode = a
    },
    updateMorphTargets: function() {
        if (void 0 !== this.geometry.morphTargets && 0 < this.geometry.morphTargets.length) {
            this.morphTargetBase = -1,
                this.morphTargetInfluences = [],
                this.morphTargetDictionary = {};
            for (var a = 0, b = this.geometry.morphTargets.length; b > a; a++)
                this.morphTargetInfluences.push(0),
                    this.morphTargetDictionary[this.geometry.morphTargets[a].name] = a
        }
    },
    getMorphTargetIndexByName: function(a) {
        return void 0 !== this.morphTargetDictionary[a] ? this.morphTargetDictionary[a] : (console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target " + a + " does not exist. Returning 0."),
            0)
    },
    raycast: function() {
        function a(a, b, c, d, e, f, g) {
            return THREE.Triangle.barycoordFromPoint(a, b, c, d, p),
                e.multiplyScalar(p.x),
                f.multiplyScalar(p.y),
                g.multiplyScalar(p.z),
                e.add(f).add(g),
                e.clone()
        }
        function b(a, b, c, d, e, f, g) {
            var h = a.material;
            return null  === (h.side === THREE.BackSide ? c.intersectTriangle(f, e, d, !0, g) : c.intersectTriangle(d, e, f, h.side !== THREE.DoubleSide, g)) ? null  : (r.copy(g),
                r.applyMatrix4(a.matrixWorld),
                c = b.ray.origin.distanceTo(r),
                c < b.near || c > b.far ? null  : {
                    distance: c,
                    point: r.clone(),
                    object: a
                })
        }
        function c(c, d, e, f, j, k, l, p) {
            return g.fromArray(f, 3 * k),
                h.fromArray(f, 3 * l),
                i.fromArray(f, 3 * p),
            (c = b(c, d, e, g, h, i, q)) && (j && (m.fromArray(j, 2 * k),
                n.fromArray(j, 2 * l),
                o.fromArray(j, 2 * p),
                c.uv = a(q, g, h, i, m, n, o)),
                c.face = new THREE.Face3(k,l,p,THREE.Triangle.normal(g, h, i)),
                c.faceIndex = k),
                c
        }
        var d = new THREE.Matrix4
            , e = new THREE.Ray
            , f = new THREE.Sphere
            , g = new THREE.Vector3
            , h = new THREE.Vector3
            , i = new THREE.Vector3
            , j = new THREE.Vector3
            , k = new THREE.Vector3
            , l = new THREE.Vector3
            , m = new THREE.Vector2
            , n = new THREE.Vector2
            , o = new THREE.Vector2
            , p = new THREE.Vector3
            , q = new THREE.Vector3
            , r = new THREE.Vector3;
        return function(p, r) {
            var s = this.geometry
                , t = this.material
                , u = this.matrixWorld;
            if (void 0 !== t && (null  === s.boundingSphere && s.computeBoundingSphere(),
                    f.copy(s.boundingSphere),
                    f.applyMatrix4(u),
                !1 !== p.ray.intersectsSphere(f) && (d.getInverse(u),
                    e.copy(p.ray).applyMatrix4(d),
                null  === s.boundingBox || !1 !== e.intersectsBox(s.boundingBox)))) {
                var v, w;
                if (s instanceof THREE.BufferGeometry) {
                    var x, y, t = s.index, u = s.attributes, s = u.position.array;
                    if (void 0 !== u.uv && (v = u.uv.array),
                        null  !== t)
                        for (var u = t.array, z = 0, A = u.length; A > z; z += 3)
                            t = u[z],
                                x = u[z + 1],
                                y = u[z + 2],
                            (w = c(this, p, e, s, v, t, x, y)) && (w.faceIndex = Math.floor(z / 3),
                                r.push(w));
                    else
                        for (z = 0,
                                 A = s.length; A > z; z += 9)
                            t = z / 3,
                                x = t + 1,
                                y = t + 2,
                            (w = c(this, p, e, s, v, t, x, y)) && (w.index = t,
                                r.push(w))
                } else if (s instanceof THREE.Geometry) {
                    var B, C, u = t instanceof THREE.MultiMaterial, z = !0 === u ? t.materials : null , A = s.vertices;
                    x = s.faces,
                        y = s.faceVertexUvs[0],
                    0 < y.length && (v = y);
                    for (var D = 0, E = x.length; E > D; D++) {
                        var F = x[D];
                        if (w = !0 === u ? z[F.materialIndex] : t,
                            void 0 !== w) {
                            if (y = A[F.a],
                                    B = A[F.b],
                                    C = A[F.c],
                                !0 === w.morphTargets) {
                                w = s.morphTargets;
                                var G = this.morphTargetInfluences;
                                g.set(0, 0, 0),
                                    h.set(0, 0, 0),
                                    i.set(0, 0, 0);
                                for (var H = 0, I = w.length; I > H; H++) {
                                    var J = G[H];
                                    if (0 !== J) {
                                        var K = w[H].vertices;
                                        g.addScaledVector(j.subVectors(K[F.a], y), J),
                                            h.addScaledVector(k.subVectors(K[F.b], B), J),
                                            i.addScaledVector(l.subVectors(K[F.c], C), J)
                                    }
                                }
                                g.add(y),
                                    h.add(B),
                                    i.add(C),
                                    y = g,
                                    B = h,
                                    C = i
                            }
                            (w = b(this, p, e, y, B, C, q)) && (v && (G = v[D],
                                m.copy(G[0]),
                                n.copy(G[1]),
                                o.copy(G[2]),
                                w.uv = a(q, y, B, C, m, n, o)),
                                w.face = F,
                                w.faceIndex = D,
                                r.push(w))
                        }
                    }
                }
            }
        }
    }(),
    clone: function() {
        return new this.constructor(this.geometry,this.material).copy(this)
    }
}),
THREE.Bone = function(a) {
    THREE.Object3D.call(this),
        this.type = "Bone",
        this.skin = a
}
,
THREE.Bone.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Bone,
    copy: function(a) {
        return THREE.Object3D.prototype.copy.call(this, a),
            this.skin = a.skin,
            this
    }
}),
THREE.Skeleton = function(a, b, c) {
    if (this.useVertexTexture = void 0 === c || c,
            this.identityMatrix = new THREE.Matrix4,
            a = a || [],
            this.bones = a.slice(0),
            this.useVertexTexture ? (a = Math.sqrt(4 * this.bones.length),
                a = THREE.Math.nextPowerOfTwo(Math.ceil(a)),
                this.boneTextureHeight = this.boneTextureWidth = a = Math.max(a, 4),
                this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4),
                this.boneTexture = new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType)) : this.boneMatrices = new Float32Array(16 * this.bones.length),
        void 0 === b)
        this.calculateInverses();
    else if (this.bones.length === b.length)
        this.boneInverses = b.slice(0);
    else
        for (console.warn("THREE.Skeleton bonInverses is the wrong length."),
                 this.boneInverses = [],
                 b = 0,
                 a = this.bones.length; a > b; b++)
            this.boneInverses.push(new THREE.Matrix4)
}
,
Object.assign(THREE.Skeleton.prototype, {
    calculateInverses: function() {
        this.boneInverses = [];
        for (var a = 0, b = this.bones.length; b > a; a++) {
            var c = new THREE.Matrix4;
            this.bones[a] && c.getInverse(this.bones[a].matrixWorld),
                this.boneInverses.push(c)
        }
    },
    pose: function() {
        for (var a, b = 0, c = this.bones.length; c > b; b++)
            (a = this.bones[b]) && a.matrixWorld.getInverse(this.boneInverses[b]);
        for (b = 0,
                 c = this.bones.length; c > b; b++)
            (a = this.bones[b]) && (a.parent ? (a.matrix.getInverse(a.parent.matrixWorld),
                a.matrix.multiply(a.matrixWorld)) : a.matrix.copy(a.matrixWorld),
                a.matrix.decompose(a.position, a.quaternion, a.scale))
    },
    update: function() {
        var a = new THREE.Matrix4;
        return function() {
            for (var b = 0, c = this.bones.length; c > b; b++)
                a.multiplyMatrices(this.bones[b] ? this.bones[b].matrixWorld : this.identityMatrix, this.boneInverses[b]),
                    a.toArray(this.boneMatrices, 16 * b);
            this.useVertexTexture && (this.boneTexture.needsUpdate = !0)
        }
    }(),
    clone: function() {
        return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)
    }
}),
THREE.SkinnedMesh = function(a, b, c) {
    if (THREE.Mesh.call(this, a, b),
            this.type = "SkinnedMesh",
            this.bindMode = "attached",
            this.bindMatrix = new THREE.Matrix4,
            this.bindMatrixInverse = new THREE.Matrix4,
            a = [],
        this.geometry && void 0 !== this.geometry.bones) {
        for (var d, e = 0, f = this.geometry.bones.length; f > e; ++e)
            d = this.geometry.bones[e],
                b = new THREE.Bone(this),
                a.push(b),
                b.name = d.name,
                b.position.fromArray(d.pos),
                b.quaternion.fromArray(d.rotq),
            void 0 !== d.scl && b.scale.fromArray(d.scl);
        for (e = 0,
                 f = this.geometry.bones.length; f > e; ++e)
            d = this.geometry.bones[e],
                -1 !== d.parent && null  !== d.parent && void 0 !== a[d.parent] ? a[d.parent].add(a[e]) : this.add(a[e])
    }
    this.normalizeSkinWeights(),
        this.updateMatrixWorld(!0),
        this.bind(new THREE.Skeleton(a,void 0,c), this.matrixWorld)
}
,
THREE.SkinnedMesh.prototype = Object.assign(Object.create(THREE.Mesh.prototype), {
    constructor: THREE.SkinnedMesh,
    bind: function(a, b) {
        this.skeleton = a,
        void 0 === b && (this.updateMatrixWorld(!0),
            this.skeleton.calculateInverses(),
            b = this.matrixWorld),
            this.bindMatrix.copy(b),
            this.bindMatrixInverse.getInverse(b)
    },
    pose: function() {
        this.skeleton.pose()
    },
    normalizeSkinWeights: function() {
        if (this.geometry instanceof THREE.Geometry)
            for (var a = 0; a < this.geometry.skinWeights.length; a++) {
                var b = this.geometry.skinWeights[a]
                    , c = 1 / b.lengthManhattan();
                1 / 0 !== c ? b.multiplyScalar(c) : b.set(1, 0, 0, 0)
            }
        else if (this.geometry instanceof THREE.BufferGeometry)
            for (var b = new THREE.Vector4, d = this.geometry.attributes.skinWeight, a = 0; a < d.count; a++)
                b.x = d.getX(a),
                    b.y = d.getY(a),
                    b.z = d.getZ(a),
                    b.w = d.getW(a),
                    c = 1 / b.lengthManhattan(),
                    1 / 0 !== c ? b.multiplyScalar(c) : b.set(1, 0, 0, 0),
                    d.setXYZW(a, b.x, b.y, b.z, b.w)
    },
    updateMatrixWorld: function(a) {
        THREE.Mesh.prototype.updateMatrixWorld.call(this, !0),
            "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh unrecognized bindMode: " + this.bindMode)
    },
    clone: function() {
        return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)
    }
}),
THREE.LOD = function() {
    THREE.Object3D.call(this),
        this.type = "LOD",
        Object.defineProperties(this, {
            levels: {
                enumerable: !0,
                value: []
            }
        })
}
,
THREE.LOD.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.LOD,
    copy: function(a) {
        THREE.Object3D.prototype.copy.call(this, a, !1),
            a = a.levels;
        for (var b = 0, c = a.length; c > b; b++) {
            var d = a[b];
            this.addLevel(d.object.clone(), d.distance)
        }
        return this
    },
    addLevel: function(a, b) {
        void 0 === b && (b = 0),
            b = Math.abs(b);
        for (var c = this.levels, d = 0; d < c.length && !(b < c[d].distance); d++)
            ;
        c.splice(d, 0, {
            distance: b,
            object: a
        }),
            this.add(a)
    },
    getObjectForDistance: function(a) {
        for (var b = this.levels, c = 1, d = b.length; d > c && !(a < b[c].distance); c++)
            ;
        return b[c - 1].object
    },
    raycast: function() {
        var a = new THREE.Vector3;
        return function(b, c) {
            a.setFromMatrixPosition(this.matrixWorld);
            var d = b.ray.origin.distanceTo(a);
            this.getObjectForDistance(d).raycast(b, c)
        }
    }(),
    update: function() {
        var a = new THREE.Vector3
            , b = new THREE.Vector3;
        return function(c) {
            var d = this.levels;
            if (1 < d.length) {
                a.setFromMatrixPosition(c.matrixWorld),
                    b.setFromMatrixPosition(this.matrixWorld),
                    c = a.distanceTo(b),
                    d[0].object.visible = !0;
                for (var e = 1, f = d.length; f > e && c >= d[e].distance; e++)
                    d[e - 1].object.visible = !1,
                        d[e].object.visible = !0;
                for (; f > e; e++)
                    d[e].object.visible = !1
            }
        }
    }(),
    toJSON: function(a) {
        a = THREE.Object3D.prototype.toJSON.call(this, a),
            a.object.levels = [];
        for (var b = this.levels, c = 0, d = b.length; d > c; c++) {
            var e = b[c];
            a.object.levels.push({
                object: e.object.uuid,
                distance: e.distance
            })
        }
        return a
    }
}),
THREE.Sprite = function(a) {
    THREE.Object3D.call(this),
        this.type = "Sprite",
        this.material = void 0 !== a ? a : new THREE.SpriteMaterial
}
,
THREE.Sprite.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.Sprite,
    raycast: function() {
        var a = new THREE.Vector3;
        return function(b, c) {
            a.setFromMatrixPosition(this.matrixWorld);
            var d = b.ray.distanceSqToPoint(a);
            d > this.scale.x * this.scale.y / 4 || c.push({
                distance: Math.sqrt(d),
                point: this.position,
                face: null ,
                object: this
            })
        }
    }(),
    clone: function() {
        return new this.constructor(this.material).copy(this)
    }
}),
THREE.LensFlare = function(a, b, c, d, e) {
    THREE.Object3D.call(this),
        this.lensFlares = [],
        this.positionScreen = new THREE.Vector3,
        this.customUpdateCallback = void 0,
    void 0 !== a && this.add(a, b, c, d, e)
}
,
THREE.LensFlare.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {
    constructor: THREE.LensFlare,
    copy: function(a) {
        THREE.Object3D.prototype.copy.call(this, a),
            this.positionScreen.copy(a.positionScreen),
            this.customUpdateCallback = a.customUpdateCallback;
        for (var b = 0, c = a.lensFlares.length; c > b; b++)
            this.lensFlares.push(a.lensFlares[b]);
        return this
    },
    add: function(a, b, c, d, e, f) {
        void 0 === b && (b = -1),
        void 0 === c && (c = 0),
        void 0 === f && (f = 1),
        void 0 === e && (e = new THREE.Color(16777215)),
        void 0 === d && (d = THREE.NormalBlending),
            c = Math.min(c, Math.max(0, c)),
            this.lensFlares.push({
                texture: a,
                size: b,
                distance: c,
                x: 0,
                y: 0,
                z: 0,
                scale: 1,
                rotation: 0,
                opacity: f,
                color: e,
                blending: d
            })
    },
    updateLensFlares: function() {
        var a, b, c = this.lensFlares.length, d = 2 * -this.positionScreen.x, e = 2 * -this.positionScreen.y;
        for (a = 0; c > a; a++)
            b = this.lensFlares[a],
                b.x = this.positionScreen.x + d * b.distance,
                b.y = this.positionScreen.y + e * b.distance,
                b.wantedRotation = b.x * Math.PI * .25,
                b.rotation += .25 * (b.wantedRotation - b.rotation)
    }
}),
THREE.Scene = function() {
    THREE.Object3D.call(this),
        this.type = "Scene",
        this.overrideMaterial = this.fog = null ,
        this.autoUpdate = !0
}
,
THREE.Scene.prototype = Object.create(THREE.Object3D.prototype),
THREE.Scene.prototype.constructor = THREE.Scene,
THREE.Scene.prototype.copy = function(a, b) {
    return THREE.Object3D.prototype.copy.call(this, a, b),
    null  !== a.fog && (this.fog = a.fog.clone()),
    null  !== a.overrideMaterial && (this.overrideMaterial = a.overrideMaterial.clone()),
        this.autoUpdate = a.autoUpdate,
        this.matrixAutoUpdate = a.matrixAutoUpdate,
        this
}
,
THREE.Fog = function(a, b, c) {
    this.name = "",
        this.color = new THREE.Color(a),
        this.near = void 0 !== b ? b : 1,
        this.far = void 0 !== c ? c : 1e3
}
,
THREE.Fog.prototype.clone = function() {
    return new THREE.Fog(this.color.getHex(),this.near,this.far)
}
,
THREE.FogExp2 = function(a, b) {
    this.name = "",
        this.color = new THREE.Color(a),
        this.density = void 0 !== b ? b : 25e-5
}
,
THREE.FogExp2.prototype.clone = function() {
    return new THREE.FogExp2(this.color.getHex(),this.density)
}
,
THREE.ShaderChunk = {},
THREE.ShaderChunk.alphamap_fragment = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
THREE.ShaderChunk.alphamap_pars_fragment = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
THREE.ShaderChunk.alphatest_fragment = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
THREE.ShaderChunk.aomap_fragment = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
THREE.ShaderChunk.aomap_pars_fragment = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
THREE.ShaderChunk.begin_vertex = "\nvec3 transformed = vec3( position );\n",
THREE.ShaderChunk.beginnormal_vertex = "\nvec3 objectNormal = vec3( normal );\n",
THREE.ShaderChunk.bsdfs = "bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
THREE.ShaderChunk.bumpmap_pars_fragment = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
THREE.ShaderChunk.clipping_planes_fragment = "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n",
THREE.ShaderChunk.clipping_planes_pars_fragment = "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
THREE.ShaderChunk.clipping_planes_pars_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
THREE.ShaderChunk.clipping_planes_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
THREE.ShaderChunk.color_fragment = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
THREE.ShaderChunk.color_pars_fragment = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
THREE.ShaderChunk.color_pars_vertex = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
THREE.ShaderChunk.color_vertex = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
THREE.ShaderChunk.common = "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",
THREE.ShaderChunk.cube_uv_reflection_fragment = "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
THREE.ShaderChunk.defaultnormal_vertex = "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",
THREE.ShaderChunk.displacementmap_vertex = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
THREE.ShaderChunk.displacementmap_pars_vertex = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
THREE.ShaderChunk.emissivemap_fragment = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
THREE.ShaderChunk.emissivemap_pars_fragment = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
THREE.ShaderChunk.encodings_pars_fragment = "\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",
THREE.ShaderChunk.encodings_fragment = "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
THREE.ShaderChunk.envmap_fragment = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
THREE.ShaderChunk.envmap_pars_fragment = "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
THREE.ShaderChunk.envmap_pars_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
THREE.ShaderChunk.envmap_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
THREE.ShaderChunk.fog_fragment = "#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
THREE.ShaderChunk.fog_pars_fragment = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
THREE.ShaderChunk.lightmap_fragment = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
THREE.ShaderChunk.lightmap_pars_fragment = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
THREE.ShaderChunk.lights_lambert_vertex = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
THREE.ShaderChunk.lights_pars = "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
THREE.ShaderChunk.lights_phong_fragment = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
THREE.ShaderChunk.lights_phong_pars_fragment = "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
THREE.ShaderChunk.lights_physical_fragment = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n",
THREE.ShaderChunk.lights_physical_pars_fragment = "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
THREE.ShaderChunk.lights_template = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n",
THREE.ShaderChunk.logdepthbuf_fragment = "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",
THREE.ShaderChunk.logdepthbuf_pars_fragment = "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
THREE.ShaderChunk.logdepthbuf_pars_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
THREE.ShaderChunk.logdepthbuf_vertex = "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
THREE.ShaderChunk.map_fragment = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
THREE.ShaderChunk.map_pars_fragment = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
THREE.ShaderChunk.map_particle_fragment = "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
THREE.ShaderChunk.map_particle_pars_fragment = "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
THREE.ShaderChunk.metalnessmap_fragment = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",
THREE.ShaderChunk.metalnessmap_pars_fragment = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
THREE.ShaderChunk.morphnormal_vertex = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
THREE.ShaderChunk.morphtarget_pars_vertex = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
THREE.ShaderChunk.morphtarget_vertex = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
THREE.ShaderChunk.normal_fragment = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
THREE.ShaderChunk.normalmap_pars_fragment = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
THREE.ShaderChunk.packing = "vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
THREE.ShaderChunk.premultiplied_alpha_fragment = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
THREE.ShaderChunk.project_vertex = "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",
THREE.ShaderChunk.roughnessmap_fragment = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",
THREE.ShaderChunk.roughnessmap_pars_fragment = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
THREE.ShaderChunk.shadowmap_pars_fragment = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
THREE.ShaderChunk.shadowmap_pars_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
THREE.ShaderChunk.shadowmap_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
THREE.ShaderChunk.shadowmask_pars_fragment = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
THREE.ShaderChunk.skinbase_vertex = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
THREE.ShaderChunk.skinning_pars_vertex = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
THREE.ShaderChunk.skinning_vertex = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",
THREE.ShaderChunk.skinnormal_vertex = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
THREE.ShaderChunk.specularmap_fragment = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
THREE.ShaderChunk.specularmap_pars_fragment = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
THREE.ShaderChunk.tonemapping_fragment = "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
THREE.ShaderChunk.tonemapping_pars_fragment = "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
THREE.ShaderChunk.uv2_pars_fragment = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
THREE.ShaderChunk.uv2_pars_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
THREE.ShaderChunk.uv2_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
THREE.ShaderChunk.uv_pars_fragment = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
THREE.ShaderChunk.uv_pars_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
THREE.ShaderChunk.uv_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
THREE.ShaderChunk.worldpos_vertex = "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",
THREE.UniformsUtils = {
    merge: function(a) {
        for (var b = {}, c = 0; c < a.length; c++) {
            var d, e = this.clone(a[c]);
            for (d in e)
                b[d] = e[d]
        }
        return b
    },
    clone: function(a) {
        var b, c = {};
        for (b in a) {
            c[b] = {};
            for (var d in a[b]) {
                var e = a[b][d];
                e instanceof THREE.Color || e instanceof THREE.Vector2 || e instanceof THREE.Vector3 || e instanceof THREE.Vector4 || e instanceof THREE.Matrix3 || e instanceof THREE.Matrix4 || e instanceof THREE.Texture ? c[b][d] = e.clone() : Array.isArray(e) ? c[b][d] = e.slice() : c[b][d] = e
            }
        }
        return c
    }
},
THREE.UniformsLib = {
    common: {
        diffuse: {
            type: "c",
            value: new THREE.Color(15658734)
        },
        opacity: {
            type: "1f",
            value: 1
        },
        map: {
            type: "t",
            value: null
        },
        offsetRepeat: {
            type: "v4",
            value: new THREE.Vector4(0,0,1,1)
        },
        specularMap: {
            type: "t",
            value: null
        },
        alphaMap: {
            type: "t",
            value: null
        },
        envMap: {
            type: "t",
            value: null
        },
        flipEnvMap: {
            type: "1f",
            value: -1
        },
        reflectivity: {
            type: "1f",
            value: 1
        },
        refractionRatio: {
            type: "1f",
            value: .98
        }
    },
    aomap: {
        aoMap: {
            type: "t",
            value: null
        },
        aoMapIntensity: {
            type: "1f",
            value: 1
        }
    },
    lightmap: {
        lightMap: {
            type: "t",
            value: null
        },
        lightMapIntensity: {
            type: "1f",
            value: 1
        }
    },
    emissivemap: {
        emissiveMap: {
            type: "t",
            value: null
        }
    },
    bumpmap: {
        bumpMap: {
            type: "t",
            value: null
        },
        bumpScale: {
            type: "1f",
            value: 1
        }
    },
    normalmap: {
        normalMap: {
            type: "t",
            value: null
        },
        normalScale: {
            type: "v2",
            value: new THREE.Vector2(1,1)
        }
    },
    displacementmap: {
        displacementMap: {
            type: "t",
            value: null
        },
        displacementScale: {
            type: "1f",
            value: 1
        },
        displacementBias: {
            type: "1f",
            value: 0
        }
    },
    roughnessmap: {
        roughnessMap: {
            type: "t",
            value: null
        }
    },
    metalnessmap: {
        metalnessMap: {
            type: "t",
            value: null
        }
    },
    fog: {
        fogDensity: {
            type: "1f",
            value: 25e-5
        },
        fogNear: {
            type: "1f",
            value: 1
        },
        fogFar: {
            type: "1f",
            value: 2e3
        },
        fogColor: {
            type: "c",
            value: new THREE.Color(16777215)
        }
    },
    lights: {
        ambientLightColor: {
            type: "3fv",
            value: []
        },
        directionalLights: {
            type: "sa",
            value: [],
            properties: {
                direction: {
                    type: "v3"
                },
                color: {
                    type: "c"
                },
                shadow: {
                    type: "1i"
                },
                shadowBias: {
                    type: "1f"
                },
                shadowRadius: {
                    type: "1f"
                },
                shadowMapSize: {
                    type: "v2"
                }
            }
        },
        directionalShadowMap: {
            type: "tv",
            value: []
        },
        directionalShadowMatrix: {
            type: "m4v",
            value: []
        },
        spotLights: {
            type: "sa",
            value: [],
            properties: {
                color: {
                    type: "c"
                },
                position: {
                    type: "v3"
                },
                direction: {
                    type: "v3"
                },
                distance: {
                    type: "1f"
                },
                coneCos: {
                    type: "1f"
                },
                penumbraCos: {
                    type: "1f"
                },
                decay: {
                    type: "1f"
                },
                shadow: {
                    type: "1i"
                },
                shadowBias: {
                    type: "1f"
                },
                shadowRadius: {
                    type: "1f"
                },
                shadowMapSize: {
                    type: "v2"
                }
            }
        },
        spotShadowMap: {
            type: "tv",
            value: []
        },
        spotShadowMatrix: {
            type: "m4v",
            value: []
        },
        pointLights: {
            type: "sa",
            value: [],
            properties: {
                color: {
                    type: "c"
                },
                position: {
                    type: "v3"
                },
                decay: {
                    type: "1f"
                },
                distance: {
                    type: "1f"
                },
                shadow: {
                    type: "1i"
                },
                shadowBias: {
                    type: "1f"
                },
                shadowRadius: {
                    type: "1f"
                },
                shadowMapSize: {
                    type: "v2"
                }
            }
        },
        pointShadowMap: {
            type: "tv",
            value: []
        },
        pointShadowMatrix: {
            type: "m4v",
            value: []
        },
        hemisphereLights: {
            type: "sa",
            value: [],
            properties: {
                direction: {
                    type: "v3"
                },
                skyColor: {
                    type: "c"
                },
                groundColor: {
                    type: "c"
                }
            }
        }
    },
    points: {
        diffuse: {
            type: "c",
            value: new THREE.Color(15658734)
        },
        opacity: {
            type: "1f",
            value: 1
        },
        size: {
            type: "1f",
            value: 1
        },
        scale: {
            type: "1f",
            value: 1
        },
        map: {
            type: "t",
            value: null
        },
        offsetRepeat: {
            type: "v4",
            value: new THREE.Vector4(0,0,1,1)
        }
    }
},
THREE.ShaderChunk.cube_frag = "uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n",
THREE.ShaderChunk.cube_vert = "varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
THREE.ShaderChunk.depth_frag = "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
THREE.ShaderChunk.depth_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
THREE.ShaderChunk.distanceRGBA_frag = "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",
THREE.ShaderChunk.distanceRGBA_vert = "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
THREE.ShaderChunk.equirect_frag = "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n",
THREE.ShaderChunk.equirect_vert = "varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
THREE.ShaderChunk.linedashed_frag = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
THREE.ShaderChunk.linedashed_vert = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
THREE.ShaderChunk.meshbasic_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
THREE.ShaderChunk.meshbasic_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",
THREE.ShaderChunk.meshlambert_frag = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
THREE.ShaderChunk.meshlambert_vert = "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",
THREE.ShaderChunk.meshphong_frag = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
THREE.ShaderChunk.meshphong_vert = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",
THREE.ShaderChunk.meshphysical_frag = "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
THREE.ShaderChunk.meshphysical_vert = "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
THREE.ShaderChunk.normal_frag = "uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",
THREE.ShaderChunk.normal_vert = "varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
THREE.ShaderChunk.points_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
THREE.ShaderChunk.points_vert = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
THREE.ShaderChunk.shadow_frag = "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",
THREE.ShaderChunk.shadow_vert = "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
THREE.ShaderLib = {
    basic: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.fog]),
        vertexShader: THREE.ShaderChunk.meshbasic_vert,
        fragmentShader: THREE.ShaderChunk.meshbasic_frag
    },
    lambert: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.lightmap, THREE.UniformsLib.emissivemap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, {
            emissive: {
                type: "c",
                value: new THREE.Color(0)
            }
        }]),
        vertexShader: THREE.ShaderChunk.meshlambert_vert,
        fragmentShader: THREE.ShaderChunk.meshlambert_frag
    },
    phong: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.lightmap, THREE.UniformsLib.emissivemap, THREE.UniformsLib.bumpmap, THREE.UniformsLib.normalmap, THREE.UniformsLib.displacementmap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, {
            emissive: {
                type: "c",
                value: new THREE.Color(0)
            },
            specular: {
                type: "c",
                value: new THREE.Color(1118481)
            },
            shininess: {
                type: "1f",
                value: 30
            }
        }]),
        vertexShader: THREE.ShaderChunk.meshphong_vert,
        fragmentShader: THREE.ShaderChunk.meshphong_frag
    },
    standard: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.lightmap, THREE.UniformsLib.emissivemap, THREE.UniformsLib.bumpmap, THREE.UniformsLib.normalmap, THREE.UniformsLib.displacementmap, THREE.UniformsLib.roughnessmap, THREE.UniformsLib.metalnessmap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, {
            emissive: {
                type: "c",
                value: new THREE.Color(0)
            },
            roughness: {
                type: "1f",
                value: .5
            },
            metalness: {
                type: "1f",
                value: 0
            },
            envMapIntensity: {
                type: "1f",
                value: 1
            }
        }]),
        vertexShader: THREE.ShaderChunk.meshphysical_vert,
        fragmentShader: THREE.ShaderChunk.meshphysical_frag
    },
    points: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.points, THREE.UniformsLib.fog]),
        vertexShader: THREE.ShaderChunk.points_vert,
        fragmentShader: THREE.ShaderChunk.points_frag
    },
    dashed: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.fog, {
            scale: {
                type: "1f",
                value: 1
            },
            dashSize: {
                type: "1f",
                value: 1
            },
            totalSize: {
                type: "1f",
                value: 2
            }
        }]),
        vertexShader: THREE.ShaderChunk.linedashed_vert,
        fragmentShader: THREE.ShaderChunk.linedashed_frag
    },
    depth: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.displacementmap]),
        vertexShader: THREE.ShaderChunk.depth_vert,
        fragmentShader: THREE.ShaderChunk.depth_frag
    },
    normal: {
        uniforms: {
            opacity: {
                type: "1f",
                value: 1
            }
        },
        vertexShader: THREE.ShaderChunk.normal_vert,
        fragmentShader: THREE.ShaderChunk.normal_frag
    },
    cube: {
        uniforms: {
            tCube: {
                type: "t",
                value: null
            },
            tFlip: {
                type: "1f",
                value: -1
            }
        },
        vertexShader: THREE.ShaderChunk.cube_vert,
        fragmentShader: THREE.ShaderChunk.cube_frag
    },
    equirect: {
        uniforms: {
            tEquirect: {
                type: "t",
                value: null
            },
            tFlip: {
                type: "1f",
                value: -1
            }
        },
        vertexShader: THREE.ShaderChunk.equirect_vert,
        fragmentShader: THREE.ShaderChunk.equirect_frag
    },
    distanceRGBA: {
        uniforms: {
            lightPos: {
                type: "v3",
                value: new THREE.Vector3
            }
        },
        vertexShader: THREE.ShaderChunk.distanceRGBA_vert,
        fragmentShader: THREE.ShaderChunk.distanceRGBA_frag
    }
},
THREE.ShaderLib.physical = {
    uniforms: THREE.UniformsUtils.merge([THREE.ShaderLib.standard.uniforms, {}]),
    vertexShader: THREE.ShaderChunk.meshphysical_vert,
    fragmentShader: THREE.ShaderChunk.meshphysical_frag
},
THREE.WebGLRenderer = function(a) {
    function b(a, b, c, d) {
        !0 === G && (a *= d,
            b *= d,
            c *= d),
            va.clearColor(a, b, c, d)
    }
    function c() {
        va.init(),
            va.scissor(X.copy(ea).multiplyScalar(da)),
            va.viewport(Z.copy(ga).multiplyScalar(da)),
            b(_.r, _.g, _.b, aa)
    }
    function d() {
        W = R = null ,
            V = "",
            U = -1,
            va.reset()
    }
    function e(a) {
        a.preventDefault(),
            d(),
            c(),
            wa.clear()
    }
    function f(a) {
        a = a.target,
            a.removeEventListener("dispose", f);
        a: {
            var b = wa.get(a);
            if (a.image && b.__image__webglTextureCube)
                ra.deleteTexture(b.__image__webglTextureCube);
            else {
                if (void 0 === b.__webglInit)
                    break a;
                ra.deleteTexture(b.__webglTexture)
            }
            wa.delete(a)
        }
        pa.textures--
    }
    function g(a) {
        a = a.target,
            a.removeEventListener("dispose", g);
        var b = wa.get(a)
            , c = wa.get(a.texture);
        if (a) {
            if (void 0 !== c.__webglTexture && ra.deleteTexture(c.__webglTexture),
                a.depthTexture && a.depthTexture.dispose(),
                a instanceof THREE.WebGLRenderTargetCube)
                for (c = 0; 6 > c; c++)
                    ra.deleteFramebuffer(b.__webglFramebuffer[c]),
                    b.__webglDepthbuffer && ra.deleteRenderbuffer(b.__webglDepthbuffer[c]);
            else
                ra.deleteFramebuffer(b.__webglFramebuffer),
                b.__webglDepthbuffer && ra.deleteRenderbuffer(b.__webglDepthbuffer);
            wa.delete(a.texture),
                wa.delete(a)
        }
        pa.textures--
    }
    function h(a) {
        a = a.target,
            a.removeEventListener("dispose", h),
            i(a),
            wa.delete(a)
    }
    function i(a) {
        var b = wa.get(a).program;
        a.program = void 0,
        void 0 !== b && ya.releaseProgram(b)
    }
    function j(a, b) {
        return Math.abs(b[0]) - Math.abs(a[0])
    }
    function k(a, b) {
        return a.object.renderOrder !== b.object.renderOrder ? a.object.renderOrder - b.object.renderOrder : a.material.id !== b.material.id ? a.material.id - b.material.id : a.z !== b.z ? a.z - b.z : a.id - b.id
    }
    function l(a, b) {
        return a.object.renderOrder !== b.object.renderOrder ? a.object.renderOrder - b.object.renderOrder : a.z !== b.z ? b.z - a.z : a.id - b.id
    }
    function m(a, b, c, d, e) {
        var f;
        c.transparent ? (d = L,
            f = ++M) : (d = J,
            f = ++K),
            f = d[f],
            void 0 !== f ? (f.id = a.id,
                f.object = a,
                f.geometry = b,
                f.material = c,
                f.z = na.z,
                f.group = e) : (f = {
                id: a.id,
                object: a,
                geometry: b,
                material: c,
                z: na.z,
                group: e
            },
                d.push(f))
    }
    function n(a) {
        if (!ha.intersectsSphere(a))
            return !1;
        var b = ia.numPlanes;
        if (0 === b)
            return !0;
        var c = Q.clippingPlanes
            , d = a.center;
        a = -a.radius;
        var e = 0;
        do
            if (c[e].distanceToPoint(d) < a)
                return !1;
        while (++e !== b);return !0
    }
    function o(a, b) {
        if (!1 !== a.visible) {
            if (a.layers.test(b.layers))
                if (a instanceof THREE.Light)
                    I.push(a);
                else if (a instanceof THREE.Sprite) {
                    var c;
                    (c = !1 === a.frustumCulled) || (la.center.set(0, 0, 0),
                        la.radius = .7071067811865476,
                        la.applyMatrix4(a.matrixWorld),
                        c = !0 === n(la)),
                    c && O.push(a)
                } else if (a instanceof THREE.LensFlare)
                    P.push(a);
                else if (a instanceof THREE.ImmediateRenderObject)
                    !0 === Q.sortObjects && (na.setFromMatrixPosition(a.matrixWorld),
                        na.applyProjection(ma)),
                        m(a, null , a.material, na.z, null );
                else if ((a instanceof THREE.Mesh || a instanceof THREE.Line || a instanceof THREE.Points) && (a instanceof THREE.SkinnedMesh && a.skeleton.update(),
                    (c = !1 === a.frustumCulled) || (c = a.geometry,
                    null  === c.boundingSphere && c.computeBoundingSphere(),
                        la.copy(c.boundingSphere).applyMatrix4(a.matrixWorld),
                        c = !0 === n(la)),
                        c)) {
                    var d = a.material;
                    if (!0 === d.visible)
                        if (!0 === Q.sortObjects && (na.setFromMatrixPosition(a.matrixWorld),
                                na.applyProjection(ma)),
                                c = xa.update(a),
                            d instanceof THREE.MultiMaterial)
                            for (var e = c.groups, f = d.materials, d = 0, g = e.length; g > d; d++) {
                                var h = e[d]
                                    , i = f[h.materialIndex];
                                !0 === i.visible && m(a, c, i, na.z, h)
                            }
                        else
                            m(a, c, d, na.z, null )
                }
            for (c = a.children,
                     d = 0,
                     g = c.length; g > d; d++)
                o(c[d], b)
        }
    }
    function p(a, b, c, d) {
        for (var e = 0, f = a.length; f > e; e++) {
            var g = a[e]
                , h = g.object
                , i = g.geometry
                , j = void 0 === d ? g.material : d
                , g = g.group;
            if (h.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse, h.matrixWorld),
                    h.normalMatrix.getNormalMatrix(h.modelViewMatrix),
                h instanceof THREE.ImmediateRenderObject) {
                q(j);
                var k = r(b, c, j, h);
                V = "",
                    h.render(function(a) {
                        Q.renderBufferImmediate(a, k, j)
                    })
            } else
                Q.renderBufferDirect(b, c, i, j, h, g)
        }
    }
    function q(a) {
        a.side !== THREE.DoubleSide ? va.enable(ra.CULL_FACE) : va.disable(ra.CULL_FACE),
            va.setFlipSided(a.side === THREE.BackSide),
            !0 === a.transparent ? va.setBlending(a.blending, a.blendEquation, a.blendSrc, a.blendDst, a.blendEquationAlpha, a.blendSrcAlpha, a.blendDstAlpha, a.premultipliedAlpha) : va.setBlending(THREE.NoBlending),
            va.setDepthFunc(a.depthFunc),
            va.setDepthTest(a.depthTest),
            va.setDepthWrite(a.depthWrite),
            va.setColorWrite(a.colorWrite),
            va.setPolygonOffset(a.polygonOffset, a.polygonOffsetFactor, a.polygonOffsetUnits)
    }
    function r(a, b, c, d) {
        $ = 0;
        var e = wa.get(c);
        if (ja && ((ka || a !== W) && ia.setState(c.clippingPlanes, c.clipShadows, a, e, a === W && c.id === U),
            void 0 !== e.numClippingPlanes && e.numClippingPlanes !== ia.numPlanes && (c.needsUpdate = !0)),
            void 0 === e.program && (c.needsUpdate = !0),
            void 0 !== e.lightsHash && e.lightsHash !== oa.hash && (c.needsUpdate = !0),
                c.needsUpdate) {
            a: {
                var f = wa.get(c)
                    , g = ya.getParameters(c, oa, b, ia.numPlanes, d)
                    , j = ya.getProgramCode(c, g)
                    , k = f.program
                    , l = !0;
                if (void 0 === k)
                    c.addEventListener("dispose", h);
                else if (k.code !== j)
                    i(c);
                else {
                    if (void 0 !== g.shaderID)
                        break a;
                    l = !1
                }
                if (l && (g.shaderID ? (k = THREE.ShaderLib[g.shaderID],
                        f.__webglShader = {
                            name: c.type,
                            uniforms: THREE.UniformsUtils.clone(k.uniforms),
                            vertexShader: k.vertexShader,
                            fragmentShader: k.fragmentShader
                        }) : f.__webglShader = {
                        name: c.type,
                        uniforms: c.uniforms,
                        vertexShader: c.vertexShader,
                        fragmentShader: c.fragmentShader
                    },
                        c.__webglShader = f.__webglShader,
                        k = ya.acquireProgram(c, g, j),
                        f.program = k,
                        c.program = k),
                        g = k.getAttributes(),
                        c.morphTargets)
                    for (j = c.numSupportedMorphTargets = 0; j < Q.maxMorphTargets; j++)
                        0 <= g["morphTarget" + j] && c.numSupportedMorphTargets++;
                if (c.morphNormals)
                    for (j = c.numSupportedMorphNormals = 0; j < Q.maxMorphNormals; j++)
                        0 <= g["morphNormal" + j] && c.numSupportedMorphNormals++;
                g = f.__webglShader.uniforms,
                (c instanceof THREE.ShaderMaterial || c instanceof THREE.RawShaderMaterial) && !0 !== c.clipping || (f.numClippingPlanes = ia.numPlanes,
                    g.clippingPlanes = ia.uniform),
                c.lights && (f.lightsHash = oa.hash,
                    g.ambientLightColor.value = oa.ambient,
                    g.directionalLights.value = oa.directional,
                    g.spotLights.value = oa.spot,
                    g.pointLights.value = oa.point,
                    g.hemisphereLights.value = oa.hemi,
                    g.directionalShadowMap.value = oa.directionalShadowMap,
                    g.directionalShadowMatrix.value = oa.directionalShadowMatrix,
                    g.spotShadowMap.value = oa.spotShadowMap,
                    g.spotShadowMatrix.value = oa.spotShadowMatrix,
                    g.pointShadowMap.value = oa.pointShadowMap,
                    g.pointShadowMatrix.value = oa.pointShadowMatrix),
                    j = f.program.getUniforms(),
                    j = THREE.WebGLUniforms.seqWithValue(j.seq, g),
                    f.uniformsList = j,
                    f.dynamicUniforms = THREE.WebGLUniforms.splitDynamic(j, g)
            }
            c.needsUpdate = !1
        }
        var m = !1
            , l = k = !1
            , f = e.program
            , j = f.getUniforms()
            , g = e.__webglShader.uniforms;
        if (f.id !== R && (ra.useProgram(f.program),
                R = f.id,
                l = k = m = !0),
            c.id !== U && (U = c.id,
                k = !0),
            (m || a !== W) && (j.set(ra, a, "projectionMatrix"),
            ua.logarithmicDepthBuffer && j.setValue(ra, "logDepthBufFC", 2 / (Math.log(a.far + 1) / Math.LN2)),
            a !== W && (W = a,
                l = k = !0),
            (c instanceof THREE.ShaderMaterial || c instanceof THREE.MeshPhongMaterial || c instanceof THREE.MeshStandardMaterial || c.envMap) && (m = j.map.cameraPosition,
            void 0 !== m && m.setValue(ra, na.setFromMatrixPosition(a.matrixWorld))),
            (c instanceof THREE.MeshPhongMaterial || c instanceof THREE.MeshLambertMaterial || c instanceof THREE.MeshBasicMaterial || c instanceof THREE.MeshStandardMaterial || c instanceof THREE.ShaderMaterial || c.skinning) && j.setValue(ra, "viewMatrix", a.matrixWorldInverse),
                j.set(ra, Q, "toneMappingExposure"),
                j.set(ra, Q, "toneMappingWhitePoint")),
            c.skinning && (j.setOptional(ra, d, "bindMatrix"),
                j.setOptional(ra, d, "bindMatrixInverse"),
                m = d.skeleton) && (ua.floatVertexTextures && m.useVertexTexture ? (j.set(ra, m, "boneTexture"),
                j.set(ra, m, "boneTextureWidth"),
                j.set(ra, m, "boneTextureHeight")) : j.setOptional(ra, m, "boneMatrices")),
                k) {
            if (c.lights && (k = l,
                    g.ambientLightColor.needsUpdate = k,
                    g.directionalLights.needsUpdate = k,
                    g.pointLights.needsUpdate = k,
                    g.spotLights.needsUpdate = k,
                    g.hemisphereLights.needsUpdate = k),
                b && c.fog && (g.fogColor.value = b.color,
                    b instanceof THREE.Fog ? (g.fogNear.value = b.near,
                        g.fogFar.value = b.far) : b instanceof THREE.FogExp2 && (g.fogDensity.value = b.density)),
                c instanceof THREE.MeshBasicMaterial || c instanceof THREE.MeshLambertMaterial || c instanceof THREE.MeshPhongMaterial || c instanceof THREE.MeshStandardMaterial || c instanceof THREE.MeshDepthMaterial) {
                g.opacity.value = c.opacity,
                    g.diffuse.value = c.color,
                c.emissive && g.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity),
                    g.map.value = c.map,
                    g.specularMap.value = c.specularMap,
                    g.alphaMap.value = c.alphaMap,
                c.aoMap && (g.aoMap.value = c.aoMap,
                    g.aoMapIntensity.value = c.aoMapIntensity);
                var n;
                c.map ? n = c.map : c.specularMap ? n = c.specularMap : c.displacementMap ? n = c.displacementMap : c.normalMap ? n = c.normalMap : c.bumpMap ? n = c.bumpMap : c.roughnessMap ? n = c.roughnessMap : c.metalnessMap ? n = c.metalnessMap : c.alphaMap ? n = c.alphaMap : c.emissiveMap && (n = c.emissiveMap),
                void 0 !== n && (n instanceof THREE.WebGLRenderTarget && (n = n.texture),
                    b = n.offset,
                    n = n.repeat,
                    g.offsetRepeat.value.set(b.x, b.y, n.x, n.y)),
                    g.envMap.value = c.envMap,
                    g.flipEnvMap.value = c.envMap instanceof THREE.CubeTexture ? -1 : 1,
                    g.reflectivity.value = c.reflectivity,
                    g.refractionRatio.value = c.refractionRatio
            }
            c instanceof THREE.LineBasicMaterial ? (g.diffuse.value = c.color,
                g.opacity.value = c.opacity) : c instanceof THREE.LineDashedMaterial ? (g.diffuse.value = c.color,
                g.opacity.value = c.opacity,
                g.dashSize.value = c.dashSize,
                g.totalSize.value = c.dashSize + c.gapSize,
                g.scale.value = c.scale) : c instanceof THREE.PointsMaterial ? (g.diffuse.value = c.color,
                g.opacity.value = c.opacity,
                g.size.value = c.size * da,
                g.scale.value = .5 * A.clientHeight,
                g.map.value = c.map,
            null  !== c.map && (n = c.map.offset,
                c = c.map.repeat,
                g.offsetRepeat.value.set(n.x, n.y, c.x, c.y))) : c instanceof THREE.MeshLambertMaterial ? (c.lightMap && (g.lightMap.value = c.lightMap,
                g.lightMapIntensity.value = c.lightMapIntensity),
            c.emissiveMap && (g.emissiveMap.value = c.emissiveMap)) : c instanceof THREE.MeshPhongMaterial ? (g.specular.value = c.specular,
                g.shininess.value = Math.max(c.shininess, 1e-4),
            c.lightMap && (g.lightMap.value = c.lightMap,
                g.lightMapIntensity.value = c.lightMapIntensity),
            c.emissiveMap && (g.emissiveMap.value = c.emissiveMap),
            c.bumpMap && (g.bumpMap.value = c.bumpMap,
                g.bumpScale.value = c.bumpScale),
            c.normalMap && (g.normalMap.value = c.normalMap,
                g.normalScale.value.copy(c.normalScale)),
            c.displacementMap && (g.displacementMap.value = c.displacementMap,
                g.displacementScale.value = c.displacementScale,
                g.displacementBias.value = c.displacementBias)) : c instanceof THREE.MeshPhysicalMaterial ? s(g, c) : c instanceof THREE.MeshStandardMaterial ? s(g, c) : c instanceof THREE.MeshDepthMaterial ? c.displacementMap && (g.displacementMap.value = c.displacementMap,
                g.displacementScale.value = c.displacementScale,
                g.displacementBias.value = c.displacementBias) : c instanceof THREE.MeshNormalMaterial && (g.opacity.value = c.opacity),
                THREE.WebGLUniforms.upload(ra, e.uniformsList, g, Q)
        }
        return j.set(ra, d, "modelViewMatrix"),
            j.set(ra, d, "normalMatrix"),
            j.setValue(ra, "modelMatrix", d.matrixWorld),
            e = e.dynamicUniforms,
        null  !== e && (THREE.WebGLUniforms.evalDynamic(e, g, d, a),
            THREE.WebGLUniforms.upload(ra, e, g, Q)),
            f
    }
    function s(a, b) {
        a.roughness.value = b.roughness,
            a.metalness.value = b.metalness,
        b.roughnessMap && (a.roughnessMap.value = b.roughnessMap),
        b.metalnessMap && (a.metalnessMap.value = b.metalnessMap),
        b.lightMap && (a.lightMap.value = b.lightMap,
            a.lightMapIntensity.value = b.lightMapIntensity),
        b.emissiveMap && (a.emissiveMap.value = b.emissiveMap),
        b.bumpMap && (a.bumpMap.value = b.bumpMap,
            a.bumpScale.value = b.bumpScale),
        b.normalMap && (a.normalMap.value = b.normalMap,
            a.normalScale.value.copy(b.normalScale)),
        b.displacementMap && (a.displacementMap.value = b.displacementMap,
            a.displacementScale.value = b.displacementScale,
            a.displacementBias.value = b.displacementBias),
        b.envMap && (a.envMapIntensity.value = b.envMapIntensity)
    }
    function t(a, b, c) {
        c ? (ra.texParameteri(a, ra.TEXTURE_WRAP_S, z(b.wrapS)),
            ra.texParameteri(a, ra.TEXTURE_WRAP_T, z(b.wrapT)),
            ra.texParameteri(a, ra.TEXTURE_MAG_FILTER, z(b.magFilter)),
            ra.texParameteri(a, ra.TEXTURE_MIN_FILTER, z(b.minFilter))) : (ra.texParameteri(a, ra.TEXTURE_WRAP_S, ra.CLAMP_TO_EDGE),
            ra.texParameteri(a, ra.TEXTURE_WRAP_T, ra.CLAMP_TO_EDGE),
        b.wrapS === THREE.ClampToEdgeWrapping && b.wrapT === THREE.ClampToEdgeWrapping || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", b),
            ra.texParameteri(a, ra.TEXTURE_MAG_FILTER, y(b.magFilter)),
            ra.texParameteri(a, ra.TEXTURE_MIN_FILTER, y(b.minFilter)),
        b.minFilter !== THREE.NearestFilter && b.minFilter !== THREE.LinearFilter && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", b)),
        !(c = ta.get("EXT_texture_filter_anisotropic")) || b.type === THREE.FloatType && null  === ta.get("OES_texture_float_linear") || b.type === THREE.HalfFloatType && null  === ta.get("OES_texture_half_float_linear") || !(1 < b.anisotropy || wa.get(b).__currentAnisotropy) || (ra.texParameterf(a, c.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(b.anisotropy, Q.getMaxAnisotropy())),
            wa.get(b).__currentAnisotropy = b.anisotropy)
    }
    function u(a, b) {
        if (a.width > b || a.height > b) {
            var c = b / Math.max(a.width, a.height)
                , d = document.createElement("canvas");
            return d.width = Math.floor(a.width * c),
                d.height = Math.floor(a.height * c),
                d.getContext("2d").drawImage(a, 0, 0, a.width, a.height, 0, 0, d.width, d.height),
                console.warn("THREE.WebGLRenderer: image is too big (" + a.width + "x" + a.height + "). Resized to " + d.width + "x" + d.height, a),
                d
        }
        return a
    }
    function v(a) {
        return THREE.Math.isPowerOfTwo(a.width) && THREE.Math.isPowerOfTwo(a.height)
    }
    function w(a, b, c, d) {
        var e = z(b.texture.format)
            , f = z(b.texture.type);
        va.texImage2D(d, 0, e, b.width, b.height, 0, e, f, null ),
            ra.bindFramebuffer(ra.FRAMEBUFFER, a),
            ra.framebufferTexture2D(ra.FRAMEBUFFER, c, d, wa.get(b.texture).__webglTexture, 0),
            ra.bindFramebuffer(ra.FRAMEBUFFER, null )
    }
    function x(a, b) {
        ra.bindRenderbuffer(ra.RENDERBUFFER, a),
            b.depthBuffer && !b.stencilBuffer ? (ra.renderbufferStorage(ra.RENDERBUFFER, ra.DEPTH_COMPONENT16, b.width, b.height),
                ra.framebufferRenderbuffer(ra.FRAMEBUFFER, ra.DEPTH_ATTACHMENT, ra.RENDERBUFFER, a)) : b.depthBuffer && b.stencilBuffer ? (ra.renderbufferStorage(ra.RENDERBUFFER, ra.DEPTH_STENCIL, b.width, b.height),
                ra.framebufferRenderbuffer(ra.FRAMEBUFFER, ra.DEPTH_STENCIL_ATTACHMENT, ra.RENDERBUFFER, a)) : ra.renderbufferStorage(ra.RENDERBUFFER, ra.RGBA4, b.width, b.height),
            ra.bindRenderbuffer(ra.RENDERBUFFER, null )
    }
    function y(a) {
        return a === THREE.NearestFilter || a === THREE.NearestMipMapNearestFilter || a === THREE.NearestMipMapLinearFilter ? ra.NEAREST : ra.LINEAR
    }
    function z(a) {
        var b;
        if (a === THREE.RepeatWrapping)
            return ra.REPEAT;
        if (a === THREE.ClampToEdgeWrapping)
            return ra.CLAMP_TO_EDGE;
        if (a === THREE.MirroredRepeatWrapping)
            return ra.MIRRORED_REPEAT;
        if (a === THREE.NearestFilter)
            return ra.NEAREST;
        if (a === THREE.NearestMipMapNearestFilter)
            return ra.NEAREST_MIPMAP_NEAREST;
        if (a === THREE.NearestMipMapLinearFilter)
            return ra.NEAREST_MIPMAP_LINEAR;
        if (a === THREE.LinearFilter)
            return ra.LINEAR;
        if (a === THREE.LinearMipMapNearestFilter)
            return ra.LINEAR_MIPMAP_NEAREST;
        if (a === THREE.LinearMipMapLinearFilter)
            return ra.LINEAR_MIPMAP_LINEAR;
        if (a === THREE.UnsignedByteType)
            return ra.UNSIGNED_BYTE;
        if (a === THREE.UnsignedShort4444Type)
            return ra.UNSIGNED_SHORT_4_4_4_4;
        if (a === THREE.UnsignedShort5551Type)
            return ra.UNSIGNED_SHORT_5_5_5_1;
        if (a === THREE.UnsignedShort565Type)
            return ra.UNSIGNED_SHORT_5_6_5;
        if (a === THREE.ByteType)
            return ra.BYTE;
        if (a === THREE.ShortType)
            return ra.SHORT;
        if (a === THREE.UnsignedShortType)
            return ra.UNSIGNED_SHORT;
        if (a === THREE.IntType)
            return ra.INT;
        if (a === THREE.UnsignedIntType)
            return ra.UNSIGNED_INT;
        if (a === THREE.FloatType)
            return ra.FLOAT;
        if (b = ta.get("OES_texture_half_float"),
            null  !== b && a === THREE.HalfFloatType)
            return b.HALF_FLOAT_OES;
        if (a === THREE.AlphaFormat)
            return ra.ALPHA;
        if (a === THREE.RGBFormat)
            return ra.RGB;
        if (a === THREE.RGBAFormat)
            return ra.RGBA;
        if (a === THREE.LuminanceFormat)
            return ra.LUMINANCE;
        if (a === THREE.LuminanceAlphaFormat)
            return ra.LUMINANCE_ALPHA;
        if (a === THREE.DepthFormat)
            return ra.DEPTH_COMPONENT;
        if (a === THREE.AddEquation)
            return ra.FUNC_ADD;
        if (a === THREE.SubtractEquation)
            return ra.FUNC_SUBTRACT;
        if (a === THREE.ReverseSubtractEquation)
            return ra.FUNC_REVERSE_SUBTRACT;
        if (a === THREE.ZeroFactor)
            return ra.ZERO;
        if (a === THREE.OneFactor)
            return ra.ONE;
        if (a === THREE.SrcColorFactor)
            return ra.SRC_COLOR;
        if (a === THREE.OneMinusSrcColorFactor)
            return ra.ONE_MINUS_SRC_COLOR;
        if (a === THREE.SrcAlphaFactor)
            return ra.SRC_ALPHA;
        if (a === THREE.OneMinusSrcAlphaFactor)
            return ra.ONE_MINUS_SRC_ALPHA;
        if (a === THREE.DstAlphaFactor)
            return ra.DST_ALPHA;
        if (a === THREE.OneMinusDstAlphaFactor)
            return ra.ONE_MINUS_DST_ALPHA;
        if (a === THREE.DstColorFactor)
            return ra.DST_COLOR;
        if (a === THREE.OneMinusDstColorFactor)
            return ra.ONE_MINUS_DST_COLOR;
        if (a === THREE.SrcAlphaSaturateFactor)
            return ra.SRC_ALPHA_SATURATE;
        if (b = ta.get("WEBGL_compressed_texture_s3tc"),
            null  !== b) {
            if (a === THREE.RGB_S3TC_DXT1_Format)
                return b.COMPRESSED_RGB_S3TC_DXT1_EXT;
            if (a === THREE.RGBA_S3TC_DXT1_Format)
                return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;
            if (a === THREE.RGBA_S3TC_DXT3_Format)
                return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;
            if (a === THREE.RGBA_S3TC_DXT5_Format)
                return b.COMPRESSED_RGBA_S3TC_DXT5_EXT
        }
        if (b = ta.get("WEBGL_compressed_texture_pvrtc"),
            null  !== b) {
            if (a === THREE.RGB_PVRTC_4BPPV1_Format)
                return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
            if (a === THREE.RGB_PVRTC_2BPPV1_Format)
                return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
            if (a === THREE.RGBA_PVRTC_4BPPV1_Format)
                return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
            if (a === THREE.RGBA_PVRTC_2BPPV1_Format)
                return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
        }
        if (b = ta.get("WEBGL_compressed_texture_etc1"),
            null  !== b && a === THREE.RGB_ETC1_Format)
            return b.COMPRESSED_RGB_ETC1_WEBGL;
        if (b = ta.get("EXT_blend_minmax"),
            null  !== b) {
            if (a === THREE.MinEquation)
                return b.MIN_EXT;
            if (a === THREE.MaxEquation)
                return b.MAX_EXT
        }
        return 0
    }
    console.log("THREE.WebGLRenderer", THREE.REVISION),
        a = a || {};
    var A = void 0 !== a.canvas ? a.canvas : document.createElement("canvas")
        , B = void 0 !== a.context ? a.context : null
        , C = void 0 !== a.alpha && a.alpha
        , D = void 0 === a.depth || a.depth
        , E = void 0 === a.stencil || a.stencil
        , F = void 0 !== a.antialias && a.antialias
        , G = void 0 === a.premultipliedAlpha || a.premultipliedAlpha
        , H = void 0 !== a.preserveDrawingBuffer && a.preserveDrawingBuffer
        , I = []
        , J = []
        , K = -1
        , L = []
        , M = -1
        , N = new Float32Array(8)
        , O = []
        , P = [];
    this.domElement = A,
        this.context = null ,
        this.sortObjects = this.autoClearStencil = this.autoClearDepth = this.autoClearColor = this.autoClear = !0,
        this.clippingPlanes = [],
        this.localClippingEnabled = !1,
        this.gammaFactor = 2,
        this.physicallyCorrectLights = this.gammaOutput = this.gammaInput = !1,
        this.toneMapping = THREE.LinearToneMapping,
        this.toneMappingWhitePoint = this.toneMappingExposure = 1,
        this.maxMorphTargets = 8,
        this.maxMorphNormals = 4,
        this.autoScaleCubemaps = !0;
    var Q = this
        , R = null
        , S = null
        , T = null
        , U = -1
        , V = ""
        , W = null
        , X = new THREE.Vector4
        , Y = null
        , Z = new THREE.Vector4
        , $ = 0
        , _ = new THREE.Color(0)
        , aa = 0
        , ba = A.width
        , ca = A.height
        , da = 1
        , ea = new THREE.Vector4(0,0,ba,ca)
        , fa = !1
        , ga = new THREE.Vector4(0,0,ba,ca)
        , ha = new THREE.Frustum
        , ia = new THREE.WebGLClipping
        , ja = !1
        , ka = !1
        , la = new THREE.Sphere
        , ma = new THREE.Matrix4
        , na = new THREE.Vector3
        , oa = {
        hash: "",
        ambient: [0, 0, 0],
        directional: [],
        directionalShadowMap: [],
        directionalShadowMatrix: [],
        spot: [],
        spotShadowMap: [],
        spotShadowMatrix: [],
        point: [],
        pointShadowMap: [],
        pointShadowMatrix: [],
        hemi: [],
        shadows: []
    }
        , pa = {
        geometries: 0,
        textures: 0
    }
        , qa = {
        calls: 0,
        vertices: 0,
        faces: 0,
        points: 0
    };
    this.info = {
        render: qa,
        memory: pa,
        programs: null
    };
    var ra;
    try {
        if (C = {
                alpha: C,
                depth: D,
                stencil: E,
                antialias: F,
                premultipliedAlpha: G,
                preserveDrawingBuffer: H
            },
                ra = B || A.getContext("webgl", C) || A.getContext("experimental-webgl", C),
            null  === ra) {
            if (null  !== A.getContext("webgl"))
                throw "Error creating WebGL context with your selected attributes.";
            throw "Error creating WebGL context."
        }
        void 0 === ra.getShaderPrecisionFormat && (ra.getShaderPrecisionFormat = function() {
                return {
                    rangeMin: 1,
                    rangeMax: 1,
                    precision: 1
                }
            }
        ),
            A.addEventListener("webglcontextlost", e, !1)
    } catch (a) {
        console.error("THREE.WebGLRenderer: " + a)
    }
    var sa = "undefined" != typeof WebGL2RenderingContext && ra instanceof WebGL2RenderingContext
        , ta = new THREE.WebGLExtensions(ra);
    ta.get("WEBGL_depth_texture"),
        ta.get("OES_texture_float"),
        ta.get("OES_texture_float_linear"),
        ta.get("OES_texture_half_float"),
        ta.get("OES_texture_half_float_linear"),
        ta.get("OES_standard_derivatives"),
        ta.get("ANGLE_instanced_arrays"),
    ta.get("OES_element_index_uint") && (THREE.BufferGeometry.MaxIndex = 4294967296);
    var ua = new THREE.WebGLCapabilities(ra,ta,a)
        , va = new THREE.WebGLState(ra,ta,z)
        , wa = new THREE.WebGLProperties
        , xa = new THREE.WebGLObjects(ra,wa,this.info)
        , ya = new THREE.WebGLPrograms(this,ua)
        , za = new THREE.WebGLLights;
    this.info.programs = ya.programs;
    var Aa = new THREE.WebGLBufferRenderer(ra,ta,qa)
        , Ba = new THREE.WebGLIndexedBufferRenderer(ra,ta,qa);
    c(),
        this.context = ra,
        this.capabilities = ua,
        this.extensions = ta,
        this.properties = wa,
        this.state = va;
    var Ca = new THREE.WebGLShadowMap(this,oa,xa);
    this.shadowMap = Ca;
    var Da = new THREE.SpritePlugin(this,O)
        , Ea = new THREE.LensFlarePlugin(this,P);
    this.getContext = function() {
        return ra
    }
        ,
        this.getContextAttributes = function() {
            return ra.getContextAttributes()
        }
        ,
        this.forceContextLoss = function() {
            ta.get("WEBGL_lose_context").loseContext()
        }
        ,
        this.getMaxAnisotropy = function() {
            var a;
            return function() {
                if (void 0 !== a)
                    return a;
                var b = ta.get("EXT_texture_filter_anisotropic");
                return a = null  !== b ? ra.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
            }
        }(),
        this.getPrecision = function() {
            return ua.precision
        }
        ,
        this.getPixelRatio = function() {
            return da
        }
        ,
        this.setPixelRatio = function(a) {
            void 0 !== a && (da = a,
                this.setSize(ga.z, ga.w, !1))
        }
        ,
        this.getSize = function() {
            return {
                width: ba,
                height: ca
            }
        }
        ,
        this.setSize = function(a, b, c) {
            ba = a,
                ca = b,
                A.width = a * da,
                A.height = b * da,
            !1 !== c && (A.style.width = a + "px",
                A.style.height = b + "px"),
                this.setViewport(0, 0, a, b)
        }
        ,
        this.setViewport = function(a, b, c, d) {
            va.viewport(ga.set(a, b, c, d))
        }
        ,
        this.setScissor = function(a, b, c, d) {
            va.scissor(ea.set(a, b, c, d))
        }
        ,
        this.setScissorTest = function(a) {
            va.setScissorTest(fa = a)
        }
        ,
        this.getClearColor = function() {
            return _
        }
        ,
        this.setClearColor = function(a, c) {
            _.set(a),
                aa = void 0 !== c ? c : 1,
                b(_.r, _.g, _.b, aa)
        }
        ,
        this.getClearAlpha = function() {
            return aa
        }
        ,
        this.setClearAlpha = function(a) {
            aa = a,
                b(_.r, _.g, _.b, aa)
        }
        ,
        this.clear = function(a, b, c) {
            var d = 0;
            (void 0 === a || a) && (d |= ra.COLOR_BUFFER_BIT),
            (void 0 === b || b) && (d |= ra.DEPTH_BUFFER_BIT),
            (void 0 === c || c) && (d |= ra.STENCIL_BUFFER_BIT),
                ra.clear(d)
        }
        ,
        this.clearColor = function() {
            this.clear(!0, !1, !1)
        }
        ,
        this.clearDepth = function() {
            this.clear(!1, !0, !1)
        }
        ,
        this.clearStencil = function() {
            this.clear(!1, !1, !0)
        }
        ,
        this.clearTarget = function(a, b, c, d) {
            this.setRenderTarget(a),
                this.clear(b, c, d)
        }
        ,
        this.resetGLState = d,
        this.dispose = function() {
            A.removeEventListener("webglcontextlost", e, !1)
        }
        ,
        this.renderBufferImmediate = function(a, b, c) {
            va.initAttributes();
            var d = wa.get(a);
            if (a.hasPositions && !d.position && (d.position = ra.createBuffer()),
                a.hasNormals && !d.normal && (d.normal = ra.createBuffer()),
                a.hasUvs && !d.uv && (d.uv = ra.createBuffer()),
                a.hasColors && !d.color && (d.color = ra.createBuffer()),
                    b = b.getAttributes(),
                a.hasPositions && (ra.bindBuffer(ra.ARRAY_BUFFER, d.position),
                    ra.bufferData(ra.ARRAY_BUFFER, a.positionArray, ra.DYNAMIC_DRAW),
                    va.enableAttribute(b.position),
                    ra.vertexAttribPointer(b.position, 3, ra.FLOAT, !1, 0, 0)),
                    a.hasNormals) {
                if (ra.bindBuffer(ra.ARRAY_BUFFER, d.normal),
                    "MeshPhongMaterial" !== c.type && "MeshStandardMaterial" !== c.type && "MeshPhysicalMaterial" !== c.type && c.shading === THREE.FlatShading)
                    for (var e = 0, f = 3 * a.count; f > e; e += 9) {
                        var g = a.normalArray
                            , h = (g[e + 0] + g[e + 3] + g[e + 6]) / 3
                            , i = (g[e + 1] + g[e + 4] + g[e + 7]) / 3
                            , j = (g[e + 2] + g[e + 5] + g[e + 8]) / 3;
                        g[e + 0] = h,
                            g[e + 1] = i,
                            g[e + 2] = j,
                            g[e + 3] = h,
                            g[e + 4] = i,
                            g[e + 5] = j,
                            g[e + 6] = h,
                            g[e + 7] = i,
                            g[e + 8] = j
                    }
                ra.bufferData(ra.ARRAY_BUFFER, a.normalArray, ra.DYNAMIC_DRAW),
                    va.enableAttribute(b.normal),
                    ra.vertexAttribPointer(b.normal, 3, ra.FLOAT, !1, 0, 0)
            }
            a.hasUvs && c.map && (ra.bindBuffer(ra.ARRAY_BUFFER, d.uv),
                ra.bufferData(ra.ARRAY_BUFFER, a.uvArray, ra.DYNAMIC_DRAW),
                va.enableAttribute(b.uv),
                ra.vertexAttribPointer(b.uv, 2, ra.FLOAT, !1, 0, 0)),
            a.hasColors && c.vertexColors !== THREE.NoColors && (ra.bindBuffer(ra.ARRAY_BUFFER, d.color),
                ra.bufferData(ra.ARRAY_BUFFER, a.colorArray, ra.DYNAMIC_DRAW),
                va.enableAttribute(b.color),
                ra.vertexAttribPointer(b.color, 3, ra.FLOAT, !1, 0, 0)),
                va.disableUnusedAttributes(),
                ra.drawArrays(ra.TRIANGLES, 0, a.count),
                a.count = 0
        }
        ,
        this.renderBufferDirect = function(a, b, c, d, e, f) {
            q(d);
            var g = r(a, b, d, e)
                , h = !1;
            if (a = c.id + "_" + g.id + "_" + d.wireframe,
                a !== V && (V = a,
                    h = !0),
                    b = e.morphTargetInfluences,
                void 0 !== b) {
                a = [];
                for (var i = 0, h = b.length; h > i; i++) {
                    var k = b[i];
                    a.push([k, i])
                }
                a.sort(j),
                8 < a.length && (a.length = 8);
                for (var l = c.morphAttributes, i = 0, h = a.length; h > i; i++)
                    k = a[i],
                        N[i] = k[0],
                        0 !== k[0] ? (b = k[1],
                        !0 === d.morphTargets && l.position && c.addAttribute("morphTarget" + i, l.position[b]),
                        !0 === d.morphNormals && l.normal && c.addAttribute("morphNormal" + i, l.normal[b])) : (!0 === d.morphTargets && c.removeAttribute("morphTarget" + i),
                        !0 === d.morphNormals && c.removeAttribute("morphNormal" + i));
                g.getUniforms().setValue(ra, "morphTargetInfluences", N),
                    h = !0
            }
            if (b = c.index,
                    i = c.attributes.position,
                !0 === d.wireframe && (b = xa.getWireframeAttribute(c)),
                    null  !== b ? (a = Ba,
                        a.setIndex(b)) : a = Aa,
                    h) {
                var m, h = void 0;
                if (c instanceof THREE.InstancedBufferGeometry && (m = ta.get("ANGLE_instanced_arrays"),
                    null  === m))
                    console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                else {
                    void 0 === h && (h = 0),
                        va.initAttributes();
                    var n, k = c.attributes, g = g.getAttributes(), l = d.defaultAttributeValues;
                    for (n in g) {
                        var o = g[n];
                        if (o >= 0) {
                            var p = k[n];
                            if (void 0 !== p) {
                                var s = ra.FLOAT
                                    , t = p.array
                                    , u = p.normalized;
                                t instanceof Float32Array ? s = ra.FLOAT : t instanceof Float64Array ? console.warn("Unsupported data buffer format: Float64Array") : t instanceof Uint16Array ? s = ra.UNSIGNED_SHORT : t instanceof Int16Array ? s = ra.SHORT : t instanceof Uint32Array ? s = ra.UNSIGNED_INT : t instanceof Int32Array ? s = ra.INT : t instanceof Int8Array ? s = ra.BYTE : t instanceof Uint8Array && (s = ra.UNSIGNED_BYTE);
                                var t = p.itemSize
                                    , v = xa.getAttributeBuffer(p);
                                if (p instanceof THREE.InterleavedBufferAttribute) {
                                    var w = p.data
                                        , x = w.stride
                                        , p = p.offset;
                                    w instanceof THREE.InstancedInterleavedBuffer ? (va.enableAttributeAndDivisor(o, w.meshPerAttribute, m),
                                    void 0 === c.maxInstancedCount && (c.maxInstancedCount = w.meshPerAttribute * w.count)) : va.enableAttribute(o),
                                        ra.bindBuffer(ra.ARRAY_BUFFER, v),
                                        ra.vertexAttribPointer(o, t, s, u, x * w.array.BYTES_PER_ELEMENT, (h * x + p) * w.array.BYTES_PER_ELEMENT)
                                } else
                                    p instanceof THREE.InstancedBufferAttribute ? (va.enableAttributeAndDivisor(o, p.meshPerAttribute, m),
                                    void 0 === c.maxInstancedCount && (c.maxInstancedCount = p.meshPerAttribute * p.count)) : va.enableAttribute(o),
                                        ra.bindBuffer(ra.ARRAY_BUFFER, v),
                                        ra.vertexAttribPointer(o, t, s, u, 0, h * t * p.array.BYTES_PER_ELEMENT)
                            } else if (void 0 !== l && (s = l[n],
                                void 0 !== s))
                                switch (s.length) {
                                    case 2:
                                        ra.vertexAttrib2fv(o, s);
                                        break;
                                    case 3:
                                        ra.vertexAttrib3fv(o, s);
                                        break;
                                    case 4:
                                        ra.vertexAttrib4fv(o, s);
                                        break;
                                    default:
                                        ra.vertexAttrib1fv(o, s)
                                }
                        }
                    }
                    va.disableUnusedAttributes()
                }
                null  !== b && ra.bindBuffer(ra.ELEMENT_ARRAY_BUFFER, xa.getAttributeBuffer(b))
            }
            if (m = 1 / 0,
                    null  !== b ? m = b.count : void 0 !== i && (m = i.count),
                    n = c.drawRange.start,
                    b = c.drawRange.count,
                    i = null  !== f ? f.start : 0,
                    h = null  !== f ? f.count : 1 / 0,
                    f = Math.max(0, n, i),
                    m = Math.min(0 + m, n + b, i + h) - 1,
                    m = Math.max(0, m - f + 1),
                e instanceof THREE.Mesh)
                if (!0 === d.wireframe)
                    va.setLineWidth(d.wireframeLinewidth * (null  === S ? da : 1)),
                        a.setMode(ra.LINES);
                else
                    switch (e.drawMode) {
                        case THREE.TrianglesDrawMode:
                            a.setMode(ra.TRIANGLES);
                            break;
                        case THREE.TriangleStripDrawMode:
                            a.setMode(ra.TRIANGLE_STRIP);
                            break;
                        case THREE.TriangleFanDrawMode:
                            a.setMode(ra.TRIANGLE_FAN)
                    }
            else
                e instanceof THREE.Line ? (d = d.linewidth,
                void 0 === d && (d = 1),
                    va.setLineWidth(d * (null  === S ? da : 1)),
                    e instanceof THREE.LineSegments ? a.setMode(ra.LINES) : a.setMode(ra.LINE_STRIP)) : e instanceof THREE.Points && a.setMode(ra.POINTS);
            c instanceof THREE.InstancedBufferGeometry ? 0 < c.maxInstancedCount && a.renderInstances(c, f, m) : a.render(f, m)
        }
        ,
        this.render = function(a, b, c, d) {
            if (0 == b instanceof THREE.Camera)
                console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
            else {
                var e = a.fog;
                V = "",
                    U = -1,
                    W = null ,
                !0 === a.autoUpdate && a.updateMatrixWorld(),
                null  === b.parent && b.updateMatrixWorld(),
                    b.matrixWorldInverse.getInverse(b.matrixWorld),
                    ma.multiplyMatrices(b.projectionMatrix, b.matrixWorldInverse),
                    ha.setFromMatrix(ma),
                    I.length = 0,
                    M = K = -1,
                    O.length = 0,
                    P.length = 0,
                    ka = this.localClippingEnabled,
                    ja = ia.init(this.clippingPlanes, ka, b),
                    o(a, b),
                    J.length = K + 1,
                    L.length = M + 1,
                !0 === Q.sortObjects && (J.sort(k),
                    L.sort(l)),
                ja && ia.beginShadows();
                for (var f = I, g = 0, h = 0, i = f.length; i > h; h++) {
                    var j = f[h];
                    j.castShadow && (oa.shadows[g++] = j)
                }
                oa.shadows.length = g,
                    Ca.render(a, b);
                for (var m, n, q, r, f = I, s = j = 0, t = 0, u = b.matrixWorldInverse, w = 0, x = 0, y = 0, z = 0, g = 0, h = f.length; h > g; g++)
                    if (i = f[g],
                            m = i.color,
                            n = i.intensity,
                            q = i.distance,
                            r = i.shadow && i.shadow.map ? i.shadow.map.texture : null ,
                        i instanceof THREE.AmbientLight)
                        j += m.r * n,
                            s += m.g * n,
                            t += m.b * n;
                    else if (i instanceof THREE.DirectionalLight) {
                        var A = za.get(i);
                        A.color.copy(i.color).multiplyScalar(i.intensity),
                            A.direction.setFromMatrixPosition(i.matrixWorld),
                            na.setFromMatrixPosition(i.target.matrixWorld),
                            A.direction.sub(na),
                            A.direction.transformDirection(u),
                        (A.shadow = i.castShadow) && (A.shadowBias = i.shadow.bias,
                            A.shadowRadius = i.shadow.radius,
                            A.shadowMapSize = i.shadow.mapSize),
                            oa.directionalShadowMap[w] = r,
                            oa.directionalShadowMatrix[w] = i.shadow.matrix,
                            oa.directional[w++] = A
                    } else
                        i instanceof THREE.SpotLight ? (A = za.get(i),
                            A.position.setFromMatrixPosition(i.matrixWorld),
                            A.position.applyMatrix4(u),
                            A.color.copy(m).multiplyScalar(n),
                            A.distance = q,
                            A.direction.setFromMatrixPosition(i.matrixWorld),
                            na.setFromMatrixPosition(i.target.matrixWorld),
                            A.direction.sub(na),
                            A.direction.transformDirection(u),
                            A.coneCos = Math.cos(i.angle),
                            A.penumbraCos = Math.cos(i.angle * (1 - i.penumbra)),
                            A.decay = 0 === i.distance ? 0 : i.decay,
                        (A.shadow = i.castShadow) && (A.shadowBias = i.shadow.bias,
                            A.shadowRadius = i.shadow.radius,
                            A.shadowMapSize = i.shadow.mapSize),
                            oa.spotShadowMap[y] = r,
                            oa.spotShadowMatrix[y] = i.shadow.matrix,
                            oa.spot[y++] = A) : i instanceof THREE.PointLight ? (A = za.get(i),
                            A.position.setFromMatrixPosition(i.matrixWorld),
                            A.position.applyMatrix4(u),
                            A.color.copy(i.color).multiplyScalar(i.intensity),
                            A.distance = i.distance,
                            A.decay = 0 === i.distance ? 0 : i.decay,
                        (A.shadow = i.castShadow) && (A.shadowBias = i.shadow.bias,
                            A.shadowRadius = i.shadow.radius,
                            A.shadowMapSize = i.shadow.mapSize),
                            oa.pointShadowMap[x] = r,
                        void 0 === oa.pointShadowMatrix[x] && (oa.pointShadowMatrix[x] = new THREE.Matrix4),
                            na.setFromMatrixPosition(i.matrixWorld).negate(),
                            oa.pointShadowMatrix[x].identity().setPosition(na),
                            oa.point[x++] = A) : i instanceof THREE.HemisphereLight && (A = za.get(i),
                            A.direction.setFromMatrixPosition(i.matrixWorld),
                            A.direction.transformDirection(u),
                            A.direction.normalize(),
                            A.skyColor.copy(i.color).multiplyScalar(n),
                            A.groundColor.copy(i.groundColor).multiplyScalar(n),
                            oa.hemi[z++] = A);
                oa.ambient[0] = j,
                    oa.ambient[1] = s,
                    oa.ambient[2] = t,
                    oa.directional.length = w,
                    oa.spot.length = y,
                    oa.point.length = x,
                    oa.hemi.length = z,
                    oa.hash = w + "," + x + "," + y + "," + z + "," + oa.shadows.length,
                ja && ia.endShadows(),
                    qa.calls = 0,
                    qa.vertices = 0,
                    qa.faces = 0,
                    qa.points = 0,
                void 0 === c && (c = null ),
                    this.setRenderTarget(c),
                (this.autoClear || d) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil),
                    a.overrideMaterial ? (d = a.overrideMaterial,
                        p(J, b, e, d),
                        p(L, b, e, d)) : (va.setBlending(THREE.NoBlending),
                        p(J, b, e),
                        p(L, b, e)),
                    Da.render(a, b),
                    Ea.render(a, b, Z),
                c && (a = c.texture,
                a.generateMipmaps && v(c) && a.minFilter !== THREE.NearestFilter && a.minFilter !== THREE.LinearFilter && (a = c instanceof THREE.WebGLRenderTargetCube ? ra.TEXTURE_CUBE_MAP : ra.TEXTURE_2D,
                    c = wa.get(c.texture).__webglTexture,
                    va.bindTexture(a, c),
                    ra.generateMipmap(a),
                    va.bindTexture(a, null ))),
                    va.setDepthTest(!0),
                    va.setDepthWrite(!0),
                    va.setColorWrite(!0)
            }
        }
        ,
        this.setFaceCulling = function(a, b) {
            va.setCullFace(a),
                va.setFlipSided(b === THREE.FrontFaceDirectionCW)
        }
        ,
        this.allocTextureUnit = function() {
            var a = $;
            return a >= ua.maxTextures && console.warn("WebGLRenderer: trying to use " + a + " texture units while this GPU supports only " + ua.maxTextures),
                $ += 1,
                a
        }
        ,
        this.setTexture2D = function() {
            var a = !1;
            return function(b, c) {
                b instanceof THREE.WebGLRenderTarget && (a || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),
                    a = !0),
                    b = b.texture);
                var d = b
                    , e = wa.get(d);
                if (0 < d.version && e.__version !== d.version) {
                    var g = d.image;
                    if (void 0 === g)
                        console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", d);
                    else if (!1 === g.complete)
                        console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", d);
                    else {
                        void 0 === e.__webglInit && (e.__webglInit = !0,
                            d.addEventListener("dispose", f),
                            e.__webglTexture = ra.createTexture(),
                            pa.textures++),
                            va.activeTexture(ra.TEXTURE0 + c),
                            va.bindTexture(ra.TEXTURE_2D, e.__webglTexture),
                            ra.pixelStorei(ra.UNPACK_FLIP_Y_WEBGL, d.flipY),
                            ra.pixelStorei(ra.UNPACK_PREMULTIPLY_ALPHA_WEBGL, d.premultiplyAlpha),
                            ra.pixelStorei(ra.UNPACK_ALIGNMENT, d.unpackAlignment);
                        var h = u(d.image, ua.maxTextureSize);
                        if ((d.wrapS !== THREE.ClampToEdgeWrapping || d.wrapT !== THREE.ClampToEdgeWrapping || d.minFilter !== THREE.NearestFilter && d.minFilter !== THREE.LinearFilter) && !1 === v(h))
                            if (g = h,
                                g instanceof HTMLImageElement || g instanceof HTMLCanvasElement) {
                                var i = document.createElement("canvas");
                                i.width = THREE.Math.nearestPowerOfTwo(g.width),
                                    i.height = THREE.Math.nearestPowerOfTwo(g.height),
                                    i.getContext("2d").drawImage(g, 0, 0, i.width, i.height),
                                    console.warn("THREE.WebGLRenderer: image is not power of two (" + g.width + "x" + g.height + "). Resized to " + i.width + "x" + i.height, g),
                                    h = i
                            } else
                                h = g;
                        var g = v(h)
                            , i = z(d.format)
                            , j = z(d.type);
                        t(ra.TEXTURE_2D, d, g);
                        var k = d.mipmaps;
                        if (d instanceof THREE.DepthTexture) {
                            if (k = ra.DEPTH_COMPONENT,
                                d.type === THREE.FloatType) {
                                if (!sa)
                                    throw Error("Float Depth Texture only supported in WebGL2.0");
                                k = ra.DEPTH_COMPONENT32F
                            } else
                                sa && (k = ra.DEPTH_COMPONENT16);
                            va.texImage2D(ra.TEXTURE_2D, 0, k, h.width, h.height, 0, i, j, null )
                        } else if (d instanceof THREE.DataTexture)
                            if (0 < k.length && g) {
                                for (var l = 0, m = k.length; m > l; l++)
                                    h = k[l],
                                        va.texImage2D(ra.TEXTURE_2D, l, i, h.width, h.height, 0, i, j, h.data);
                                d.generateMipmaps = !1
                            } else
                                va.texImage2D(ra.TEXTURE_2D, 0, i, h.width, h.height, 0, i, j, h.data);
                        else if (d instanceof THREE.CompressedTexture)
                            for (l = 0,
                                     m = k.length; m > l; l++)
                                h = k[l],
                                    d.format !== THREE.RGBAFormat && d.format !== THREE.RGBFormat ? -1 < va.getCompressedTextureFormats().indexOf(i) ? va.compressedTexImage2D(ra.TEXTURE_2D, l, i, h.width, h.height, 0, h.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : va.texImage2D(ra.TEXTURE_2D, l, i, h.width, h.height, 0, i, j, h.data);
                        else if (0 < k.length && g) {
                            for (l = 0,
                                     m = k.length; m > l; l++)
                                h = k[l],
                                    va.texImage2D(ra.TEXTURE_2D, l, i, i, j, h);
                            d.generateMipmaps = !1
                        } else
                            va.texImage2D(ra.TEXTURE_2D, 0, i, i, j, h);
                        d.generateMipmaps && g && ra.generateMipmap(ra.TEXTURE_2D),
                            e.__version = d.version,
                        d.onUpdate && d.onUpdate(d)
                    }
                } else
                    va.activeTexture(ra.TEXTURE0 + c),
                        va.bindTexture(ra.TEXTURE_2D, e.__webglTexture)
            }
        }(),
        this.setTexture = function() {
            var a = !1;
            return function(b, c) {
                a || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
                    a = !0),
                    Q.setTexture2D(b, c)
            }
        }(),
        this.setTextureCube = function() {
            var a = !1;
            return function(b, c) {
                if (b instanceof THREE.WebGLRenderTargetCube && (a || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),
                        a = !0),
                        b = b.texture),
                    b instanceof THREE.CubeTexture || Array.isArray(b.image) && 6 === b.image.length) {
                    var d = b
                        , e = wa.get(d);
                    if (6 === d.image.length)
                        if (0 < d.version && e.__version !== d.version) {
                            e.__image__webglTextureCube || (d.addEventListener("dispose", f),
                                e.__image__webglTextureCube = ra.createTexture(),
                                pa.textures++),
                                va.activeTexture(ra.TEXTURE0 + c),
                                va.bindTexture(ra.TEXTURE_CUBE_MAP, e.__image__webglTextureCube),
                                ra.pixelStorei(ra.UNPACK_FLIP_Y_WEBGL, d.flipY);
                            for (var g = d instanceof THREE.CompressedTexture, h = d.image[0] instanceof THREE.DataTexture, i = [], j = 0; 6 > j; j++)
                                i[j] = !Q.autoScaleCubemaps || g || h ? h ? d.image[j].image : d.image[j] : u(d.image[j], ua.maxCubemapSize);
                            var k = v(i[0])
                                , l = z(d.format)
                                , m = z(d.type);
                            for (t(ra.TEXTURE_CUBE_MAP, d, k),
                                     j = 0; 6 > j; j++)
                                if (g)
                                    for (var n, o = i[j].mipmaps, p = 0, q = o.length; q > p; p++)
                                        n = o[p],
                                            d.format !== THREE.RGBAFormat && d.format !== THREE.RGBFormat ? -1 < va.getCompressedTextureFormats().indexOf(l) ? va.compressedTexImage2D(ra.TEXTURE_CUBE_MAP_POSITIVE_X + j, p, l, n.width, n.height, 0, n.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : va.texImage2D(ra.TEXTURE_CUBE_MAP_POSITIVE_X + j, p, l, n.width, n.height, 0, l, m, n.data);
                                else
                                    h ? va.texImage2D(ra.TEXTURE_CUBE_MAP_POSITIVE_X + j, 0, l, i[j].width, i[j].height, 0, l, m, i[j].data) : va.texImage2D(ra.TEXTURE_CUBE_MAP_POSITIVE_X + j, 0, l, l, m, i[j]);
                            d.generateMipmaps && k && ra.generateMipmap(ra.TEXTURE_CUBE_MAP),
                                e.__version = d.version,
                            d.onUpdate && d.onUpdate(d)
                        } else
                            va.activeTexture(ra.TEXTURE0 + c),
                                va.bindTexture(ra.TEXTURE_CUBE_MAP, e.__image__webglTextureCube)
                } else
                    d = b,
                        va.activeTexture(ra.TEXTURE0 + c),
                        va.bindTexture(ra.TEXTURE_CUBE_MAP, wa.get(d).__webglTexture)
            }
        }(),
        this.getCurrentRenderTarget = function() {
            return S
        }
        ,
        this.setRenderTarget = function(a) {
            if ((S = a) && void 0 === wa.get(a).__webglFramebuffer) {
                var b = wa.get(a)
                    , c = wa.get(a.texture);
                a.addEventListener("dispose", g),
                    c.__webglTexture = ra.createTexture(),
                    pa.textures++;
                var d = a instanceof THREE.WebGLRenderTargetCube
                    , e = THREE.Math.isPowerOfTwo(a.width) && THREE.Math.isPowerOfTwo(a.height);
                if (d) {
                    b.__webglFramebuffer = [];
                    for (var f = 0; 6 > f; f++)
                        b.__webglFramebuffer[f] = ra.createFramebuffer()
                } else
                    b.__webglFramebuffer = ra.createFramebuffer();
                if (d) {
                    for (va.bindTexture(ra.TEXTURE_CUBE_MAP, c.__webglTexture),
                             t(ra.TEXTURE_CUBE_MAP, a.texture, e),
                             f = 0; 6 > f; f++)
                        w(b.__webglFramebuffer[f], a, ra.COLOR_ATTACHMENT0, ra.TEXTURE_CUBE_MAP_POSITIVE_X + f);
                    a.texture.generateMipmaps && e && ra.generateMipmap(ra.TEXTURE_CUBE_MAP),
                        va.bindTexture(ra.TEXTURE_CUBE_MAP, null )
                } else
                    va.bindTexture(ra.TEXTURE_2D, c.__webglTexture),
                        t(ra.TEXTURE_2D, a.texture, e),
                        w(b.__webglFramebuffer, a, ra.COLOR_ATTACHMENT0, ra.TEXTURE_2D),
                    a.texture.generateMipmaps && e && ra.generateMipmap(ra.TEXTURE_2D),
                        va.bindTexture(ra.TEXTURE_2D, null );
                if (a.depthBuffer) {
                    if (b = wa.get(a),
                            c = a instanceof THREE.WebGLRenderTargetCube,
                            a.depthTexture) {
                        if (c)
                            throw Error("target.depthTexture not supported in Cube render targets");
                        if (a instanceof THREE.WebGLRenderTargetCube)
                            throw Error("Depth Texture with cube render targets is not supported!");
                        if (ra.bindFramebuffer(ra.FRAMEBUFFER, b.__webglFramebuffer),
                                !(a.depthTexture instanceof THREE.DepthTexture))
                            throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                        wa.get(a.depthTexture).__webglTexture && a.depthTexture.image.width === a.width && a.depthTexture.image.height === a.height || (a.depthTexture.image.width = a.width,
                            a.depthTexture.image.height = a.height,
                            a.depthTexture.needsUpdate = !0),
                            Q.setTexture2D(a.depthTexture, 0),
                            b = wa.get(a.depthTexture).__webglTexture,
                            ra.framebufferTexture2D(ra.FRAMEBUFFER, ra.DEPTH_ATTACHMENT, ra.TEXTURE_2D, b, 0)
                    } else if (c)
                        for (b.__webglDepthbuffer = [],
                                 c = 0; 6 > c; c++)
                            ra.bindFramebuffer(ra.FRAMEBUFFER, b.__webglFramebuffer[c]),
                                b.__webglDepthbuffer[c] = ra.createRenderbuffer(),
                                x(b.__webglDepthbuffer[c], a);
                    else
                        ra.bindFramebuffer(ra.FRAMEBUFFER, b.__webglFramebuffer),
                            b.__webglDepthbuffer = ra.createRenderbuffer(),
                            x(b.__webglDepthbuffer, a);
                    ra.bindFramebuffer(ra.FRAMEBUFFER, null )
                }
            }
            b = a instanceof THREE.WebGLRenderTargetCube,
                a ? (c = wa.get(a),
                    c = b ? c.__webglFramebuffer[a.activeCubeFace] : c.__webglFramebuffer,
                    X.copy(a.scissor),
                    Y = a.scissorTest,
                    Z.copy(a.viewport)) : (c = null ,
                    X.copy(ea).multiplyScalar(da),
                    Y = fa,
                    Z.copy(ga).multiplyScalar(da)),
            T !== c && (ra.bindFramebuffer(ra.FRAMEBUFFER, c),
                T = c),
                va.scissor(X),
                va.setScissorTest(Y),
                va.viewport(Z),
            b && (b = wa.get(a.texture),
                ra.framebufferTexture2D(ra.FRAMEBUFFER, ra.COLOR_ATTACHMENT0, ra.TEXTURE_CUBE_MAP_POSITIVE_X + a.activeCubeFace, b.__webglTexture, a.activeMipMapLevel))
        }
        ,
        this.readRenderTargetPixels = function(a, b, c, d, e, f) {
            if (0 == a instanceof THREE.WebGLRenderTarget)
                console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
            else {
                var g = wa.get(a).__webglFramebuffer;
                if (g) {
                    var h = !1;
                    g !== T && (ra.bindFramebuffer(ra.FRAMEBUFFER, g),
                        h = !0);
                    try {
                        var i = a.texture;
                        i.format !== THREE.RGBAFormat && z(i.format) !== ra.getParameter(ra.IMPLEMENTATION_COLOR_READ_FORMAT) ? console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.") : i.type === THREE.UnsignedByteType || z(i.type) === ra.getParameter(ra.IMPLEMENTATION_COLOR_READ_TYPE) || i.type === THREE.FloatType && ta.get("WEBGL_color_buffer_float") || i.type === THREE.HalfFloatType && ta.get("EXT_color_buffer_half_float") ? ra.checkFramebufferStatus(ra.FRAMEBUFFER) === ra.FRAMEBUFFER_COMPLETE ? b >= 0 && b <= a.width - d && c >= 0 && c <= a.height - e && ra.readPixels(b, c, d, e, z(i.format), z(i.type), f) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.") : console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")
                    } finally {
                        h && ra.bindFramebuffer(ra.FRAMEBUFFER, T)
                    }
                }
            }
        }
}
,
THREE.WebGLRenderTarget = function(a, b, c) {
    this.uuid = THREE.Math.generateUUID(),
        this.width = a,
        this.height = b,
        this.scissor = new THREE.Vector4(0,0,a,b),
        this.scissorTest = !1,
        this.viewport = new THREE.Vector4(0,0,a,b),
        c = c || {},
    void 0 === c.minFilter && (c.minFilter = THREE.LinearFilter),
        this.texture = new THREE.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding),
        this.depthBuffer = void 0 === c.depthBuffer || c.depthBuffer,
        this.stencilBuffer = void 0 === c.stencilBuffer || c.stencilBuffer,
        this.depthTexture = null
}
,
Object.assign(THREE.WebGLRenderTarget.prototype, THREE.EventDispatcher.prototype, {
    setSize: function(a, b) {
        (this.width !== a || this.height !== b) && (this.width = a,
            this.height = b,
            this.dispose()),
            this.viewport.set(0, 0, a, b),
            this.scissor.set(0, 0, a, b)
    },
    clone: function() {
        return (new this.constructor).copy(this)
    },
    copy: function(a) {
        return this.width = a.width,
            this.height = a.height,
            this.viewport.copy(a.viewport),
            this.texture = a.texture.clone(),
            this.depthBuffer = a.depthBuffer,
            this.stencilBuffer = a.stencilBuffer,
            this.depthTexture = a.depthTexture,
            this
    },
    dispose: function() {
        this.dispatchEvent({
            type: "dispose"
        })
    }
}),
THREE.WebGLRenderTargetCube = function(a, b, c) {
    THREE.WebGLRenderTarget.call(this, a, b, c),
        this.activeMipMapLevel = this.activeCubeFace = 0
}
,
THREE.WebGLRenderTargetCube.prototype = Object.create(THREE.WebGLRenderTarget.prototype),
THREE.WebGLRenderTargetCube.prototype.constructor = THREE.WebGLRenderTargetCube,
THREE.WebGLBufferRenderer = function(a, b, c) {
    var d;
    this.setMode = function(a) {
        d = a
    }
        ,
        this.render = function(b, e) {
            a.drawArrays(d, b, e),
                c.calls++,
                c.vertices += e,
            d === a.TRIANGLES && (c.faces += e / 3)
        }
        ,
        this.renderInstances = function(e) {
            var f = b.get("ANGLE_instanced_arrays");
            if (null  === f)
                console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
            else {
                var g = e.attributes.position
                    , h = 0
                    , h = g instanceof THREE.InterleavedBufferAttribute ? g.data.count : g.count;
                f.drawArraysInstancedANGLE(d, 0, h, e.maxInstancedCount),
                    c.calls++,
                    c.vertices += h * e.maxInstancedCount,
                d === a.TRIANGLES && (c.faces += e.maxInstancedCount * h / 3)
            }
        }
}
,
THREE.WebGLClipping = function() {
    function a() {
        j.value !== d && (j.value = d,
            j.needsUpdate = e > 0),
            c.numPlanes = e
    }
    function b(a, b, d, e) {
        var f = null  !== a ? a.length : 0
            , g = null ;
        if (0 !== f) {
            if (g = j.value,
                !0 !== e || null  === g)
                for (e = d + 4 * f,
                         b = b.matrixWorldInverse,
                         i.getNormalMatrix(b),
                     (null  === g || g.length < e) && (g = new Float32Array(e)),
                         e = 0; e !== f; ++e,
                         d += 4)
                    h.copy(a[e]).applyMatrix4(b, i),
                        h.normal.toArray(g, d),
                        g[d + 3] = h.constant;
            j.value = g,
                j.needsUpdate = !0
        }
        return c.numPlanes = f,
            g
    }
    var c = this
        , d = null
        , e = 0
        , f = !1
        , g = !1
        , h = new THREE.Plane
        , i = new THREE.Matrix3
        , j = {
        value: null ,
        needsUpdate: !1
    };
    this.uniform = j,
        this.numPlanes = 0,
        this.init = function(a, c, g) {
            var h = 0 !== a.length || c || 0 !== e || f;
            return f = c,
                d = b(a, g, 0),
                e = a.length,
                h
        }
        ,
        this.beginShadows = function() {
            g = !0,
                b(null )
        }
        ,
        this.endShadows = function() {
            g = !1,
                a()
        }
        ,
        this.setState = function(c, h, i, k, l) {
            if (!f || null  === c || 0 === c.length || g && !h)
                g ? b(null ) : a();
            else {
                h = g ? 0 : e;
                var m = 4 * h
                    , n = k.clippingState || null ;
                for (j.value = n,
                         n = b(c, i, m, l),
                         c = 0; c !== m; ++c)
                    n[c] = d[c];
                k.clippingState = n,
                    this.numPlanes += h
            }
        }
}
,
THREE.WebGLIndexedBufferRenderer = function(a, b, c) {
    var d, e, f;
    this.setMode = function(a) {
        d = a
    }
        ,
        this.setIndex = function(c) {
            c.array instanceof Uint32Array && b.get("OES_element_index_uint") ? (e = a.UNSIGNED_INT,
                f = 4) : (e = a.UNSIGNED_SHORT,
                f = 2)
        }
        ,
        this.render = function(b, g) {
            a.drawElements(d, g, e, b * f),
                c.calls++,
                c.vertices += g,
            d === a.TRIANGLES && (c.faces += g / 3)
        }
        ,
        this.renderInstances = function(g, h, i) {
            var j = b.get("ANGLE_instanced_arrays");
            null  === j ? console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.") : (j.drawElementsInstancedANGLE(d, i, e, h * f, g.maxInstancedCount),
                c.calls++,
                c.vertices += i * g.maxInstancedCount,
            d === a.TRIANGLES && (c.faces += g.maxInstancedCount * i / 3))
        }
}
,
THREE.WebGLExtensions = function(a) {
    var b = {};
    this.get = function(c) {
        if (void 0 !== b[c])
            return b[c];
        var d;
        switch (c) {
            case "WEBGL_depth_texture":
                d = a.getExtension("WEBGL_depth_texture") || a.getExtension("MOZ_WEBGL_depth_texture") || a.getExtension("WEBKIT_WEBGL_depth_texture");
                break;
            case "EXT_texture_filter_anisotropic":
                d = a.getExtension("EXT_texture_filter_anisotropic") || a.getExtension("MOZ_EXT_texture_filter_anisotropic") || a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                break;
            case "WEBGL_compressed_texture_s3tc":
                d = a.getExtension("WEBGL_compressed_texture_s3tc") || a.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                break;
            case "WEBGL_compressed_texture_pvrtc":
                d = a.getExtension("WEBGL_compressed_texture_pvrtc") || a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                break;
            case "WEBGL_compressed_texture_etc1":
                d = a.getExtension("WEBGL_compressed_texture_etc1");
                break;
            default:
                d = a.getExtension(c)
        }
        return null  === d && console.warn("THREE.WebGLRenderer: " + c + " extension not supported."),
            b[c] = d
    }
}
,
THREE.WebGLCapabilities = function(a, b, c) {
    function d(b) {
        if ("highp" === b) {
            if (0 < a.getShaderPrecisionFormat(a.VERTEX_SHADER, a.HIGH_FLOAT).precision && 0 < a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.HIGH_FLOAT).precision)
                return "highp";
            b = "mediump"
        }
        return "mediump" === b && 0 < a.getShaderPrecisionFormat(a.VERTEX_SHADER, a.MEDIUM_FLOAT).precision && 0 < a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.MEDIUM_FLOAT).precision ? "mediump" : "lowp"
    }
    this.getMaxPrecision = d,
        this.precision = void 0 !== c.precision ? c.precision : "highp",
        this.logarithmicDepthBuffer = void 0 !== c.logarithmicDepthBuffer && c.logarithmicDepthBuffer,
        this.maxTextures = a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),
        this.maxVertexTextures = a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
        this.maxTextureSize = a.getParameter(a.MAX_TEXTURE_SIZE),
        this.maxCubemapSize = a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),
        this.maxAttributes = a.getParameter(a.MAX_VERTEX_ATTRIBS),
        this.maxVertexUniforms = a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),
        this.maxVaryings = a.getParameter(a.MAX_VARYING_VECTORS),
        this.maxFragmentUniforms = a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),
        this.vertexTextures = 0 < this.maxVertexTextures,
        this.floatFragmentTextures = !!b.get("OES_texture_float"),
        this.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures,
        c = d(this.precision),
    c !== this.precision && (console.warn("THREE.WebGLRenderer:", this.precision, "not supported, using", c, "instead."),
        this.precision = c),
    this.logarithmicDepthBuffer && (this.logarithmicDepthBuffer = !!b.get("EXT_frag_depth"))
}
,
THREE.WebGLGeometries = function(a, b, c) {
    function d(a) {
        var g = a.target;
        a = f[g.id],
        null  !== a.index && e(a.index);
        var h, i = a.attributes;
        for (h in i)
            e(i[h]);
        g.removeEventListener("dispose", d),
            delete f[g.id],
            h = b.get(g),
        h.wireframe && e(h.wireframe),
            b.delete(g),
            g = b.get(a),
        g.wireframe && e(g.wireframe),
            b.delete(a),
            c.memory.geometries--
    }
    function e(c) {
        var d;
        d = c instanceof THREE.InterleavedBufferAttribute ? b.get(c.data).__webglBuffer : b.get(c).__webglBuffer,
        void 0 !== d && (a.deleteBuffer(d),
            c instanceof THREE.InterleavedBufferAttribute ? b.delete(c.data) : b.delete(c))
    }
    var f = {};
    this.get = function(a) {
        var b = a.geometry;
        if (void 0 !== f[b.id])
            return f[b.id];
        b.addEventListener("dispose", d);
        var e;
        return b instanceof THREE.BufferGeometry ? e = b : b instanceof THREE.Geometry && (void 0 === b._bufferGeometry && (b._bufferGeometry = (new THREE.BufferGeometry).setFromObject(a)),
            e = b._bufferGeometry),
            f[b.id] = e,
            c.memory.geometries++,
            e
    }
}
,
THREE.WebGLLights = function() {
    var a = {};
    this.get = function(b) {
        if (void 0 !== a[b.id])
            return a[b.id];
        var c;
        switch (b.type) {
            case "DirectionalLight":
                c = {
                    direction: new THREE.Vector3,
                    color: new THREE.Color,
                    shadow: !1,
                    shadowBias: 0,
                    shadowRadius: 1,
                    shadowMapSize: new THREE.Vector2
                };
                break;
            case "SpotLight":
                c = {
                    position: new THREE.Vector3,
                    direction: new THREE.Vector3,
                    color: new THREE.Color,
                    distance: 0,
                    coneCos: 0,
                    penumbraCos: 0,
                    decay: 0,
                    shadow: !1,
                    shadowBias: 0,
                    shadowRadius: 1,
                    shadowMapSize: new THREE.Vector2
                };
                break;
            case "PointLight":
                c = {
                    position: new THREE.Vector3,
                    color: new THREE.Color,
                    distance: 0,
                    decay: 0,
                    shadow: !1,
                    shadowBias: 0,
                    shadowRadius: 1,
                    shadowMapSize: new THREE.Vector2
                };
                break;
            case "HemisphereLight":
                c = {
                    direction: new THREE.Vector3,
                    skyColor: new THREE.Color,
                    groundColor: new THREE.Color
                }
        }
        return a[b.id] = c
    }
}
,
THREE.WebGLObjects = function(a, b, c) {
    function d(c, d) {
        var e = c instanceof THREE.InterleavedBufferAttribute ? c.data : c
            , f = b.get(e);
        void 0 === f.__webglBuffer ? (f.__webglBuffer = a.createBuffer(),
            a.bindBuffer(d, f.__webglBuffer),
            a.bufferData(d, e.array, e.dynamic ? a.DYNAMIC_DRAW : a.STATIC_DRAW),
            f.version = e.version) : f.version !== e.version && (a.bindBuffer(d, f.__webglBuffer),
            !1 === e.dynamic || -1 === e.updateRange.count ? a.bufferSubData(d, 0, e.array) : 0 === e.updateRange.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (a.bufferSubData(d, e.updateRange.offset * e.array.BYTES_PER_ELEMENT, e.array.subarray(e.updateRange.offset, e.updateRange.offset + e.updateRange.count)),
                e.updateRange.count = 0),
            f.version = e.version)
    }
    function e(a, b, c) {
        if (b > c) {
            var d = b;
            b = c,
                c = d
        }
        return d = a[b],
            void 0 === d ? (a[b] = [c],
                !0) : -1 === d.indexOf(c) && (d.push(c),
                !0)
    }
    var f = new THREE.WebGLGeometries(a,b,c);
    this.getAttributeBuffer = function(a) {
        return a instanceof THREE.InterleavedBufferAttribute ? b.get(a.data).__webglBuffer : b.get(a).__webglBuffer
    }
        ,
        this.getWireframeAttribute = function(c) {
            var f = b.get(c);
            if (void 0 !== f.wireframe)
                return f.wireframe;
            var g = []
                , h = c.index
                , i = c.attributes;
            if (c = i.position,
                null  !== h)
                for (var i = {}, h = h.array, j = 0, k = h.length; k > j; j += 3) {
                    var l = h[j + 0]
                        , m = h[j + 1]
                        , n = h[j + 2];
                    e(i, l, m) && g.push(l, m),
                    e(i, m, n) && g.push(m, n),
                    e(i, n, l) && g.push(n, l)
                }
            else
                for (h = i.position.array,
                         j = 0,
                         k = h.length / 3 - 1; k > j; j += 3)
                    l = j + 0,
                        m = j + 1,
                        n = j + 2,
                        g.push(l, m, m, n, n, l);
            return g = new THREE.BufferAttribute(new (65535 < c.count ? Uint32Array : Uint16Array)(g),1),
                d(g, a.ELEMENT_ARRAY_BUFFER),
                f.wireframe = g
        }
        ,
        this.update = function(b) {
            var c = f.get(b);
            b.geometry instanceof THREE.Geometry && c.updateFromObject(b),
                b = c.index;
            var e = c.attributes;
            null  !== b && d(b, a.ELEMENT_ARRAY_BUFFER);
            for (var g in e)
                d(e[g], a.ARRAY_BUFFER);
            b = c.morphAttributes;
            for (g in b)
                for (var e = b[g], h = 0, i = e.length; i > h; h++)
                    d(e[h], a.ARRAY_BUFFER);
            return c
        }
}
,
THREE.WebGLProgram = function() {
    function a(a) {
        switch (a) {
            case THREE.LinearEncoding:
                return ["Linear", "( value )"];
            case THREE.sRGBEncoding:
                return ["sRGB", "( value )"];
            case THREE.RGBEEncoding:
                return ["RGBE", "( value )"];
            case THREE.RGBM7Encoding:
                return ["RGBM", "( value, 7.0 )"];
            case THREE.RGBM16Encoding:
                return ["RGBM", "( value, 16.0 )"];
            case THREE.RGBDEncoding:
                return ["RGBD", "( value, 256.0 )"];
            case THREE.GammaEncoding:
                return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
            default:
                throw Error("unsupported encoding: " + a)
        }
    }
    function b(b, c) {
        var d = a(c);
        return "vec4 " + b + "( vec4 value ) { return " + d[0] + "ToLinear" + d[1] + "; }"
    }
    function c(b, c) {
        var d = a(c);
        return "vec4 " + b + "( vec4 value ) { return LinearTo" + d[0] + d[1] + "; }"
    }
    function d(a, b) {
        var c;
        switch (b) {
            case THREE.LinearToneMapping:
                c = "Linear";
                break;
            case THREE.ReinhardToneMapping:
                c = "Reinhard";
                break;
            case THREE.Uncharted2ToneMapping:
                c = "Uncharted2";
                break;
            case THREE.CineonToneMapping:
                c = "OptimizedCineon";
                break;
            default:
                throw Error("unsupported toneMapping: " + b)
        }
        return "vec3 " + a + "( vec3 color ) { return " + c + "ToneMapping( color ); }"
    }
    function e(a, b, c) {
        return a = a || {},
            [a.derivatives || b.envMapCubeUV || b.bumpMap || b.normalMap || b.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (a.fragDepth || b.logarithmicDepthBuffer) && c.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", a.drawBuffers && c.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (a.shaderTextureLOD || b.envMap) && c.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(g).join("\n")
    }
    function f(a) {
        var b, c = [];
        for (b in a) {
            var d = a[b];
            !1 !== d && c.push("#define " + b + " " + d)
        }
        return c.join("\n")
    }
    function g(a) {
        return "" !== a
    }
    function h(a, b) {
        return a.replace(/NUM_DIR_LIGHTS/g, b.numDirLights).replace(/NUM_SPOT_LIGHTS/g, b.numSpotLights).replace(/NUM_POINT_LIGHTS/g, b.numPointLights).replace(/NUM_HEMI_LIGHTS/g, b.numHemiLights)
    }
    function i(a) {
        return a.replace(/#include +<([\w\d.]+)>/g, function(a, b) {
            var c = THREE.ShaderChunk[b];
            if (void 0 === c)
                throw Error("Can not resolve #include <" + b + ">");
            return i(c)
        })
    }
    function j(a) {
        return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function(a, b, c, d) {
            for (a = "",
                     b = parseInt(b); b < parseInt(c); b++)
                a += d.replace(/\[ i \]/g, "[ " + b + " ]");
            return a
        })
    }
    var k = 0;
    return function(a, l, m, n) {
        var o = a.context
            , p = m.extensions
            , q = m.defines
            , r = m.__webglShader.vertexShader
            , s = m.__webglShader.fragmentShader
            , t = "SHADOWMAP_TYPE_BASIC";
        n.shadowMapType === THREE.PCFShadowMap ? t = "SHADOWMAP_TYPE_PCF" : n.shadowMapType === THREE.PCFSoftShadowMap && (t = "SHADOWMAP_TYPE_PCF_SOFT");
        var u = "ENVMAP_TYPE_CUBE"
            , v = "ENVMAP_MODE_REFLECTION"
            , w = "ENVMAP_BLENDING_MULTIPLY";
        if (n.envMap) {
            switch (m.envMap.mapping) {
                case THREE.CubeReflectionMapping:
                case THREE.CubeRefractionMapping:
                    u = "ENVMAP_TYPE_CUBE";
                    break;
                case THREE.CubeUVReflectionMapping:
                case THREE.CubeUVRefractionMapping:
                    u = "ENVMAP_TYPE_CUBE_UV";
                    break;
                case THREE.EquirectangularReflectionMapping:
                case THREE.EquirectangularRefractionMapping:
                    u = "ENVMAP_TYPE_EQUIREC";
                    break;
                case THREE.SphericalReflectionMapping:
                    u = "ENVMAP_TYPE_SPHERE"
            }
            switch (m.envMap.mapping) {
                case THREE.CubeRefractionMapping:
                case THREE.EquirectangularRefractionMapping:
                    v = "ENVMAP_MODE_REFRACTION"
            }
            switch (m.combine) {
                case THREE.MultiplyOperation:
                    w = "ENVMAP_BLENDING_MULTIPLY";
                    break;
                case THREE.MixOperation:
                    w = "ENVMAP_BLENDING_MIX";
                    break;
                case THREE.AddOperation:
                    w = "ENVMAP_BLENDING_ADD"
            }
        }
        var x = 0 < a.gammaFactor ? a.gammaFactor : 1
            , p = e(p, n, a.extensions)
            , y = f(q)
            , z = o.createProgram();
        m instanceof THREE.RawShaderMaterial ? t = q = "" : (q = ["precision " + n.precision + " float;", "precision " + n.precision + " int;", "#define SHADER_NAME " + m.__webglShader.name, y, n.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + x, "#define MAX_BONES " + n.maxBones, n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + v : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.displacementMap && n.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexColors ? "#define USE_COLOR" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.skinning ? "#define USE_SKINNING" : "", n.useVertexTexture ? "#define BONE_TEXTURE" : "", n.morphTargets ? "#define USE_MORPHTARGETS" : "", n.morphNormals && !1 === n.flatShading ? "#define USE_MORPHNORMALS" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + n.numClippingPlanes, n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + t : "", n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && a.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(g).join("\n"),
            t = [p, "precision " + n.precision + " float;", "precision " + n.precision + " int;", "#define SHADER_NAME " + m.__webglShader.name, y, n.alphaTest ? "#define ALPHATEST " + n.alphaTest : "", "#define GAMMA_FACTOR " + x, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + u : "", n.envMap ? "#define " + v : "", n.envMap ? "#define " + w : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexColors ? "#define USE_COLOR" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + n.numClippingPlanes, n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + t : "", n.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", n.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && a.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", n.envMap && a.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", n.toneMapping !== THREE.NoToneMapping ? "#define TONE_MAPPING" : "", n.toneMapping !== THREE.NoToneMapping ? THREE.ShaderChunk.tonemapping_pars_fragment : "", n.toneMapping !== THREE.NoToneMapping ? d("toneMapping", n.toneMapping) : "", n.outputEncoding || n.mapEncoding || n.envMapEncoding || n.emissiveMapEncoding ? THREE.ShaderChunk.encodings_pars_fragment : "", n.mapEncoding ? b("mapTexelToLinear", n.mapEncoding) : "", n.envMapEncoding ? b("envMapTexelToLinear", n.envMapEncoding) : "", n.emissiveMapEncoding ? b("emissiveMapTexelToLinear", n.emissiveMapEncoding) : "", n.outputEncoding ? c("linearToOutputTexel", n.outputEncoding) : "", n.depthPacking ? "#define DEPTH_PACKING " + m.depthPacking : "", "\n"].filter(g).join("\n")),
            r = i(r, n),
            r = h(r, n),
            s = i(s, n),
            s = h(s, n),
        0 == m instanceof THREE.ShaderMaterial && (r = j(r),
            s = j(s)),
            s = t + s,
            r = THREE.WebGLShader(o, o.VERTEX_SHADER, q + r),
            s = THREE.WebGLShader(o, o.FRAGMENT_SHADER, s),
            o.attachShader(z, r),
            o.attachShader(z, s),
            void 0 !== m.index0AttributeName ? o.bindAttribLocation(z, 0, m.index0AttributeName) : !0 === n.morphTargets && o.bindAttribLocation(z, 0, "position"),
            o.linkProgram(z),
            n = o.getProgramInfoLog(z),
            u = o.getShaderInfoLog(r),
            v = o.getShaderInfoLog(s),
            x = w = !0,
            !1 === o.getProgramParameter(z, o.LINK_STATUS) ? (w = !1,
                console.error("THREE.WebGLProgram: shader error: ", o.getError(), "gl.VALIDATE_STATUS", o.getProgramParameter(z, o.VALIDATE_STATUS), "gl.getProgramInfoLog", n, u, v)) : "" !== n ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", n) : ("" === u || "" === v) && (x = !1),
        x && (this.diagnostics = {
            runnable: w,
            material: m,
            programLog: n,
            vertexShader: {
                log: u,
                prefix: q
            },
            fragmentShader: {
                log: v,
                prefix: t
            }
        }),
            o.deleteShader(r),
            o.deleteShader(s);
        var A;
        this.getUniforms = function() {
            return void 0 === A && (A = new THREE.WebGLUniforms(o,z,a)),
                A
        }
        ;
        var B;
        return this.getAttributes = function() {
            if (void 0 === B) {
                for (var a = {}, b = o.getProgramParameter(z, o.ACTIVE_ATTRIBUTES), c = 0; b > c; c++) {
                    var d = o.getActiveAttrib(z, c).name;
                    a[d] = o.getAttribLocation(z, d)
                }
                B = a
            }
            return B
        }
            ,
            this.destroy = function() {
                o.deleteProgram(z),
                    this.program = void 0
            }
            ,
            Object.defineProperties(this, {
                uniforms: {
                    get: function() {
                        return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),
                            this.getUniforms()
                    }
                },
                attributes: {
                    get: function() {
                        return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),
                            this.getAttributes()
                    }
                }
            }),
            this.id = k++,
            this.code = l,
            this.usedTimes = 1,
            this.program = z,
            this.vertexShader = r,
            this.fragmentShader = s,
            this
    }
}(),
THREE.WebGLPrograms = function(a, b) {
    function c(a, b) {
        var c;
        return a ? a instanceof THREE.Texture ? c = a.encoding : a instanceof THREE.WebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),
            c = a.texture.encoding) : c = THREE.LinearEncoding,
        c === THREE.LinearEncoding && b && (c = THREE.GammaEncoding),
            c
    }
    var d = []
        , e = {
        MeshDepthMaterial: "depth",
        MeshNormalMaterial: "normal",
        MeshBasicMaterial: "basic",
        MeshLambertMaterial: "lambert",
        MeshPhongMaterial: "phong",
        MeshStandardMaterial: "physical",
        MeshPhysicalMaterial: "physical",
        LineBasicMaterial: "basic",
        LineDashedMaterial: "dashed",
        PointsMaterial: "points"
    }
        , f = "precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
    this.getParameters = function(d, f, g, h, i) {
        var j, k = e[d.type];
        b.floatVertexTextures && i && i.skeleton && i.skeleton.useVertexTexture ? j = 1024 : (j = Math.floor((b.maxVertexUniforms - 20) / 4),
        void 0 !== i && i instanceof THREE.SkinnedMesh && (j = Math.min(i.skeleton.bones.length, j),
        j < i.skeleton.bones.length && console.warn("WebGLRenderer: too many bones - " + i.skeleton.bones.length + ", this GPU supports just " + j + " (try OpenGL instead of ANGLE)")));
        var l = a.getPrecision();
        null  !== d.precision && (l = b.getMaxPrecision(d.precision),
        l !== d.precision && console.warn("THREE.WebGLProgram.getParameters:", d.precision, "not supported, using", l, "instead."));
        var m = a.getCurrentRenderTarget();
        return {
            shaderID: k,
            precision: l,
            supportsVertexTextures: b.vertexTextures,
            outputEncoding: c(m ? m.texture : null , a.gammaOutput),
            map: !!d.map,
            mapEncoding: c(d.map, a.gammaInput),
            envMap: !!d.envMap,
            envMapMode: d.envMap && d.envMap.mapping,
            envMapEncoding: c(d.envMap, a.gammaInput),
            envMapCubeUV: !!d.envMap && (d.envMap.mapping === THREE.CubeUVReflectionMapping || d.envMap.mapping === THREE.CubeUVRefractionMapping),
            lightMap: !!d.lightMap,
            aoMap: !!d.aoMap,
            emissiveMap: !!d.emissiveMap,
            emissiveMapEncoding: c(d.emissiveMap, a.gammaInput),
            bumpMap: !!d.bumpMap,
            normalMap: !!d.normalMap,
            displacementMap: !!d.displacementMap,
            roughnessMap: !!d.roughnessMap,
            metalnessMap: !!d.metalnessMap,
            specularMap: !!d.specularMap,
            alphaMap: !!d.alphaMap,
            combine: d.combine,
            vertexColors: d.vertexColors,
            fog: g,
            useFog: d.fog,
            fogExp: g instanceof THREE.FogExp2,
            flatShading: d.shading === THREE.FlatShading,
            sizeAttenuation: d.sizeAttenuation,
            logarithmicDepthBuffer: b.logarithmicDepthBuffer,
            skinning: d.skinning,
            maxBones: j,
            useVertexTexture: b.floatVertexTextures && i && i.skeleton && i.skeleton.useVertexTexture,
            morphTargets: d.morphTargets,
            morphNormals: d.morphNormals,
            maxMorphTargets: a.maxMorphTargets,
            maxMorphNormals: a.maxMorphNormals,
            numDirLights: f.directional.length,
            numPointLights: f.point.length,
            numSpotLights: f.spot.length,
            numHemiLights: f.hemi.length,
            numClippingPlanes: h,
            shadowMapEnabled: a.shadowMap.enabled && i.receiveShadow && 0 < f.shadows.length,
            shadowMapType: a.shadowMap.type,
            toneMapping: a.toneMapping,
            physicallyCorrectLights: a.physicallyCorrectLights,
            premultipliedAlpha: d.premultipliedAlpha,
            alphaTest: d.alphaTest,
            doubleSided: d.side === THREE.DoubleSide,
            flipSided: d.side === THREE.BackSide,
            depthPacking: void 0 !== d.depthPacking && d.depthPacking
        }
    }
        ,
        this.getProgramCode = function(a, b) {
            var c = [];
            if (b.shaderID ? c.push(b.shaderID) : (c.push(a.fragmentShader),
                    c.push(a.vertexShader)),
                void 0 !== a.defines)
                for (var d in a.defines)
                    c.push(d),
                        c.push(a.defines[d]);
            for (d = 0; d < f.length; d++)
                c.push(b[f[d]]);
            return c.join()
        }
        ,
        this.acquireProgram = function(b, c, e) {
            for (var f, g = 0, h = d.length; h > g; g++) {
                var i = d[g];
                if (i.code === e) {
                    f = i,
                        ++f.usedTimes;
                    break
                }
            }
            return void 0 === f && (f = new THREE.WebGLProgram(a,e,b,c),
                d.push(f)),
                f
        }
        ,
        this.releaseProgram = function(a) {
            if (0 === --a.usedTimes) {
                var b = d.indexOf(a);
                d[b] = d[d.length - 1],
                    d.pop(),
                    a.destroy()
            }
        }
        ,
        this.programs = d
}
,
THREE.WebGLProperties = function() {
    var a = {};
    this.get = function(b) {
        b = b.uuid;
        var c = a[b];
        return void 0 === c && (c = {},
            a[b] = c),
            c
    }
        ,
        this.delete = function(b) {
            delete a[b.uuid]
        }
        ,
        this.clear = function() {
            a = {}
        }
}
,
THREE.WebGLShader = function() {
    function a(a) {
        a = a.split("\n");
        for (var b = 0; b < a.length; b++)
            a[b] = b + 1 + ": " + a[b];
        return a.join("\n")
    }
    return function(b, c, d) {
        var e = b.createShader(c);
        return b.shaderSource(e, d),
            b.compileShader(e),
        !1 === b.getShaderParameter(e, b.COMPILE_STATUS) && console.error("THREE.WebGLShader: Shader couldn't compile."),
        "" !== b.getShaderInfoLog(e) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()", c === b.VERTEX_SHADER ? "vertex" : "fragment", b.getShaderInfoLog(e), a(d)),
            e
    }
}(),
THREE.WebGLShadowMap = function(a, b, c) {
    function d(b, c, d, e) {
        var f = b.geometry
            , g = null
            , g = o
            , h = b.customDepthMaterial;
        return d && (g = p,
            h = b.customDistanceMaterial),
            h ? g = h : (b = b instanceof THREE.SkinnedMesh && c.skinning,
                h = 0,
            void 0 !== f.morphTargets && 0 < f.morphTargets.length && c.morphTargets && (h |= 1),
            b && (h |= 2),
                g = g[h]),
        a.localClippingEnabled && !0 === c.clipShadows && 0 !== c.clippingPlanes.length && (h = g.uuid,
            f = c.uuid,
            b = q[h],
        void 0 === b && (b = {},
            q[h] = b),
            h = b[f],
        void 0 === h && (h = g.clone(),
            b[f] = h),
            g = h),
            g.visible = c.visible,
            g.wireframe = c.wireframe,
            f = c.side,
        A.renderSingleSided && f == THREE.DoubleSide && (f = THREE.FrontSide),
        A.renderReverseSided && (f === THREE.FrontSide ? f = THREE.BackSide : f === THREE.BackSide && (f = THREE.FrontSide)),
            g.side = f,
            g.clipShadows = c.clipShadows,
            g.clippingPlanes = c.clippingPlanes,
            g.wireframeLinewidth = c.wireframeLinewidth,
            g.linewidth = c.linewidth,
        d && void 0 !== g.uniforms.lightPos && g.uniforms.lightPos.value.copy(e),
            g
    }
    function e(a, b, c) {
        if (!1 !== a.visible) {
            a.layers.test(b.layers) && (a instanceof THREE.Mesh || a instanceof THREE.Line || a instanceof THREE.Points) && a.castShadow && (!1 === a.frustumCulled || !0 === h.intersectsObject(a)) && !0 === a.material.visible && (a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse, a.matrixWorld),
                n.push(a)),
                a = a.children;
            for (var d = 0, f = a.length; f > d; d++)
                e(a[d], b, c)
        }
    }
    var f = a.context
        , g = a.state
        , h = new THREE.Frustum
        , i = new THREE.Matrix4
        , j = b.shadows
        , k = new THREE.Vector2
        , l = new THREE.Vector3
        , m = new THREE.Vector3
        , n = []
        , o = Array(4)
        , p = Array(4)
        , q = {}
        , r = [new THREE.Vector3(1,0,0), new THREE.Vector3(-1,0,0), new THREE.Vector3(0,0,1), new THREE.Vector3(0,0,-1), new THREE.Vector3(0,1,0), new THREE.Vector3(0,-1,0)]
        , s = [new THREE.Vector3(0,1,0), new THREE.Vector3(0,1,0), new THREE.Vector3(0,1,0), new THREE.Vector3(0,1,0), new THREE.Vector3(0,0,1), new THREE.Vector3(0,0,-1)]
        , t = [new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4];
    b = new THREE.MeshDepthMaterial,
        b.depthPacking = THREE.RGBADepthPacking,
        b.clipping = !0;
    for (var u = THREE.ShaderLib.distanceRGBA, v = THREE.UniformsUtils.clone(u.uniforms), w = 0; 4 !== w; ++w) {
        var x = 0 !== (1 & w)
            , y = 0 !== (2 & w)
            , z = b.clone();
        z.morphTargets = x,
            z.skinning = y,
            o[w] = z,
            x = new THREE.ShaderMaterial({
                defines: {
                    USE_SHADOWMAP: ""
                },
                uniforms: v,
                vertexShader: u.vertexShader,
                fragmentShader: u.fragmentShader,
                morphTargets: x,
                skinning: y,
                clipping: !0
            }),
            p[w] = x
    }
    var A = this;
    this.enabled = !1,
        this.autoUpdate = !0,
        this.needsUpdate = !1,
        this.type = THREE.PCFShadowMap,
        this.renderSingleSided = this.renderReverseSided = !0,
        this.render = function(b, o) {
            if (!1 !== A.enabled && (!1 !== A.autoUpdate || !1 !== A.needsUpdate) && 0 !== j.length) {
                g.clearColor(1, 1, 1, 1),
                    g.disable(f.BLEND),
                    g.setDepthTest(!0),
                    g.setScissorTest(!1);
                for (var p, q, u = 0, v = j.length; v > u; u++) {
                    var w = j[u]
                        , x = w.shadow;
                    if (void 0 === x)
                        console.warn("THREE.WebGLShadowMap:", w, "has no shadow.");
                    else {
                        var y = x.camera;
                        if (k.copy(x.mapSize),
                            w instanceof THREE.PointLight) {
                            p = 6,
                                q = !0;
                            var z = k.x
                                , B = k.y;
                            t[0].set(2 * z, B, z, B),
                                t[1].set(0, B, z, B),
                                t[2].set(3 * z, B, z, B),
                                t[3].set(z, B, z, B),
                                t[4].set(3 * z, 0, z, B),
                                t[5].set(z, 0, z, B),
                                k.x *= 4,
                                k.y *= 2
                        } else
                            p = 1,
                                q = !1;
                        for (null  === x.map && (x.map = new THREE.WebGLRenderTarget(k.x,k.y,{
                            minFilter: THREE.NearestFilter,
                            magFilter: THREE.NearestFilter,
                            format: THREE.RGBAFormat
                        }),
                            y.updateProjectionMatrix()),
                             x instanceof THREE.SpotLightShadow && x.update(w),
                                 z = x.map,
                                 x = x.matrix,
                                 m.setFromMatrixPosition(w.matrixWorld),
                                 y.position.copy(m),
                                 a.setRenderTarget(z),
                                 a.clear(),
                                 z = 0; p > z; z++) {
                            q ? (l.copy(y.position),
                                l.add(r[z]),
                                y.up.copy(s[z]),
                                y.lookAt(l),
                                g.viewport(t[z])) : (l.setFromMatrixPosition(w.target.matrixWorld),
                                y.lookAt(l)),
                                y.updateMatrixWorld(),
                                y.matrixWorldInverse.getInverse(y.matrixWorld),
                                x.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1),
                                x.multiply(y.projectionMatrix),
                                x.multiply(y.matrixWorldInverse),
                                i.multiplyMatrices(y.projectionMatrix, y.matrixWorldInverse),
                                h.setFromMatrix(i),
                                n.length = 0,
                                e(b, o, y);
                            for (var B = 0, C = n.length; C > B; B++) {
                                var D = n[B]
                                    , E = c.update(D)
                                    , F = D.material;
                                if (F instanceof THREE.MultiMaterial)
                                    for (var G = E.groups, F = F.materials, H = 0, I = G.length; I > H; H++) {
                                        var J = G[H]
                                            , K = F[J.materialIndex];
                                        !0 === K.visible && (K = d(D, K, q, m),
                                            a.renderBufferDirect(y, null , E, K, D, J))
                                    }
                                else
                                    K = d(D, F, q, m),
                                        a.renderBufferDirect(y, null , E, K, D, null )
                            }
                        }
                    }
                }
                p = a.getClearColor(),
                    q = a.getClearAlpha(),
                    a.setClearColor(p, q),
                    A.needsUpdate = !1
            }
        }
}
,
THREE.WebGLState = function(a, b, c) {
    function d(b, c, d) {
        var e = new Uint8Array(3)
            , f = a.createTexture();
        for (a.bindTexture(b, f),
                 a.texParameteri(b, a.TEXTURE_MIN_FILTER, a.NEAREST),
                 a.texParameteri(b, a.TEXTURE_MAG_FILTER, a.NEAREST),
                 b = 0; d > b; b++)
            a.texImage2D(c + b, 0, a.RGB, 1, 1, 0, a.RGB, a.UNSIGNED_BYTE, e);
        return f
    }
    var e = this;
    this.buffers = {
        color: new THREE.WebGLColorBuffer(a,this),
        depth: new THREE.WebGLDepthBuffer(a,this),
        stencil: new THREE.WebGLStencilBuffer(a,this)
    };
    var f = a.getParameter(a.MAX_VERTEX_ATTRIBS)
        , g = new Uint8Array(f)
        , h = new Uint8Array(f)
        , i = new Uint8Array(f)
        , j = {}
        , k = null
        , l = null
        , m = null
        , n = null
        , o = null
        , p = null
        , q = null
        , r = null
        , s = !1
        , t = null
        , u = null
        , v = null
        , w = null
        , x = null
        , y = null
        , z = a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)
        , A = null
        , B = {}
        , C = new THREE.Vector4
        , D = new THREE.Vector4
        , E = {};
    E[a.TEXTURE_2D] = d(a.TEXTURE_2D, a.TEXTURE_2D, 1),
        E[a.TEXTURE_CUBE_MAP] = d(a.TEXTURE_CUBE_MAP, a.TEXTURE_CUBE_MAP_POSITIVE_X, 6),
        this.init = function() {
            this.clearColor(0, 0, 0, 1),
                this.clearDepth(1),
                this.clearStencil(0),
                this.enable(a.DEPTH_TEST),
                this.setDepthFunc(THREE.LessEqualDepth),
                this.setFlipSided(!1),
                this.setCullFace(THREE.CullFaceBack),
                this.enable(a.CULL_FACE),
                this.enable(a.BLEND),
                this.setBlending(THREE.NormalBlending)
        }
        ,
        this.initAttributes = function() {
            for (var a = 0, b = g.length; b > a; a++)
                g[a] = 0
        }
        ,
        this.enableAttribute = function(c) {
            g[c] = 1,
            0 === h[c] && (a.enableVertexAttribArray(c),
                h[c] = 1),
            0 !== i[c] && (b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c, 0),
                i[c] = 0)
        }
        ,
        this.enableAttributeAndDivisor = function(b, c, d) {
            g[b] = 1,
            0 === h[b] && (a.enableVertexAttribArray(b),
                h[b] = 1),
            i[b] !== c && (d.vertexAttribDivisorANGLE(b, c),
                i[b] = c)
        }
        ,
        this.disableUnusedAttributes = function() {
            for (var b = 0, c = h.length; b !== c; ++b)
                h[b] !== g[b] && (a.disableVertexAttribArray(b),
                    h[b] = 0)
        }
        ,
        this.enable = function(b) {
            !0 !== j[b] && (a.enable(b),
                j[b] = !0)
        }
        ,
        this.disable = function(b) {
            !1 !== j[b] && (a.disable(b),
                j[b] = !1)
        }
        ,
        this.getCompressedTextureFormats = function() {
            if (null  === k && (k = [],
                b.get("WEBGL_compressed_texture_pvrtc") || b.get("WEBGL_compressed_texture_s3tc") || b.get("WEBGL_compressed_texture_etc1")))
                for (var c = a.getParameter(a.COMPRESSED_TEXTURE_FORMATS), d = 0; d < c.length; d++)
                    k.push(c[d]);
            return k
        }
        ,
        this.setBlending = function(b, d, e, f, g, h, i, j) {
            b !== THREE.NoBlending ? (this.enable(a.BLEND),
            (b !== l || j !== s) && (b === THREE.AdditiveBlending ? j ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
                a.blendFuncSeparate(a.ONE, a.ONE, a.ONE, a.ONE)) : (a.blendEquation(a.FUNC_ADD),
                a.blendFunc(a.SRC_ALPHA, a.ONE)) : b === THREE.SubtractiveBlending ? j ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
                a.blendFuncSeparate(a.ZERO, a.ZERO, a.ONE_MINUS_SRC_COLOR, a.ONE_MINUS_SRC_ALPHA)) : (a.blendEquation(a.FUNC_ADD),
                a.blendFunc(a.ZERO, a.ONE_MINUS_SRC_COLOR)) : b === THREE.MultiplyBlending ? j ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
                a.blendFuncSeparate(a.ZERO, a.SRC_COLOR, a.ZERO, a.SRC_ALPHA)) : (a.blendEquation(a.FUNC_ADD),
                a.blendFunc(a.ZERO, a.SRC_COLOR)) : j ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
                a.blendFuncSeparate(a.ONE, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA)) : (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
                a.blendFuncSeparate(a.SRC_ALPHA, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA)),
                l = b,
                s = j),
                b === THREE.CustomBlending ? (g = g || d,
                    h = h || e,
                    i = i || f,
                (d !== m || g !== p) && (a.blendEquationSeparate(c(d), c(g)),
                    m = d,
                    p = g),
                (e !== n || f !== o || h !== q || i !== r) && (a.blendFuncSeparate(c(e), c(f), c(h), c(i)),
                    n = e,
                    o = f,
                    q = h,
                    r = i)) : r = q = p = o = n = m = null ) : (this.disable(a.BLEND),
                l = b)
        }
        ,
        this.setColorWrite = function(a) {
            this.buffers.color.setMask(a)
        }
        ,
        this.setDepthTest = function(a) {
            this.buffers.depth.setTest(a)
        }
        ,
        this.setDepthWrite = function(a) {
            this.buffers.depth.setMask(a)
        }
        ,
        this.setDepthFunc = function(a) {
            this.buffers.depth.setFunc(a)
        }
        ,
        this.setStencilTest = function(a) {
            this.buffers.stencil.setTest(a)
        }
        ,
        this.setStencilWrite = function(a) {
            this.buffers.stencil.setMask(a)
        }
        ,
        this.setStencilFunc = function(a, b, c) {
            this.buffers.stencil.setFunc(a, b, c)
        }
        ,
        this.setStencilOp = function(a, b, c) {
            this.buffers.stencil.setOp(a, b, c)
        }
        ,
        this.setFlipSided = function(b) {
            t !== b && (b ? a.frontFace(a.CW) : a.frontFace(a.CCW),
                t = b)
        }
        ,
        this.setCullFace = function(b) {
            b !== THREE.CullFaceNone ? (this.enable(a.CULL_FACE),
            b !== u && (b === THREE.CullFaceBack ? a.cullFace(a.BACK) : b === THREE.CullFaceFront ? a.cullFace(a.FRONT) : a.cullFace(a.FRONT_AND_BACK))) : this.disable(a.CULL_FACE),
                u = b
        }
        ,
        this.setLineWidth = function(b) {
            b !== v && (a.lineWidth(b),
                v = b)
        }
        ,
        this.setPolygonOffset = function(b, c, d) {
            b ? (this.enable(a.POLYGON_OFFSET_FILL),
            (w !== c || x !== d) && (a.polygonOffset(c, d),
                w = c,
                x = d)) : this.disable(a.POLYGON_OFFSET_FILL)
        }
        ,
        this.getScissorTest = function() {
            return y
        }
        ,
        this.setScissorTest = function(b) {
            (y = b) ? this.enable(a.SCISSOR_TEST) : this.disable(a.SCISSOR_TEST)
        }
        ,
        this.activeTexture = function(b) {
            void 0 === b && (b = a.TEXTURE0 + z - 1),
            A !== b && (a.activeTexture(b),
                A = b)
        }
        ,
        this.bindTexture = function(b, c) {
            null  === A && e.activeTexture();
            var d = B[A];
            void 0 === d && (d = {
                type: void 0,
                texture: void 0
            },
                B[A] = d),
            (d.type !== b || d.texture !== c) && (a.bindTexture(b, c || E[b]),
                d.type = b,
                d.texture = c)
        }
        ,
        this.compressedTexImage2D = function() {
            try {
                a.compressedTexImage2D.apply(a, arguments)
            } catch (a) {
                console.error(a)
            }
        }
        ,
        this.texImage2D = function() {
            try {
                a.texImage2D.apply(a, arguments)
            } catch (a) {
                console.error(a)
            }
        }
        ,
        this.clearColor = function(a, b, c, d) {
            this.buffers.color.setClear(a, b, c, d)
        }
        ,
        this.clearDepth = function(a) {
            this.buffers.depth.setClear(a)
        }
        ,
        this.clearStencil = function(a) {
            this.buffers.stencil.setClear(a)
        }
        ,
        this.scissor = function(b) {
            !1 === C.equals(b) && (a.scissor(b.x, b.y, b.z, b.w),
                C.copy(b))
        }
        ,
        this.viewport = function(b) {
            !1 === D.equals(b) && (a.viewport(b.x, b.y, b.z, b.w),
                D.copy(b))
        }
        ,
        this.reset = function() {
            for (var b = 0; b < h.length; b++)
                1 === h[b] && (a.disableVertexAttribArray(b),
                    h[b] = 0);
            j = {},
                A = k = null ,
                B = {},
                u = t = l = null ,
                this.buffers.color.reset(),
                this.buffers.depth.reset(),
                this.buffers.stencil.reset()
        }
}
,
THREE.WebGLColorBuffer = function(a, b) {
    var c = !1
        , d = new THREE.Vector4
        , e = null
        , f = new THREE.Vector4;
    this.setMask = function(b) {
        e === b || c || (a.colorMask(b, b, b, b),
            e = b)
    }
        ,
        this.setLocked = function(a) {
            c = a
        }
        ,
        this.setClear = function(b, c, e, g) {
            d.set(b, c, e, g),
            !1 === f.equals(d) && (a.clearColor(b, c, e, g),
                f.copy(d))
        }
        ,
        this.reset = function() {
            c = !1,
                e = null ,
                f = new THREE.Vector4
        }
}
,
THREE.WebGLDepthBuffer = function(a, b) {
    var c = !1
        , d = null
        , e = null
        , f = null ;
    this.setTest = function(c) {
        c ? b.enable(a.DEPTH_TEST) : b.disable(a.DEPTH_TEST)
    }
        ,
        this.setMask = function(b) {
            d === b || c || (a.depthMask(b),
                d = b)
        }
        ,
        this.setFunc = function(b) {
            if (e !== b) {
                if (b)
                    switch (b) {
                        case THREE.NeverDepth:
                            a.depthFunc(a.NEVER);
                            break;
                        case THREE.AlwaysDepth:
                            a.depthFunc(a.ALWAYS);
                            break;
                        case THREE.LessDepth:
                            a.depthFunc(a.LESS);
                            break;
                        case THREE.LessEqualDepth:
                            a.depthFunc(a.LEQUAL);
                            break;
                        case THREE.EqualDepth:
                            a.depthFunc(a.EQUAL);
                            break;
                        case THREE.GreaterEqualDepth:
                            a.depthFunc(a.GEQUAL);
                            break;
                        case THREE.GreaterDepth:
                            a.depthFunc(a.GREATER);
                            break;
                        case THREE.NotEqualDepth:
                            a.depthFunc(a.NOTEQUAL);
                            break;
                        default:
                            a.depthFunc(a.LEQUAL)
                    }
                else
                    a.depthFunc(a.LEQUAL);
                e = b
            }
        }
        ,
        this.setLocked = function(a) {
            c = a
        }
        ,
        this.setClear = function(b) {
            f !== b && (a.clearDepth(b),
                f = b)
        }
        ,
        this.reset = function() {
            c = !1,
                f = e = d = null
        }
}
,
THREE.WebGLStencilBuffer = function(a, b) {
    var c = !1
        , d = null
        , e = null
        , f = null
        , g = null
        , h = null
        , i = null
        , j = null
        , k = null ;
    this.setTest = function(c) {
        c ? b.enable(a.STENCIL_TEST) : b.disable(a.STENCIL_TEST)
    }
        ,
        this.setMask = function(b) {
            d === b || c || (a.stencilMask(b),
                d = b)
        }
        ,
        this.setFunc = function(b, c, d) {
            (e !== b || f !== c || g !== d) && (a.stencilFunc(b, c, d),
                e = b,
                f = c,
                g = d)
        }
        ,
        this.setOp = function(b, c, d) {
            (h !== b || i !== c || j !== d) && (a.stencilOp(b, c, d),
                h = b,
                i = c,
                j = d)
        }
        ,
        this.setLocked = function(a) {
            c = a
        }
        ,
        this.setClear = function(b) {
            k !== b && (a.clearStencil(b),
                k = b)
        }
        ,
        this.reset = function() {
            c = !1,
                k = j = i = h = g = f = e = d = null
        }
}
,
THREE.WebGLUniforms = function() {
    var a = []
        , b = []
        , c = function(b, c, d) {
            var e = b[0];
            if (0 >= e || e > 0)
                return b;
            var f = c * d
                , g = a[f];
            if (void 0 === g && (g = new Float32Array(f),
                    a[f] = g),
                0 !== c)
                for (e.toArray(g, 0),
                         e = 1,
                         f = 0; e !== c; ++e)
                    f += d,
                        b[e].toArray(g, f);
            return g
        }
        , d = function(a, c) {
            var d = b[c];
            void 0 === d && (d = new Int32Array(c),
                b[c] = d);
            for (var e = 0; e !== c; ++e)
                d[e] = a.allocTextureUnit();
            return d
        }
        , e = function(a, b) {
            a.uniform1f(this.addr, b)
        }
        , f = function(a, b) {
            a.uniform1i(this.addr, b)
        }
        , g = function(a, b) {
            void 0 === b.x ? a.uniform2fv(this.addr, b) : a.uniform2f(this.addr, b.x, b.y)
        }
        , h = function(a, b) {
            void 0 !== b.x ? a.uniform3f(this.addr, b.x, b.y, b.z) : void 0 !== b.r ? a.uniform3f(this.addr, b.r, b.g, b.b) : a.uniform3fv(this.addr, b)
        }
        , i = function(a, b) {
            void 0 === b.x ? a.uniform4fv(this.addr, b) : a.uniform4f(this.addr, b.x, b.y, b.z, b.w)
        }
        , j = function(a, b) {
            a.uniformMatrix2fv(this.addr, !1, b.elements || b)
        }
        , k = function(a, b) {
            a.uniformMatrix3fv(this.addr, !1, b.elements || b)
        }
        , l = function(a, b) {
            a.uniformMatrix4fv(this.addr, !1, b.elements || b)
        }
        , m = function(a, b, c) {
            var d = c.allocTextureUnit();
            a.uniform1i(this.addr, d),
            b && c.setTexture2D(b, d)
        }
        , n = function(a, b, c) {
            var d = c.allocTextureUnit();
            a.uniform1i(this.addr, d),
            b && c.setTextureCube(b, d)
        }
        , o = function(a, b) {
            a.uniform2iv(this.addr, b)
        }
        , p = function(a, b) {
            a.uniform3iv(this.addr, b)
        }
        , q = function(a, b) {
            a.uniform4iv(this.addr, b)
        }
        , r = function(a) {
            switch (a) {
                case 5126:
                    return e;
                case 35664:
                    return g;
                case 35665:
                    return h;
                case 35666:
                    return i;
                case 35674:
                    return j;
                case 35675:
                    return k;
                case 35676:
                    return l;
                case 35678:
                    return m;
                case 35680:
                    return n;
                case 5124:
                case 35670:
                    return f;
                case 35667:
                case 35671:
                    return o;
                case 35668:
                case 35672:
                    return p;
                case 35669:
                case 35673:
                    return q
            }
        }
        , s = function(a, b) {
            a.uniform1fv(this.addr, b)
        }
        , t = function(a, b) {
            a.uniform1iv(this.addr, b)
        }
        , u = function(a, b) {
            a.uniform2fv(this.addr, c(b, this.size, 2))
        }
        , v = function(a, b) {
            a.uniform3fv(this.addr, c(b, this.size, 3))
        }
        , w = function(a, b) {
            a.uniform4fv(this.addr, c(b, this.size, 4))
        }
        , x = function(a, b) {
            a.uniformMatrix2fv(this.addr, !1, c(b, this.size, 4))
        }
        , y = function(a, b) {
            a.uniformMatrix3fv(this.addr, !1, c(b, this.size, 9))
        }
        , z = function(a, b) {
            a.uniformMatrix4fv(this.addr, !1, c(b, this.size, 16))
        }
        , A = function(a, b, c) {
            var e = b.length
                , f = d(c, e);
            for (a.uniform1iv(this.addr, f),
                     a = 0; a !== e; ++a) {
                var g = b[a];
                g && c.setTexture2D(g, f[a])
            }
        }
        , B = function(a, b, c) {
            var e = b.length
                , f = d(c, e);
            for (a.uniform1iv(this.addr, f),
                     a = 0; a !== e; ++a) {
                var g = b[a];
                g && c.setTextureCube(g, f[a])
            }
        }
        , C = function(a) {
            switch (a) {
                case 5126:
                    return s;
                case 35664:
                    return u;
                case 35665:
                    return v;
                case 35666:
                    return w;
                case 35674:
                    return x;
                case 35675:
                    return y;
                case 35676:
                    return z;
                case 35678:
                    return A;
                case 35680:
                    return B;
                case 5124:
                case 35670:
                    return t;
                case 35667:
                case 35671:
                    return o;
                case 35668:
                case 35672:
                    return p;
                case 35669:
                case 35673:
                    return q
            }
        }
        , D = function(a, b, c) {
            this.id = a,
                this.addr = c,
                this.setValue = r(b.type)
        }
        , E = function(a, b, c) {
            this.id = a,
                this.addr = c,
                this.size = b.size,
                this.setValue = C(b.type)
        }
        , F = function(a) {
            this.id = a,
                this.seq = [],
                this.map = {}
        }
        ;
    F.prototype.setValue = function(a, b) {
        for (var c = this.seq, d = 0, e = c.length; d !== e; ++d) {
            var f = c[d];
            f.setValue(a, b[f.id])
        }
    }
    ;
    var G = /([\w\d_]+)(\])?(\[|\.)?/g
        , H = function(a, b, c) {
            this.seq = [],
                this.map = {},
                this.renderer = c,
                c = a.getProgramParameter(b, a.ACTIVE_UNIFORMS);
            for (var d = 0; d !== c; ++d) {
                var e = a.getActiveUniform(b, d)
                    , f = a.getUniformLocation(b, e.name)
                    , g = this
                    , h = e.name
                    , i = h.length;
                for (G.lastIndex = 0; ; ) {
                    var j = G.exec(h)
                        , k = G.lastIndex
                        , l = j[1]
                        , m = j[3];
                    if ("]" === j[2] && (l |= 0),
                        void 0 === m || "[" === m && k + 2 === i) {
                        h = g,
                            e = void 0 === m ? new D(l,e,f) : new E(l,e,f),
                            h.seq.push(e),
                            h.map[e.id] = e;
                        break
                    }
                    m = g.map[l],
                    void 0 === m && (m = new F(l),
                        l = g,
                        g = m,
                        l.seq.push(g),
                        l.map[g.id] = g),
                        g = m
                }
            }
        }
        ;
    return H.prototype.setValue = function(a, b, c) {
        b = this.map[b],
        void 0 !== b && b.setValue(a, c, this.renderer)
    }
        ,
        H.prototype.set = function(a, b, c) {
            var d = this.map[c];
            void 0 !== d && d.setValue(a, b[c], this.renderer)
        }
        ,
        H.prototype.setOptional = function(a, b, c) {
            b = b[c],
            void 0 !== b && this.setValue(a, c, b)
        }
        ,
        H.upload = function(a, b, c, d) {
            for (var e = 0, f = b.length; e !== f; ++e) {
                var g = b[e]
                    , h = c[g.id];
                !1 !== h.needsUpdate && g.setValue(a, h.value, d)
            }
        }
        ,
        H.seqWithValue = function(a, b) {
            for (var c = [], d = 0, e = a.length; d !== e; ++d) {
                var f = a[d];
                f.id in b && c.push(f)
            }
            return c
        }
        ,
        H.splitDynamic = function(a, b) {
            for (var c = null , d = a.length, e = 0, f = 0; f !== d; ++f) {
                var g = a[f]
                    , h = b[g.id];
                h && !0 === h.dynamic ? (null  === c && (c = []),
                    c.push(g)) : (f > e && (a[e] = g),
                    ++e)
            }
            return d > e && (a.length = e),
                c
        }
        ,
        H.evalDynamic = function(a, b, c, d) {
            for (var e = 0, f = a.length; e !== f; ++e) {
                var g = b[a[e].id]
                    , h = g.onUpdateCallback;
                void 0 !== h && h.call(g, c, d)
            }
        }
        ,
        H
}(),
THREE.LensFlarePlugin = function(a, b) {
    var c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s = a.context, t = a.state;
    this.render = function(u, v, w) {
        if (0 !== b.length) {
            u = new THREE.Vector3;
            var x = w.w / w.z
                , y = .5 * w.z
                , z = .5 * w.w
                , A = 16 / w.w
                , B = new THREE.Vector2(A * x,A)
                , C = new THREE.Vector3(1,1,0)
                , D = new THREE.Vector2(1,1)
                , E = new THREE.Box2;
            if (E.min.set(0, 0),
                    E.max.set(w.z - 16, w.w - 16),
                void 0 === p) {
                var A = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1])
                    , F = new Uint16Array([0, 1, 2, 0, 2, 3]);
                m = s.createBuffer(),
                    n = s.createBuffer(),
                    s.bindBuffer(s.ARRAY_BUFFER, m),
                    s.bufferData(s.ARRAY_BUFFER, A, s.STATIC_DRAW),
                    s.bindBuffer(s.ELEMENT_ARRAY_BUFFER, n),
                    s.bufferData(s.ELEMENT_ARRAY_BUFFER, F, s.STATIC_DRAW),
                    q = s.createTexture(),
                    r = s.createTexture(),
                    t.bindTexture(s.TEXTURE_2D, q),
                    s.texImage2D(s.TEXTURE_2D, 0, s.RGB, 16, 16, 0, s.RGB, s.UNSIGNED_BYTE, null ),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.NEAREST),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.NEAREST),
                    t.bindTexture(s.TEXTURE_2D, r),
                    s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, 16, 16, 0, s.RGBA, s.UNSIGNED_BYTE, null ),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.NEAREST),
                    s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.NEAREST);
                var A = o = {
                    vertexShader: "uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
                    fragmentShader: "uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"
                }
                    , F = s.createProgram()
                    , G = s.createShader(s.FRAGMENT_SHADER)
                    , H = s.createShader(s.VERTEX_SHADER)
                    , I = "precision " + a.getPrecision() + " float;\n";
                s.shaderSource(G, I + A.fragmentShader),
                    s.shaderSource(H, I + A.vertexShader),
                    s.compileShader(G),
                    s.compileShader(H),
                    s.attachShader(F, G),
                    s.attachShader(F, H),
                    s.linkProgram(F),
                    p = F,
                    k = s.getAttribLocation(p, "position"),
                    l = s.getAttribLocation(p, "uv"),
                    c = s.getUniformLocation(p, "renderType"),
                    d = s.getUniformLocation(p, "map"),
                    e = s.getUniformLocation(p, "occlusionMap"),
                    f = s.getUniformLocation(p, "opacity"),
                    g = s.getUniformLocation(p, "color"),
                    h = s.getUniformLocation(p, "scale"),
                    i = s.getUniformLocation(p, "rotation"),
                    j = s.getUniformLocation(p, "screenPosition")
            }
            for (s.useProgram(p),
                     t.initAttributes(),
                     t.enableAttribute(k),
                     t.enableAttribute(l),
                     t.disableUnusedAttributes(),
                     s.uniform1i(e, 0),
                     s.uniform1i(d, 1),
                     s.bindBuffer(s.ARRAY_BUFFER, m),
                     s.vertexAttribPointer(k, 2, s.FLOAT, !1, 16, 0),
                     s.vertexAttribPointer(l, 2, s.FLOAT, !1, 16, 8),
                     s.bindBuffer(s.ELEMENT_ARRAY_BUFFER, n),
                     t.disable(s.CULL_FACE),
                     t.setDepthWrite(!1),
                     F = 0,
                     G = b.length; G > F; F++)
                if (A = 16 / w.w,
                        B.set(A * x, A),
                        H = b[F],
                        u.set(H.matrixWorld.elements[12], H.matrixWorld.elements[13], H.matrixWorld.elements[14]),
                        u.applyMatrix4(v.matrixWorldInverse),
                        u.applyProjection(v.projectionMatrix),
                        C.copy(u),
                        D.x = w.x + C.x * y + y - 8,
                        D.y = w.y + C.y * z + z - 8,
                    !0 === E.containsPoint(D)) {
                    t.activeTexture(s.TEXTURE0),
                        t.bindTexture(s.TEXTURE_2D, null ),
                        t.activeTexture(s.TEXTURE1),
                        t.bindTexture(s.TEXTURE_2D, q),
                        s.copyTexImage2D(s.TEXTURE_2D, 0, s.RGB, D.x, D.y, 16, 16, 0),
                        s.uniform1i(c, 0),
                        s.uniform2f(h, B.x, B.y),
                        s.uniform3f(j, C.x, C.y, C.z),
                        t.disable(s.BLEND),
                        t.enable(s.DEPTH_TEST),
                        s.drawElements(s.TRIANGLES, 6, s.UNSIGNED_SHORT, 0),
                        t.activeTexture(s.TEXTURE0),
                        t.bindTexture(s.TEXTURE_2D, r),
                        s.copyTexImage2D(s.TEXTURE_2D, 0, s.RGBA, D.x, D.y, 16, 16, 0),
                        s.uniform1i(c, 1),
                        t.disable(s.DEPTH_TEST),
                        t.activeTexture(s.TEXTURE1),
                        t.bindTexture(s.TEXTURE_2D, q),
                        s.drawElements(s.TRIANGLES, 6, s.UNSIGNED_SHORT, 0),
                        H.positionScreen.copy(C),
                        H.customUpdateCallback ? H.customUpdateCallback(H) : H.updateLensFlares(),
                        s.uniform1i(c, 2),
                        t.enable(s.BLEND);
                    for (var I = 0, J = H.lensFlares.length; J > I; I++) {
                        var K = H.lensFlares[I];
                        .001 < K.opacity && .001 < K.scale && (C.x = K.x,
                            C.y = K.y,
                            C.z = K.z,
                            A = K.size * K.scale / w.w,
                            B.x = A * x,
                            B.y = A,
                            s.uniform3f(j, C.x, C.y, C.z),
                            s.uniform2f(h, B.x, B.y),
                            s.uniform1f(i, K.rotation),
                            s.uniform1f(f, K.opacity),
                            s.uniform3f(g, K.color.r, K.color.g, K.color.b),
                            t.setBlending(K.blending, K.blendEquation, K.blendSrc, K.blendDst),
                            a.setTexture2D(K.texture, 1),
                            s.drawElements(s.TRIANGLES, 6, s.UNSIGNED_SHORT, 0))
                    }
                }
            t.enable(s.CULL_FACE),
                t.enable(s.DEPTH_TEST),
                t.setDepthWrite(!0),
                a.resetGLState()
        }
    }
}
,
THREE.SpritePlugin = function(a, b) {
    function c(a, b) {
        return a.renderOrder !== b.renderOrder ? a.renderOrder - b.renderOrder : a.z !== b.z ? b.z - a.z : b.id - a.id
    }
    var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = a.context, z = a.state, A = new THREE.Vector3, B = new THREE.Quaternion, C = new THREE.Vector3;
    this.render = function(D, E) {
        if (0 !== b.length) {
            if (void 0 === w) {
                var F = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1])
                    , G = new Uint16Array([0, 1, 2, 0, 2, 3]);
                u = y.createBuffer(),
                    v = y.createBuffer(),
                    y.bindBuffer(y.ARRAY_BUFFER, u),
                    y.bufferData(y.ARRAY_BUFFER, F, y.STATIC_DRAW),
                    y.bindBuffer(y.ELEMENT_ARRAY_BUFFER, v),
                    y.bufferData(y.ELEMENT_ARRAY_BUFFER, G, y.STATIC_DRAW);
                var F = y.createProgram()
                    , G = y.createShader(y.VERTEX_SHADER)
                    , H = y.createShader(y.FRAGMENT_SHADER);
                y.shaderSource(G, ["precision " + a.getPrecision() + " float;", "uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n")),
                    y.shaderSource(H, ["precision " + a.getPrecision() + " float;", "uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n")),
                    y.compileShader(G),
                    y.compileShader(H),
                    y.attachShader(F, G),
                    y.attachShader(F, H),
                    y.linkProgram(F),
                    w = F,
                    s = y.getAttribLocation(w, "position"),
                    t = y.getAttribLocation(w, "uv"),
                    d = y.getUniformLocation(w, "uvOffset"),
                    e = y.getUniformLocation(w, "uvScale"),
                    f = y.getUniformLocation(w, "rotation"),
                    g = y.getUniformLocation(w, "scale"),
                    h = y.getUniformLocation(w, "color"),
                    i = y.getUniformLocation(w, "map"),
                    j = y.getUniformLocation(w, "opacity"),
                    k = y.getUniformLocation(w, "modelViewMatrix"),
                    l = y.getUniformLocation(w, "projectionMatrix"),
                    m = y.getUniformLocation(w, "fogType"),
                    n = y.getUniformLocation(w, "fogDensity"),
                    o = y.getUniformLocation(w, "fogNear"),
                    p = y.getUniformLocation(w, "fogFar"),
                    q = y.getUniformLocation(w, "fogColor"),
                    r = y.getUniformLocation(w, "alphaTest"),
                    F = document.createElement("canvas"),
                    F.width = 8,
                    F.height = 8,
                    G = F.getContext("2d"),
                    G.fillStyle = "white",
                    G.fillRect(0, 0, 8, 8),
                    x = new THREE.Texture(F),
                    x.needsUpdate = !0
            }
            y.useProgram(w),
                z.initAttributes(),
                z.enableAttribute(s),
                z.enableAttribute(t),
                z.disableUnusedAttributes(),
                z.disable(y.CULL_FACE),
                z.enable(y.BLEND),
                y.bindBuffer(y.ARRAY_BUFFER, u),
                y.vertexAttribPointer(s, 2, y.FLOAT, !1, 16, 0),
                y.vertexAttribPointer(t, 2, y.FLOAT, !1, 16, 8),
                y.bindBuffer(y.ELEMENT_ARRAY_BUFFER, v),
                y.uniformMatrix4fv(l, !1, E.projectionMatrix.elements),
                z.activeTexture(y.TEXTURE0),
                y.uniform1i(i, 0),
                G = F = 0,
                (H = D.fog) ? (y.uniform3f(q, H.color.r, H.color.g, H.color.b),
                    H instanceof THREE.Fog ? (y.uniform1f(o, H.near),
                        y.uniform1f(p, H.far),
                        y.uniform1i(m, 1),
                        G = F = 1) : H instanceof THREE.FogExp2 && (y.uniform1f(n, H.density),
                        y.uniform1i(m, 2),
                        G = F = 2)) : (y.uniform1i(m, 0),
                    G = F = 0);
            for (var H = 0, I = b.length; I > H; H++) {
                var J = b[H];
                J.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse, J.matrixWorld),
                    J.z = -J.modelViewMatrix.elements[14]
            }
            b.sort(c);
            for (var K = [], H = 0, I = b.length; I > H; H++) {
                var J = b[H]
                    , L = J.material;
                y.uniform1f(r, L.alphaTest),
                    y.uniformMatrix4fv(k, !1, J.modelViewMatrix.elements),
                    J.matrixWorld.decompose(A, B, C),
                    K[0] = C.x,
                    K[1] = C.y,
                    J = 0,
                D.fog && L.fog && (J = G),
                F !== J && (y.uniform1i(m, J),
                    F = J),
                    null  !== L.map ? (y.uniform2f(d, L.map.offset.x, L.map.offset.y),
                        y.uniform2f(e, L.map.repeat.x, L.map.repeat.y)) : (y.uniform2f(d, 0, 0),
                        y.uniform2f(e, 1, 1)),
                    y.uniform1f(j, L.opacity),
                    y.uniform3f(h, L.color.r, L.color.g, L.color.b),
                    y.uniform1f(f, L.rotation),
                    y.uniform2fv(g, K),
                    z.setBlending(L.blending, L.blendEquation, L.blendSrc, L.blendDst),
                    z.setDepthTest(L.depthTest),
                    z.setDepthWrite(L.depthWrite),
                    L.map ? a.setTexture2D(L.map, 0) : a.setTexture2D(x, 0),
                    y.drawElements(y.TRIANGLES, 6, y.UNSIGNED_SHORT, 0)
            }
            z.enable(y.CULL_FACE),
                a.resetGLState()
        }
    }
}
,
Object.assign(THREE, {
    Face4: function(a, b, c, d, e, f, g) {
        return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),
            new THREE.Face3(a,b,c,e,f,g)
    },
    LineStrip: 0,
    LinePieces: 1,
    MeshFaceMaterial: THREE.MultiMaterial,
    PointCloud: function(a, b) {
        return console.warn("THREE.PointCloud has been renamed to THREE.Points."),
            new THREE.Points(a,b)
    },
    Particle: THREE.Sprite,
    ParticleSystem: function(a, b) {
        return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),
            new THREE.Points(a,b)
    },
    PointCloudMaterial: function(a) {
        return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),
            new THREE.PointsMaterial(a)
    },
    ParticleBasicMaterial: function(a) {
        return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),
            new THREE.PointsMaterial(a)
    },
    ParticleSystemMaterial: function(a) {
        return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),
            new THREE.PointsMaterial(a)
    },
    Vertex: function(a, b, c) {
        return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),
            new THREE.Vector3(a,b,c)
    }
}),
Object.assign(THREE.Box2.prototype, {
    empty: function() {
        return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),
            this.isEmpty()
    },
    isIntersectionBox: function(a) {
        return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(a)
    }
}),
Object.assign(THREE.Box3.prototype, {
    empty: function() {
        return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),
            this.isEmpty()
    },
    isIntersectionBox: function(a) {
        return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(a)
    },
    isIntersectionSphere: function(a) {
        return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
            this.intersectsSphere(a)
    }
}),
Object.assign(THREE.Matrix3.prototype, {
    multiplyVector3: function(a) {
        return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),
            a.applyMatrix3(this)
    },
    multiplyVector3Array: function(a) {
        return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),
            this.applyToVector3Array(a)
    }
}),
Object.assign(THREE.Matrix4.prototype, {
    extractPosition: function(a) {
        return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),
            this.copyPosition(a)
    },
    setRotationFromQuaternion: function(a) {
        return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),
            this.makeRotationFromQuaternion(a)
    },
    multiplyVector3: function(a) {
        return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),
            a.applyProjection(this)
    },
    multiplyVector4: function(a) {
        return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            a.applyMatrix4(this)
    },
    multiplyVector3Array: function(a) {
        return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),
            this.applyToVector3Array(a)
    },
    rotateAxis: function(a) {
        console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),
            a.transformDirection(this)
    },
    crossVector: function(a) {
        return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            a.applyMatrix4(this)
    },
    translate: function(a) {
        console.error("THREE.Matrix4: .translate() has been removed.")
    },
    rotateX: function(a) {
        console.error("THREE.Matrix4: .rotateX() has been removed.")
    },
    rotateY: function(a) {
        console.error("THREE.Matrix4: .rotateY() has been removed.")
    },
    rotateZ: function(a) {
        console.error("THREE.Matrix4: .rotateZ() has been removed.")
    },
    rotateByAxis: function(a, b) {
        console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
    }
}),
Object.assign(THREE.Plane.prototype, {
    isIntersectionLine: function(a) {
        return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),
            this.intersectsLine(a)
    }
}),
Object.assign(THREE.Quaternion.prototype, {
    multiplyVector3: function(a) {
        return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),
            a.applyQuaternion(this)
    }
}),
Object.assign(THREE.Ray.prototype, {
    isIntersectionBox: function(a) {
        return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(a)
    },
    isIntersectionPlane: function(a) {
        return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),
            this.intersectsPlane(a)
    },
    isIntersectionSphere: function(a) {
        return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
            this.intersectsSphere(a)
    }
}),
Object.assign(THREE.Vector3.prototype, {
    setEulerFromRotationMatrix: function() {
        console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
    },
    setEulerFromQuaternion: function() {
        console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
    },
    getPositionFromMatrix: function(a) {
        return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),
            this.setFromMatrixPosition(a)
    },
    getScaleFromMatrix: function(a) {
        return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),
            this.setFromMatrixScale(a)
    },
    getColumnFromMatrix: function(a, b) {
        return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),
            this.setFromMatrixColumn(b, a)
    }
}),
Object.assign(THREE.Object3D.prototype, {
    getChildByName: function(a) {
        return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),
            this.getObjectByName(a)
    },
    renderDepth: function(a) {
        console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
    },
    translate: function(a, b) {
        return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),
            this.translateOnAxis(b, a)
    }
}),
Object.defineProperties(THREE.Object3D.prototype, {
    eulerOrder: {
        get: function() {
            return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                this.rotation.order
        },
        set: function(a) {
            console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                this.rotation.order = a
        }
    },
    useQuaternion: {
        get: function() {
            console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
        },
        set: function(a) {
            console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
        }
    }
}),
Object.defineProperties(THREE.LOD.prototype, {
    objects: {
        get: function() {
            return console.warn("THREE.LOD: .objects has been renamed to .levels."),
                this.levels
        }
    }
}),
THREE.PerspectiveCamera.prototype.setLens = function(a, b) {
    console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),
    void 0 !== b && (this.filmGauge = b),
        this.setFocalLength(a)
}
,
Object.defineProperties(THREE.Light.prototype, {
    onlyShadow: {
        set: function(a) {
            console.warn("THREE.Light: .onlyShadow has been removed.")
        }
    },
    shadowCameraFov: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),
                this.shadow.camera.fov = a
        }
    },
    shadowCameraLeft: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),
                this.shadow.camera.left = a
        }
    },
    shadowCameraRight: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),
                this.shadow.camera.right = a
        }
    },
    shadowCameraTop: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),
                this.shadow.camera.top = a
        }
    },
    shadowCameraBottom: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),
                this.shadow.camera.bottom = a
        }
    },
    shadowCameraNear: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),
                this.shadow.camera.near = a
        }
    },
    shadowCameraFar: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),
                this.shadow.camera.far = a
        }
    },
    shadowCameraVisible: {
        set: function(a) {
            console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
        }
    },
    shadowBias: {
        set: function(a) {
            console.warn("THREE.Light: .shadowBias is now .shadow.bias."),
                this.shadow.bias = a
        }
    },
    shadowDarkness: {
        set: function(a) {
            console.warn("THREE.Light: .shadowDarkness has been removed.")
        }
    },
    shadowMapWidth: {
        set: function(a) {
            console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),
                this.shadow.mapSize.width = a
        }
    },
    shadowMapHeight: {
        set: function(a) {
            console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),
                this.shadow.mapSize.height = a
        }
    }
}),
Object.defineProperties(THREE.BufferAttribute.prototype, {
    length: {
        get: function() {
            return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),
                this.array.length
        }
    }
}),
Object.assign(THREE.BufferGeometry.prototype, {
    addIndex: function(a) {
        console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),
            this.setIndex(a)
    },
    addDrawCall: function(a, b, c) {
        void 0 !== c && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),
            console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),
            this.addGroup(a, b)
    },
    clearDrawCalls: function() {
        console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),
            this.clearGroups()
    },
    computeTangents: function() {
        console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
    },
    computeOffsets: function() {
        console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
    }
}),
Object.defineProperties(THREE.BufferGeometry.prototype, {
    drawcalls: {
        get: function() {
            return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),
                this.groups
        }
    },
    offsets: {
        get: function() {
            return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),
                this.groups
        }
    }
}),
Object.defineProperties(THREE.Material.prototype, {
    wrapAround: {
        get: function() {
            console.warn("THREE." + this.type + ": .wrapAround has been removed.")
        },
        set: function(a) {
            console.warn("THREE." + this.type + ": .wrapAround has been removed.")
        }
    },
    wrapRGB: {
        get: function() {
            return console.warn("THREE." + this.type + ": .wrapRGB has been removed."),
                new THREE.Color
        }
    }
}),
Object.defineProperties(THREE.MeshPhongMaterial.prototype, {
    metal: {
        get: function() {
            return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),
                !1
        },
        set: function(a) {
            console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
        }
    }
}),
Object.defineProperties(THREE.ShaderMaterial.prototype, {
    derivatives: {
        get: function() {
            return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                this.extensions.derivatives
        },
        set: function(a) {
            console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                this.extensions.derivatives = a
        }
    }
}),
THREE.EventDispatcher.prototype = Object.assign(Object.create({
    constructor: THREE.EventDispatcher,
    apply: function(a) {
        console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),
            Object.assign(a, this)
    }
}), THREE.EventDispatcher.prototype),
Object.assign(THREE.WebGLRenderer.prototype, {
    supportsFloatTextures: function() {
        return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),
            this.extensions.get("OES_texture_float")
    },
    supportsHalfFloatTextures: function() {
        return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),
            this.extensions.get("OES_texture_half_float")
    },
    supportsStandardDerivatives: function() {
        return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),
            this.extensions.get("OES_standard_derivatives")
    },
    supportsCompressedTextureS3TC: function() {
        return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),
            this.extensions.get("WEBGL_compressed_texture_s3tc")
    },
    supportsCompressedTexturePVRTC: function() {
        return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),
            this.extensions.get("WEBGL_compressed_texture_pvrtc")
    },
    supportsBlendMinMax: function() {
        return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),
            this.extensions.get("EXT_blend_minmax")
    },
    supportsVertexTextures: function() {
        return this.capabilities.vertexTextures
    },
    supportsInstancedArrays: function() {
        return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),
            this.extensions.get("ANGLE_instanced_arrays")
    },
    enableScissorTest: function(a) {
        console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),
            this.setScissorTest(a)
    },
    initMaterial: function() {
        console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
    },
    addPrePlugin: function() {
        console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
    },
    addPostPlugin: function() {
        console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
    },
    updateShadowMap: function() {
        console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
    }
}),
Object.defineProperties(THREE.WebGLRenderer.prototype, {
    shadowMapEnabled: {
        get: function() {
            return this.shadowMap.enabled
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),
                this.shadowMap.enabled = a
        }
    },
    shadowMapType: {
        get: function() {
            return this.shadowMap.type
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),
                this.shadowMap.type = a
        }
    },
    shadowMapCullFace: {
        get: function() {
            return this.shadowMap.cullFace
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),
                this.shadowMap.cullFace = a
        }
    }
}),
Object.defineProperties(THREE.WebGLShadowMap.prototype, {
    cullFace: {
        get: function() {
            return this.renderReverseSided ? THREE.CullFaceFront : THREE.CullFaceBack
        },
        set: function(a) {
            a = a !== THREE.CullFaceBack,
                console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to " + a + "."),
                this.renderReverseSided = a
        }
    }
}),
Object.defineProperties(THREE.WebGLRenderTarget.prototype, {
    wrapS: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                this.texture.wrapS
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                this.texture.wrapS = a
        }
    },
    wrapT: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                this.texture.wrapT
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                this.texture.wrapT = a
        }
    },
    magFilter: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                this.texture.magFilter
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                this.texture.magFilter = a
        }
    },
    minFilter: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                this.texture.minFilter
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                this.texture.minFilter = a
        }
    },
    anisotropy: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                this.texture.anisotropy
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                this.texture.anisotropy = a
        }
    },
    offset: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                this.texture.offset
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                this.texture.offset = a
        }
    },
    repeat: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                this.texture.repeat
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                this.texture.repeat = a
        }
    },
    format: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                this.texture.format
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                this.texture.format = a
        }
    },
    type: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                this.texture.type
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                this.texture.type = a
        }
    },
    generateMipmaps: {
        get: function() {
            return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                this.texture.generateMipmaps
        },
        set: function(a) {
            console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                this.texture.generateMipmaps = a
        }
    }
}),
Object.assign(THREE.Audio.prototype, {
    load: function(a) {
        console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");
        var b = this;
        return (new THREE.AudioLoader).load(a, function(a) {
            b.setBuffer(a)
        }),
            this
    }
}),
Object.assign(THREE.AudioAnalyser.prototype, {
    getData: function(a) {
        return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),
            this.getFrequencyData()
    }
}),
THREE.GeometryUtils = {
    merge: function(a, b, c) {
        console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");
        var d;
        b instanceof THREE.Mesh && (b.matrixAutoUpdate && b.updateMatrix(),
            d = b.matrix,
            b = b.geometry),
            a.merge(b, d, c)
    },
    center: function(a) {
        return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),
            a.center()
    }
},
THREE.ImageUtils = {
    crossOrigin: void 0,
    loadTexture: function(a, b, c, d) {
        console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
        var e = new THREE.TextureLoader;
        return e.setCrossOrigin(this.crossOrigin),
            a = e.load(a, c, void 0, d),
        b && (a.mapping = b),
            a
    },
    loadTextureCube: function(a, b, c, d) {
        console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
        var e = new THREE.CubeTextureLoader;
        return e.setCrossOrigin(this.crossOrigin),
            a = e.load(a, c, void 0, d),
        b && (a.mapping = b),
            a
    },
    loadCompressedTexture: function() {
        console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
    },
    loadCompressedTextureCube: function() {
        console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
    }
},
THREE.Projector = function() {
    console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),
        this.projectVector = function(a, b) {
            console.warn("THREE.Projector: .projectVector() is now vector.project()."),
                a.project(b)
        }
        ,
        this.unprojectVector = function(a, b) {
            console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),
                a.unproject(b)
        }
        ,
        this.pickingRay = function(a, b) {
            console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")
        }
}
,
THREE.CanvasRenderer = function() {
    console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),
        this.domElement = document.createElement("canvas"),
        this.clear = function() {}
        ,
        this.render = function() {}
        ,
        this.setClearColor = function() {}
        ,
        this.setSize = function() {}
}
,
THREE.CurveUtils = {
    tangentQuadraticBezier: function(a, b, c, d) {
        return 2 * (1 - a) * (c - b) + 2 * a * (d - c)
    },
    tangentCubicBezier: function(a, b, c, d, e) {
        return -3 * b * (1 - a) * (1 - a) + 3 * c * (1 - a) * (1 - a) - 6 * a * c * (1 - a) + 6 * a * d * (1 - a) - 3 * a * a * d + 3 * a * a * e
    },
    tangentSpline: function(a, b, c, d, e) {
        return 6 * a * a - 6 * a + (3 * a * a - 4 * a + 1) + (-6 * a * a + 6 * a) + (3 * a * a - 2 * a)
    },
    interpolate: function(a, b, c, d, e) {
        a = .5 * (c - a),
            d = .5 * (d - b);
        var f = e * e;
        return (2 * b - 2 * c + a + d) * e * f + (-3 * b + 3 * c - 2 * a - d) * f + a * e + b
    }
},
THREE.SceneUtils = {
    createMultiMaterialObject: function(a, b) {
        for (var c = new THREE.Group, d = 0, e = b.length; e > d; d++)
            c.add(new THREE.Mesh(a,b[d]));
        return c
    },
    detach: function(a, b, c) {
        a.applyMatrix(b.matrixWorld),
            b.remove(a),
            c.add(a)
    },
    attach: function(a, b, c) {
        var d = new THREE.Matrix4;
        d.getInverse(c.matrixWorld),
            a.applyMatrix(d),
            b.remove(a),
            c.add(a)
    }
},
THREE.ShapeUtils = {
    area: function(a) {
        for (var b = a.length, c = 0, d = b - 1, e = 0; b > e; d = e++)
            c += a[d].x * a[e].y - a[e].x * a[d].y;
        return .5 * c
    },
    triangulate: function() {
        return function(a, b) {
            var c = a.length;
            if (3 > c)
                return null ;
            var d, e, f, g = [], h = [], i = [];
            if (0 < THREE.ShapeUtils.area(a))
                for (e = 0; c > e; e++)
                    h[e] = e;
            else
                for (e = 0; c > e; e++)
                    h[e] = c - 1 - e;
            var j = 2 * c;
            for (e = c - 1; c > 2; ) {
                if (0 >= j--) {
                    console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");
                    break
                }
                d = e,
                d >= c && (d = 0),
                    e = d + 1,
                e >= c && (e = 0),
                    f = e + 1,
                f >= c && (f = 0);
                var k;
                a: {
                    var l = k = void 0
                        , m = void 0
                        , n = void 0
                        , o = void 0
                        , p = void 0
                        , q = void 0
                        , r = void 0
                        , s = void 0
                        , l = a[h[d]].x
                        , m = a[h[d]].y
                        , n = a[h[e]].x
                        , o = a[h[e]].y
                        , p = a[h[f]].x
                        , q = a[h[f]].y;
                    if (Number.EPSILON > (n - l) * (q - m) - (o - m) * (p - l))
                        k = !1;
                    else {
                        var t = void 0
                            , u = void 0
                            , v = void 0
                            , w = void 0
                            , x = void 0
                            , y = void 0
                            , z = void 0
                            , A = void 0
                            , B = void 0
                            , C = void 0
                            , B = A = z = s = r = void 0
                            , t = p - n
                            , u = q - o
                            , v = l - p
                            , w = m - q
                            , x = n - l
                            , y = o - m;
                        for (k = 0; c > k; k++)
                            if (r = a[h[k]].x,
                                    s = a[h[k]].y,
                                !(r === l && s === m || r === n && s === o || r === p && s === q) && (z = r - l,
                                    A = s - m,
                                    B = r - n,
                                    C = s - o,
                                    r -= p,
                                    s -= q,
                                    B = t * C - u * B,
                                    z = x * A - y * z,
                                    A = v * s - w * r,
                                B >= -Number.EPSILON && A >= -Number.EPSILON && z >= -Number.EPSILON)) {
                                k = !1;
                                break a
                            }
                        k = !0
                    }
                }
                if (k) {
                    for (g.push([a[h[d]], a[h[e]], a[h[f]]]),
                             i.push([h[d], h[e], h[f]]),
                             d = e,
                             f = e + 1; c > f; d++,
                             f++)
                        h[d] = h[f];
                    c--,
                        j = 2 * c
                }
            }
            return b ? i : g
        }
    }(),
    triangulateShape: function(a, b) {
        function c(a, b, c) {
            return a.x !== b.x ? a.x < b.x ? a.x <= c.x && c.x <= b.x : b.x <= c.x && c.x <= a.x : a.y < b.y ? a.y <= c.y && c.y <= b.y : b.y <= c.y && c.y <= a.y
        }
        function d(a, b, d, e, f) {
            var g = b.x - a.x
                , h = b.y - a.y
                , i = e.x - d.x
                , j = e.y - d.y
                , k = a.x - d.x
                , l = a.y - d.y
                , m = h * i - g * j
                , n = h * k - g * l;
            if (Math.abs(m) > Number.EPSILON) {
                if (m > 0) {
                    if (0 > n || n > m)
                        return [];
                    if (i = j * k - i * l,
                        0 > i || i > m)
                        return []
                } else {
                    if (n > 0 || m > n)
                        return [];
                    if (i = j * k - i * l,
                        i > 0 || m > i)
                        return []
                }
                return 0 === i ? !f || 0 !== n && n !== m ? [a] : [] : i === m ? !f || 0 !== n && n !== m ? [b] : [] : 0 === n ? [d] : n === m ? [e] : (f = i / m,
                    [{
                        x: a.x + f * g,
                        y: a.y + f * h
                    }])
            }
            return 0 !== n || j * k !== i * l ? [] : (h = 0 === g && 0 === h,
                i = 0 === i && 0 === j,
                h && i ? a.x !== d.x || a.y !== d.y ? [] : [a] : h ? c(d, e, a) ? [a] : [] : i ? c(a, b, d) ? [d] : [] : (0 !== g ? (a.x < b.x ? (g = a,
                    i = a.x,
                    h = b,
                    a = b.x) : (g = b,
                    i = b.x,
                    h = a,
                    a = a.x),
                    d.x < e.x ? (b = d,
                        m = d.x,
                        j = e,
                        d = e.x) : (b = e,
                        m = e.x,
                        j = d,
                        d = d.x)) : (a.y < b.y ? (g = a,
                    i = a.y,
                    h = b,
                    a = b.y) : (g = b,
                    i = b.y,
                    h = a,
                    a = a.y),
                    d.y < e.y ? (b = d,
                        m = d.y,
                        j = e,
                        d = e.y) : (b = e,
                        m = e.y,
                        j = d,
                        d = d.y)),
                    m >= i ? m > a ? [] : a === m ? f ? [] : [b] : d >= a ? [b, h] : [b, j] : i > d ? [] : i === d ? f ? [] : [g] : d >= a ? [g, h] : [g, j]))
        }
        function e(a, b, c, d) {
            var e = b.x - a.x
                , f = b.y - a.y;
            b = c.x - a.x,
                c = c.y - a.y;
            var g = d.x - a.x;
            return d = d.y - a.y,
                a = e * c - f * b,
                e = e * d - f * g,
                Math.abs(a) > Number.EPSILON ? (b = g * c - d * b,
                    a > 0 ? e >= 0 && b >= 0 : e >= 0 || b >= 0) : e > 0
        }
        var f, g, h, i, j, k = {};
        for (h = a.concat(),
                 f = 0,
                 g = b.length; g > f; f++)
            Array.prototype.push.apply(h, b[f]);
        for (f = 0,
                 g = h.length; g > f; f++)
            j = h[f].x + ":" + h[f].y,
            void 0 !== k[j] && console.warn("THREE.Shape: Duplicate point", j),
                k[j] = f;
        f = function(a, b) {
            function c(a, b) {
                var c = q.length - 1
                    , d = a - 1;
                0 > d && (d = c);
                var f = a + 1;
                return f > c && (f = 0),
                !!(c = e(q[a], q[d], q[f], h[b])) && (c = h.length - 1,
                    d = b - 1,
                0 > d && (d = c),
                    f = b + 1,
                f > c && (f = 0),
                    !!(c = e(h[b], h[d], h[f], q[a])))
            }
            function f(a, b) {
                var c, e;
                for (c = 0; c < q.length; c++)
                    if (e = c + 1,
                            e %= q.length,
                            e = d(a, b, q[c], q[e], !0),
                        0 < e.length)
                        return !0;
                return !1
            }
            function g(a, c) {
                var e, f, g, h;
                for (e = 0; e < r.length; e++)
                    for (f = b[r[e]],
                             g = 0; g < f.length; g++)
                        if (h = g + 1,
                                h %= f.length,
                                h = d(a, c, f[g], f[h], !0),
                            0 < h.length)
                            return !0;
                return !1
            }
            var h, i, j, k, l, m, n, o, p, q = a.concat(), r = [], s = [], t = 0;
            for (i = b.length; i > t; t++)
                r.push(t);
            n = 0;
            for (var u = 2 * r.length; 0 < r.length; ) {
                if (u--,
                    0 > u) {
                    console.log("Infinite Loop! Holes left:" + r.length + ", Probably Hole outside Shape!");
                    break
                }
                for (j = n; j < q.length; j++) {
                    for (k = q[j],
                             i = -1,
                             t = 0; t < r.length; t++)
                        if (l = r[t],
                                m = k.x + ":" + k.y + ":" + l,
                            void 0 === s[m]) {
                            for (h = b[l],
                                     o = 0; o < h.length; o++)
                                if (l = h[o],
                                    c(j, o) && !f(k, l) && !g(k, l)) {
                                    i = o,
                                        r.splice(t, 1),
                                        n = q.slice(0, j + 1),
                                        l = q.slice(j),
                                        o = h.slice(i),
                                        p = h.slice(0, i + 1),
                                        q = n.concat(o).concat(p).concat(l),
                                        n = j;
                                    break
                                }
                            if (i >= 0)
                                break;
                            s[m] = !0
                        }
                    if (i >= 0)
                        break
                }
            }
            return q
        }(a, b);
        var l = THREE.ShapeUtils.triangulate(f, !1);
        for (f = 0,
                 g = l.length; g > f; f++)
            for (i = l[f],
                     h = 0; 3 > h; h++)
                j = i[h].x + ":" + i[h].y,
                    j = k[j],
                void 0 !== j && (i[h] = j);
        return l.concat()
    },
    isClockWise: function(a) {
        return 0 > THREE.ShapeUtils.area(a)
    },
    b2: function() {
        return function(a, b, c, d) {
            var e = 1 - a;
            return e * e * b + 2 * (1 - a) * a * c + a * a * d
        }
    }(),
    b3: function() {
        return function(a, b, c, d, e) {
            var f = 1 - a
                , g = 1 - a;
            return f * f * f * b + 3 * g * g * a * c + 3 * (1 - a) * a * a * d + a * a * a * e
        }
    }()
},
THREE.Curve = function() {}
,
THREE.Curve.prototype = {
    constructor: THREE.Curve,
    getPoint: function(a) {
        return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),
            null
    },
    getPointAt: function(a) {
        return a = this.getUtoTmapping(a),
            this.getPoint(a)
    },
    getPoints: function(a) {
        a || (a = 5);
        var b, c = [];
        for (b = 0; a >= b; b++)
            c.push(this.getPoint(b / a));
        return c
    },
    getSpacedPoints: function(a) {
        a || (a = 5);
        var b, c = [];
        for (b = 0; a >= b; b++)
            c.push(this.getPointAt(b / a));
        return c
    },
    getLength: function() {
        var a = this.getLengths();
        return a[a.length - 1]
    },
    getLengths: function(a) {
        if (a || (a = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200),
            this.cacheArcLengths && this.cacheArcLengths.length === a + 1 && !this.needsUpdate)
            return this.cacheArcLengths;
        this.needsUpdate = !1;
        var b, c, d = [], e = this.getPoint(0), f = 0;
        for (d.push(0),
                 c = 1; a >= c; c++)
            b = this.getPoint(c / a),
                f += b.distanceTo(e),
                d.push(f),
                e = b;
        return this.cacheArcLengths = d
    },
    updateArcLengths: function() {
        this.needsUpdate = !0,
            this.getLengths()
    },
    getUtoTmapping: function(a, b) {
        var c, d = this.getLengths(), e = 0, f = d.length;
        c = b ? b : a * d[f - 1];
        for (var g, h = 0, i = f - 1; i >= h; )
            if (e = Math.floor(h + (i - h) / 2),
                    g = d[e] - c,
                0 > g)
                h = e + 1;
            else {
                if (!(g > 0)) {
                    i = e;
                    break
                }
                i = e - 1
            }
        return e = i,
            d[e] === c ? e / (f - 1) : (h = d[e],
                d = (e + (c - h) / (d[e + 1] - h)) / (f - 1))
    },
    getTangent: function(a) {
        var b = a - 1e-4;
        return a += 1e-4,
        0 > b && (b = 0),
        a > 1 && (a = 1),
            b = this.getPoint(b),
            this.getPoint(a).clone().sub(b).normalize()
    },
    getTangentAt: function(a) {
        return a = this.getUtoTmapping(a),
            this.getTangent(a)
    }
},
THREE.Curve.create = function(a, b) {
    return a.prototype = Object.create(THREE.Curve.prototype),
        a.prototype.constructor = a,
        a.prototype.getPoint = b,
        a
}
,
THREE.CurvePath = function() {
    this.curves = [],
        this.autoClose = !1
}
,
THREE.CurvePath.prototype = Object.assign(Object.create(THREE.Curve.prototype), {
    constructor: THREE.CurvePath,
    add: function(a) {
        this.curves.push(a)
    },
    closePath: function() {
        var a = this.curves[0].getPoint(0)
            , b = this.curves[this.curves.length - 1].getPoint(1);
        a.equals(b) || this.curves.push(new THREE.LineCurve(b,a))
    },
    getPoint: function(a) {
        for (var b = a * this.getLength(), c = this.getCurveLengths(), d = 0; d < c.length; ) {
            if (c[d] >= b)
                return a = this.curves[d],
                    b = 1 - (c[d] - b) / a.getLength(),
                    a.getPointAt(b);
            d++
        }
        return null
    },
    getLength: function() {
        var a = this.getCurveLengths();
        return a[a.length - 1]
    },
    getCurveLengths: function() {
        if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
            return this.cacheLengths;
        for (var a = [], b = 0, c = 0, d = this.curves.length; d > c; c++)
            b += this.curves[c].getLength(),
                a.push(b);
        return this.cacheLengths = a
    },
    createPointsGeometry: function(a) {
        return a = this.getPoints(a),
            this.createGeometry(a)
    },
    createSpacedPointsGeometry: function(a) {
        return a = this.getSpacedPoints(a),
            this.createGeometry(a)
    },
    createGeometry: function(a) {
        for (var b = new THREE.Geometry, c = 0, d = a.length; d > c; c++) {
            var e = a[c];
            b.vertices.push(new THREE.Vector3(e.x,e.y,e.z || 0))
        }
        return b
    }
}),
THREE.Font = function(a) {
    this.data = a
}
,
Object.assign(THREE.Font.prototype, {
    generateShapes: function(a, b, c) {
        void 0 === b && (b = 100),
        void 0 === c && (c = 4);
        var d = this.data;
        a = String(a).split("");
        var e = b / d.resolution
            , f = 0;
        b = [];
        for (var g = 0; g < a.length; g++) {
            var h;
            h = e;
            var i = f
                , j = d.glyphs[a[g]] || d.glyphs["?"];
            if (j) {
                var k = new THREE.Path
                    , l = []
                    , m = THREE.ShapeUtils.b2
                    , n = THREE.ShapeUtils.b3
                    , o = void 0
                    , p = void 0
                    , q = p = o = void 0
                    , r = void 0
                    , s = void 0
                    , t = void 0
                    , u = void 0
                    , v = void 0
                    , r = void 0;
                if (j.o)
                    for (var w = j._cachedOutline || (j._cachedOutline = j.o.split(" ")), x = 0, y = w.length; y > x; )
                        switch (w[x++]) {
                            case "m":
                                o = w[x++] * h + i,
                                    p = w[x++] * h,
                                    k.moveTo(o, p);
                                break;
                            case "l":
                                o = w[x++] * h + i,
                                    p = w[x++] * h,
                                    k.lineTo(o, p);
                                break;
                            case "q":
                                if (o = w[x++] * h + i,
                                        p = w[x++] * h,
                                        s = w[x++] * h + i,
                                        t = w[x++] * h,
                                        k.quadraticCurveTo(s, t, o, p),
                                        r = l[l.length - 1])
                                    for (var q = r.x, r = r.y, z = 1; c >= z; z++) {
                                        var A = z / c;
                                        m(A, q, s, o),
                                            m(A, r, t, p)
                                    }
                                break;
                            case "b":
                                if (o = w[x++] * h + i,
                                        p = w[x++] * h,
                                        s = w[x++] * h + i,
                                        t = w[x++] * h,
                                        u = w[x++] * h + i,
                                        v = w[x++] * h,
                                        k.bezierCurveTo(s, t, u, v, o, p),
                                        r = l[l.length - 1])
                                    for (q = r.x,
                                             r = r.y,
                                             z = 1; c >= z; z++)
                                        A = z / c,
                                            n(A, q, s, u, o),
                                            n(A, r, t, v, p)
                        }
                h = {
                    offset: j.ha * h,
                    path: k
                }
            } else
                h = void 0;
            f += h.offset,
                b.push(h.path)
        }
        for (c = [],
                 d = 0,
                 a = b.length; a > d; d++)
            Array.prototype.push.apply(c, b[d].toShapes());
        return c
    }
}),
THREE.Path = function(a) {
    THREE.CurvePath.call(this),
        this.actions = [],
    a && this.fromPoints(a)
}
,
THREE.Path.prototype = Object.assign(Object.create(THREE.CurvePath.prototype), {
    constructor: THREE.Path,
    fromPoints: function(a) {
        this.moveTo(a[0].x, a[0].y);
        for (var b = 1, c = a.length; c > b; b++)
            this.lineTo(a[b].x, a[b].y)
    },
    moveTo: function(a, b) {
        this.actions.push({
            action: "moveTo",
            args: [a, b]
        })
    },
    lineTo: function(a, b) {
        var c = this.actions[this.actions.length - 1].args
            , c = new THREE.LineCurve(new THREE.Vector2(c[c.length - 2],c[c.length - 1]),new THREE.Vector2(a,b));
        this.curves.push(c),
            this.actions.push({
                action: "lineTo",
                args: [a, b]
            })
    },
    quadraticCurveTo: function(a, b, c, d) {
        var e = this.actions[this.actions.length - 1].args
            , e = new THREE.QuadraticBezierCurve(new THREE.Vector2(e[e.length - 2],e[e.length - 1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d));
        this.curves.push(e),
            this.actions.push({
                action: "quadraticCurveTo",
                args: [a, b, c, d]
            })
    },
    bezierCurveTo: function(a, b, c, d, e, f) {
        var g = this.actions[this.actions.length - 1].args
            , g = new THREE.CubicBezierCurve(new THREE.Vector2(g[g.length - 2],g[g.length - 1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d),new THREE.Vector2(e,f));
        this.curves.push(g),
            this.actions.push({
                action: "bezierCurveTo",
                args: [a, b, c, d, e, f]
            })
    },
    splineThru: function(a) {
        var b = Array.prototype.slice.call(arguments)
            , c = this.actions[this.actions.length - 1].args
            , c = [new THREE.Vector2(c[c.length - 2],c[c.length - 1])];
        Array.prototype.push.apply(c, a),
            c = new THREE.SplineCurve(c),
            this.curves.push(c),
            this.actions.push({
                action: "splineThru",
                args: b
            })
    },
    arc: function(a, b, c, d, e, f) {
        var g = this.actions[this.actions.length - 1].args;
        this.absarc(a + g[g.length - 2], b + g[g.length - 1], c, d, e, f)
    },
    absarc: function(a, b, c, d, e, f) {
        this.absellipse(a, b, c, c, d, e, f)
    },
    ellipse: function(a, b, c, d, e, f, g, h) {
        var i = this.actions[this.actions.length - 1].args;
        this.absellipse(a + i[i.length - 2], b + i[i.length - 1], c, d, e, f, g, h)
    },
    absellipse: function(a, b, c, d, e, f, g, h) {
        var i = [a, b, c, d, e, f, g, h || 0];
        a = new THREE.EllipseCurve(a,b,c,d,e,f,g,h),
            this.curves.push(a),
            a = a.getPoint(1),
            i.push(a.x),
            i.push(a.y),
            this.actions.push({
                action: "ellipse",
                args: i
            })
    },
    getSpacedPoints: function(a) {
        a || (a = 40);
        for (var b = [], c = 0; a > c; c++)
            b.push(this.getPoint(c / a));
        return this.autoClose && b.push(b[0]),
            b
    },
    getPoints: function(a) {
        a = a || 12;
        for (var b, c, d, e, f, g, h, i, j, k, l = THREE.ShapeUtils.b2, m = THREE.ShapeUtils.b3, n = [], o = 0, p = this.actions.length; p > o; o++) {
            j = this.actions[o];
            var q = j.args;
            switch (j.action) {
                case "moveTo":
                    n.push(new THREE.Vector2(q[0],q[1]));
                    break;
                case "lineTo":
                    n.push(new THREE.Vector2(q[0],q[1]));
                    break;
                case "quadraticCurveTo":
                    for (b = q[2],
                             c = q[3],
                             f = q[0],
                             g = q[1],
                             0 < n.length ? (j = n[n.length - 1],
                                 h = j.x,
                                 i = j.y) : (j = this.actions[o - 1].args,
                                 h = j[j.length - 2],
                                 i = j[j.length - 1]),
                             q = 1; a >= q; q++)
                        k = q / a,
                            j = l(k, h, f, b),
                            k = l(k, i, g, c),
                            n.push(new THREE.Vector2(j,k));
                    break;
                case "bezierCurveTo":
                    for (b = q[4],
                             c = q[5],
                             f = q[0],
                             g = q[1],
                             d = q[2],
                             e = q[3],
                             0 < n.length ? (j = n[n.length - 1],
                                 h = j.x,
                                 i = j.y) : (j = this.actions[o - 1].args,
                                 h = j[j.length - 2],
                                 i = j[j.length - 1]),
                             q = 1; a >= q; q++)
                        k = q / a,
                            j = m(k, h, f, d, b),
                            k = m(k, i, g, e, c),
                            n.push(new THREE.Vector2(j,k));
                    break;
                case "splineThru":
                    for (j = this.actions[o - 1].args,
                             k = [new THREE.Vector2(j[j.length - 2],j[j.length - 1])],
                             j = a * q[0].length,
                             k = k.concat(q[0]),
                             k = new THREE.SplineCurve(k),
                             q = 1; j >= q; q++)
                        n.push(k.getPointAt(q / j));
                    break;
                case "arc":
                    for (b = q[0],
                             c = q[1],
                             g = q[2],
                             d = q[3],
                             j = q[4],
                             f = !!q[5],
                             h = j - d,
                             i = 2 * a,
                             q = 1; i >= q; q++)
                        k = q / i,
                        f || (k = 1 - k),
                            k = d + k * h,
                            j = b + g * Math.cos(k),
                            k = c + g * Math.sin(k),
                            n.push(new THREE.Vector2(j,k));
                    break;
                case "ellipse":
                    b = q[0],
                        c = q[1],
                        g = q[2],
                        e = q[3],
                        d = q[4],
                        j = q[5],
                        f = !!q[6];
                    var r = q[7];
                    h = j - d,
                        i = 2 * a;
                    var s, t;
                    for (0 !== r && (s = Math.cos(r),
                        t = Math.sin(r)),
                             q = 1; i >= q; q++) {
                        if (k = q / i,
                            f || (k = 1 - k),
                                k = d + k * h,
                                j = b + g * Math.cos(k),
                                k = c + e * Math.sin(k),
                            0 !== r) {
                            var u = j;
                            j = (u - b) * s - (k - c) * t + b,
                                k = (u - b) * t + (k - c) * s + c
                        }
                        n.push(new THREE.Vector2(j,k))
                    }
            }
        }
        return a = n[n.length - 1],
        Math.abs(a.x - n[0].x) < Number.EPSILON && Math.abs(a.y - n[0].y) < Number.EPSILON && n.splice(n.length - 1, 1),
        this.autoClose && n.push(n[0]),
            n
    },
    toShapes: function(a, b) {
        function c(a) {
            for (var b = [], c = 0, d = a.length; d > c; c++) {
                var e = a[c]
                    , f = new THREE.Shape;
                f.actions = e.actions,
                    f.curves = e.curves,
                    b.push(f)
            }
            return b
        }
        function d(a, b) {
            for (var c = b.length, d = !1, e = c - 1, f = 0; c > f; e = f++) {
                var g = b[e]
                    , h = b[f]
                    , i = h.x - g.x
                    , j = h.y - g.y;
                if (Math.abs(j) > Number.EPSILON) {
                    if (0 > j && (g = b[f],
                            i = -i,
                            h = b[e],
                            j = -j),
                            !(a.y < g.y || a.y > h.y))
                        if (a.y === g.y) {
                            if (a.x === g.x)
                                return !0
                        } else {
                            if (e = j * (a.x - g.x) - i * (a.y - g.y),
                                0 === e)
                                return !0;
                            0 > e || (d = !d)
                        }
                } else if (a.y === g.y && (h.x <= a.x && a.x <= g.x || g.x <= a.x && a.x <= h.x))
                    return !0
            }
            return d
        }
        var e = THREE.ShapeUtils.isClockWise
            , f = function(a) {
            for (var b = [], c = new THREE.Path, d = 0, e = a.length; e > d; d++) {
                var f = a[d]
                    , g = f.args
                    , f = f.action;
                "moveTo" === f && 0 !== c.actions.length && (b.push(c),
                    c = new THREE.Path),
                    c[f].apply(c, g)
            }
            return 0 !== c.actions.length && b.push(c),
                b
        }(this.actions);
        if (0 === f.length)
            return [];
        if (!0 === b)
            return c(f);
        var g, h, i, j = [];
        if (1 === f.length)
            return h = f[0],
                i = new THREE.Shape,
                i.actions = h.actions,
                i.curves = h.curves,
                j.push(i),
                j;
        var k = !e(f[0].getPoints())
            , k = a ? !k : k;
        i = [];
        var l, m = [], n = [], o = 0;
        m[o] = void 0,
            n[o] = [];
        for (var p = 0, q = f.length; q > p; p++)
            h = f[p],
                l = h.getPoints(),
                g = e(l),
                (g = a ? !g : g) ? (!k && m[o] && o++,
                    m[o] = {
                        s: new THREE.Shape,
                        p: l
                    },
                    m[o].s.actions = h.actions,
                    m[o].s.curves = h.curves,
                k && o++,
                    n[o] = []) : n[o].push({
                    h: h,
                    p: l[0]
                });
        if (!m[0])
            return c(f);
        if (1 < m.length) {
            for (p = !1,
                     h = [],
                     e = 0,
                     f = m.length; f > e; e++)
                i[e] = [];
            for (e = 0,
                     f = m.length; f > e; e++)
                for (g = n[e],
                         k = 0; k < g.length; k++) {
                    for (o = g[k],
                             l = !0,
                             q = 0; q < m.length; q++)
                        d(o.p, m[q].p) && (e !== q && h.push({
                            froms: e,
                            tos: q,
                            hole: k
                        }),
                            l ? (l = !1,
                                i[q].push(o)) : p = !0);
                    l && i[e].push(o)
                }
            0 < h.length && (p || (n = i))
        }
        for (p = 0,
                 e = m.length; e > p; p++)
            for (i = m[p].s,
                     j.push(i),
                     h = n[p],
                     f = 0,
                     g = h.length; g > f; f++)
                i.holes.push(h[f].h);
        return j
    }
}),
THREE.Shape = function() {
    THREE.Path.apply(this, arguments),
        this.holes = []
}
,
THREE.Shape.prototype = Object.assign(Object.create(THREE.Path.prototype), {
    constructor: THREE.Shape,
    extrude: function(a) {
        return new THREE.ExtrudeGeometry(this,a)
    },
    makeGeometry: function(a) {
        return new THREE.ShapeGeometry(this,a)
    },
    getPointsHoles: function(a) {
        for (var b = [], c = 0, d = this.holes.length; d > c; c++)
            b[c] = this.holes[c].getPoints(a);
        return b
    },
    extractAllPoints: function(a) {
        return {
            shape: this.getPoints(a),
            holes: this.getPointsHoles(a)
        }
    },
    extractPoints: function(a) {
        return this.extractAllPoints(a)
    }
}),
THREE.LineCurve = function(a, b) {
    this.v1 = a,
        this.v2 = b
}
,
THREE.LineCurve.prototype = Object.create(THREE.Curve.prototype),
THREE.LineCurve.prototype.constructor = THREE.LineCurve,
THREE.LineCurve.prototype.getPoint = function(a) {
    var b = this.v2.clone().sub(this.v1);
    return b.multiplyScalar(a).add(this.v1),
        b
}
,
THREE.LineCurve.prototype.getPointAt = function(a) {
    return this.getPoint(a)
}
,
THREE.LineCurve.prototype.getTangent = function(a) {
    return this.v2.clone().sub(this.v1).normalize()
}
,
THREE.QuadraticBezierCurve = function(a, b, c) {
    this.v0 = a,
        this.v1 = b,
        this.v2 = c
}
,
THREE.QuadraticBezierCurve.prototype = Object.create(THREE.Curve.prototype),
THREE.QuadraticBezierCurve.prototype.constructor = THREE.QuadraticBezierCurve,
THREE.QuadraticBezierCurve.prototype.getPoint = function(a) {
    var b = THREE.ShapeUtils.b2;
    return new THREE.Vector2(b(a, this.v0.x, this.v1.x, this.v2.x),b(a, this.v0.y, this.v1.y, this.v2.y))
}
,
THREE.QuadraticBezierCurve.prototype.getTangent = function(a) {
    var b = THREE.CurveUtils.tangentQuadraticBezier;
    return new THREE.Vector2(b(a, this.v0.x, this.v1.x, this.v2.x),b(a, this.v0.y, this.v1.y, this.v2.y)).normalize()
}
,
THREE.CubicBezierCurve = function(a, b, c, d) {
    this.v0 = a,
        this.v1 = b,
        this.v2 = c,
        this.v3 = d
}
,
THREE.CubicBezierCurve.prototype = Object.create(THREE.Curve.prototype),
THREE.CubicBezierCurve.prototype.constructor = THREE.CubicBezierCurve,
THREE.CubicBezierCurve.prototype.getPoint = function(a) {
    var b = THREE.ShapeUtils.b3;
    return new THREE.Vector2(b(a, this.v0.x, this.v1.x, this.v2.x, this.v3.x),b(a, this.v0.y, this.v1.y, this.v2.y, this.v3.y))
}
,
THREE.CubicBezierCurve.prototype.getTangent = function(a) {
    var b = THREE.CurveUtils.tangentCubicBezier;
    return new THREE.Vector2(b(a, this.v0.x, this.v1.x, this.v2.x, this.v3.x),b(a, this.v0.y, this.v1.y, this.v2.y, this.v3.y)).normalize()
}
,
THREE.SplineCurve = function(a) {
    this.points = void 0 == a ? [] : a
}
,
THREE.SplineCurve.prototype = Object.create(THREE.Curve.prototype),
THREE.SplineCurve.prototype.constructor = THREE.SplineCurve,
THREE.SplineCurve.prototype.getPoint = function(a) {
    var b = this.points;
    a *= b.length - 1;
    var c = Math.floor(a);
    a -= c;
    var d = b[0 === c ? c : c - 1]
        , e = b[c]
        , f = b[c > b.length - 2 ? b.length - 1 : c + 1]
        , b = b[c > b.length - 3 ? b.length - 1 : c + 2]
        , c = THREE.CurveUtils.interpolate;
    return new THREE.Vector2(c(d.x, e.x, f.x, b.x, a),c(d.y, e.y, f.y, b.y, a))
}
,
THREE.EllipseCurve = function(a, b, c, d, e, f, g, h) {
    this.aX = a,
        this.aY = b,
        this.xRadius = c,
        this.yRadius = d,
        this.aStartAngle = e,
        this.aEndAngle = f,
        this.aClockwise = g,
        this.aRotation = h || 0
}
,
THREE.EllipseCurve.prototype = Object.create(THREE.Curve.prototype),
THREE.EllipseCurve.prototype.constructor = THREE.EllipseCurve,
THREE.EllipseCurve.prototype.getPoint = function(a) {
    var b = this.aEndAngle - this.aStartAngle;
    0 > b && (b += 2 * Math.PI),
    b > 2 * Math.PI && (b -= 2 * Math.PI),
        b = !0 === this.aClockwise ? this.aEndAngle + (1 - a) * (2 * Math.PI - b) : this.aStartAngle + a * b,
        a = this.aX + this.xRadius * Math.cos(b);
    var c = this.aY + this.yRadius * Math.sin(b);
    if (0 !== this.aRotation) {
        var b = Math.cos(this.aRotation)
            , d = Math.sin(this.aRotation)
            , e = a;
        a = (e - this.aX) * b - (c - this.aY) * d + this.aX,
            c = (e - this.aX) * d + (c - this.aY) * b + this.aY
    }
    return new THREE.Vector2(a,c)
}
,
THREE.ArcCurve = function(a, b, c, d, e, f) {
    THREE.EllipseCurve.call(this, a, b, c, c, d, e, f)
}
,
THREE.ArcCurve.prototype = Object.create(THREE.EllipseCurve.prototype),
THREE.ArcCurve.prototype.constructor = THREE.ArcCurve,
THREE.LineCurve3 = THREE.Curve.create(function(a, b) {
    this.v1 = a,
        this.v2 = b
}, function(a) {
    var b = new THREE.Vector3;
    return b.subVectors(this.v2, this.v1),
        b.multiplyScalar(a),
        b.add(this.v1),
        b
}),
THREE.QuadraticBezierCurve3 = THREE.Curve.create(function(a, b, c) {
    this.v0 = a,
        this.v1 = b,
        this.v2 = c
}, function(a) {
    var b = THREE.ShapeUtils.b2;
    return new THREE.Vector3(b(a, this.v0.x, this.v1.x, this.v2.x),b(a, this.v0.y, this.v1.y, this.v2.y),b(a, this.v0.z, this.v1.z, this.v2.z))
}),
THREE.CubicBezierCurve3 = THREE.Curve.create(function(a, b, c, d) {
    this.v0 = a,
        this.v1 = b,
        this.v2 = c,
        this.v3 = d
}, function(a) {
    var b = THREE.ShapeUtils.b3;
    return new THREE.Vector3(b(a, this.v0.x, this.v1.x, this.v2.x, this.v3.x),b(a, this.v0.y, this.v1.y, this.v2.y, this.v3.y),b(a, this.v0.z, this.v1.z, this.v2.z, this.v3.z))
}),
THREE.SplineCurve3 = THREE.Curve.create(function(a) {
    console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),
        this.points = void 0 == a ? [] : a
}, function(a) {
    var b = this.points;
    a *= b.length - 1;
    var c = Math.floor(a);
    a -= c;
    var d = b[0 == c ? c : c - 1]
        , e = b[c]
        , f = b[c > b.length - 2 ? b.length - 1 : c + 1]
        , b = b[c > b.length - 3 ? b.length - 1 : c + 2]
        , c = THREE.CurveUtils.interpolate;
    return new THREE.Vector3(c(d.x, e.x, f.x, b.x, a),c(d.y, e.y, f.y, b.y, a),c(d.z, e.z, f.z, b.z, a))
}),
THREE.CatmullRomCurve3 = function() {
    function a() {}
    var b = new THREE.Vector3
        , c = new a
        , d = new a
        , e = new a;
    return a.prototype.init = function(a, b, c, d) {
        this.c0 = a,
            this.c1 = c,
            this.c2 = -3 * a + 3 * b - 2 * c - d,
            this.c3 = 2 * a - 2 * b + c + d
    }
        ,
        a.prototype.initNonuniformCatmullRom = function(a, b, c, d, e, f, g) {
            a = ((b - a) / e - (c - a) / (e + f) + (c - b) / f) * f,
                d = ((c - b) / f - (d - b) / (f + g) + (d - c) / g) * f,
                this.init(b, c, a, d)
        }
        ,
        a.prototype.initCatmullRom = function(a, b, c, d, e) {
            this.init(b, c, e * (c - a), e * (d - b))
        }
        ,
        a.prototype.calc = function(a) {
            var b = a * a;
            return this.c0 + this.c1 * a + this.c2 * b + this.c3 * b * a
        }
        ,
        THREE.Curve.create(function(a) {
            this.points = a || [],
                this.closed = !1
        }, function(a) {
            var f, g, h = this.points;
            g = h.length,
            2 > g && console.log("duh, you need at least 2 points"),
                a *= g - (this.closed ? 0 : 1),
                f = Math.floor(a),
                a -= f,
                this.closed ? f += f > 0 ? 0 : (Math.floor(Math.abs(f) / h.length) + 1) * h.length : 0 === a && f === g - 1 && (f = g - 2,
                    a = 1);
            var i, j, k;
            if (this.closed || f > 0 ? i = h[(f - 1) % g] : (b.subVectors(h[0], h[1]).add(h[0]),
                    i = b),
                    j = h[f % g],
                    k = h[(f + 1) % g],
                    this.closed || g > f + 2 ? h = h[(f + 2) % g] : (b.subVectors(h[g - 1], h[g - 2]).add(h[g - 1]),
                        h = b),
                void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) {
                var l = "chordal" === this.type ? .5 : .25;
                g = Math.pow(i.distanceToSquared(j), l),
                    f = Math.pow(j.distanceToSquared(k), l),
                    l = Math.pow(k.distanceToSquared(h), l),
                1e-4 > f && (f = 1),
                1e-4 > g && (g = f),
                1e-4 > l && (l = f),
                    c.initNonuniformCatmullRom(i.x, j.x, k.x, h.x, g, f, l),
                    d.initNonuniformCatmullRom(i.y, j.y, k.y, h.y, g, f, l),
                    e.initNonuniformCatmullRom(i.z, j.z, k.z, h.z, g, f, l)
            } else
                "catmullrom" === this.type && (g = void 0 !== this.tension ? this.tension : .5,
                    c.initCatmullRom(i.x, j.x, k.x, h.x, g),
                    d.initCatmullRom(i.y, j.y, k.y, h.y, g),
                    e.initCatmullRom(i.z, j.z, k.z, h.z, g));
            return new THREE.Vector3(c.calc(a),d.calc(a),e.calc(a))
        })
}(),
THREE.ClosedSplineCurve3 = function(a) {
    console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),
        THREE.CatmullRomCurve3.call(this, a),
        this.type = "catmullrom",
        this.closed = !0
}
,
THREE.ClosedSplineCurve3.prototype = Object.create(THREE.CatmullRomCurve3.prototype),
THREE.BoxGeometry = function(a, b, c, d, e, f) {
    THREE.Geometry.call(this),
        this.type = "BoxGeometry",
        this.parameters = {
            width: a,
            height: b,
            depth: c,
            widthSegments: d,
            heightSegments: e,
            depthSegments: f
        },
        this.fromBufferGeometry(new THREE.BoxBufferGeometry(a,b,c,d,e,f)),
        this.mergeVertices()
}
,
THREE.BoxGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.BoxGeometry.prototype.constructor = THREE.BoxGeometry,
THREE.CubeGeometry = THREE.BoxGeometry,
THREE.BoxBufferGeometry = function(a, b, c, d, e, f) {
    function g(a, b, c, d, e, f, g, i, j, t, u) {
        var v = f / j
            , w = g / t
            , x = f / 2
            , y = g / 2
            , z = i / 2;
        g = j + 1;
        for (var A = t + 1, B = f = 0, C = new THREE.Vector3, D = 0; A > D; D++)
            for (var E = D * w - y, F = 0; g > F; F++)
                C[a] = (F * v - x) * d,
                    C[b] = E * e,
                    C[c] = z,
                    l[o] = C.x,
                    l[o + 1] = C.y,
                    l[o + 2] = C.z,
                    C[a] = 0,
                    C[b] = 0,
                    C[c] = i > 0 ? 1 : -1,
                    m[o] = C.x,
                    m[o + 1] = C.y,
                    m[o + 2] = C.z,
                    n[p] = F / j,
                    n[p + 1] = 1 - D / t,
                    o += 3,
                    p += 2,
                    f += 1;
        for (D = 0; t > D; D++)
            for (F = 0; j > F; F++)
                a = r + F + g * (D + 1),
                    b = r + (F + 1) + g * (D + 1),
                    c = r + (F + 1) + g * D,
                    k[q] = r + F + g * D,
                    k[q + 1] = a,
                    k[q + 2] = c,
                    k[q + 3] = a,
                    k[q + 4] = b,
                    k[q + 5] = c,
                    q += 6,
                    B += 6;
        h.addGroup(s, B, u),
            s += B,
            r += f
    }
    THREE.BufferGeometry.call(this),
        this.type = "BoxBufferGeometry",
        this.parameters = {
            width: a,
            height: b,
            depth: c,
            widthSegments: d,
            heightSegments: e,
            depthSegments: f
        };
    var h = this;
    d = Math.floor(d) || 1,
        e = Math.floor(e) || 1,
        f = Math.floor(f) || 1;
    var i = function(a, b, c) {
        return a = 0 + (a + 1) * (b + 1) * 2 + (a + 1) * (c + 1) * 2,
            a += (c + 1) * (b + 1) * 2
    }(d, e, f)
        , j = function(a, b, c) {
        return a = 0 + a * b * 2 + a * c * 2,
            a += c * b * 2,
        6 * a
    }(d, e, f)
        , k = new (j > 65535 ? Uint32Array : Uint16Array)(j)
        , l = new Float32Array(3 * i)
        , m = new Float32Array(3 * i)
        , n = new Float32Array(2 * i)
        , o = 0
        , p = 0
        , q = 0
        , r = 0
        , s = 0;
    g("z", "y", "x", -1, -1, c, b, a, f, e, 0),
        g("z", "y", "x", 1, -1, c, b, -a, f, e, 1),
        g("x", "z", "y", 1, 1, a, c, b, d, f, 2),
        g("x", "z", "y", 1, -1, a, c, -b, d, f, 3),
        g("x", "y", "z", 1, -1, a, b, c, d, e, 4),
        g("x", "y", "z", -1, -1, a, b, -c, d, e, 5),
        this.setIndex(new THREE.BufferAttribute(k,1)),
        this.addAttribute("position", new THREE.BufferAttribute(l,3)),
        this.addAttribute("normal", new THREE.BufferAttribute(m,3)),
        this.addAttribute("uv", new THREE.BufferAttribute(n,2))
}
,
THREE.BoxBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.BoxBufferGeometry.prototype.constructor = THREE.BoxBufferGeometry,
THREE.CircleGeometry = function(a, b, c, d) {
    THREE.Geometry.call(this),
        this.type = "CircleGeometry",
        this.parameters = {
            radius: a,
            segments: b,
            thetaStart: c,
            thetaLength: d
        },
        this.fromBufferGeometry(new THREE.CircleBufferGeometry(a,b,c,d))
}
,
THREE.CircleGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.CircleGeometry.prototype.constructor = THREE.CircleGeometry,
THREE.CircleBufferGeometry = function(a, b, c, d) {
    THREE.BufferGeometry.call(this),
        this.type = "CircleBufferGeometry",
        this.parameters = {
            radius: a,
            segments: b,
            thetaStart: c,
            thetaLength: d
        },
        a = a || 50,
        b = void 0 !== b ? Math.max(3, b) : 8,
        c = void 0 !== c ? c : 0,
        d = void 0 !== d ? d : 2 * Math.PI;
    var e = b + 2
        , f = new Float32Array(3 * e)
        , g = new Float32Array(3 * e)
        , e = new Float32Array(2 * e);
    g[2] = 1,
        e[0] = .5,
        e[1] = .5;
    for (var h = 0, i = 3, j = 2; b >= h; h++,
        i += 3,
        j += 2) {
        var k = c + h / b * d;
        f[i] = a * Math.cos(k),
            f[i + 1] = a * Math.sin(k),
            g[i + 2] = 1,
            e[j] = (f[i] / a + 1) / 2,
            e[j + 1] = (f[i + 1] / a + 1) / 2
    }
    for (c = [],
             i = 1; b >= i; i++)
        c.push(i, i + 1, 0);
    this.setIndex(new THREE.BufferAttribute(new Uint16Array(c),1)),
        this.addAttribute("position", new THREE.BufferAttribute(f,3)),
        this.addAttribute("normal", new THREE.BufferAttribute(g,3)),
        this.addAttribute("uv", new THREE.BufferAttribute(e,2)),
        this.boundingSphere = new THREE.Sphere(new THREE.Vector3,a)
}
,
THREE.CircleBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.CircleBufferGeometry.prototype.constructor = THREE.CircleBufferGeometry,
THREE.CylinderBufferGeometry = function(a, b, c, d, e, f, g, h) {
    function i(c) {
        var e, f, i, k = new THREE.Vector2, l = new THREE.Vector3, m = 0, t = !0 === c ? a : b, w = !0 === c ? 1 : -1;
        for (f = r,
                 e = 1; d >= e; e++)
            o.setXYZ(r, 0, u * w, 0),
                p.setXYZ(r, 0, w, 0),
                k.x = .5,
                k.y = .5,
                q.setXY(r, k.x, k.y),
                r++;
        for (i = r,
                 e = 0; d >= e; e++) {
            var x = e / d * h + g
                , y = Math.cos(x)
                , x = Math.sin(x);
            l.x = t * x,
                l.y = u * w,
                l.z = t * y,
                o.setXYZ(r, l.x, l.y, l.z),
                p.setXYZ(r, 0, w, 0),
                k.x = .5 * y + .5,
                k.y = .5 * x * w + .5,
                q.setXY(r, k.x, k.y),
                r++
        }
        for (e = 0; d > e; e++)
            k = f + e,
                l = i + e,
                !0 === c ? (n.setX(s, l),
                    s++,
                    n.setX(s, l + 1)) : (n.setX(s, l + 1),
                    s++,
                    n.setX(s, l)),
                s++,
                n.setX(s, k),
                s++,
                m += 3;
        j.addGroup(v, m, !0 === c ? 1 : 2),
            v += m
    }
    THREE.BufferGeometry.call(this),
        this.type = "CylinderBufferGeometry",
        this.parameters = {
            radiusTop: a,
            radiusBottom: b,
            height: c,
            radialSegments: d,
            heightSegments: e,
            openEnded: f,
            thetaStart: g,
            thetaLength: h
        };
    var j = this;
    a = void 0 !== a ? a : 20,
        b = void 0 !== b ? b : 20,
        c = void 0 !== c ? c : 100,
        d = Math.floor(d) || 8,
        e = Math.floor(e) || 1,
        f = void 0 !== f && f,
        g = void 0 !== g ? g : 0,
        h = void 0 !== h ? h : 2 * Math.PI;
    var k = 0;
    !1 === f && (a > 0 && k++,
    b > 0 && k++);
    var l = function() {
        var a = (d + 1) * (e + 1);
        return !1 === f && (a += (d + 1) * k + d * k),
            a
    }()
        , m = function() {
        var a = d * e * 6;
        return !1 === f && (a += d * k * 3),
            a
    }()
        , n = new THREE.BufferAttribute(new (m > 65535 ? Uint32Array : Uint16Array)(m),1)
        , o = new THREE.BufferAttribute(new Float32Array(3 * l),3)
        , p = new THREE.BufferAttribute(new Float32Array(3 * l),3)
        , q = new THREE.BufferAttribute(new Float32Array(2 * l),2)
        , r = 0
        , s = 0
        , t = []
        , u = c / 2
        , v = 0;
    !function() {
        var f, i, k = new THREE.Vector3, l = new THREE.Vector3, m = 0, w = (b - a) / c;
        for (i = 0; e >= i; i++) {
            var x = []
                , y = i / e
                , z = y * (b - a) + a;
            for (f = 0; d >= f; f++) {
                var A = f / d;
                l.x = z * Math.sin(A * h + g),
                    l.y = -y * c + u,
                    l.z = z * Math.cos(A * h + g),
                    o.setXYZ(r, l.x, l.y, l.z),
                    k.copy(l),
                (0 === a && 0 === i || 0 === b && i === e) && (k.x = Math.sin(A * h + g),
                    k.z = Math.cos(A * h + g)),
                    k.setY(Math.sqrt(k.x * k.x + k.z * k.z) * w).normalize(),
                    p.setXYZ(r, k.x, k.y, k.z),
                    q.setXY(r, A, 1 - y),
                    x.push(r),
                    r++
            }
            t.push(x)
        }
        for (f = 0; d > f; f++)
            for (i = 0; e > i; i++)
                k = t[i + 1][f],
                    l = t[i + 1][f + 1],
                    w = t[i][f + 1],
                    n.setX(s, t[i][f]),
                    s++,
                    n.setX(s, k),
                    s++,
                    n.setX(s, w),
                    s++,
                    n.setX(s, k),
                    s++,
                    n.setX(s, l),
                    s++,
                    n.setX(s, w),
                    s++,
                    m += 6;
        j.addGroup(v, m, 0),
            v += m
    }(),
    !1 === f && (a > 0 && i(!0),
    b > 0 && i(!1)),
        this.setIndex(n),
        this.addAttribute("position", o),
        this.addAttribute("normal", p),
        this.addAttribute("uv", q)
}
,
THREE.CylinderBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.CylinderBufferGeometry.prototype.constructor = THREE.CylinderBufferGeometry,
THREE.CylinderGeometry = function(a, b, c, d, e, f, g, h) {
    THREE.Geometry.call(this),
        this.type = "CylinderGeometry",
        this.parameters = {
            radiusTop: a,
            radiusBottom: b,
            height: c,
            radialSegments: d,
            heightSegments: e,
            openEnded: f,
            thetaStart: g,
            thetaLength: h
        },
        this.fromBufferGeometry(new THREE.CylinderBufferGeometry(a,b,c,d,e,f,g,h)),
        this.mergeVertices()
}
,
THREE.CylinderGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.CylinderGeometry.prototype.constructor = THREE.CylinderGeometry,
THREE.ConeBufferGeometry = function(a, b, c, d, e, f, g) {
    THREE.CylinderBufferGeometry.call(this, 0, a, b, c, d, e, f, g),
        this.type = "ConeBufferGeometry",
        this.parameters = {
            radius: a,
            height: b,
            radialSegments: c,
            heightSegments: d,
            thetaStart: f,
            thetaLength: g
        }
}
,
THREE.ConeBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.ConeBufferGeometry.prototype.constructor = THREE.ConeBufferGeometry,
THREE.ConeGeometry = function(a, b, c, d, e, f, g) {
    THREE.CylinderGeometry.call(this, 0, a, b, c, d, e, f, g),
        this.type = "ConeGeometry",
        this.parameters = {
            radius: a,
            height: b,
            radialSegments: c,
            heightSegments: d,
            openEnded: e,
            thetaStart: f,
            thetaLength: g
        }
}
,
THREE.ConeGeometry.prototype = Object.create(THREE.CylinderGeometry.prototype),
THREE.ConeGeometry.prototype.constructor = THREE.ConeGeometry,
THREE.EdgesGeometry = function(a, b) {
    function c(a, b) {
        return a - b
    }
    THREE.BufferGeometry.call(this);
    var d, e = Math.cos(THREE.Math.DEG2RAD * (void 0 !== b ? b : 1)), f = [0, 0], g = {}, h = ["a", "b", "c"];
    a instanceof THREE.BufferGeometry ? (d = new THREE.Geometry,
        d.fromBufferGeometry(a)) : d = a.clone(),
        d.mergeVertices(),
        d.computeFaceNormals();
    var i = d.vertices;
    d = d.faces;
    for (var j = 0, k = d.length; k > j; j++)
        for (var l = d[j], m = 0; 3 > m; m++) {
            f[0] = l[h[m]],
                f[1] = l[h[(m + 1) % 3]],
                f.sort(c);
            var n = f.toString();
            void 0 === g[n] ? g[n] = {
                vert1: f[0],
                vert2: f[1],
                face1: j,
                face2: void 0
            } : g[n].face2 = j
        }
    f = [];
    for (n in g)
        h = g[n],
        (void 0 === h.face2 || d[h.face1].normal.dot(d[h.face2].normal) <= e) && (j = i[h.vert1],
            f.push(j.x),
            f.push(j.y),
            f.push(j.z),
            j = i[h.vert2],
            f.push(j.x),
            f.push(j.y),
            f.push(j.z));
    this.addAttribute("position", new THREE.BufferAttribute(new Float32Array(f),3));
}
,
THREE.EdgesGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.EdgesGeometry.prototype.constructor = THREE.EdgesGeometry,
THREE.ExtrudeGeometry = function(a, b) {
    "undefined" != typeof a && (THREE.Geometry.call(this),
        this.type = "ExtrudeGeometry",
        a = Array.isArray(a) ? a : [a],
        this.addShapeList(a, b),
        this.computeFaceNormals())
}
,
THREE.ExtrudeGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.ExtrudeGeometry.prototype.constructor = THREE.ExtrudeGeometry,
THREE.ExtrudeGeometry.prototype.addShapeList = function(a, b) {
    for (var c = a.length, d = 0; c > d; d++)
        this.addShape(a[d], b)
}
,
THREE.ExtrudeGeometry.prototype.addShape = function(a, b) {
    function c(a, b, c) {
        return b || console.error("THREE.ExtrudeGeometry: vec does not exist"),
            b.clone().multiplyScalar(c).add(a)
    }
    function d(a, b, c) {
        var d = 1
            , d = a.x - b.x
            , e = a.y - b.y
            , f = c.x - a.x
            , g = c.y - a.y
            , h = d * d + e * e;
        if (Math.abs(d * g - e * f) > Number.EPSILON) {
            var i = Math.sqrt(h)
                , j = Math.sqrt(f * f + g * g)
                , h = b.x - e / i;
            if (b = b.y + d / i,
                    f = ((c.x - g / j - h) * g - (c.y + f / j - b) * f) / (d * g - e * f),
                    c = h + d * f - a.x,
                    a = b + e * f - a.y,
                    d = c * c + a * a,
                2 >= d)
                return new THREE.Vector2(c,a);
            d = Math.sqrt(d / 2)
        } else
            a = !1,
                d > Number.EPSILON ? f > Number.EPSILON && (a = !0) : d < -Number.EPSILON ? f < -Number.EPSILON && (a = !0) : Math.sign(e) === Math.sign(g) && (a = !0),
                a ? (c = -e,
                    a = d,
                    d = Math.sqrt(h)) : (c = d,
                    a = e,
                    d = Math.sqrt(h / 2));
        return new THREE.Vector2(c / d,a / d)
    }
    function e(a, b) {
        var c, d;
        for (M = a.length; 0 <= --M; ) {
            c = M,
                d = M - 1,
            0 > d && (d = a.length - 1);
            for (var e = 0, f = s + 2 * p, e = 0; f > e; e++) {
                var g = K * e
                    , h = K * (e + 1)
                    , i = b + c + g
                    , g = b + d + g
                    , j = b + d + h
                    , h = b + c + h
                    , i = i + A
                    , g = g + A
                    , j = j + A
                    , h = h + A;
                z.faces.push(new THREE.Face3(i,g,h,null ,null ,1)),
                    z.faces.push(new THREE.Face3(g,j,h,null ,null ,1)),
                    i = v.generateSideWallUV(z, i, g, j, h),
                    z.faceVertexUvs[0].push([i[0], i[1], i[3]]),
                    z.faceVertexUvs[0].push([i[1], i[2], i[3]])
            }
        }
    }
    function f(a, b, c) {
        z.vertices.push(new THREE.Vector3(a,b,c))
    }
    function g(a, b, c) {
        a += A,
            b += A,
            c += A,
            z.faces.push(new THREE.Face3(a,b,c,null ,null ,0)),
            a = v.generateTopUV(z, a, b, c),
            z.faceVertexUvs[0].push(a)
    }
    var h, i, j, k, l, m = void 0 !== b.amount ? b.amount : 100, n = void 0 !== b.bevelThickness ? b.bevelThickness : 6, o = void 0 !== b.bevelSize ? b.bevelSize : n - 2, p = void 0 !== b.bevelSegments ? b.bevelSegments : 3, q = void 0 === b.bevelEnabled || b.bevelEnabled, r = void 0 !== b.curveSegments ? b.curveSegments : 12, s = void 0 !== b.steps ? b.steps : 1, t = b.extrudePath, u = !1, v = void 0 !== b.UVGenerator ? b.UVGenerator : THREE.ExtrudeGeometry.WorldUVGenerator;
    t && (h = t.getSpacedPoints(s),
        u = !0,
        q = !1,
        i = void 0 !== b.frames ? b.frames : new THREE.TubeGeometry.FrenetFrames(t,s,!1),
        j = new THREE.Vector3,
        k = new THREE.Vector3,
        l = new THREE.Vector3),
    q || (o = n = p = 0);
    var w, x, y, z = this, A = this.vertices.length, t = a.extractPoints(r), r = t.shape, B = t.holes;
    if (t = !THREE.ShapeUtils.isClockWise(r)) {
        for (r = r.reverse(),
                 x = 0,
                 y = B.length; y > x; x++)
            w = B[x],
            THREE.ShapeUtils.isClockWise(w) && (B[x] = w.reverse());
        t = !1
    }
    var C = THREE.ShapeUtils.triangulateShape(r, B)
        , D = r;
    for (x = 0,
             y = B.length; y > x; x++)
        w = B[x],
            r = r.concat(w);
    var E, F, G, H, I, J, K = r.length, L = C.length, t = [], M = 0;
    for (G = D.length,
             E = G - 1,
             F = M + 1; G > M; M++,
             E++,
             F++)
        E === G && (E = 0),
        F === G && (F = 0),
            t[M] = d(D[M], D[E], D[F]);
    var N, O = [], P = t.concat();
    for (x = 0,
             y = B.length; y > x; x++) {
        for (w = B[x],
                 N = [],
                 M = 0,
                 G = w.length,
                 E = G - 1,
                 F = M + 1; G > M; M++,
                 E++,
                 F++)
            E === G && (E = 0),
            F === G && (F = 0),
                N[M] = d(w[M], w[E], w[F]);
        O.push(N),
            P = P.concat(N)
    }
    for (E = 0; p > E; E++) {
        for (G = E / p,
                 H = n * (1 - G),
                 F = o * Math.sin(G * Math.PI / 2),
                 M = 0,
                 G = D.length; G > M; M++)
            I = c(D[M], t[M], F),
                f(I.x, I.y, -H);
        for (x = 0,
                 y = B.length; y > x; x++)
            for (w = B[x],
                     N = O[x],
                     M = 0,
                     G = w.length; G > M; M++)
                I = c(w[M], N[M], F),
                    f(I.x, I.y, -H)
    }
    for (F = o,
             M = 0; K > M; M++)
        I = q ? c(r[M], P[M], F) : r[M],
            u ? (k.copy(i.normals[0]).multiplyScalar(I.x),
                j.copy(i.binormals[0]).multiplyScalar(I.y),
                l.copy(h[0]).add(k).add(j),
                f(l.x, l.y, l.z)) : f(I.x, I.y, 0);
    for (G = 1; s >= G; G++)
        for (M = 0; K > M; M++)
            I = q ? c(r[M], P[M], F) : r[M],
                u ? (k.copy(i.normals[G]).multiplyScalar(I.x),
                    j.copy(i.binormals[G]).multiplyScalar(I.y),
                    l.copy(h[G]).add(k).add(j),
                    f(l.x, l.y, l.z)) : f(I.x, I.y, m / s * G);
    for (E = p - 1; E >= 0; E--) {
        for (G = E / p,
                 H = n * (1 - G),
                 F = o * Math.sin(G * Math.PI / 2),
                 M = 0,
                 G = D.length; G > M; M++)
            I = c(D[M], t[M], F),
                f(I.x, I.y, m + H);
        for (x = 0,
                 y = B.length; y > x; x++)
            for (w = B[x],
                     N = O[x],
                     M = 0,
                     G = w.length; G > M; M++)
                I = c(w[M], N[M], F),
                    u ? f(I.x, I.y + h[s - 1].y, h[s - 1].x + H) : f(I.x, I.y, m + H)
    }
    !function() {
        if (q) {
            var a;
            for (a = 0 * K,
                     M = 0; L > M; M++)
                J = C[M],
                    g(J[2] + a, J[1] + a, J[0] + a);
            for (a = s + 2 * p,
                     a *= K,
                     M = 0; L > M; M++)
                J = C[M],
                    g(J[0] + a, J[1] + a, J[2] + a)
        } else {
            for (M = 0; L > M; M++)
                J = C[M],
                    g(J[2], J[1], J[0]);
            for (M = 0; L > M; M++)
                J = C[M],
                    g(J[0] + K * s, J[1] + K * s, J[2] + K * s)
        }
    }(),
        function() {
            var a = 0;
            for (e(D, a),
                     a += D.length,
                     x = 0,
                     y = B.length; y > x; x++)
                w = B[x],
                    e(w, a),
                    a += w.length
        }()
}
,
THREE.ExtrudeGeometry.WorldUVGenerator = {
    generateTopUV: function(a, b, c, d) {
        return a = a.vertices,
            b = a[b],
            c = a[c],
            d = a[d],
            [new THREE.Vector2(b.x,b.y), new THREE.Vector2(c.x,c.y), new THREE.Vector2(d.x,d.y)]
    },
    generateSideWallUV: function(a, b, c, d, e) {
        return a = a.vertices,
            b = a[b],
            c = a[c],
            d = a[d],
            e = a[e],
            .01 > Math.abs(b.y - c.y) ? [new THREE.Vector2(b.x,1 - b.z), new THREE.Vector2(c.x,1 - c.z), new THREE.Vector2(d.x,1 - d.z), new THREE.Vector2(e.x,1 - e.z)] : [new THREE.Vector2(b.y,1 - b.z), new THREE.Vector2(c.y,1 - c.z), new THREE.Vector2(d.y,1 - d.z), new THREE.Vector2(e.y,1 - e.z)]
    }
},
THREE.ShapeGeometry = function(a, b) {
    THREE.Geometry.call(this),
        this.type = "ShapeGeometry",
    !1 === Array.isArray(a) && (a = [a]),
        this.addShapeList(a, b),
        this.computeFaceNormals()
}
,
THREE.ShapeGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.ShapeGeometry.prototype.constructor = THREE.ShapeGeometry,
THREE.ShapeGeometry.prototype.addShapeList = function(a, b) {
    for (var c = 0, d = a.length; d > c; c++)
        this.addShape(a[c], b);
    return this
}
,
THREE.ShapeGeometry.prototype.addShape = function(a, b) {
    void 0 === b && (b = {});
    var c, d, e, f = b.material, g = void 0 === b.UVGenerator ? THREE.ExtrudeGeometry.WorldUVGenerator : b.UVGenerator, h = this.vertices.length;
    c = a.extractPoints(void 0 !== b.curveSegments ? b.curveSegments : 12);
    var i = c.shape
        , j = c.holes;
    if (!THREE.ShapeUtils.isClockWise(i))
        for (i = i.reverse(),
                 c = 0,
                 d = j.length; d > c; c++)
            e = j[c],
            THREE.ShapeUtils.isClockWise(e) && (j[c] = e.reverse());
    var k = THREE.ShapeUtils.triangulateShape(i, j);
    for (c = 0,
             d = j.length; d > c; c++)
        e = j[c],
            i = i.concat(e);
    for (j = i.length,
             d = k.length,
             c = 0; j > c; c++)
        e = i[c],
            this.vertices.push(new THREE.Vector3(e.x,e.y,0));
    for (c = 0; d > c; c++)
        j = k[c],
            i = j[0] + h,
            e = j[1] + h,
            j = j[2] + h,
            this.faces.push(new THREE.Face3(i,e,j,null ,null ,f)),
            this.faceVertexUvs[0].push(g.generateTopUV(this, i, e, j))
}
,
THREE.LatheBufferGeometry = function(a, b, c, d) {
    THREE.BufferGeometry.call(this),
        this.type = "LatheBufferGeometry",
        this.parameters = {
            points: a,
            segments: b,
            phiStart: c,
            phiLength: d
        },
        b = Math.floor(b) || 12,
        c = c || 0,
        d = d || 2 * Math.PI,
        d = THREE.Math.clamp(d, 0, 2 * Math.PI);
    for (var e = (b + 1) * a.length, f = b * a.length * 6, g = new THREE.BufferAttribute(new (f > 65535 ? Uint32Array : Uint16Array)(f),1), h = new THREE.BufferAttribute(new Float32Array(3 * e),3), i = new THREE.BufferAttribute(new Float32Array(2 * e),2), j = 0, k = 0, l = 1 / b, m = new THREE.Vector3, n = new THREE.Vector2, e = 0; b >= e; e++)
        for (var f = c + e * l * d, o = Math.sin(f), p = Math.cos(f), f = 0; f <= a.length - 1; f++)
            m.x = a[f].x * o,
                m.y = a[f].y,
                m.z = a[f].x * p,
                h.setXYZ(j, m.x, m.y, m.z),
                n.x = e / b,
                n.y = f / (a.length - 1),
                i.setXY(j, n.x, n.y),
                j++;
    for (e = 0; b > e; e++)
        for (f = 0; f < a.length - 1; f++)
            c = f + e * a.length,
                j = c + a.length,
                l = c + a.length + 1,
                m = c + 1,
                g.setX(k, c),
                k++,
                g.setX(k, j),
                k++,
                g.setX(k, m),
                k++,
                g.setX(k, j),
                k++,
                g.setX(k, l),
                k++,
                g.setX(k, m),
                k++;
    if (this.setIndex(g),
            this.addAttribute("position", h),
            this.addAttribute("uv", i),
            this.computeVertexNormals(),
        d === 2 * Math.PI)
        for (d = this.attributes.normal.array,
                 g = new THREE.Vector3,
                 h = new THREE.Vector3,
                 i = new THREE.Vector3,
                 c = b * a.length * 3,
                 f = e = 0; e < a.length; e++,
                 f += 3)
            g.x = d[f + 0],
                g.y = d[f + 1],
                g.z = d[f + 2],
                h.x = d[c + f + 0],
                h.y = d[c + f + 1],
                h.z = d[c + f + 2],
                i.addVectors(g, h).normalize(),
                d[f + 0] = d[c + f + 0] = i.x,
                d[f + 1] = d[c + f + 1] = i.y,
                d[f + 2] = d[c + f + 2] = i.z
}
,
THREE.LatheBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.LatheBufferGeometry.prototype.constructor = THREE.LatheBufferGeometry,
THREE.LatheGeometry = function(a, b, c, d) {
    THREE.Geometry.call(this),
        this.type = "LatheGeometry",
        this.parameters = {
            points: a,
            segments: b,
            phiStart: c,
            phiLength: d
        },
        this.fromBufferGeometry(new THREE.LatheBufferGeometry(a,b,c,d)),
        this.mergeVertices()
}
,
THREE.LatheGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.LatheGeometry.prototype.constructor = THREE.LatheGeometry,
THREE.PlaneGeometry = function(a, b, c, d) {
    THREE.Geometry.call(this),
        this.type = "PlaneGeometry",
        this.parameters = {
            width: a,
            height: b,
            widthSegments: c,
            heightSegments: d
        },
        this.fromBufferGeometry(new THREE.PlaneBufferGeometry(a,b,c,d))
}
,
THREE.PlaneGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.PlaneGeometry.prototype.constructor = THREE.PlaneGeometry,
THREE.PlaneBufferGeometry = function(a, b, c, d) {
    THREE.BufferGeometry.call(this),
        this.type = "PlaneBufferGeometry",
        this.parameters = {
            width: a,
            height: b,
            widthSegments: c,
            heightSegments: d
        };
    var e = a / 2
        , f = b / 2;
    c = Math.floor(c) || 1,
        d = Math.floor(d) || 1;
    var g = c + 1
        , h = d + 1
        , i = a / c
        , j = b / d;
    b = new Float32Array(g * h * 3),
        a = new Float32Array(g * h * 3);
    for (var k = new Float32Array(g * h * 2), l = 0, m = 0, n = 0; h > n; n++)
        for (var o = n * j - f, p = 0; g > p; p++)
            b[l] = p * i - e,
                b[l + 1] = -o,
                a[l + 2] = 1,
                k[m] = p / c,
                k[m + 1] = 1 - n / d,
                l += 3,
                m += 2;
    for (l = 0,
             e = new (65535 < b.length / 3 ? Uint32Array : Uint16Array)(c * d * 6),
             n = 0; d > n; n++)
        for (p = 0; c > p; p++)
            f = p + g * (n + 1),
                h = p + 1 + g * (n + 1),
                i = p + 1 + g * n,
                e[l] = p + g * n,
                e[l + 1] = f,
                e[l + 2] = i,
                e[l + 3] = f,
                e[l + 4] = h,
                e[l + 5] = i,
                l += 6;
    this.setIndex(new THREE.BufferAttribute(e,1)),
        this.addAttribute("position", new THREE.BufferAttribute(b,3)),
        this.addAttribute("normal", new THREE.BufferAttribute(a,3)),
        this.addAttribute("uv", new THREE.BufferAttribute(k,2))
}
,
THREE.PlaneBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.PlaneBufferGeometry.prototype.constructor = THREE.PlaneBufferGeometry,
THREE.RingBufferGeometry = function(a, b, c, d, e, f) {
    THREE.BufferGeometry.call(this),
        this.type = "RingBufferGeometry",
        this.parameters = {
            innerRadius: a,
            outerRadius: b,
            thetaSegments: c,
            phiSegments: d,
            thetaStart: e,
            thetaLength: f
        },
        a = a || 20,
        b = b || 50,
        e = void 0 !== e ? e : 0,
        f = void 0 !== f ? f : 2 * Math.PI,
        c = void 0 !== c ? Math.max(3, c) : 8,
        d = void 0 !== d ? Math.max(1, d) : 1;
    var g, h, i = (c + 1) * (d + 1), j = c * d * 6, j = new THREE.BufferAttribute(new (j > 65535 ? Uint32Array : Uint16Array)(j),1), k = new THREE.BufferAttribute(new Float32Array(3 * i),3), l = new THREE.BufferAttribute(new Float32Array(3 * i),3), i = new THREE.BufferAttribute(new Float32Array(2 * i),2), m = 0, n = 0, o = a, p = (b - a) / d, q = new THREE.Vector3, r = new THREE.Vector2;
    for (a = 0; d >= a; a++) {
        for (h = 0; c >= h; h++)
            g = e + h / c * f,
                q.x = o * Math.cos(g),
                q.y = o * Math.sin(g),
                k.setXYZ(m, q.x, q.y, q.z),
                l.setXYZ(m, 0, 0, 1),
                r.x = (q.x / b + 1) / 2,
                r.y = (q.y / b + 1) / 2,
                i.setXY(m, r.x, r.y),
                m++;
        o += p
    }
    for (a = 0; d > a; a++)
        for (b = a * (c + 1),
                 h = 0; c > h; h++)
            e = g = h + b,
                f = g + c + 1,
                m = g + c + 2,
                g += 1,
                j.setX(n, e),
                n++,
                j.setX(n, f),
                n++,
                j.setX(n, m),
                n++,
                j.setX(n, e),
                n++,
                j.setX(n, m),
                n++,
                j.setX(n, g),
                n++;
    this.setIndex(j),
        this.addAttribute("position", k),
        this.addAttribute("normal", l),
        this.addAttribute("uv", i)
}
,
THREE.RingBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.RingBufferGeometry.prototype.constructor = THREE.RingBufferGeometry,
THREE.RingGeometry = function(a, b, c, d, e, f) {
    THREE.Geometry.call(this),
        this.type = "RingGeometry",
        this.parameters = {
            innerRadius: a,
            outerRadius: b,
            thetaSegments: c,
            phiSegments: d,
            thetaStart: e,
            thetaLength: f
        },
        this.fromBufferGeometry(new THREE.RingBufferGeometry(a,b,c,d,e,f))
}
,
THREE.RingGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.RingGeometry.prototype.constructor = THREE.RingGeometry,
THREE.SphereGeometry = function(a, b, c, d, e, f, g) {
    THREE.Geometry.call(this),
        this.type = "SphereGeometry",
        this.parameters = {
            radius: a,
            widthSegments: b,
            heightSegments: c,
            phiStart: d,
            phiLength: e,
            thetaStart: f,
            thetaLength: g
        },
        this.fromBufferGeometry(new THREE.SphereBufferGeometry(a,b,c,d,e,f,g))
}
,
THREE.SphereGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.SphereGeometry.prototype.constructor = THREE.SphereGeometry,
THREE.SphereBufferGeometry = function(a, b, c, d, e, f, g) {
    THREE.BufferGeometry.call(this),
        this.type = "SphereBufferGeometry",
        this.parameters = {
            radius: a,
            widthSegments: b,
            heightSegments: c,
            phiStart: d,
            phiLength: e,
            thetaStart: f,
            thetaLength: g
        },
        a = a || 50,
        b = Math.max(3, Math.floor(b) || 8),
        c = Math.max(2, Math.floor(c) || 6),
        d = void 0 !== d ? d : 0,
        e = void 0 !== e ? e : 2 * Math.PI,
        f = void 0 !== f ? f : 0,
        g = void 0 !== g ? g : Math.PI;
    for (var h = f + g, i = (b + 1) * (c + 1), j = new THREE.BufferAttribute(new Float32Array(3 * i),3), k = new THREE.BufferAttribute(new Float32Array(3 * i),3), i = new THREE.BufferAttribute(new Float32Array(2 * i),2), l = 0, m = [], n = new THREE.Vector3, o = 0; c >= o; o++) {
        for (var p = [], q = o / c, r = 0; b >= r; r++) {
            var s = r / b
                , t = -a * Math.cos(d + s * e) * Math.sin(f + q * g)
                , u = a * Math.cos(f + q * g)
                , v = a * Math.sin(d + s * e) * Math.sin(f + q * g);
            n.set(t, u, v).normalize(),
                j.setXYZ(l, t, u, v),
                k.setXYZ(l, n.x, n.y, n.z),
                i.setXY(l, s, 1 - q),
                p.push(l),
                l++
        }
        m.push(p)
    }
    for (d = [],
             o = 0; c > o; o++)
        for (r = 0; b > r; r++)
            e = m[o][r + 1],
                g = m[o][r],
                l = m[o + 1][r],
                n = m[o + 1][r + 1],
            (0 !== o || f > 0) && d.push(e, g, n),
            (o !== c - 1 || h < Math.PI) && d.push(g, l, n);
    this.setIndex(new (65535 < j.count ? THREE.Uint32Attribute : THREE.Uint16Attribute)(d,1)),
        this.addAttribute("position", j),
        this.addAttribute("normal", k),
        this.addAttribute("uv", i),
        this.boundingSphere = new THREE.Sphere(new THREE.Vector3,a)
}
,
THREE.SphereBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.SphereBufferGeometry.prototype.constructor = THREE.SphereBufferGeometry,
THREE.TextGeometry = function(a, b) {
    b = b || {};
    var c = b.font;
    return 0 == c instanceof THREE.Font ? (console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),
        new THREE.Geometry) : (c = c.generateShapes(a, b.size, b.curveSegments),
        b.amount = void 0 !== b.height ? b.height : 50,
    void 0 === b.bevelThickness && (b.bevelThickness = 10),
    void 0 === b.bevelSize && (b.bevelSize = 8),
    void 0 === b.bevelEnabled && (b.bevelEnabled = !1),
        THREE.ExtrudeGeometry.call(this, c, b),
        void (this.type = "TextGeometry"))
}
,
THREE.TextGeometry.prototype = Object.create(THREE.ExtrudeGeometry.prototype),
THREE.TextGeometry.prototype.constructor = THREE.TextGeometry,
THREE.TorusBufferGeometry = function(a, b, c, d, e) {
    THREE.BufferGeometry.call(this),
        this.type = "TorusBufferGeometry",
        this.parameters = {
            radius: a,
            tube: b,
            radialSegments: c,
            tubularSegments: d,
            arc: e
        },
        a = a || 100,
        b = b || 40,
        c = Math.floor(c) || 8,
        d = Math.floor(d) || 6,
        e = e || 2 * Math.PI;
    var f, g, h = (c + 1) * (d + 1), i = c * d * 6, i = new (i > 65535 ? Uint32Array : Uint16Array)(i), j = new Float32Array(3 * h), k = new Float32Array(3 * h), h = new Float32Array(2 * h), l = 0, m = 0, n = 0, o = new THREE.Vector3, p = new THREE.Vector3, q = new THREE.Vector3;
    for (f = 0; c >= f; f++)
        for (g = 0; d >= g; g++) {
            var r = g / d * e
                , s = f / c * Math.PI * 2;
            p.x = (a + b * Math.cos(s)) * Math.cos(r),
                p.y = (a + b * Math.cos(s)) * Math.sin(r),
                p.z = b * Math.sin(s),
                j[l] = p.x,
                j[l + 1] = p.y,
                j[l + 2] = p.z,
                o.x = a * Math.cos(r),
                o.y = a * Math.sin(r),
                q.subVectors(p, o).normalize(),
                k[l] = q.x,
                k[l + 1] = q.y,
                k[l + 2] = q.z,
                h[m] = g / d,
                h[m + 1] = f / c,
                l += 3,
                m += 2
        }
    for (f = 1; c >= f; f++)
        for (g = 1; d >= g; g++)
            a = (d + 1) * (f - 1) + g - 1,
                b = (d + 1) * (f - 1) + g,
                e = (d + 1) * f + g,
                i[n] = (d + 1) * f + g - 1,
                i[n + 1] = a,
                i[n + 2] = e,
                i[n + 3] = a,
                i[n + 4] = b,
                i[n + 5] = e,
                n += 6;
    this.setIndex(new THREE.BufferAttribute(i,1)),
        this.addAttribute("position", new THREE.BufferAttribute(j,3)),
        this.addAttribute("normal", new THREE.BufferAttribute(k,3)),
        this.addAttribute("uv", new THREE.BufferAttribute(h,2))
}
,
THREE.TorusBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.TorusBufferGeometry.prototype.constructor = THREE.TorusBufferGeometry,
THREE.TorusGeometry = function(a, b, c, d, e) {
    THREE.Geometry.call(this),
        this.type = "TorusGeometry",
        this.parameters = {
            radius: a,
            tube: b,
            radialSegments: c,
            tubularSegments: d,
            arc: e
        },
        this.fromBufferGeometry(new THREE.TorusBufferGeometry(a,b,c,d,e))
}
,
THREE.TorusGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.TorusGeometry.prototype.constructor = THREE.TorusGeometry,
THREE.TorusKnotBufferGeometry = function(a, b, c, d, e, f) {
    function g(a, b, c, d, e) {
        var f = Math.cos(a)
            , g = Math.sin(a);
        a *= c / b,
            b = Math.cos(a),
            e.x = d * (2 + b) * .5 * f,
            e.y = d * (2 + b) * g * .5,
            e.z = d * Math.sin(a) * .5
    }
    THREE.BufferGeometry.call(this),
        this.type = "TorusKnotBufferGeometry",
        this.parameters = {
            radius: a,
            tube: b,
            tubularSegments: c,
            radialSegments: d,
            p: e,
            q: f
        },
        a = a || 100,
        b = b || 40,
        c = Math.floor(c) || 64,
        d = Math.floor(d) || 8,
        e = e || 2,
        f = f || 3;
    var h, i, j = (d + 1) * (c + 1), k = d * c * 6, k = new THREE.BufferAttribute(new (k > 65535 ? Uint32Array : Uint16Array)(k),1), l = new THREE.BufferAttribute(new Float32Array(3 * j),3), m = new THREE.BufferAttribute(new Float32Array(3 * j),3), j = new THREE.BufferAttribute(new Float32Array(2 * j),2), n = 0, o = 0, p = new THREE.Vector3, q = new THREE.Vector3, r = new THREE.Vector2, s = new THREE.Vector3, t = new THREE.Vector3, u = new THREE.Vector3, v = new THREE.Vector3, w = new THREE.Vector3;
    for (h = 0; c >= h; ++h)
        for (i = h / c * e * Math.PI * 2,
                 g(i, e, f, a, s),
                 g(i + .01, e, f, a, t),
                 v.subVectors(t, s),
                 w.addVectors(t, s),
                 u.crossVectors(v, w),
                 w.crossVectors(u, v),
                 u.normalize(),
                 w.normalize(),
                 i = 0; d >= i; ++i) {
            var x = i / d * Math.PI * 2
                , y = -b * Math.cos(x)
                , x = b * Math.sin(x);
            p.x = s.x + (y * w.x + x * u.x),
                p.y = s.y + (y * w.y + x * u.y),
                p.z = s.z + (y * w.z + x * u.z),
                l.setXYZ(n, p.x, p.y, p.z),
                q.subVectors(p, s).normalize(),
                m.setXYZ(n, q.x, q.y, q.z),
                r.x = h / c,
                r.y = i / d,
                j.setXY(n, r.x, r.y),
                n++
        }
    for (i = 1; c >= i; i++)
        for (h = 1; d >= h; h++)
            a = (d + 1) * i + (h - 1),
                b = (d + 1) * i + h,
                e = (d + 1) * (i - 1) + h,
                k.setX(o, (d + 1) * (i - 1) + (h - 1)),
                o++,
                k.setX(o, a),
                o++,
                k.setX(o, e),
                o++,
                k.setX(o, a),
                o++,
                k.setX(o, b),
                o++,
                k.setX(o, e),
                o++;
    this.setIndex(k),
        this.addAttribute("position", l),
        this.addAttribute("normal", m),
        this.addAttribute("uv", j)
}
,
THREE.TorusKnotBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.TorusKnotBufferGeometry.prototype.constructor = THREE.TorusKnotBufferGeometry,
THREE.TorusKnotGeometry = function(a, b, c, d, e, f, g) {
    THREE.Geometry.call(this),
        this.type = "TorusKnotGeometry",
        this.parameters = {
            radius: a,
            tube: b,
            tubularSegments: c,
            radialSegments: d,
            p: e,
            q: f
        },
    void 0 !== g && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),
        this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(a,b,c,d,e,f)),
        this.mergeVertices()
}
,
THREE.TorusKnotGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.TorusKnotGeometry.prototype.constructor = THREE.TorusKnotGeometry,
THREE.TubeGeometry = function(a, b, c, d, e, f) {
    THREE.Geometry.call(this),
        this.type = "TubeGeometry",
        this.parameters = {
            path: a,
            segments: b,
            radius: c,
            radialSegments: d,
            closed: e,
            taper: f
        },
        b = b || 64,
        c = c || 1,
        d = d || 8,
        e = e || !1,
        f = f || THREE.TubeGeometry.NoTaper;
    var g, h, i, j, k, l, m, n, o, p, q = [], r = b + 1, s = new THREE.Vector3;
    for (n = new THREE.TubeGeometry.FrenetFrames(a,b,e),
             o = n.normals,
             p = n.binormals,
             this.tangents = n.tangents,
             this.normals = o,
             this.binormals = p,
             n = 0; r > n; n++)
        for (q[n] = [],
                 i = n / (r - 1),
                 m = a.getPointAt(i),
                 g = o[n],
                 h = p[n],
                 k = c * f(i),
                 i = 0; d > i; i++)
            j = i / d * 2 * Math.PI,
                l = -k * Math.cos(j),
                j = k * Math.sin(j),
                s.copy(m),
                s.x += l * g.x + j * h.x,
                s.y += l * g.y + j * h.y,
                s.z += l * g.z + j * h.z,
                q[n][i] = this.vertices.push(new THREE.Vector3(s.x,s.y,s.z)) - 1;
    for (n = 0; b > n; n++)
        for (i = 0; d > i; i++)
            f = e ? (n + 1) % b : n + 1,
                r = (i + 1) % d,
                a = q[n][i],
                c = q[f][i],
                f = q[f][r],
                r = q[n][r],
                s = new THREE.Vector2(n / b,i / d),
                o = new THREE.Vector2((n + 1) / b,i / d),
                p = new THREE.Vector2((n + 1) / b,(i + 1) / d),
                g = new THREE.Vector2(n / b,(i + 1) / d),
                this.faces.push(new THREE.Face3(a,c,r)),
                this.faceVertexUvs[0].push([s, o, g]),
                this.faces.push(new THREE.Face3(c,f,r)),
                this.faceVertexUvs[0].push([o.clone(), p, g.clone()]);
    this.computeFaceNormals(),
        this.computeVertexNormals()
}
,
THREE.TubeGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.TubeGeometry.prototype.constructor = THREE.TubeGeometry,
THREE.TubeGeometry.NoTaper = function(a) {
    return 1
}
,
THREE.TubeGeometry.SinusoidalTaper = function(a) {
    return Math.sin(Math.PI * a)
}
,
THREE.TubeGeometry.FrenetFrames = function(a, b, c) {
    var d = new THREE.Vector3
        , e = []
        , f = []
        , g = []
        , h = new THREE.Vector3
        , i = new THREE.Matrix4;
    b += 1;
    var j, k, l;
    for (this.tangents = e,
             this.normals = f,
             this.binormals = g,
             j = 0; b > j; j++)
        k = j / (b - 1),
            e[j] = a.getTangentAt(k),
            e[j].normalize();
    for (f[0] = new THREE.Vector3,
             g[0] = new THREE.Vector3,
             a = Number.MAX_VALUE,
             j = Math.abs(e[0].x),
             k = Math.abs(e[0].y),
             l = Math.abs(e[0].z),
         a >= j && (a = j,
             d.set(1, 0, 0)),
         a >= k && (a = k,
             d.set(0, 1, 0)),
         a >= l && d.set(0, 0, 1),
             h.crossVectors(e[0], d).normalize(),
             f[0].crossVectors(e[0], h),
             g[0].crossVectors(e[0], f[0]),
             j = 1; b > j; j++)
        f[j] = f[j - 1].clone(),
            g[j] = g[j - 1].clone(),
            h.crossVectors(e[j - 1], e[j]),
        h.length() > Number.EPSILON && (h.normalize(),
            d = Math.acos(THREE.Math.clamp(e[j - 1].dot(e[j]), -1, 1)),
            f[j].applyMatrix4(i.makeRotationAxis(h, d))),
            g[j].crossVectors(e[j], f[j]);
    if (c)
        for (d = Math.acos(THREE.Math.clamp(f[0].dot(f[b - 1]), -1, 1)),
                 d /= b - 1,
             0 < e[0].dot(h.crossVectors(f[0], f[b - 1])) && (d = -d),
                 j = 1; b > j; j++)
            f[j].applyMatrix4(i.makeRotationAxis(e[j], d * j)),
                g[j].crossVectors(e[j], f[j])
}
,
THREE.PolyhedronGeometry = function(a, b, c, d) {
    function e(a) {
        var b = a.normalize().clone();
        b.index = i.vertices.push(b) - 1;
        var c = Math.atan2(a.z, -a.x) / 2 / Math.PI + .5;
        return a = Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5,
            b.uv = new THREE.Vector2(c,1 - a),
            b
    }
    function f(a, b, c, d) {
        d = new THREE.Face3(a.index,b.index,c.index,[a.clone(), b.clone(), c.clone()],void 0,d),
            i.faces.push(d),
            q.copy(a).add(b).add(c).divideScalar(3),
            d = Math.atan2(q.z, -q.x),
            i.faceVertexUvs[0].push([h(a.uv, a, d), h(b.uv, b, d), h(c.uv, c, d)])
    }
    function g(a, b) {
        for (var c = Math.pow(2, b), d = e(i.vertices[a.a]), g = e(i.vertices[a.b]), h = e(i.vertices[a.c]), j = [], k = a.materialIndex, l = 0; c >= l; l++) {
            j[l] = [];
            for (var m = e(d.clone().lerp(h, l / c)), n = e(g.clone().lerp(h, l / c)), o = c - l, p = 0; o >= p; p++)
                j[l][p] = 0 === p && l === c ? m : e(m.clone().lerp(n, p / o))
        }
        for (l = 0; c > l; l++)
            for (p = 0; 2 * (c - l) - 1 > p; p++)
                d = Math.floor(p / 2),
                    0 === p % 2 ? f(j[l][d + 1], j[l + 1][d], j[l][d], k) : f(j[l][d + 1], j[l + 1][d + 1], j[l + 1][d], k)
    }
    function h(a, b, c) {
        return 0 > c && 1 === a.x && (a = new THREE.Vector2(a.x - 1,a.y)),
        0 === b.x && 0 === b.z && (a = new THREE.Vector2(c / 2 / Math.PI + .5,a.y)),
            a.clone()
    }
    THREE.Geometry.call(this),
        this.type = "PolyhedronGeometry",
        this.parameters = {
            vertices: a,
            indices: b,
            radius: c,
            detail: d
        },
        c = c || 1,
        d = d || 0;
    for (var i = this, j = 0, k = a.length; k > j; j += 3)
        e(new THREE.Vector3(a[j],a[j + 1],a[j + 2]));
    a = this.vertices;
    for (var l = [], m = j = 0, k = b.length; k > j; j += 3,
        m++) {
        var n = a[b[j]]
            , o = a[b[j + 1]]
            , p = a[b[j + 2]];
        l[m] = new THREE.Face3(n.index,o.index,p.index,[n.clone(), o.clone(), p.clone()],void 0,m)
    }
    for (var q = new THREE.Vector3, j = 0, k = l.length; k > j; j++)
        g(l[j], d);
    for (j = 0,
             k = this.faceVertexUvs[0].length; k > j; j++)
        b = this.faceVertexUvs[0][j],
            d = b[0].x,
            a = b[1].x,
            l = b[2].x,
            m = Math.max(d, a, l),
            n = Math.min(d, a, l),
        m > .9 && .1 > n && (.2 > d && (b[0].x += 1),
        .2 > a && (b[1].x += 1),
        .2 > l && (b[2].x += 1));
    for (j = 0,
             k = this.vertices.length; k > j; j++)
        this.vertices[j].multiplyScalar(c);
    this.mergeVertices(),
        this.computeFaceNormals(),
        this.boundingSphere = new THREE.Sphere(new THREE.Vector3,c)
}
,
THREE.PolyhedronGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.PolyhedronGeometry.prototype.constructor = THREE.PolyhedronGeometry,
THREE.DodecahedronGeometry = function(a, b) {
    var c = (1 + Math.sqrt(5)) / 2
        , d = 1 / c;
    THREE.PolyhedronGeometry.call(this, [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -d, -c, 0, -d, c, 0, d, -c, 0, d, c, -d, -c, 0, -d, c, 0, d, -c, 0, d, c, 0, -c, 0, -d, c, 0, -d, -c, 0, d, c, 0, d], [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], a, b),
        this.type = "DodecahedronGeometry",
        this.parameters = {
            radius: a,
            detail: b
        }
}
,
THREE.DodecahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype),
THREE.DodecahedronGeometry.prototype.constructor = THREE.DodecahedronGeometry,
THREE.IcosahedronGeometry = function(a, b) {
    var c = (1 + Math.sqrt(5)) / 2;
    THREE.PolyhedronGeometry.call(this, [-1, c, 0, 1, c, 0, -1, -c, 0, 1, -c, 0, 0, -1, c, 0, 1, c, 0, -1, -c, 0, 1, -c, c, 0, -1, c, 0, 1, -c, 0, -1, -c, 0, 1], [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], a, b),
        this.type = "IcosahedronGeometry",
        this.parameters = {
            radius: a,
            detail: b
        }
}
,
THREE.IcosahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype),
THREE.IcosahedronGeometry.prototype.constructor = THREE.IcosahedronGeometry,
THREE.OctahedronGeometry = function(a, b) {
    THREE.PolyhedronGeometry.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], a, b),
        this.type = "OctahedronGeometry",
        this.parameters = {
            radius: a,
            detail: b
        }
}
,
THREE.OctahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype),
THREE.OctahedronGeometry.prototype.constructor = THREE.OctahedronGeometry,
THREE.TetrahedronGeometry = function(a, b) {
    THREE.PolyhedronGeometry.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], a, b),
        this.type = "TetrahedronGeometry",
        this.parameters = {
            radius: a,
            detail: b
        }
}
,
THREE.TetrahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype),
THREE.TetrahedronGeometry.prototype.constructor = THREE.TetrahedronGeometry,
THREE.ParametricGeometry = function(a, b, c) {
    THREE.Geometry.call(this),
        this.type = "ParametricGeometry",
        this.parameters = {
            func: a,
            slices: b,
            stacks: c
        };
    var d, e, f, g, h = this.vertices, i = this.faces, j = this.faceVertexUvs[0], k = b + 1;
    for (d = 0; c >= d; d++)
        for (g = d / c,
                 e = 0; b >= e; e++)
            f = e / b,
                f = a(f, g),
                h.push(f);
    var l, m, n, o;
    for (d = 0; c > d; d++)
        for (e = 0; b > e; e++)
            a = d * k + e,
                h = d * k + e + 1,
                g = (d + 1) * k + e + 1,
                f = (d + 1) * k + e,
                l = new THREE.Vector2(e / b,d / c),
                m = new THREE.Vector2((e + 1) / b,d / c),
                n = new THREE.Vector2((e + 1) / b,(d + 1) / c),
                o = new THREE.Vector2(e / b,(d + 1) / c),
                i.push(new THREE.Face3(a,h,f)),
                j.push([l, m, o]),
                i.push(new THREE.Face3(h,g,f)),
                j.push([m.clone(), n, o.clone()]);
    this.computeFaceNormals(),
        this.computeVertexNormals()
}
,
THREE.ParametricGeometry.prototype = Object.create(THREE.Geometry.prototype),
THREE.ParametricGeometry.prototype.constructor = THREE.ParametricGeometry,
THREE.WireframeGeometry = function(a) {
    function b(a, b) {
        return a - b
    }
    THREE.BufferGeometry.call(this);
    var c = [0, 0]
        , d = {}
        , e = ["a", "b", "c"];
    if (a instanceof THREE.Geometry) {
        var f = a.vertices
            , g = a.faces
            , h = 0
            , i = new Uint32Array(6 * g.length);
        a = 0;
        for (var j = g.length; j > a; a++)
            for (var k = g[a], l = 0; 3 > l; l++) {
                c[0] = k[e[l]],
                    c[1] = k[e[(l + 1) % 3]],
                    c.sort(b);
                var m = c.toString();
                void 0 === d[m] && (i[2 * h] = c[0],
                    i[2 * h + 1] = c[1],
                    d[m] = !0,
                    h++)
            }
        for (c = new Float32Array(6 * h),
                 a = 0,
                 j = h; j > a; a++)
            for (l = 0; 2 > l; l++)
                d = f[i[2 * a + l]],
                    h = 6 * a + 3 * l,
                    c[h + 0] = d.x,
                    c[h + 1] = d.y,
                    c[h + 2] = d.z;
        this.addAttribute("position", new THREE.BufferAttribute(c,3))
    } else if (a instanceof THREE.BufferGeometry) {
        if (null  !== a.index) {
            for (j = a.index.array,
                     f = a.attributes.position,
                     e = a.groups,
                     h = 0,
                 0 === e.length && a.addGroup(0, j.length),
                     i = new Uint32Array(2 * j.length),
                     g = 0,
                     k = e.length; k > g; ++g) {
                a = e[g],
                    l = a.start,
                    m = a.count,
                    a = l;
                for (var n = l + m; n > a; a += 3)
                    for (l = 0; 3 > l; l++)
                        c[0] = j[a + l],
                            c[1] = j[a + (l + 1) % 3],
                            c.sort(b),
                            m = c.toString(),
                        void 0 === d[m] && (i[2 * h] = c[0],
                            i[2 * h + 1] = c[1],
                            d[m] = !0,
                            h++)
            }
            for (c = new Float32Array(6 * h),
                     a = 0,
                     j = h; j > a; a++)
                for (l = 0; 2 > l; l++)
                    h = 6 * a + 3 * l,
                        d = i[2 * a + l],
                        c[h + 0] = f.getX(d),
                        c[h + 1] = f.getY(d),
                        c[h + 2] = f.getZ(d)
        } else
            for (f = a.attributes.position.array,
                     h = f.length / 3,
                     i = h / 3,
                     c = new Float32Array(6 * h),
                     a = 0,
                     j = i; j > a; a++)
                for (l = 0; 3 > l; l++)
                    h = 18 * a + 6 * l,
                        i = 9 * a + 3 * l,
                        c[h + 0] = f[i],
                        c[h + 1] = f[i + 1],
                        c[h + 2] = f[i + 2],
                        d = 9 * a + (l + 1) % 3 * 3,
                        c[h + 3] = f[d],
                        c[h + 4] = f[d + 1],
                        c[h + 5] = f[d + 2];
        this.addAttribute("position", new THREE.BufferAttribute(c,3))
    }
}
,
THREE.WireframeGeometry.prototype = Object.create(THREE.BufferGeometry.prototype),
THREE.WireframeGeometry.prototype.constructor = THREE.WireframeGeometry,
THREE.AxisHelper = function(a) {
    a = a || 1;
    var b = new Float32Array([0, 0, 0, a, 0, 0, 0, 0, 0, 0, a, 0, 0, 0, 0, 0, 0, a])
        , c = new Float32Array([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1]);
    a = new THREE.BufferGeometry,
        a.addAttribute("position", new THREE.BufferAttribute(b,3)),
        a.addAttribute("color", new THREE.BufferAttribute(c,3)),
        b = new THREE.LineBasicMaterial({
            vertexColors: THREE.VertexColors
        }),
        THREE.LineSegments.call(this, a, b)
}
,
THREE.AxisHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.AxisHelper.prototype.constructor = THREE.AxisHelper,
THREE.ArrowHelper = function() {
    var a = new THREE.BufferGeometry;
    a.addAttribute("position", new THREE.Float32Attribute([0, 0, 0, 0, 1, 0],3));
    var b = new THREE.CylinderBufferGeometry(0,.5,1,5,1);
    return b.translate(0, -.5, 0),
        function(c, d, e, f, g, h) {
            THREE.Object3D.call(this),
            void 0 === f && (f = 16776960),
            void 0 === e && (e = 1),
            void 0 === g && (g = .2 * e),
            void 0 === h && (h = .2 * g),
                this.position.copy(d),
                this.line = new THREE.Line(a,new THREE.LineBasicMaterial({
                    color: f
                })),
                this.line.matrixAutoUpdate = !1,
                this.add(this.line),
                this.cone = new THREE.Mesh(b,new THREE.MeshBasicMaterial({
                    color: f
                })),
                this.cone.matrixAutoUpdate = !1,
                this.add(this.cone),
                this.setDirection(c),
                this.setLength(e, g, h)
        }
}(),
THREE.ArrowHelper.prototype = Object.create(THREE.Object3D.prototype),
THREE.ArrowHelper.prototype.constructor = THREE.ArrowHelper,
THREE.ArrowHelper.prototype.setDirection = function() {
    var a, b = new THREE.Vector3;
    return function(c) {
        .99999 < c.y ? this.quaternion.set(0, 0, 0, 1) : -.99999 > c.y ? this.quaternion.set(1, 0, 0, 0) : (b.set(c.z, 0, -c.x).normalize(),
            a = Math.acos(c.y),
            this.quaternion.setFromAxisAngle(b, a))
    }
}(),
THREE.ArrowHelper.prototype.setLength = function(a, b, c) {
    void 0 === b && (b = .2 * a),
    void 0 === c && (c = .2 * b),
        this.line.scale.set(1, Math.max(0, a - b), 1),
        this.line.updateMatrix(),
        this.cone.scale.set(c, b, c),
        this.cone.position.y = a,
        this.cone.updateMatrix()
}
,
THREE.ArrowHelper.prototype.setColor = function(a) {
    this.line.material.color.copy(a),
        this.cone.material.color.copy(a)
}
,
THREE.BoxHelper = function(a) {
    var b = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7])
        , c = new Float32Array(24)
        , d = new THREE.BufferGeometry;
    d.setIndex(new THREE.BufferAttribute(b,1)),
        d.addAttribute("position", new THREE.BufferAttribute(c,3)),
        THREE.LineSegments.call(this, d, new THREE.LineBasicMaterial({
            color: 16776960
        })),
    void 0 !== a && this.update(a)
}
,
THREE.BoxHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.BoxHelper.prototype.constructor = THREE.BoxHelper,
THREE.BoxHelper.prototype.update = function() {
    var a = new THREE.Box3;
    return function(b) {
        if (b instanceof THREE.Box3 ? a.copy(b) : a.setFromObject(b),
                !a.isEmpty()) {
            b = a.min;
            var c = a.max
                , d = this.geometry.attributes.position
                , e = d.array;
            e[0] = c.x,
                e[1] = c.y,
                e[2] = c.z,
                e[3] = b.x,
                e[4] = c.y,
                e[5] = c.z,
                e[6] = b.x,
                e[7] = b.y,
                e[8] = c.z,
                e[9] = c.x,
                e[10] = b.y,
                e[11] = c.z,
                e[12] = c.x,
                e[13] = c.y,
                e[14] = b.z,
                e[15] = b.x,
                e[16] = c.y,
                e[17] = b.z,
                e[18] = b.x,
                e[19] = b.y,
                e[20] = b.z,
                e[21] = c.x,
                e[22] = b.y,
                e[23] = b.z,
                d.needsUpdate = !0,
                this.geometry.computeBoundingSphere()
        }
    }
}(),
THREE.BoundingBoxHelper = function(a, b) {
    var c = void 0 !== b ? b : 8947848;
    this.object = a,
        this.box = new THREE.Box3,
        THREE.Mesh.call(this, new THREE.BoxGeometry(1,1,1), new THREE.MeshBasicMaterial({
            color: c,
            wireframe: !0
        }))
}
,
THREE.BoundingBoxHelper.prototype = Object.create(THREE.Mesh.prototype),
THREE.BoundingBoxHelper.prototype.constructor = THREE.BoundingBoxHelper,
THREE.BoundingBoxHelper.prototype.update = function() {
    this.box.setFromObject(this.object),
        this.box.size(this.scale),
        this.box.center(this.position)
}
,
THREE.CameraHelper = function(a) {
    function b(a, b, d) {
        c(a, d),
            c(b, d)
    }
    function c(a, b) {
        d.vertices.push(new THREE.Vector3),
            d.colors.push(new THREE.Color(b)),
        void 0 === f[a] && (f[a] = []),
            f[a].push(d.vertices.length - 1)
    }
    var d = new THREE.Geometry
        , e = new THREE.LineBasicMaterial({
        color: 16777215,
        vertexColors: THREE.FaceColors
    })
        , f = {};
    b("n1", "n2", 16755200),
        b("n2", "n4", 16755200),
        b("n4", "n3", 16755200),
        b("n3", "n1", 16755200),
        b("f1", "f2", 16755200),
        b("f2", "f4", 16755200),
        b("f4", "f3", 16755200),
        b("f3", "f1", 16755200),
        b("n1", "f1", 16755200),
        b("n2", "f2", 16755200),
        b("n3", "f3", 16755200),
        b("n4", "f4", 16755200),
        b("p", "n1", 16711680),
        b("p", "n2", 16711680),
        b("p", "n3", 16711680),
        b("p", "n4", 16711680),
        b("u1", "u2", 43775),
        b("u2", "u3", 43775),
        b("u3", "u1", 43775),
        b("c", "t", 16777215),
        b("p", "c", 3355443),
        b("cn1", "cn2", 3355443),
        b("cn3", "cn4", 3355443),
        b("cf1", "cf2", 3355443),
        b("cf3", "cf4", 3355443),
        THREE.LineSegments.call(this, d, e),
        this.camera = a,
        this.camera.updateProjectionMatrix(),
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.pointMap = f,
        this.update()
}
,
THREE.CameraHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.CameraHelper.prototype.constructor = THREE.CameraHelper,
THREE.CameraHelper.prototype.update = function() {
    function a(a, f, g, h) {
        if (d.set(f, g, h).unproject(e),
                a = c[a],
            void 0 !== a)
            for (f = 0,
                     g = a.length; g > f; f++)
                b.vertices[a[f]].copy(d)
    }
    var b, c, d = new THREE.Vector3, e = new THREE.Camera;
    return function() {
        b = this.geometry,
            c = this.pointMap,
            e.projectionMatrix.copy(this.camera.projectionMatrix),
            a("c", 0, 0, -1),
            a("t", 0, 0, 1),
            a("n1", -1, -1, -1),
            a("n2", 1, -1, -1),
            a("n3", -1, 1, -1),
            a("n4", 1, 1, -1),
            a("f1", -1, -1, 1),
            a("f2", 1, -1, 1),
            a("f3", -1, 1, 1),
            a("f4", 1, 1, 1),
            a("u1", .7, 1.1, -1),
            a("u2", -.7, 1.1, -1),
            a("u3", 0, 2, -1),
            a("cf1", -1, 0, 1),
            a("cf2", 1, 0, 1),
            a("cf3", 0, -1, 1),
            a("cf4", 0, 1, 1),
            a("cn1", -1, 0, -1),
            a("cn2", 1, 0, -1),
            a("cn3", 0, -1, -1),
            a("cn4", 0, 1, -1),
            b.verticesNeedUpdate = !0
    }
}(),
THREE.DirectionalLightHelper = function(a, b) {
    THREE.Object3D.call(this),
        this.light = a,
        this.light.updateMatrixWorld(),
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1,
    void 0 === b && (b = 1);
    var c = new THREE.BufferGeometry;
    c.addAttribute("position", new THREE.Float32Attribute([-b, b, 0, b, b, 0, b, -b, 0, -b, -b, 0, -b, b, 0],3));
    var d = new THREE.LineBasicMaterial({
        fog: !1
    });
    this.add(new THREE.Line(c,d)),
        c = new THREE.BufferGeometry,
        c.addAttribute("position", new THREE.Float32Attribute([0, 0, 0, 0, 0, 1],3)),
        this.add(new THREE.Line(c,d)),
        this.update()
}
,
THREE.DirectionalLightHelper.prototype = Object.create(THREE.Object3D.prototype),
THREE.DirectionalLightHelper.prototype.constructor = THREE.DirectionalLightHelper,
THREE.DirectionalLightHelper.prototype.dispose = function() {
    var a = this.children[0]
        , b = this.children[1];
    a.geometry.dispose(),
        a.material.dispose(),
        b.geometry.dispose(),
        b.material.dispose()
}
,
THREE.DirectionalLightHelper.prototype.update = function() {
    var a = new THREE.Vector3
        , b = new THREE.Vector3
        , c = new THREE.Vector3;
    return function() {
        a.setFromMatrixPosition(this.light.matrixWorld),
            b.setFromMatrixPosition(this.light.target.matrixWorld),
            c.subVectors(b, a);
        var d = this.children[0]
            , e = this.children[1];
        d.lookAt(c),
            d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),
            e.lookAt(c),
            e.scale.z = c.length()
    }
}(),
THREE.EdgesHelper = function(a, b, c) {
    b = void 0 !== b ? b : 16777215,
        THREE.LineSegments.call(this, new THREE.EdgesGeometry(a.geometry,c), new THREE.LineBasicMaterial({
            color: b
        })),
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1
}
,
THREE.EdgesHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.EdgesHelper.prototype.constructor = THREE.EdgesHelper,
THREE.FaceNormalsHelper = function(a, b, c, d) {
    this.object = a,
        this.size = void 0 !== b ? b : 1,
        a = void 0 !== c ? c : 16776960,
        d = void 0 !== d ? d : 1,
        b = 0,
        c = this.object.geometry,
        c instanceof THREE.Geometry ? b = c.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),
        c = new THREE.BufferGeometry,
        b = new THREE.Float32Attribute(6 * b,3),
        c.addAttribute("position", b),
        THREE.LineSegments.call(this, c, new THREE.LineBasicMaterial({
            color: a,
            linewidth: d
        })),
        this.matrixAutoUpdate = !1,
        this.update()
}
,
THREE.FaceNormalsHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.FaceNormalsHelper.prototype.constructor = THREE.FaceNormalsHelper,
THREE.FaceNormalsHelper.prototype.update = function() {
    var a = new THREE.Vector3
        , b = new THREE.Vector3
        , c = new THREE.Matrix3;
    return function() {
        this.object.updateMatrixWorld(!0),
            c.getNormalMatrix(this.object.matrixWorld);
        for (var d = this.object.matrixWorld, e = this.geometry.attributes.position, f = this.object.geometry, g = f.vertices, f = f.faces, h = 0, i = 0, j = f.length; j > i; i++) {
            var k = f[i]
                , l = k.normal;
            a.copy(g[k.a]).add(g[k.b]).add(g[k.c]).divideScalar(3).applyMatrix4(d),
                b.copy(l).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),
                e.setXYZ(h, a.x, a.y, a.z),
                h += 1,
                e.setXYZ(h, b.x, b.y, b.z),
                h += 1
        }
        return e.needsUpdate = !0,
            this
    }
}(),
THREE.GridHelper = function(a, b, c, d) {
    c = new THREE.Color(void 0 !== c ? c : 4473924),
        d = new THREE.Color(void 0 !== d ? d : 8947848);
    for (var e = [], f = [], g = -a, h = 0; a >= g; g += b) {
        e.push(-a, 0, g, a, 0, g),
            e.push(g, 0, -a, g, 0, a);
        var i = 0 === g ? c : d;
        i.toArray(f, h),
            h += 3,
            i.toArray(f, h),
            h += 3,
            i.toArray(f, h),
            h += 3,
            i.toArray(f, h),
            h += 3
    }
    a = new THREE.BufferGeometry,
        a.addAttribute("position", new THREE.Float32Attribute(e,3)),
        a.addAttribute("color", new THREE.Float32Attribute(f,3)),
        e = new THREE.LineBasicMaterial({
            vertexColors: THREE.VertexColors
        }),
        THREE.LineSegments.call(this, a, e)
}
,
THREE.GridHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.GridHelper.prototype.constructor = THREE.GridHelper,
THREE.GridHelper.prototype.setColors = function() {
    console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
}
,
THREE.HemisphereLightHelper = function(a, b) {
    THREE.Object3D.call(this),
        this.light = a,
        this.light.updateMatrixWorld(),
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.colors = [new THREE.Color, new THREE.Color];
    var c = new THREE.SphereGeometry(b,4,2);
    c.rotateX(-Math.PI / 2);
    for (var d = 0; 8 > d; d++)
        c.faces[d].color = this.colors[4 > d ? 0 : 1];
    d = new THREE.MeshBasicMaterial({
        vertexColors: THREE.FaceColors,
        wireframe: !0
    }),
        this.lightSphere = new THREE.Mesh(c,d),
        this.add(this.lightSphere),
        this.update()
}
,
THREE.HemisphereLightHelper.prototype = Object.create(THREE.Object3D.prototype),
THREE.HemisphereLightHelper.prototype.constructor = THREE.HemisphereLightHelper,
THREE.HemisphereLightHelper.prototype.dispose = function() {
    this.lightSphere.geometry.dispose(),
        this.lightSphere.material.dispose()
}
,
THREE.HemisphereLightHelper.prototype.update = function() {
    var a = new THREE.Vector3;
    return function() {
        this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),
            this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),
            this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate()),
            this.lightSphere.geometry.colorsNeedUpdate = !0
    }
}(),
THREE.PointLightHelper = function(a, b) {
    this.light = a,
        this.light.updateMatrixWorld();
    var c = new THREE.SphereBufferGeometry(b,4,2)
        , d = new THREE.MeshBasicMaterial({
        wireframe: !0,
        fog: !1
    });
    d.color.copy(this.light.color).multiplyScalar(this.light.intensity),
        THREE.Mesh.call(this, c, d),
        this.matrix = this.light.matrixWorld,
        this.matrixAutoUpdate = !1
}
,
THREE.PointLightHelper.prototype = Object.create(THREE.Mesh.prototype),
THREE.PointLightHelper.prototype.constructor = THREE.PointLightHelper,
THREE.PointLightHelper.prototype.dispose = function() {
    this.geometry.dispose(),
        this.material.dispose()
}
,
THREE.PointLightHelper.prototype.update = function() {
    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
}
,
THREE.SkeletonHelper = function(a) {
    this.bones = this.getBoneList(a);
    for (var b = new THREE.Geometry, c = 0; c < this.bones.length; c++)
        this.bones[c].parent instanceof THREE.Bone && (b.vertices.push(new THREE.Vector3),
            b.vertices.push(new THREE.Vector3),
            b.colors.push(new THREE.Color(0,0,1)),
            b.colors.push(new THREE.Color(0,1,0)));
    b.dynamic = !0,
        c = new THREE.LineBasicMaterial({
            vertexColors: THREE.VertexColors,
            depthTest: !1,
            depthWrite: !1,
            transparent: !0
        }),
        THREE.LineSegments.call(this, b, c),
        this.root = a,
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.update()
}
,
THREE.SkeletonHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.SkeletonHelper.prototype.constructor = THREE.SkeletonHelper,
THREE.SkeletonHelper.prototype.getBoneList = function(a) {
    var b = [];
    a instanceof THREE.Bone && b.push(a);
    for (var c = 0; c < a.children.length; c++)
        b.push.apply(b, this.getBoneList(a.children[c]));
    return b
}
,
THREE.SkeletonHelper.prototype.update = function() {
    for (var a = this.geometry, b = (new THREE.Matrix4).getInverse(this.root.matrixWorld), c = new THREE.Matrix4, d = 0, e = 0; e < this.bones.length; e++) {
        var f = this.bones[e];
        f.parent instanceof THREE.Bone && (c.multiplyMatrices(b, f.matrixWorld),
            a.vertices[d].setFromMatrixPosition(c),
            c.multiplyMatrices(b, f.parent.matrixWorld),
            a.vertices[d + 1].setFromMatrixPosition(c),
            d += 2)
    }
    a.verticesNeedUpdate = !0,
        a.computeBoundingSphere()
}
,
THREE.SpotLightHelper = function(a) {
    THREE.Object3D.call(this),
        this.light = a,
        this.light.updateMatrixWorld(),
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1,
        a = new THREE.BufferGeometry;
    for (var b = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], c = 0, d = 1; 32 > c; c++,
        d++) {
        var e = c / 32 * Math.PI * 2
            , f = d / 32 * Math.PI * 2;
        b.push(Math.cos(e), Math.sin(e), 1, Math.cos(f), Math.sin(f), 1)
    }
    a.addAttribute("position", new THREE.Float32Attribute(b,3)),
        b = new THREE.LineBasicMaterial({
            fog: !1
        }),
        this.cone = new THREE.LineSegments(a,b),
        this.add(this.cone),
        this.update()
}
,
THREE.SpotLightHelper.prototype = Object.create(THREE.Object3D.prototype),
THREE.SpotLightHelper.prototype.constructor = THREE.SpotLightHelper,
THREE.SpotLightHelper.prototype.dispose = function() {
    this.cone.geometry.dispose(),
        this.cone.material.dispose()
}
,
THREE.SpotLightHelper.prototype.update = function() {
    var a = new THREE.Vector3
        , b = new THREE.Vector3;
    return function() {
        var c = this.light.distance ? this.light.distance : 1e3
            , d = c * Math.tan(this.light.angle);
        this.cone.scale.set(d, d, c),
            a.setFromMatrixPosition(this.light.matrixWorld),
            b.setFromMatrixPosition(this.light.target.matrixWorld),
            this.cone.lookAt(b.sub(a)),
            this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
    }
}(),
THREE.VertexNormalsHelper = function(a, b, c, d) {
    this.object = a,
        this.size = void 0 !== b ? b : 1,
        a = void 0 !== c ? c : 16711680,
        d = void 0 !== d ? d : 1,
        b = 0,
        c = this.object.geometry,
        c instanceof THREE.Geometry ? b = 3 * c.faces.length : c instanceof THREE.BufferGeometry && (b = c.attributes.normal.count),
        c = new THREE.BufferGeometry,
        b = new THREE.Float32Attribute(6 * b,3),
        c.addAttribute("position", b),
        THREE.LineSegments.call(this, c, new THREE.LineBasicMaterial({
            color: a,
            linewidth: d
        })),
        this.matrixAutoUpdate = !1,
        this.update()
}
,
THREE.VertexNormalsHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.VertexNormalsHelper.prototype.constructor = THREE.VertexNormalsHelper,
THREE.VertexNormalsHelper.prototype.update = function() {
    var a = new THREE.Vector3
        , b = new THREE.Vector3
        , c = new THREE.Matrix3;
    return function() {
        var d = ["a", "b", "c"];
        this.object.updateMatrixWorld(!0),
            c.getNormalMatrix(this.object.matrixWorld);
        var e = this.object.matrixWorld
            , f = this.geometry.attributes.position
            , g = this.object.geometry;
        if (g instanceof THREE.Geometry)
            for (var h = g.vertices, i = g.faces, j = g = 0, k = i.length; k > j; j++)
                for (var l = i[j], m = 0, n = l.vertexNormals.length; n > m; m++) {
                    var o = l.vertexNormals[m];
                    a.copy(h[l[d[m]]]).applyMatrix4(e),
                        b.copy(o).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),
                        f.setXYZ(g, a.x, a.y, a.z),
                        g += 1,
                        f.setXYZ(g, b.x, b.y, b.z),
                        g += 1
                }
        else if (g instanceof THREE.BufferGeometry)
            for (d = g.attributes.position,
                     h = g.attributes.normal,
                     m = g = 0,
                     n = d.count; n > m; m++)
                a.set(d.getX(m), d.getY(m), d.getZ(m)).applyMatrix4(e),
                    b.set(h.getX(m), h.getY(m), h.getZ(m)),
                    b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),
                    f.setXYZ(g, a.x, a.y, a.z),
                    g += 1,
                    f.setXYZ(g, b.x, b.y, b.z),
                    g += 1;
        return f.needsUpdate = !0,
            this
    }
}(),
THREE.WireframeHelper = function(a, b) {
    var c = void 0 !== b ? b : 16777215;
    THREE.LineSegments.call(this, new THREE.WireframeGeometry(a.geometry), new THREE.LineBasicMaterial({
        color: c
    })),
        this.matrix = a.matrixWorld,
        this.matrixAutoUpdate = !1
}
,
THREE.WireframeHelper.prototype = Object.create(THREE.LineSegments.prototype),
THREE.WireframeHelper.prototype.constructor = THREE.WireframeHelper,
THREE.ImmediateRenderObject = function(a) {
    THREE.Object3D.call(this),
        this.material = a,
        this.render = function(a) {}
}
,
THREE.ImmediateRenderObject.prototype = Object.create(THREE.Object3D.prototype),
THREE.ImmediateRenderObject.prototype.constructor = THREE.ImmediateRenderObject,
THREE.MorphBlendMesh = function(a, b) {
    THREE.Mesh.call(this, a, b),
        this.animationsMap = {},
        this.animationsList = [];
    var c = this.geometry.morphTargets.length;
    this.createAnimation("__default", 0, c - 1, c / 1),
        this.setAnimationWeight("__default", 1)
}
,
THREE.MorphBlendMesh.prototype = Object.create(THREE.Mesh.prototype),
THREE.MorphBlendMesh.prototype.constructor = THREE.MorphBlendMesh,
THREE.MorphBlendMesh.prototype.createAnimation = function(a, b, c, d) {
    b = {
        start: b,
        end: c,
        length: c - b + 1,
        fps: d,
        duration: (c - b) / d,
        lastFrame: 0,
        currentFrame: 0,
        active: !1,
        time: 0,
        direction: 1,
        weight: 1,
        directionBackwards: !1,
        mirroredLoop: !1
    },
        this.animationsMap[a] = b,
        this.animationsList.push(b)
}
,
THREE.MorphBlendMesh.prototype.autoCreateAnimations = function(a) {
    for (var b, c = /([a-z]+)_?(\d+)/i, d = {}, e = this.geometry, f = 0, g = e.morphTargets.length; g > f; f++) {
        var h = e.morphTargets[f].name.match(c);
        if (h && 1 < h.length) {
            var i = h[1];
            d[i] || (d[i] = {
                start: 1 / 0,
                end: -(1 / 0)
            }),
                h = d[i],
            f < h.start && (h.start = f),
            f > h.end && (h.end = f),
            b || (b = i)
        }
    }
    for (i in d)
        h = d[i],
            this.createAnimation(i, h.start, h.end, a);
    this.firstAnimation = b
}
,
THREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function(a) {
    (a = this.animationsMap[a]) && (a.direction = 1,
        a.directionBackwards = !1)
}
,
THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function(a) {
    (a = this.animationsMap[a]) && (a.direction = -1,
        a.directionBackwards = !0)
}
,
THREE.MorphBlendMesh.prototype.setAnimationFPS = function(a, b) {
    var c = this.animationsMap[a];
    c && (c.fps = b,
        c.duration = (c.end - c.start) / c.fps)
}
,
THREE.MorphBlendMesh.prototype.setAnimationDuration = function(a, b) {
    var c = this.animationsMap[a];
    c && (c.duration = b,
        c.fps = (c.end - c.start) / c.duration)
}
,
THREE.MorphBlendMesh.prototype.setAnimationWeight = function(a, b) {
    var c = this.animationsMap[a];
    c && (c.weight = b)
}
,
THREE.MorphBlendMesh.prototype.setAnimationTime = function(a, b) {
    var c = this.animationsMap[a];
    c && (c.time = b)
}
,
THREE.MorphBlendMesh.prototype.getAnimationTime = function(a) {
    var b = 0;
    return (a = this.animationsMap[a]) && (b = a.time),
        b
}
,
THREE.MorphBlendMesh.prototype.getAnimationDuration = function(a) {
    var b = -1;
    return (a = this.animationsMap[a]) && (b = a.duration),
        b
}
,
THREE.MorphBlendMesh.prototype.playAnimation = function(a) {
    var b = this.animationsMap[a];
    b ? (b.time = 0,
        b.active = !0) : console.warn("THREE.MorphBlendMesh: animation[" + a + "] undefined in .playAnimation()")
}
,
THREE.MorphBlendMesh.prototype.stopAnimation = function(a) {
    (a = this.animationsMap[a]) && (a.active = !1)
}
,
THREE.MorphBlendMesh.prototype.update = function(a) {
    for (var b = 0, c = this.animationsList.length; c > b; b++) {
        var d = this.animationsList[b];
        if (d.active) {
            var e = d.duration / d.length;
            d.time += d.direction * a,
                d.mirroredLoop ? (d.time > d.duration || 0 > d.time) && (d.direction *= -1,
                d.time > d.duration && (d.time = d.duration,
                    d.directionBackwards = !0),
                0 > d.time && (d.time = 0,
                    d.directionBackwards = !1)) : (d.time %= d.duration,
                0 > d.time && (d.time += d.duration));
            var f = d.start + THREE.Math.clamp(Math.floor(d.time / e), 0, d.length - 1)
                , g = d.weight;
            f !== d.currentFrame && (this.morphTargetInfluences[d.lastFrame] = 0,
                this.morphTargetInfluences[d.currentFrame] = 1 * g,
                this.morphTargetInfluences[f] = 0,
                d.lastFrame = d.currentFrame,
                d.currentFrame = f),
                e = d.time % e / e,
            d.directionBackwards && (e = 1 - e),
                d.currentFrame !== d.lastFrame ? (this.morphTargetInfluences[d.currentFrame] = e * g,
                    this.morphTargetInfluences[d.lastFrame] = (1 - e) * g) : this.morphTargetInfluences[d.currentFrame] = g
        }
    }
}
,
THREE.ShaderLib.sky = {
    uniforms: {
        luminance: {
            type: "f",
            value: 1
        },
        turbidity: {
            type: "f",
            value: 2
        },
        reileigh: {
            type: "f",
            value: 1
        },
        mieCoefficient: {
            type: "f",
            value: .005
        },
        mieDirectionalG: {
            type: "f",
            value: .8
        },
        sunPosition: {
            type: "v3",
            value: new THREE.Vector3
        }
    },
    vertexShader: ["varying vec3 vWorldPosition;", "void main() {", "vec4 worldPosition = modelMatrix * vec4( position, 1.0 );", "vWorldPosition = worldPosition.xyz;", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
    fragmentShader: ["uniform sampler2D skySampler;", "uniform vec3 sunPosition;", "varying vec3 vWorldPosition;", "vec3 cameraPos = vec3(0., 0., 0.);", "// uniform sampler2D sDiffuse;", "// const float turbidity = 10.0; //", "// const float reileigh = 2.; //", "// const float luminance = 1.0; //", "// const float mieCoefficient = 0.005;", "// const float mieDirectionalG = 0.8;", "uniform float luminance;", "uniform float turbidity;", "uniform float reileigh;", "uniform float mieCoefficient;", "uniform float mieDirectionalG;", "// constants for atmospheric scattering", "const float e = 2.71828182845904523536028747135266249775724709369995957;", "const float pi = 3.141592653589793238462643383279502884197169;", "const float n = 1.0003; // refractive index of air", "const float N = 2.545E25; // number of molecules per unit volume for air at", "// 288.15K and 1013mb (sea level -45 celsius)", "const float pn = 0.035;\t// depolatization factor for standard air", "// wavelength of used primaries, according to preetham", "const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);", "// mie stuff", "// K coefficient for the primaries", "const vec3 K = vec3(0.686, 0.678, 0.666);", "const float v = 4.0;", "// optical length at zenith for molecules", "const float rayleighZenithLength = 8.4E3;", "const float mieZenithLength = 1.25E3;", "const vec3 up = vec3(0.0, 1.0, 0.0);", "const float EE = 1000.0;", "const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;", "// 66 arc seconds -> degrees, and the cosine of that", "// planet shadow hack", "const float cutoffAngle = pi/1.95;", "const float steepness = 1.5;", "vec3 totalRayleigh(vec3 lambda)", "{", "return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));", "}", "// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE", "vec3 simplifiedRayleigh()", "{", "return 0.0005 / vec3(94, 40, 18);", "}", "float rayleighPhase(float cosTheta)", "{\t ", "return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));", "//\treturn (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));", "//\treturn (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));", "}", "vec3 totalMie(vec3 lambda, vec3 K, float T)", "{", "float c = (0.2 * T ) * 10E-18;", "return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;", "}", "float hgPhase(float cosTheta, float g)", "{", "return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));", "}", "float sunIntensity(float zenithAngleCos)", "{", "return EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));", "}", "// float logLuminance(vec3 c)", "// {", "// \treturn log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);", "// }", "// Filmic ToneMapping http://filmicgames.com/archives/75", "float A = 0.15;", "float B = 0.50;", "float C = 0.10;", "float D = 0.20;", "float E = 0.02;", "float F = 0.30;", "float W = 1000.0;", "vec3 Uncharted2Tonemap(vec3 x)", "{", "return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;", "}", "void main() ", "{", "float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);", "// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;", "// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);", "float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));", "vec3 sunDirection = normalize(sunPosition);", "float sunE = sunIntensity(dot(sunDirection, up));", "// extinction (absorbtion + out scattering) ", "// rayleigh coefficients", "vec3 betaR = simplifiedRayleigh() * reileighCoefficient;", "// mie coefficients", "vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;", "// optical length", "// cutoff angle at 90 to avoid singularity in next formula.", "float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));", "float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));", "float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));", "// combined extinction factor\t", "vec3 Fex = exp(-(betaR * sR + betaM * sM));", "// in scattering", "float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);", "float rPhase = rayleighPhase(cosTheta*0.5+0.5);", "vec3 betaRTheta = betaR * rPhase;", "float mPhase = hgPhase(cosTheta, mieDirectionalG);", "vec3 betaMTheta = betaM * mPhase;", "vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));", "Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));", "//nightsky", "vec3 direction = normalize(vWorldPosition - cameraPos);", "float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]", "float phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]", "vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);", "// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;", "vec3 L0 = vec3(0.1) * Fex;", "// composition + solar disc", "//if (cosTheta > sunAngularDiameterCos)", "float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);", "// if (normalize(vWorldPosition - cameraPos).y>0.0)", "L0 += (sunE * 19000.0 * Fex)*sundisk;", "vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));", "vec3 texColor = (Lin+L0);   ", "texColor *= 0.04 ;", "texColor += vec3(0.0,0.001,0.0025)*0.3;", "float g_fMaxLuminance = 1.0;", "float fLumScaled = 0.1 / luminance;     ", "float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ", "float ExposureBias = fLumCompressed;", "vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);", "vec3 color = curr*whiteScale;", "vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));", "gl_FragColor.rgb = retColor;", "gl_FragColor.a = 1.0;", "}"].join("\n")
},
THREE.Sky = function() {
    var a = THREE.ShaderLib.sky
        , b = THREE.UniformsUtils.clone(a.uniforms)
        , c = new THREE.ShaderMaterial({
        fragmentShader: a.fragmentShader,
        vertexShader: a.vertexShader,
        uniforms: b,
        side: THREE.BackSide
    })
        , d = new THREE.SphereBufferGeometry(45e4,32,15)
        , e = new THREE.Mesh(d,c);
    this.mesh = e,
        this.uniforms = b
}
;
var dat = dat || {};
dat.gui = dat.gui || {},
    dat.utils = dat.utils || {},
    dat.controllers = dat.controllers || {},
    dat.dom = dat.dom || {},
    dat.color = dat.color || {},
    dat.utils.css = function() {
        return {
            load: function(a, b) {
                var b = b || document
                    , c = b.createElement("link");
                c.type = "text/css",
                    c.rel = "stylesheet",
                    c.href = a,
                    b.getElementsByTagName("head")[0].appendChild(c)
            },
            inject: function(a, b) {
                var b = b || document
                    , c = document.createElement("style");
                c.type = "text/css",
                    c.innerHTML = a,
                    b.getElementsByTagName("head")[0].appendChild(c)
            }
        }
    }(),
    dat.utils.common = function() {
        var a = Array.prototype.forEach
            , b = Array.prototype.slice;
        return {
            BREAK: {},
            extend: function(a) {
                return this.each(b.call(arguments, 1), function(b) {
                    for (var c in b)
                        this.isUndefined(b[c]) || (a[c] = b[c])
                }, this),
                    a
            },
            defaults: function(a) {
                return this.each(b.call(arguments, 1), function(b) {
                    for (var c in b)
                        this.isUndefined(a[c]) && (a[c] = b[c])
                }, this),
                    a
            },
            compose: function() {
                var a = b.call(arguments);
                return function() {
                    for (var c = b.call(arguments), d = a.length - 1; d >= 0; d--)
                        c = [a[d].apply(this, c)];
                    return c[0]
                }
            },
            each: function(b, c, d) {
                if (a && b.forEach === a)
                    b.forEach(c, d);
                else if (b.length === b.length + 0)
                    for (var e = 0, f = b.length; f > e && !(e in b && c.call(d, b[e], e) === this.BREAK); e++)
                        ;
                else
                    for (e in b)
                        if (c.call(d, b[e], e) === this.BREAK)
                            break
            },
            defer: function(a) {
                setTimeout(a, 0)
            },
            toArray: function(a) {
                return a.toArray ? a.toArray() : b.call(a)
            },
            isUndefined: function(a) {
                return void 0 === a
            },
            isNull: function(a) {
                return null  === a
            },
            isNaN: function(a) {
                return a !== a
            },
            isArray: Array.isArray || function(a) {
                return a.constructor === Array
            }
            ,
            isObject: function(a) {
                return a === Object(a)
            },
            isNumber: function(a) {
                return a === a + 0
            },
            isString: function(a) {
                return a === a + ""
            },
            isBoolean: function(a) {
                return a === !1 || a === !0
            },
            isFunction: function(a) {
                return "[object Function]" === Object.prototype.toString.call(a)
            }
        }
    }(),
    dat.controllers.Controller = function(a) {
        var b = function(a, b) {
                this.initialValue = a[b],
                    this.domElement = document.createElement("div"),
                    this.object = a,
                    this.property = b,
                    this.__onFinishChange = this.__onChange = void 0
            }
            ;
        return a.extend(b.prototype, {
            onChange: function(a) {
                return this.__onChange = a,
                    this
            },
            onFinishChange: function(a) {
                return this.__onFinishChange = a,
                    this
            },
            setValue: function(a) {
                return this.object[this.property] = a,
                this.__onChange && this.__onChange.call(this, a),
                    this.updateDisplay(),
                    this
            },
            getValue: function() {
                return this.object[this.property]
            },
            updateDisplay: function() {
                return this
            },
            isModified: function() {
                return this.initialValue !== this.getValue()
            }
        }),
            b
    }(dat.utils.common),
    dat.dom.dom = function(a) {
        function b(b) {
            return "0" === b || a.isUndefined(b) ? 0 : (b = b.match(d),
                a.isNull(b) ? 0 : parseFloat(b[1]))
        }
        var c = {};
        a.each({
            HTMLEvents: ["change"],
            MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
            KeyboardEvents: ["keydown"]
        }, function(b, d) {
            a.each(b, function(a) {
                c[a] = d
            })
        });
        var d = /(\d+(\.\d+)?)px/
            , e = {
            makeSelectable: function(a, b) {
                void 0 !== a && void 0 !== a.style && (a.onselectstart = b ? function() {
                    return !1
                }
                    : function() {}
                    ,
                    a.style.MozUserSelect = b ? "auto" : "none",
                    a.style.KhtmlUserSelect = b ? "auto" : "none",
                    a.unselectable = b ? "on" : "off")
            },
            makeFullscreen: function(b, c, d) {
                a.isUndefined(c) && (c = !0),
                a.isUndefined(d) && (d = !0),
                    b.style.position = "absolute",
                c && (b.style.left = 0,
                    b.style.right = 0),
                d && (b.style.top = 0,
                    b.style.bottom = 0)
            },
            fakeEvent: function(b, d, e, f) {
                var e = e || {}
                    , g = c[d];
                if (!g)
                    throw Error("Event type " + d + " not supported.");
                var h = document.createEvent(g);
                switch (g) {
                    case "MouseEvents":
                        h.initMouseEvent(d, e.bubbles || !1, e.cancelable || !0, window, e.clickCount || 1, 0, 0, e.x || e.clientX || 0, e.y || e.clientY || 0, !1, !1, !1, !1, 0, null );
                        break;
                    case "KeyboardEvents":
                        g = h.initKeyboardEvent || h.initKeyEvent,
                            a.defaults(e, {
                                cancelable: !0,
                                ctrlKey: !1,
                                altKey: !1,
                                shiftKey: !1,
                                metaKey: !1,
                                keyCode: void 0,
                                charCode: void 0
                            }),
                            g(d, e.bubbles || !1, e.cancelable, window, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.keyCode, e.charCode);
                        break;
                    default:
                        h.initEvent(d, e.bubbles || !1, e.cancelable || !0)
                }
                a.defaults(h, f),
                    b.dispatchEvent(h)
            },
            bind: function(a, b, c, d) {
                return a.addEventListener ? a.addEventListener(b, c, d || !1) : a.attachEvent && a.attachEvent("on" + b, c),
                    e
            },
            unbind: function(a, b, c, d) {
                return a.removeEventListener ? a.removeEventListener(b, c, d || !1) : a.detachEvent && a.detachEvent("on" + b, c),
                    e
            },
            addClass: function(a, b) {
                if (void 0 === a.className)
                    a.className = b;
                else if (a.className !== b) {
                    var c = a.className.split(/ +/);
                    -1 == c.indexOf(b) && (c.push(b),
                        a.className = c.join(" ").replace(/^\s+/, "").replace(/\s+$/, ""))
                }
                return e
            },
            removeClass: function(a, b) {
                if (b) {
                    if (void 0 !== a.className)
                        if (a.className === b)
                            a.removeAttribute("class");
                        else {
                            var c = a.className.split(/ +/)
                                , d = c.indexOf(b);
                            -1 != d && (c.splice(d, 1),
                                a.className = c.join(" "))
                        }
                } else
                    a.className = void 0;
                return e
            },
            hasClass: function(a, b) {
                return RegExp("(?:^|\\s+)" + b + "(?:\\s+|$)").test(a.className) || !1
            },
            getWidth: function(a) {
                return a = getComputedStyle(a),
                b(a["border-left-width"]) + b(a["border-right-width"]) + b(a["padding-left"]) + b(a["padding-right"]) + b(a.width)
            },
            getHeight: function(a) {
                return a = getComputedStyle(a),
                b(a["border-top-width"]) + b(a["border-bottom-width"]) + b(a["padding-top"]) + b(a["padding-bottom"]) + b(a.height)
            },
            getOffset: function(a) {
                var b = {
                    left: 0,
                    top: 0
                };
                if (a.offsetParent)
                    do
                        b.left += a.offsetLeft,
                            b.top += a.offsetTop;
                    while (a = a.offsetParent);return b
            },
            isActive: function(a) {
                return a === document.activeElement && (a.type || a.href)
            }
        };
        return e
    }(dat.utils.common),
    dat.controllers.OptionController = function(a, b, c) {
        var d = function(a, e, f) {
                d.superclass.call(this, a, e);
                var g = this;
                if (this.__select = document.createElement("select"),
                        c.isArray(f)) {
                    var h = {};
                    c.each(f, function(a) {
                        h[a] = a
                    }),
                        f = h
                }
                c.each(f, function(a, b) {
                    var c = document.createElement("option");
                    c.innerHTML = b,
                        c.setAttribute("value", a),
                        g.__select.appendChild(c)
                }),
                    this.updateDisplay(),
                    b.bind(this.__select, "change", function() {
                        g.setValue(this.options[this.selectedIndex].value)
                    }),
                    this.domElement.appendChild(this.__select)
            }
            ;
        return d.superclass = a,
            c.extend(d.prototype, a.prototype, {
                setValue: function(a) {
                    return a = d.superclass.prototype.setValue.call(this, a),
                    this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()),
                        a
                },
                updateDisplay: function() {
                    return this.__select.value = this.getValue(),
                        d.superclass.prototype.updateDisplay.call(this)
                }
            }),
            d
    }(dat.controllers.Controller, dat.dom.dom, dat.utils.common),
    dat.controllers.NumberController = function(a, b) {
        var c = function(a, d, e) {
                c.superclass.call(this, a, d),
                    e = e || {},
                    this.__min = e.min,
                    this.__max = e.max,
                    this.__step = e.step,
                    a = this.__impliedStep = b.isUndefined(this.__step) ? 0 == this.initialValue ? 1 : Math.pow(10, Math.floor(Math.log(this.initialValue) / Math.LN10)) / 10 : this.__step,
                    a = a.toString(),
                    this.__precision = a.indexOf(".") > -1 ? a.length - a.indexOf(".") - 1 : 0
            }
            ;
        return c.superclass = a,
            b.extend(c.prototype, a.prototype, {
                setValue: function(a) {
                    return void 0 !== this.__min && a < this.__min ? a = this.__min : void 0 !== this.__max && a > this.__max && (a = this.__max),
                    void 0 !== this.__step && a % this.__step != 0 && (a = Math.round(a / this.__step) * this.__step),
                        c.superclass.prototype.setValue.call(this, a)
                },
                min: function(a) {
                    return this.__min = a,
                        this
                },
                max: function(a) {
                    return this.__max = a,
                        this
                },
                step: function(a) {
                    return this.__step = a,
                        this
                }
            }),
            c
    }(dat.controllers.Controller, dat.utils.common),
    dat.controllers.NumberControllerBox = function(a, b, c) {
        var d = function(a, e, f) {
                function g() {
                    var a = parseFloat(k.__input.value);
                    c.isNaN(a) || k.setValue(a)
                }
                function h(a) {
                    var b = j - a.clientY;
                    k.setValue(k.getValue() + b * k.__impliedStep),
                        j = a.clientY
                }
                function i() {
                    b.unbind(window, "mousemove", h),
                        b.unbind(window, "mouseup", i)
                }
                this.__truncationSuspended = !1,
                    d.superclass.call(this, a, e, f);
                var j, k = this;
                this.__input = document.createElement("input"),
                    this.__input.setAttribute("type", "text"),
                    b.bind(this.__input, "change", g),
                    b.bind(this.__input, "blur", function() {
                        g(),
                        k.__onFinishChange && k.__onFinishChange.call(k, k.getValue())
                    }),
                    b.bind(this.__input, "mousedown", function(a) {
                        b.bind(window, "mousemove", h),
                            b.bind(window, "mouseup", i),
                            j = a.clientY
                    }),
                    b.bind(this.__input, "keydown", function(a) {
                        13 === a.keyCode && (k.__truncationSuspended = !0,
                            this.blur(),
                            k.__truncationSuspended = !1)
                    }),
                    this.updateDisplay(),
                    this.domElement.appendChild(this.__input)
            }
            ;
        return d.superclass = a,
            c.extend(d.prototype, a.prototype, {
                updateDisplay: function() {
                    var a, b = this.__input;
                    if (this.__truncationSuspended)
                        a = this.getValue();
                    else {
                        a = this.getValue();
                        var c = Math.pow(10, this.__precision);
                        a = Math.round(a * c) / c
                    }
                    return b.value = a,
                        d.superclass.prototype.updateDisplay.call(this)
                }
            }),
            d
    }(dat.controllers.NumberController, dat.dom.dom, dat.utils.common),
    dat.controllers.NumberControllerSlider = function(a, b, c, d, e) {
        var f = function(a, c, d, e, g) {
                function h(a) {
                    a.preventDefault();
                    var c = b.getOffset(j.__background)
                        , d = b.getWidth(j.__background);
                    return j.setValue(j.__min + (j.__max - j.__min) * ((a.clientX - c.left) / (c.left + d - c.left))),
                        !1
                }
                function i() {
                    b.unbind(window, "mousemove", h),
                        b.unbind(window, "mouseup", i),
                    j.__onFinishChange && j.__onFinishChange.call(j, j.getValue())
                }
                f.superclass.call(this, a, c, {
                    min: d,
                    max: e,
                    step: g
                });
                var j = this;
                this.__background = document.createElement("div"),
                    this.__foreground = document.createElement("div"),
                    b.bind(this.__background, "mousedown", function(a) {
                        b.bind(window, "mousemove", h),
                            b.bind(window, "mouseup", i),
                            h(a)
                    }),
                    b.addClass(this.__background, "slider"),
                    b.addClass(this.__foreground, "slider-fg"),
                    this.updateDisplay(),
                    this.__background.appendChild(this.__foreground),
                    this.domElement.appendChild(this.__background)
            }
            ;
        return f.superclass = a,
            f.useDefaultStyles = function() {
                c.inject(e)
            }
            ,
            d.extend(f.prototype, a.prototype, {
                updateDisplay: function() {
                    return this.__foreground.style.width = (this.getValue() - this.__min) / (this.__max - this.__min) * 100 + "%",
                        f.superclass.prototype.updateDisplay.call(this)
                }
            }),
            f
    }(dat.controllers.NumberController, dat.dom.dom, dat.utils.css, dat.utils.common, ".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),
    dat.controllers.FunctionController = function(a, b, c) {
        var d = function(a, c, e) {
                d.superclass.call(this, a, c);
                var f = this;
                this.__button = document.createElement("div"),
                    this.__button.innerHTML = void 0 === e ? "Fire" : e,
                    b.bind(this.__button, "click", function(a) {
                        return a.preventDefault(),
                            f.fire(),
                            !1
                    }),
                    b.addClass(this.__button, "button"),
                    this.domElement.appendChild(this.__button)
            }
            ;
        return d.superclass = a,
            c.extend(d.prototype, a.prototype, {
                fire: function() {
                    this.__onChange && this.__onChange.call(this),
                    this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()),
                        this.getValue().call(this.object)
                }
            }),
            d
    }(dat.controllers.Controller, dat.dom.dom, dat.utils.common),
    dat.controllers.BooleanController = function(a, b, c) {
        var d = function(a, c) {
                d.superclass.call(this, a, c);
                var e = this;
                this.__prev = this.getValue(),
                    this.__checkbox = document.createElement("input"),
                    this.__checkbox.setAttribute("type", "checkbox"),
                    b.bind(this.__checkbox, "change", function() {
                        e.setValue(!e.__prev)
                    }, !1),
                    this.domElement.appendChild(this.__checkbox),
                    this.updateDisplay()
            }
            ;
        return d.superclass = a,
            c.extend(d.prototype, a.prototype, {
                setValue: function(a) {
                    return a = d.superclass.prototype.setValue.call(this, a),
                    this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()),
                        this.__prev = this.getValue(),
                        a
                },
                updateDisplay: function() {
                    return this.getValue() === !0 ? (this.__checkbox.setAttribute("checked", "checked"),
                        this.__checkbox.checked = !0) : this.__checkbox.checked = !1,
                        d.superclass.prototype.updateDisplay.call(this)
                }
            }),
            d
    }(dat.controllers.Controller, dat.dom.dom, dat.utils.common),
    dat.color.toString = function(a) {
        return function(b) {
            if (1 == b.a || a.isUndefined(b.a)) {
                for (b = b.hex.toString(16); b.length < 6; )
                    b = "0" + b;
                return "#" + b
            }
            return "rgba(" + Math.round(b.r) + "," + Math.round(b.g) + "," + Math.round(b.b) + "," + b.a + ")"
        }
    }(dat.utils.common),
    dat.color.interpret = function(a, b) {
        var c, d, e = [{
            litmus: b.isString,
            conversions: {
                THREE_CHAR_HEX: {
                    read: function(a) {
                        return a = a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i),
                        null  !== a && {
                            space: "HEX",
                            hex: parseInt("0x" + a[1].toString() + a[1].toString() + a[2].toString() + a[2].toString() + a[3].toString() + a[3].toString())
                        }
                    },
                    write: a
                },
                SIX_CHAR_HEX: {
                    read: function(a) {
                        return a = a.match(/^#([A-F0-9]{6})$/i),
                        null  !== a && {
                            space: "HEX",
                            hex: parseInt("0x" + a[1].toString())
                        }
                    },
                    write: a
                },
                CSS_RGB: {
                    read: function(a) {
                        return a = a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/),
                        null  !== a && {
                            space: "RGB",
                            r: parseFloat(a[1]),
                            g: parseFloat(a[2]),
                            b: parseFloat(a[3])
                        }
                    },
                    write: a
                },
                CSS_RGBA: {
                    read: function(a) {
                        return a = a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/),
                        null  !== a && {
                            space: "RGB",
                            r: parseFloat(a[1]),
                            g: parseFloat(a[2]),
                            b: parseFloat(a[3]),
                            a: parseFloat(a[4])
                        }
                    },
                    write: a
                }
            }
        }, {
            litmus: b.isNumber,
            conversions: {
                HEX: {
                    read: function(a) {
                        return {
                            space: "HEX",
                            hex: a,
                            conversionName: "HEX"
                        }
                    },
                    write: function(a) {
                        return a.hex
                    }
                }
            }
        }, {
            litmus: b.isArray,
            conversions: {
                RGB_ARRAY: {
                    read: function(a) {
                        return 3 == a.length && {
                                space: "RGB",
                                r: a[0],
                                g: a[1],
                                b: a[2]
                            }
                    },
                    write: function(a) {
                        return [a.r, a.g, a.b]
                    }
                },
                RGBA_ARRAY: {
                    read: function(a) {
                        return 4 == a.length && {
                                space: "RGB",
                                r: a[0],
                                g: a[1],
                                b: a[2],
                                a: a[3]
                            }
                    },
                    write: function(a) {
                        return [a.r, a.g, a.b, a.a]
                    }
                }
            }
        }, {
            litmus: b.isObject,
            conversions: {
                RGBA_OBJ: {
                    read: function(a) {
                        return !!(b.isNumber(a.r) && b.isNumber(a.g) && b.isNumber(a.b) && b.isNumber(a.a)) && {
                                space: "RGB",
                                r: a.r,
                                g: a.g,
                                b: a.b,
                                a: a.a
                            }
                    },
                    write: function(a) {
                        return {
                            r: a.r,
                            g: a.g,
                            b: a.b,
                            a: a.a
                        }
                    }
                },
                RGB_OBJ: {
                    read: function(a) {
                        return !!(b.isNumber(a.r) && b.isNumber(a.g) && b.isNumber(a.b)) && {
                                space: "RGB",
                                r: a.r,
                                g: a.g,
                                b: a.b
                            }
                    },
                    write: function(a) {
                        return {
                            r: a.r,
                            g: a.g,
                            b: a.b
                        }
                    }
                },
                HSVA_OBJ: {
                    read: function(a) {
                        return !!(b.isNumber(a.h) && b.isNumber(a.s) && b.isNumber(a.v) && b.isNumber(a.a)) && {
                                space: "HSV",
                                h: a.h,
                                s: a.s,
                                v: a.v,
                                a: a.a
                            }
                    },
                    write: function(a) {
                        return {
                            h: a.h,
                            s: a.s,
                            v: a.v,
                            a: a.a
                        }
                    }
                },
                HSV_OBJ: {
                    read: function(a) {
                        return !!(b.isNumber(a.h) && b.isNumber(a.s) && b.isNumber(a.v)) && {
                                space: "HSV",
                                h: a.h,
                                s: a.s,
                                v: a.v
                            }
                    },
                    write: function(a) {
                        return {
                            h: a.h,
                            s: a.s,
                            v: a.v
                        }
                    }
                }
            }
        }];
        return function() {
            d = !1;
            var a = arguments.length > 1 ? b.toArray(arguments) : arguments[0];
            return b.each(e, function(e) {
                return e.litmus(a) ? (b.each(e.conversions, function(e, f) {
                    return c = e.read(a),
                        d === !1 && c !== !1 ? (d = c,
                            c.conversionName = f,
                            c.conversion = e,
                            b.BREAK) : void 0
                }),
                    b.BREAK) : void 0
            }),
                d
        }
    }(dat.color.toString, dat.utils.common),
    dat.GUI = dat.gui.GUI = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
        function p(a, b, c, f) {
            if (void 0 === b[c])
                throw Error("Object " + b + ' has no property "' + c + '"');
            f.color ? b = new k(b,c) : (b = [b, c].concat(f.factoryArgs),
                b = d.apply(a, b)),
            f.before instanceof e && (f.before = f.before.__li),
                s(a, b),
                n.addClass(b.domElement, "c"),
                c = document.createElement("span"),
                n.addClass(c, "property-name"),
                c.innerHTML = b.property;
            var g = document.createElement("div");
            return g.appendChild(c),
                g.appendChild(b.domElement),
                f = q(a, g, f.before),
                n.addClass(f, H.CLASS_CONTROLLER_ROW),
                n.addClass(f, typeof b.getValue()),
                r(a, f, b),
                a.__controllers.push(b),
                b
        }
        function q(a, b, c) {
            var d = document.createElement("li");
            return b && d.appendChild(b),
                c ? a.__ul.insertBefore(d, params.before) : a.__ul.appendChild(d),
                a.onResize(),
                d
        }
        function r(a, b, c) {
            if (c.__li = b,
                    c.__gui = a,
                    o.extend(c, {
                        options: function(b) {
                            return arguments.length > 1 ? (c.remove(),
                                p(a, c.object, c.property, {
                                    before: c.__li.nextElementSibling,
                                    factoryArgs: [o.toArray(arguments)]
                                })) : o.isArray(b) || o.isObject(b) ? (c.remove(),
                                p(a, c.object, c.property, {
                                    before: c.__li.nextElementSibling,
                                    factoryArgs: [b]
                                })) : void 0
                        },
                        name: function(a) {
                            return c.__li.firstElementChild.firstElementChild.innerHTML = a,
                                c
                        },
                        listen: function() {
                            return c.__gui.listen(c),
                                c
                        },
                        remove: function() {
                            return c.__gui.remove(c),
                                c
                        }
                    }),
                c instanceof i) {
                var d = new h(c.object,c.property,{
                    min: c.__min,
                    max: c.__max,
                    step: c.__step
                });
                o.each(["updateDisplay", "onChange", "onFinishChange"], function(a) {
                    var b = c[a]
                        , e = d[a];
                    c[a] = d[a] = function() {
                        var a = Array.prototype.slice.call(arguments);
                        return b.apply(c, a),
                            e.apply(d, a)
                    }
                }),
                    n.addClass(b, "has-slider"),
                    c.domElement.insertBefore(d.domElement, c.domElement.firstElementChild)
            } else if (c instanceof h) {
                var e = function(b) {
                        return o.isNumber(c.__min) && o.isNumber(c.__max) ? (c.remove(),
                            p(a, c.object, c.property, {
                                before: c.__li.nextElementSibling,
                                factoryArgs: [c.__min, c.__max, c.__step]
                            })) : b
                    }
                    ;
                c.min = o.compose(e, c.min),
                    c.max = o.compose(e, c.max)
            } else
                c instanceof f ? (n.bind(b, "click", function() {
                    n.fakeEvent(c.__checkbox, "click")
                }),
                    n.bind(c.__checkbox, "click", function(a) {
                        a.stopPropagation()
                    })) : c instanceof g ? (n.bind(b, "click", function() {
                    n.fakeEvent(c.__button, "click")
                }),
                    n.bind(b, "mouseover", function() {
                        n.addClass(c.__button, "hover")
                    }),
                    n.bind(b, "mouseout", function() {
                        n.removeClass(c.__button, "hover")
                    })) : c instanceof k && (n.addClass(b, "color"),
                    c.updateDisplay = o.compose(function(a) {
                        return b.style.borderLeftColor = c.__color.toString(),
                            a
                    }, c.updateDisplay),
                    c.updateDisplay());
            c.setValue = o.compose(function(b) {
                return a.getRoot().__preset_select && c.isModified() && y(a.getRoot(), !0),
                    b
            }, c.setValue)
        }
        function s(a, b) {
            var c = a.getRoot()
                , d = c.__rememberedObjects.indexOf(b.object);
            if (-1 != d) {
                var e = c.__rememberedObjectIndecesToControllers[d];
                if (void 0 === e && (e = {},
                        c.__rememberedObjectIndecesToControllers[d] = e),
                        e[b.property] = b,
                    c.load && c.load.remembered) {
                    if (c = c.load.remembered,
                            c[a.preset])
                        c = c[a.preset];
                    else {
                        if (!c[B])
                            return;
                        c = c[B]
                    }
                    c[d] && void 0 !== c[d][b.property] && (d = c[d][b.property],
                        b.initialValue = d,
                        b.setValue(d))
                }
            }
        }
        function t(a) {
            var b = a.__save_row = document.createElement("li");
            n.addClass(a.domElement, "has-save"),
                a.__ul.insertBefore(b, a.__ul.firstChild),
                n.addClass(b, "save-row");
            var c = document.createElement("span");
            c.innerHTML = "&nbsp;",
                n.addClass(c, "button gears");
            var d = document.createElement("span");
            d.innerHTML = "Save",
                n.addClass(d, "button"),
                n.addClass(d, "save");
            var e = document.createElement("span");
            e.innerHTML = "New",
                n.addClass(e, "button"),
                n.addClass(e, "save-as");
            var f = document.createElement("span");
            f.innerHTML = "Revert",
                n.addClass(f, "button"),
                n.addClass(f, "revert");
            var g = a.__preset_select = document.createElement("select");
            if (a.load && a.load.remembered ? o.each(a.load.remembered, function(b, c) {
                    x(a, c, c == a.preset)
                }) : x(a, B, !1),
                    n.bind(g, "change", function() {
                        for (var b = 0; b < a.__preset_select.length; b++)
                            a.__preset_select[b].innerHTML = a.__preset_select[b].value;
                        a.preset = this.value
                    }),
                    b.appendChild(g),
                    b.appendChild(c),
                    b.appendChild(d),
                    b.appendChild(e),
                    b.appendChild(f),
                    A) {
                var b = document.getElementById("dg-save-locally")
                    , h = document.getElementById("dg-local-explain");
                b.style.display = "block",
                    b = document.getElementById("dg-local-storage"),
                "true" === localStorage.getItem(document.location.href + ".isLocal") && b.setAttribute("checked", "checked");
                var i = function() {
                        h.style.display = a.useLocalStorage ? "block" : "none"
                    }
                    ;
                i(),
                    n.bind(b, "change", function() {
                        a.useLocalStorage = !a.useLocalStorage,
                            i()
                    })
            }
            var j = document.getElementById("dg-new-constructor");
            n.bind(j, "keydown", function(a) {
                a.metaKey && (67 === a.which || 67 == a.keyCode) && C.hide()
            }),
                n.bind(c, "click", function() {
                    j.innerHTML = JSON.stringify(a.getSaveObject(), void 0, 2),
                        C.show(),
                        j.focus(),
                        j.select()
                }),
                n.bind(d, "click", function() {
                    a.save()
                }),
                n.bind(e, "click", function() {
                    var b = prompt("Enter a new preset name.");
                    b && a.saveAs(b)
                }),
                n.bind(f, "click", function() {
                    a.revert()
                })
        }
        function u(a) {
            function b(b) {
                return b.preventDefault(),
                    e = b.clientX,
                    n.addClass(a.__closeButton, H.CLASS_DRAG),
                    n.bind(window, "mousemove", c),
                    n.bind(window, "mouseup", d),
                    !1
            }
            function c(b) {
                return b.preventDefault(),
                    a.width += e - b.clientX,
                    a.onResize(),
                    e = b.clientX,
                    !1
            }
            function d() {
                n.removeClass(a.__closeButton, H.CLASS_DRAG),
                    n.unbind(window, "mousemove", c),
                    n.unbind(window, "mouseup", d)
            }
            a.__resize_handle = document.createElement("div"),
                o.extend(a.__resize_handle.style, {
                    width: "6px",
                    marginLeft: "-3px",
                    height: "200px",
                    cursor: "ew-resize",
                    position: "absolute"
                });
            var e;
            n.bind(a.__resize_handle, "mousedown", b),
                n.bind(a.__closeButton, "mousedown", b),
                a.domElement.insertBefore(a.__resize_handle, a.domElement.firstElementChild)
        }
        function v(a, b) {
            a.domElement.style.width = b + "px",
            a.__save_row && a.autoPlace && (a.__save_row.style.width = b + "px"),
            a.__closeButton && (a.__closeButton.style.width = b + "px")
        }
        function w(a, b) {
            var c = {};
            return o.each(a.__rememberedObjects, function(d, e) {
                var f = {};
                o.each(a.__rememberedObjectIndecesToControllers[e], function(a, c) {
                    f[c] = b ? a.initialValue : a.getValue()
                }),
                    c[e] = f
            }),
                c
        }
        function x(a, b, c) {
            var d = document.createElement("option");
            d.innerHTML = b,
                d.value = b,
                a.__preset_select.appendChild(d),
            c && (a.__preset_select.selectedIndex = a.__preset_select.length - 1)
        }
        function y(a, b) {
            var c = a.__preset_select[a.__preset_select.selectedIndex];
            c.innerHTML = b ? c.value + "*" : c.value
        }
        function z(a) {
            0 != a.length && l(function() {
                z(a)
            }),
                o.each(a, function(a) {
                    a.updateDisplay()
                })
        }
        a.inject(c);
        var A, B = "Default";
        try {
            A = "localStorage" in window && null  !== window.localStorage
        } catch (a) {
            A = !1
        }
        var C, D, E = !0, F = !1, G = [], H = function(a) {
                function b() {
                    localStorage.setItem(document.location.href + ".gui", JSON.stringify(d.getSaveObject()))
                }
                function c() {
                    var a = d.getRoot();
                    a.width += 1,
                        o.defer(function() {
                            a.width -= 1
                        })
                }
                var d = this;
                this.domElement = document.createElement("div"),
                    this.__ul = document.createElement("ul"),
                    this.domElement.appendChild(this.__ul),
                    n.addClass(this.domElement, "dg"),
                    this.__folders = {},
                    this.__controllers = [],
                    this.__rememberedObjects = [],
                    this.__rememberedObjectIndecesToControllers = [],
                    this.__listening = [],
                    a = a || {},
                    a = o.defaults(a, {
                        autoPlace: !0,
                        width: H.DEFAULT_WIDTH
                    }),
                    a = o.defaults(a, {
                        resizable: a.autoPlace,
                        hideable: a.autoPlace
                    }),
                    o.isUndefined(a.load) ? a.load = {
                        preset: B
                    } : a.preset && (a.load.preset = a.preset),
                o.isUndefined(a.parent) && a.hideable && G.push(this),
                    a.resizable = o.isUndefined(a.parent) && a.resizable,
                a.autoPlace && o.isUndefined(a.scrollable) && (a.scrollable = !0);
                var e = A && "true" === localStorage.getItem(document.location.href + ".isLocal");
                if (Object.defineProperties(this, {
                        parent: {
                            get: function() {
                                return a.parent
                            }
                        },
                        scrollable: {
                            get: function() {
                                return a.scrollable
                            }
                        },
                        autoPlace: {
                            get: function() {
                                return a.autoPlace
                            }
                        },
                        preset: {
                            get: function() {
                                return d.parent ? d.getRoot().preset : a.load.preset
                            },
                            set: function(b) {
                                for (d.parent ? d.getRoot().preset = b : a.load.preset = b,
                                         b = 0; b < this.__preset_select.length; b++)
                                    this.__preset_select[b].value == this.preset && (this.__preset_select.selectedIndex = b);
                                d.revert()
                            }
                        },
                        width: {
                            get: function() {
                                return a.width
                            },
                            set: function(b) {
                                a.width = b,
                                    v(d, b)
                            }
                        },
                        name: {
                            get: function() {
                                return a.name
                            },
                            set: function(b) {
                                a.name = b,
                                g && (g.innerHTML = a.name)
                            }
                        },
                        closed: {
                            get: function() {
                                return a.closed
                            },
                            set: function(b) {
                                a.closed = b,
                                    a.closed ? n.addClass(d.__ul, H.CLASS_CLOSED) : n.removeClass(d.__ul, H.CLASS_CLOSED),
                                    this.onResize(),
                                d.__closeButton && (d.__closeButton.innerHTML = b ? H.TEXT_OPEN : H.TEXT_CLOSED)
                            }
                        },
                        load: {
                            get: function() {
                                return a.load
                            }
                        },
                        useLocalStorage: {
                            get: function() {
                                return e
                            },
                            set: function(a) {
                                A && ((e = a) ? n.bind(window, "unload", b) : n.unbind(window, "unload", b),
                                    localStorage.setItem(document.location.href + ".isLocal", a))
                            }
                        }
                    }),
                        o.isUndefined(a.parent)) {
                    if (a.closed = !1,
                            n.addClass(this.domElement, H.CLASS_MAIN),
                            n.makeSelectable(this.domElement, !1),
                        A && e) {
                        d.useLocalStorage = !0;
                        var f = localStorage.getItem(document.location.href + ".gui");
                        f && (a.load = JSON.parse(f))
                    }
                    this.__closeButton = document.createElement("div"),
                        this.__closeButton.innerHTML = H.TEXT_CLOSED,
                        n.addClass(this.__closeButton, H.CLASS_CLOSE_BUTTON),
                        this.domElement.appendChild(this.__closeButton),
                        n.bind(this.__closeButton, "click", function() {
                            d.closed = !d.closed
                        })
                } else {
                    void 0 === a.closed && (a.closed = !0);
                    var g = document.createTextNode(a.name);
                    n.addClass(g, "controller-name"),
                        f = q(d, g),
                        n.addClass(this.__ul, H.CLASS_CLOSED),
                        n.addClass(f, "title"),
                        n.bind(f, "click", function(a) {
                            return a.preventDefault(),
                                d.closed = !d.closed,
                                !1
                        }),
                    a.closed || (this.closed = !1)
                }
                a.autoPlace && (o.isUndefined(a.parent) && (E && (D = document.createElement("div"),
                    n.addClass(D, "dg"),
                    n.addClass(D, H.CLASS_AUTO_PLACE_CONTAINER),
                    document.body.appendChild(D),
                    E = !1),
                    D.appendChild(this.domElement),
                    n.addClass(this.domElement, H.CLASS_AUTO_PLACE)),
                this.parent || v(d, a.width)),
                    n.bind(window, "resize", function() {
                        d.onResize()
                    }),
                    n.bind(this.__ul, "webkitTransitionEnd", function() {
                        d.onResize()
                    }),
                    n.bind(this.__ul, "transitionend", function() {
                        d.onResize()
                    }),
                    n.bind(this.__ul, "oTransitionEnd", function() {
                        d.onResize()
                    }),
                    this.onResize(),
                a.resizable && u(this),
                    d.getRoot(),
                a.parent || c()
            }
            ;
        return H.toggleHide = function() {
            F = !F,
                o.each(G, function(a) {
                    a.domElement.style.zIndex = F ? -999 : 999,
                        a.domElement.style.opacity = F ? 0 : 1
                })
        }
            ,
            H.CLASS_AUTO_PLACE = "a",
            H.CLASS_AUTO_PLACE_CONTAINER = "ac",
            H.CLASS_MAIN = "main",
            H.CLASS_CONTROLLER_ROW = "cr",
            H.CLASS_TOO_TALL = "taller-than-window",
            H.CLASS_CLOSED = "closed",
            H.CLASS_CLOSE_BUTTON = "close-button",
            H.CLASS_DRAG = "drag",
            H.DEFAULT_WIDTH = 245,
            H.TEXT_CLOSED = "Close Controls",
            H.TEXT_OPEN = "Open Controls",
            n.bind(window, "keydown", function(a) {
                "text" !== document.activeElement.type && (72 === a.which || 72 == a.keyCode) && H.toggleHide()
            }, !1),
            o.extend(H.prototype, {
                add: function(a, b) {
                    return p(this, a, b, {
                        factoryArgs: Array.prototype.slice.call(arguments, 2)
                    })
                },
                addColor: function(a, b) {
                    return p(this, a, b, {
                        color: !0
                    })
                },
                remove: function(a) {
                    this.__ul.removeChild(a.__li),
                        this.__controllers.slice(this.__controllers.indexOf(a), 1);
                    var b = this;
                    o.defer(function() {
                        b.onResize()
                    })
                },
                destroy: function() {
                    this.autoPlace && D.removeChild(this.domElement)
                },
                addFolder: function(a) {
                    if (void 0 !== this.__folders[a])
                        throw Error('You already have a folder in this GUI by the name "' + a + '"');
                    var b = {
                        name: a,
                        parent: this
                    };
                    return b.autoPlace = this.autoPlace,
                    this.load && this.load.folders && this.load.folders[a] && (b.closed = this.load.folders[a].closed,
                        b.load = this.load.folders[a]),
                        b = new H(b),
                        this.__folders[a] = b,
                        a = q(this, b.domElement),
                        n.addClass(a, "folder"),
                        b
                },
                open: function() {
                    this.closed = !1
                },
                close: function() {
                    this.closed = !0
                },
                onResize: function() {
                    var a = this.getRoot();
                    if (a.scrollable) {
                        var b = n.getOffset(a.__ul).top
                            , c = 0;
                        o.each(a.__ul.childNodes, function(b) {
                            a.autoPlace && b === a.__save_row || (c += n.getHeight(b))
                        }),
                            window.innerHeight - b - 20 < c ? (n.addClass(a.domElement, H.CLASS_TOO_TALL),
                                a.__ul.style.height = window.innerHeight - b - 20 + "px") : (n.removeClass(a.domElement, H.CLASS_TOO_TALL),
                                a.__ul.style.height = "auto")
                    }
                    a.__resize_handle && o.defer(function() {
                        a.__resize_handle.style.height = a.__ul.offsetHeight + "px"
                    }),
                    a.__closeButton && (a.__closeButton.style.width = a.width + "px")
                },
                remember: function() {
                    if (o.isUndefined(C) && (C = new m,
                            C.domElement.innerHTML = b),
                            this.parent)
                        throw Error("You can only call remember on a top level GUI.");
                    var a = this;
                    o.each(Array.prototype.slice.call(arguments), function(b) {
                        0 == a.__rememberedObjects.length && t(a),
                        -1 == a.__rememberedObjects.indexOf(b) && a.__rememberedObjects.push(b)
                    }),
                    this.autoPlace && v(this, this.width)
                },
                getRoot: function() {
                    for (var a = this; a.parent; )
                        a = a.parent;
                    return a
                },
                getSaveObject: function() {
                    var a = this.load;
                    return a.closed = this.closed,
                    this.__rememberedObjects.length > 0 && (a.preset = this.preset,
                    a.remembered || (a.remembered = {}),
                        a.remembered[this.preset] = w(this)),
                        a.folders = {},
                        o.each(this.__folders, function(b, c) {
                            a.folders[c] = b.getSaveObject()
                        }),
                        a
                },
                save: function() {
                    this.load.remembered || (this.load.remembered = {}),
                        this.load.remembered[this.preset] = w(this),
                        y(this, !1)
                },
                saveAs: function(a) {
                    this.load.remembered || (this.load.remembered = {},
                        this.load.remembered[B] = w(this, !0)),
                        this.load.remembered[a] = w(this),
                        this.preset = a,
                        x(this, a, !0)
                },
                revert: function(a) {
                    o.each(this.__controllers, function(b) {
                        this.getRoot().load.remembered ? s(a || this.getRoot(), b) : b.setValue(b.initialValue)
                    }, this),
                        o.each(this.__folders, function(a) {
                            a.revert(a)
                        }),
                    a || y(this.getRoot(), !1)
                },
                listen: function(a) {
                    var b = 0 == this.__listening.length;
                    this.__listening.push(a),
                    b && z(this.__listening)
                }
            }),
            H
    }(dat.utils.css, '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>', ".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n", dat.controllers.factory = function(a, b, c, d, e, f, g) {
        return function(h, i, j, k) {
            var l = h[i];
            return g.isArray(j) || g.isObject(j) ? new a(h,i,j) : g.isNumber(l) ? g.isNumber(j) && g.isNumber(k) ? new c(h,i,j,k) : new b(h,i,{
                min: j,
                max: k
            }) : g.isString(l) ? new d(h,i) : g.isFunction(l) ? new e(h,i,"") : g.isBoolean(l) ? new f(h,i) : void 0
        }
    }(dat.controllers.OptionController, dat.controllers.NumberControllerBox, dat.controllers.NumberControllerSlider, dat.controllers.StringController = function(a, b, c) {
        var d = function(a, c) {
                function e() {
                    f.setValue(f.__input.value)
                }
                d.superclass.call(this, a, c);
                var f = this;
                this.__input = document.createElement("input"),
                    this.__input.setAttribute("type", "text"),
                    b.bind(this.__input, "keyup", e),
                    b.bind(this.__input, "change", e),
                    b.bind(this.__input, "blur", function() {
                        f.__onFinishChange && f.__onFinishChange.call(f, f.getValue())
                    }),
                    b.bind(this.__input, "keydown", function(a) {
                        13 === a.keyCode && this.blur()
                    }),
                    this.updateDisplay(),
                    this.domElement.appendChild(this.__input)
            }
            ;
        return d.superclass = a,
            c.extend(d.prototype, a.prototype, {
                updateDisplay: function() {
                    return b.isActive(this.__input) || (this.__input.value = this.getValue()),
                        d.superclass.prototype.updateDisplay.call(this)
                }
            }),
            d
    }(dat.controllers.Controller, dat.dom.dom, dat.utils.common), dat.controllers.FunctionController, dat.controllers.BooleanController, dat.utils.common), dat.controllers.Controller, dat.controllers.BooleanController, dat.controllers.FunctionController, dat.controllers.NumberControllerBox, dat.controllers.NumberControllerSlider, dat.controllers.OptionController, dat.controllers.ColorController = function(a, b, c, d, e) {
        function f(a, b, c, d) {
            a.style.background = "",
                e.each(i, function(e) {
                    a.style.cssText += "background: " + e + "linear-gradient(" + b + ", " + c + " 0%, " + d + " 100%); "
                })
        }
        function g(a) {
            a.style.background = "",
                a.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",
                a.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",
                a.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",
                a.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",
                a.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"
        }
        var h = function(a, i) {
                function j(a) {
                    n(a),
                        b.bind(window, "mousemove", n),
                        b.bind(window, "mouseup", k)
                }
                function k() {
                    b.unbind(window, "mousemove", n),
                        b.unbind(window, "mouseup", k)
                }
                function l() {
                    var a = d(this.value);
                    a !== !1 ? (p.__color.__state = a,
                        p.setValue(p.__color.toOriginal())) : this.value = p.__color.toString()
                }
                function m() {
                    b.unbind(window, "mousemove", o),
                        b.unbind(window, "mouseup", m)
                }
                function n(a) {
                    a.preventDefault();
                    var c = b.getWidth(p.__saturation_field)
                        , d = b.getOffset(p.__saturation_field)
                        , e = (a.clientX - d.left + document.body.scrollLeft) / c
                        , a = 1 - (a.clientY - d.top + document.body.scrollTop) / c;
                    return a > 1 ? a = 1 : 0 > a && (a = 0),
                        e > 1 ? e = 1 : 0 > e && (e = 0),
                        p.__color.v = a,
                        p.__color.s = e,
                        p.setValue(p.__color.toOriginal()),
                        !1
                }
                function o(a) {
                    a.preventDefault();
                    var c = b.getHeight(p.__hue_field)
                        , d = b.getOffset(p.__hue_field)
                        , a = 1 - (a.clientY - d.top + document.body.scrollTop) / c;
                    return a > 1 ? a = 1 : 0 > a && (a = 0),
                        p.__color.h = 360 * a,
                        p.setValue(p.__color.toOriginal()),
                        !1
                }
                h.superclass.call(this, a, i),
                    this.__color = new c(this.getValue()),
                    this.__temp = new c(0);
                var p = this;
                this.domElement = document.createElement("div"),
                    b.makeSelectable(this.domElement, !1),
                    this.__selector = document.createElement("div"),
                    this.__selector.className = "selector",
                    this.__saturation_field = document.createElement("div"),
                    this.__saturation_field.className = "saturation-field",
                    this.__field_knob = document.createElement("div"),
                    this.__field_knob.className = "field-knob",
                    this.__field_knob_border = "2px solid ",
                    this.__hue_knob = document.createElement("div"),
                    this.__hue_knob.className = "hue-knob",
                    this.__hue_field = document.createElement("div"),
                    this.__hue_field.className = "hue-field",
                    this.__input = document.createElement("input"),
                    this.__input.type = "text",
                    this.__input_textShadow = "0 1px 1px ",
                    b.bind(this.__input, "keydown", function(a) {
                        13 === a.keyCode && l.call(this)
                    }),
                    b.bind(this.__input, "blur", l),
                    b.bind(this.__selector, "mousedown", function() {
                        b.addClass(this, "drag").bind(window, "mouseup", function() {
                            b.removeClass(p.__selector, "drag")
                        })
                    });
                var q = document.createElement("div");
                e.extend(this.__selector.style, {
                    width: "122px",
                    height: "102px",
                    padding: "3px",
                    backgroundColor: "#222",
                    boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
                }),
                    e.extend(this.__field_knob.style, {
                        position: "absolute",
                        width: "12px",
                        height: "12px",
                        border: this.__field_knob_border + (this.__color.v < .5 ? "#fff" : "#000"),
                        boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                        borderRadius: "12px",
                        zIndex: 1
                    }),
                    e.extend(this.__hue_knob.style, {
                        position: "absolute",
                        width: "15px",
                        height: "2px",
                        borderRight: "4px solid #fff",
                        zIndex: 1
                    }),
                    e.extend(this.__saturation_field.style, {
                        width: "100px",
                        height: "100px",
                        border: "1px solid #555",
                        marginRight: "3px",
                        display: "inline-block",
                        cursor: "pointer"
                    }),
                    e.extend(q.style, {
                        width: "100%",
                        height: "100%",
                        background: "none"
                    }),
                    f(q, "top", "rgba(0,0,0,0)", "#000"),
                    e.extend(this.__hue_field.style, {
                        width: "15px",
                        height: "100px",
                        display: "inline-block",
                        border: "1px solid #555",
                        cursor: "ns-resize"
                    }),
                    g(this.__hue_field),
                    e.extend(this.__input.style, {
                        outline: "none",
                        textAlign: "center",
                        color: "#fff",
                        border: 0,
                        fontWeight: "bold",
                        textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)"
                    }),
                    b.bind(this.__saturation_field, "mousedown", j),
                    b.bind(this.__field_knob, "mousedown", j),
                    b.bind(this.__hue_field, "mousedown", function(a) {
                        o(a),
                            b.bind(window, "mousemove", o),
                            b.bind(window, "mouseup", m)
                    }),
                    this.__saturation_field.appendChild(q),
                    this.__selector.appendChild(this.__field_knob),
                    this.__selector.appendChild(this.__saturation_field),
                    this.__selector.appendChild(this.__hue_field),
                    this.__hue_field.appendChild(this.__hue_knob),
                    this.domElement.appendChild(this.__input),
                    this.domElement.appendChild(this.__selector),
                    this.updateDisplay()
            }
            ;
        h.superclass = a,
            e.extend(h.prototype, a.prototype, {
                updateDisplay: function() {
                    var a = d(this.getValue());
                    if (a !== !1) {
                        var b = !1;
                        e.each(c.COMPONENTS, function(c) {
                            return e.isUndefined(a[c]) || e.isUndefined(this.__color.__state[c]) || a[c] === this.__color.__state[c] ? void 0 : (b = !0,
                            {})
                        }, this),
                        b && e.extend(this.__color.__state, a)
                    }
                    e.extend(this.__temp.__state, this.__color.__state),
                        this.__temp.a = 1;
                    var g = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0
                        , h = 255 - g;
                    e.extend(this.__field_knob.style, {
                        marginLeft: 100 * this.__color.s - 7 + "px",
                        marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                        backgroundColor: this.__temp.toString(),
                        border: this.__field_knob_border + "rgb(" + g + "," + g + "," + g + ")"
                    }),
                        this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px",
                        this.__temp.s = 1,
                        this.__temp.v = 1,
                        f(this.__saturation_field, "left", "#fff", this.__temp.toString()),
                        e.extend(this.__input.style, {
                            backgroundColor: this.__input.value = this.__color.toString(),
                            color: "rgb(" + g + "," + g + "," + g + ")",
                            textShadow: this.__input_textShadow + "rgba(" + h + "," + h + "," + h + ",.7)"
                        })
                }
            });
        var i = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
        return h
    }(dat.controllers.Controller, dat.dom.dom, dat.color.Color = function(a, b, c, d) {
        function e(a, b, c) {
            Object.defineProperty(a, b, {
                get: function() {
                    return "RGB" === this.__state.space ? this.__state[b] : (g(this, b, c),
                        this.__state[b])
                },
                set: function(a) {
                    "RGB" !== this.__state.space && (g(this, b, c),
                        this.__state.space = "RGB"),
                        this.__state[b] = a
                }
            })
        }
        function f(a, b) {
            Object.defineProperty(a, b, {
                get: function() {
                    return "HSV" === this.__state.space ? this.__state[b] : (h(this),
                        this.__state[b])
                },
                set: function(a) {
                    "HSV" !== this.__state.space && (h(this),
                        this.__state.space = "HSV"),
                        this.__state[b] = a
                }
            })
        }
        function g(a, c, e) {
            if ("HEX" === a.__state.space)
                a.__state[c] = b.component_from_hex(a.__state.hex, e);
            else {
                if ("HSV" !== a.__state.space)
                    throw "Corrupted color state";
                d.extend(a.__state, b.hsv_to_rgb(a.__state.h, a.__state.s, a.__state.v))
            }
        }
        function h(a) {
            var c = b.rgb_to_hsv(a.r, a.g, a.b);
            d.extend(a.__state, {
                s: c.s,
                v: c.v
            }),
                d.isNaN(c.h) ? d.isUndefined(a.__state.h) && (a.__state.h = 0) : a.__state.h = c.h
        }
        var i = function() {
                if (this.__state = a.apply(this, arguments),
                    this.__state === !1)
                    throw "Failed to interpret color arguments";
                this.__state.a = this.__state.a || 1
            }
            ;
        return i.COMPONENTS = "r,g,b,h,s,v,hex,a".split(","),
            d.extend(i.prototype, {
                toString: function() {
                    return c(this)
                },
                toOriginal: function() {
                    return this.__state.conversion.write(this)
                }
            }),
            e(i.prototype, "r", 2),
            e(i.prototype, "g", 1),
            e(i.prototype, "b", 0),
            f(i.prototype, "h"),
            f(i.prototype, "s"),
            f(i.prototype, "v"),
            Object.defineProperty(i.prototype, "a", {
                get: function() {
                    return this.__state.a
                },
                set: function(a) {
                    this.__state.a = a
                }
            }),
            Object.defineProperty(i.prototype, "hex", {
                get: function() {
                    return "HEX" !== !this.__state.space && (this.__state.hex = b.rgb_to_hex(this.r, this.g, this.b)),
                        this.__state.hex
                },
                set: function(a) {
                    this.__state.space = "HEX",
                        this.__state.hex = a
                }
            }),
            i
    }(dat.color.interpret, dat.color.math = function() {
        var a;
        return {
            hsv_to_rgb: function(a, b, c) {
                var d = a / 60 - Math.floor(a / 60)
                    , e = c * (1 - b)
                    , f = c * (1 - d * b)
                    , b = c * (1 - (1 - d) * b)
                    , a = [[c, b, e], [f, c, e], [e, c, b], [e, f, c], [b, e, c], [c, e, f]][Math.floor(a / 60) % 6];
                return {
                    r: 255 * a[0],
                    g: 255 * a[1],
                    b: 255 * a[2]
                }
            },
            rgb_to_hsv: function(a, b, c) {
                var d = Math.min(a, b, c)
                    , e = Math.max(a, b, c)
                    , d = e - d;
                return 0 == e ? {
                    h: NaN,
                    s: 0,
                    v: 0
                } : (a = a == e ? (b - c) / d : b == e ? 2 + (c - a) / d : 4 + (a - b) / d,
                    a /= 6,
                0 > a && (a += 1),
                {
                    h: 360 * a,
                    s: d / e,
                    v: e / 255
                })
            },
            rgb_to_hex: function(a, b, c) {
                return a = this.hex_with_component(0, 2, a),
                    a = this.hex_with_component(a, 1, b),
                    a = this.hex_with_component(a, 0, c)
            },
            component_from_hex: function(a, b) {
                return a >> 8 * b & 255
            },
            hex_with_component: function(b, c, d) {
                return d << (a = 8 * c) | b & ~(255 << a)
            }
        }
    }(), dat.color.toString, dat.utils.common), dat.color.interpret, dat.utils.common), dat.utils.requestAnimationFrame = function() {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(a) {
                window.setTimeout(a, 1e3 / 60)
            }
    }(), dat.dom.CenteredDiv = function(a, b) {
        var c = function() {
                this.backgroundElement = document.createElement("div"),
                    b.extend(this.backgroundElement.style, {
                        backgroundColor: "rgba(0,0,0,0.8)",
                        top: 0,
                        left: 0,
                        display: "none",
                        zIndex: "1000",
                        opacity: 0,
                        WebkitTransition: "opacity 0.2s linear"
                    }),
                    a.makeFullscreen(this.backgroundElement),
                    this.backgroundElement.style.position = "fixed",
                    this.domElement = document.createElement("div"),
                    b.extend(this.domElement.style, {
                        position: "fixed",
                        display: "none",
                        zIndex: "1001",
                        opacity: 0,
                        WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear"
                    }),
                    document.body.appendChild(this.backgroundElement),
                    document.body.appendChild(this.domElement);
                var c = this;
                a.bind(this.backgroundElement, "click", function() {
                    c.hide()
                })
            }
            ;
        return c.prototype.show = function() {
            var a = this;
            this.backgroundElement.style.display = "block",
                this.domElement.style.display = "block",
                this.domElement.style.opacity = 0,
                this.domElement.style.webkitTransform = "scale(1.1)",
                this.layout(),
                b.defer(function() {
                    a.backgroundElement.style.opacity = 1,
                        a.domElement.style.opacity = 1,
                        a.domElement.style.webkitTransform = "scale(1)"
                })
        }
            ,
            c.prototype.hide = function() {
                var b = this
                    , c = function() {
                        b.domElement.style.display = "none",
                            b.backgroundElement.style.display = "none",
                            a.unbind(b.domElement, "webkitTransitionEnd", c),
                            a.unbind(b.domElement, "transitionend", c),
                            a.unbind(b.domElement, "oTransitionEnd", c)
                    }
                    ;
                a.bind(this.domElement, "webkitTransitionEnd", c),
                    a.bind(this.domElement, "transitionend", c),
                    a.bind(this.domElement, "oTransitionEnd", c),
                    this.backgroundElement.style.opacity = 0,
                    this.domElement.style.opacity = 0,
                    this.domElement.style.webkitTransform = "scale(1.1)"
            }
            ,
            c.prototype.layout = function() {
                this.domElement.style.left = window.innerWidth / 2 - a.getWidth(this.domElement) / 2 + "px",
                    this.domElement.style.top = window.innerHeight / 2 - a.getHeight(this.domElement) / 2 + "px"
            }
            ,
            c
    }(dat.dom.dom, dat.utils.common), dat.dom.dom, dat.utils.common),
    THREE.ColladaLoader = function() {
        function a(a, c, d, e) {
            var f = 0;
            if (document.implementation && document.implementation.createDocument) {
                var g = new XMLHttpRequest;
                g.onreadystatechange = function() {
                    4 === g.readyState ? 0 === g.status || 200 === g.status ? g.response ? (Ma = c,
                        b(g.response, void 0, a)) : e ? e({
                        type: "error",
                        url: a
                    }) : console.error("ColladaLoader: Empty or non-existing file (" + a + ")") : e ? e({
                        type: "error",
                        url: a
                    }) : console.error("ColladaLoader: Couldn't load \"" + a + '" (' + g.status + ")") : 3 === g.readyState && d && (0 === f && (f = g.getResponseHeader("Content-Length")),
                        d({
                            total: f,
                            loaded: g.responseText.length
                        }))
                }
                    ,
                    g.open("GET", a, !0),
                    g.send(null )
            } else
                alert("Don't know how to parse XML!")
        }
        function b(a, b, c) {
            if (Ka = (new DOMParser).parseFromString(a, "text/xml"),
                    b = b || Ma,
                void 0 !== c) {
                var i = c.split("/");
                i.pop(),
                    Ha = (i.length < 1 ? "." : i.join("/")) + "/"
            }
            d(),
                ua(),
                Oa = e("library_images image", A, "image"),
                Sa = e("library_materials material", U, "material"),
                Ta = e("library_effects effect", Z, "effect"),
                Ra = e("library_geometries geometry", K, "geometry"),
                Ua = e("library_cameras camera", da, "camera"),
                Va = e("library_lights light", fa, "light"),
                Qa = e("library_controllers controller", B, "controller"),
                Pa = e("library_animations animation", _, "animation"),
                Fa = e("library_visual_scenes visual_scene", E, "visual_scene"),
                Ga = e("library_kinematics_models kinematics_model", ha, "kinematics_model"),
                Ia = [],
                Ja = [],
                Ba = f(),
                La = new THREE.Group;
            for (var j = 0; j < Ba.nodes.length; j++)
                La.add(r(Ba.nodes[j]));
            La.scale.multiplyScalar(Ya),
                h(),
                Ca = g(),
                q();
            var k = {
                scene: La,
                morphs: Ia,
                skins: Ja,
                animations: Da,
                kinematics: Ea,
                dae: {
                    images: Oa,
                    materials: Sa,
                    cameras: Ua,
                    lights: Va,
                    effects: Ta,
                    geometries: Ra,
                    controllers: Qa,
                    animations: Pa,
                    visualScenes: Fa,
                    visualScene: Ba,
                    scene: Ba,
                    kinematicsModels: Ga,
                    kinematicsModel: Ca
                }
            };
            return b && b(k),
                k
        }
        function c(a) {
            Wa = a
        }
        function d() {
            var a = Ka.querySelectorAll("asset")
                , b = a[0];
            if (b && b.childNodes)
                for (var c = 0; c < b.childNodes.length; c++) {
                    var d = b.childNodes[c];
                    switch (d.nodeName) {
                        case "unit":
                            var e = d.getAttribute("meter");
                            e && (Ya = parseFloat(e));
                            break;
                        case "up_axis":
                            Za = d.textContent.charAt(0)
                    }
                }
        }
        function e(a, b, c) {
            for (var d = Ka.querySelectorAll(a), e = {}, f = 0, g = d.length, h = 0; g > h; h++) {
                var i = d[h]
                    , j = (new b).parse(i);
                j.id && 0 !== j.id.length || (j.id = c + f++),
                    e[j.id] = j
            }
            return e
        }
        function f() {
            var a = Ka.querySelectorAll("scene instance_visual_scene")[0];
            if (a) {
                var b = a.getAttribute("url").replace(/^#/, "");
                return Fa[b.length > 0 ? b : "visual_scene0"]
            }
            return null
        }
        function g() {
            var a = Ka.querySelectorAll("instance_kinematics_model")[0];
            if (a) {
                var b = a.getAttribute("url").replace(/^#/, "");
                return Ga[b.length > 0 ? b : "kinematics_model0"]
            }
            return null
        }
        function h() {
            Da = [],
                i(La)
        }
        function i(a) {
            var b = Ba.getChildById(a.colladaId, !0)
                , c = null ;
            if (b && b.keys) {
                c = {
                    fps: 60,
                    hierarchy: [{
                        node: b,
                        keys: b.keys,
                        sids: b.sids
                    }],
                    node: a,
                    name: "animation_" + a.name,
                    length: 0
                },
                    Da.push(c);
                for (var d = 0, e = b.keys.length; e > d; d++)
                    c.length = Math.max(c.length, b.keys[d].time)
            } else
                c = {
                    hierarchy: [{
                        keys: [],
                        sids: []
                    }]
                };
            for (var d = 0, e = a.children.length; e > d; d++)
                for (var f = i(a.children[d]), g = 0, h = f.hierarchy.length; h > g; g++)
                    c.hierarchy.push({
                        keys: [],
                        sids: []
                    });
            return c
        }
        function j() {
            var a, b = 1e6, c = -b, d = 0;
            for (var e in Pa) {
                var f = Pa[e];
                a = a || f.id;
                for (var g = 0; g < f.sampler.length; g++) {
                    var h = f.sampler[g];
                    h.create(),
                        b = Math.min(b, h.startTime),
                        c = Math.max(c, h.endTime),
                        d = Math.max(d, h.input.length)
                }
            }
            return {
                start: b,
                end: c,
                frames: d,
                ID: a
            }
        }
        function k(a, b) {
            var c = b instanceof H ? Qa[b.url] : b;
            if (!c || !c.morph)
                return void console.log("could not find morph controller!");
            for (var d = c.morph, e = 0; e < d.targets.length; e++) {
                var f = d.targets[e]
                    , g = Ra[f];
                if (g.mesh && g.mesh.primitives && g.mesh.primitives.length) {
                    var h = g.mesh.primitives[0].geometry;
                    h.vertices.length === a.vertices.length && a.morphTargets.push({
                        name: "target_1",
                        vertices: h.vertices
                    })
                }
            }
            a.morphTargets.push({
                name: "target_Z",
                vertices: a.vertices
            })
        }
        function l(a, b, c, d) {
            if (a.world = a.world || new THREE.Matrix4,
                    a.localworld = a.localworld || new THREE.Matrix4,
                    a.world.copy(a.matrix),
                    a.localworld.copy(a.matrix),
                a.channels && a.channels.length) {
                var e = a.channels[0]
                    , f = e.sampler.output[c];
                f instanceof THREE.Matrix4 && (a.world.copy(f),
                    a.localworld.copy(f),
                0 === c && a.matrix.copy(f))
            }
            d && a.world.multiplyMatrices(d, a.world),
                b.push(a);
            for (var g = 0; g < a.nodes.length; g++)
                l(a.nodes[g], b, c, a.world)
        }
        function m(a, b) {
            for (var c = 0; c < a.length; c++) {
                var d = a[c]
                    , e = -1;
                if ("JOINT" == d.type) {
                    for (var f = 0; f < b.joints.length; f++)
                        if (d.sid === b.joints[f]) {
                            e = f;
                            break
                        }
                    if (e >= 0) {
                        var g = b.invBindMatrices[e];
                        d.invBindMatrix = g,
                            d.skinningMatrix = new THREE.Matrix4,
                            d.skinningMatrix.multiplyMatrices(d.world, g),
                            d.animatrix = new THREE.Matrix4,
                            d.animatrix.copy(d.localworld),
                            d.weights = [];
                        for (var f = 0; f < b.weights.length; f++)
                            for (var h = 0; h < b.weights[f].length; h++) {
                                var i = b.weights[f][h];
                                i.joint === e && d.weights.push(i)
                            }
                    } else
                        console.warn("ColladaLoader: Could not find joint '" + d.sid + "'."),
                            d.skinningMatrix = new THREE.Matrix4,
                            d.weights = []
                }
            }
        }
        function n(a) {
            var b = []
                , c = function(a, b, d) {
                    var e = {};
                    e.name = b.sid,
                        e.parent = a,
                        e.matrix = b.matrix;
                    var f = [new THREE.Vector3, new THREE.Quaternion, new THREE.Vector3];
                    e.matrix.decompose(f[0], f[1], f[2]),
                        e.pos = [f[0].x, f[0].y, f[0].z],
                        e.scl = [f[2].x, f[2].y, f[2].z],
                        e.rotq = [f[1].x, f[1].y, f[1].z, f[1].w],
                        d.push(e);
                    for (var g in b.nodes)
                        c(b.sid, b.nodes[g], d)
                }
                ;
            return c(-1, a, b),
                b
        }
        function o(a, b, c) {
            var d = [];
            l(b, d, -1),
                m(d, c.skin);
            for (var e = new THREE.Vector3, f = [], g = 0; g < a.vertices.length; g++)
                f.push(new THREE.Vector3);
            for (g = 0; g < d.length; g++)
                if ("JOINT" == d[g].type)
                    for (var h = 0; h < d[g].weights.length; h++) {
                        var i = d[g].weights[h]
                            , j = i.index
                            , k = i.weight
                            , n = a.vertices[j]
                            , o = f[j];
                        e.x = n.x,
                            e.y = n.y,
                            e.z = n.z,
                            e.applyMatrix4(d[g].skinningMatrix),
                            o.x += e.x * k,
                            o.y += e.y * k,
                            o.z += e.z * k
                    }
            for (var g = 0; g < a.vertices.length; g++)
                a.vertices[g] = f[g]
        }
        function p(a, b, c) {
            var d = Qa[b.url];
            if (c = void 0 !== c ? c : 40,
                !d || !d.skin)
                return void console.log("ColladaLoader: Could not find skin controller.");
            if (!b.skeleton || !b.skeleton.length)
                return void console.log("ColladaLoader: Could not find the skeleton for the skin. ");
            for (var e = j(), f = Ba.getChildById(b.skeleton[0], !0) || Ba.getChildBySid(b.skeleton[0], !0), g = n(f), h = d.skin.joints, i = [], k = 0; k < h.length; k++)
                for (var p = 0; p < g.length; p++)
                    g[p].name === h[k] && (i[k] = g[p]);
            for (var k = 0; k < i.length; k++)
                for (var p = 0; p < i.length; p++)
                    i[k].parent === i[p].name && (i[k].parent = p);
            var k, p, q;
            for (new THREE.Vector3,
                     k = 0; k < a.vertices.length; k++)
                a.vertices[k].applyMatrix4(d.skin.bindShapeMatrix);
            for (var r = [], s = [], t = d.skin.weights, k = 0; k < t.length; k++) {
                var u = new THREE.Vector4(t[k][0] ? t[k][0].joint : 0,t[k][1] ? t[k][1].joint : 0,t[k][2] ? t[k][2].joint : 0,t[k][3] ? t[k][3].joint : 0)
                    , q = new THREE.Vector4(t[k][0] ? t[k][0].weight : 0,t[k][1] ? t[k][1].weight : 0,t[k][2] ? t[k][2].weight : 0,t[k][3] ? t[k][3].weight : 0);
                r.push(u),
                    s.push(q)
            }
            a.skinIndices = r,
                a.skinWeights = s,
                a.bones = i;
            for (var v = {
                name: e.ID,
                fps: 30,
                length: e.frames / 30,
                hierarchy: []
            }, p = 0; p < i.length; p++)
                v.hierarchy.push({
                    parent: i[p].parent,
                    name: i[p].name,
                    keys: []
                });
            for (console.log("ColladaLoader:", e.ID + " has " + i.length + " bones."),
                     o(a, f, d),
                     c = 0; c < e.frames; c++) {
                var w = [];
                l(f, w, c),
                    m(w, d.skin);
                for (var k = 0; k < w.length; k++)
                    for (var p = 0; p < v.hierarchy.length; p++)
                        if (v.hierarchy[p].name === w[k].sid) {
                            var x = {};
                            x.time = c / 30,
                                x.matrix = w[k].animatrix,
                            0 === c && (w[k].matrix = x.matrix);
                            var y = [new THREE.Vector3, new THREE.Quaternion, new THREE.Vector3];
                            x.matrix.decompose(y[0], y[1], y[2]),
                                x.pos = [y[0].x, y[0].y, y[0].z],
                                x.scl = [y[2].x, y[2].y, y[2].z],
                                x.rot = y[1],
                                v.hierarchy[p].keys.push(x)
                        }
                a.animation = v
            }
        }
        function q() {
            if (Ca && 0 === Ca.joints.length)
                return void (Ea = void 0);
            var a = {}
                , b = function(b, c) {
                    var d = c.getAttribute("id")
                        , e = Ba.getChildById(d, !0)
                        , f = Ca.joints[b];
                    La.traverse(function(c) {
                        c.colladaId == d && (a[b] = {
                            node: c,
                            transforms: e.transforms,
                            joint: f,
                            position: f.zeroPosition
                        })
                    })
                }
                ;
            Ea = {
                joints: Ca && Ca.joints,
                getJointValue: function(b) {
                    var c = a[b];
                    return c ? c.position : void console.log("getJointValue: joint " + b + " doesn't exist")
                },
                setJointValue: function(b, c) {
                    var e = a[b];
                    if (e) {
                        var f = e.joint;
                        if (c > f.limits.max || c < f.limits.min)
                            console.log("setJointValue: joint " + b + " value " + c + " outside of limits (min: " + f.limits.min + ", max: " + f.limits.max + ")");
                        else if (f.static)
                            console.log("setJointValue: joint " + b + " is static");
                        else {
                            var g = e.node
                                , h = f.axis
                                , i = e.transforms
                                , j = new THREE.Matrix4;
                            for (d = 0; d < i.length; d++) {
                                var k = i[d];
                                if (k.sid && -1 !== k.sid.indexOf("joint" + b))
                                    switch (f.type) {
                                        case "revolute":
                                            j.multiply(l.makeRotationAxis(h, THREE.Math.degToRad(c)));
                                            break;
                                        case "prismatic":
                                            j.multiply(l.makeTranslation(h.x * c, h.y * c, h.z * c));
                                            break;
                                        default:
                                            console.warn("setJointValue: unknown joint type: " + f.type)
                                    }
                                else {
                                    var l = new THREE.Matrix4;
                                    switch (k.type) {
                                        case "matrix":
                                            j.multiply(k.obj);
                                            break;
                                        case "translate":
                                            j.multiply(l.makeTranslation(k.obj.x, k.obj.y, k.obj.z));
                                            break;
                                        case "rotate":
                                            j.multiply(l.makeRotationAxis(k.obj, k.angle))
                                    }
                                }
                            }
                            var m = j.elements
                                , n = Array.prototype.slice.call(m)
                                , o = [n[0], n[4], n[8], n[12], n[1], n[5], n[9], n[13], n[2], n[6], n[10], n[14], n[3], n[7], n[11], n[15]];
                            g.matrix.set.apply(g.matrix, o),
                                g.matrix.decompose(g.position, g.quaternion, g.scale)
                        }
                    } else
                        console.log("setJointValue: joint " + b + " doesn't exist")
                }
            };
            var c = Ka.querySelector("scene instance_kinematics_scene");
            if (c)
                for (var d = 0; d < c.childNodes.length; d++) {
                    var e = c.childNodes[d];
                    if (1 == e.nodeType)
                        switch (e.nodeName) {
                            case "bind_joint_axis":
                                var f = e.getAttribute("target").split("/").pop()
                                    , g = e.querySelector("axis param").textContent
                                    , h = parseInt(g.split("joint").pop().split(".")[0])
                                    , i = Ka.querySelector('[sid="' + f + '"]');
                                if (i) {
                                    var j = i.parentElement;
                                    b(h, j)
                                }
                        }
                }
        }
        function r(a, b) {
            var c, d, e, f, g = new THREE.Object3D, h = !1;
            for (e = 0; e < a.controllers.length; e++) {
                var i = Qa[a.controllers[e].url];
                switch (i.type) {
                    case "skin":
                        if (Ra[i.skin.source]) {
                            var j = new J;
                            j.url = i.skin.source,
                                j.instance_material = a.controllers[e].instance_material,
                                a.geometries.push(j),
                                h = !0,
                                c = a.controllers[e]
                        } else if (Qa[i.skin.source]) {
                            var l = Qa[i.skin.source];
                            if (d = l,
                                l.morph && Ra[l.morph.source]) {
                                var j = new J;
                                j.url = l.morph.source,
                                    j.instance_material = a.controllers[e].instance_material,
                                    a.geometries.push(j)
                            }
                        }
                        break;
                    case "morph":
                        if (Ra[i.morph.source]) {
                            var j = new J;
                            j.url = i.morph.source,
                                j.instance_material = a.controllers[e].instance_material,
                                a.geometries.push(j),
                                d = a.controllers[e]
                        }
                        console.log("ColladaLoader: Morph-controller partially supported.")
                }
            }
            var m = {};
            for (e = 0; e < a.geometries.length; e++) {
                var n, o = a.geometries[e], q = o.instance_material, s = Ra[o.url], t = {}, u = [], v = 0;
                if (s) {
                    if (!s.mesh || !s.mesh.primitives)
                        continue;if (0 === g.name.length && (g.name = s.id),
                            q)
                        for (f = 0; f < q.length; f++) {
                            var w = q[f]
                                , x = Sa[w.target]
                                , y = x.instance_effect.url
                                , z = Ta[y].shader
                                , A = z.material;
                            if (s.doubleSided) {
                                if (!(w.symbol in m)) {
                                    var B = A.clone();
                                    B.side = THREE.DoubleSide,
                                        m[w.symbol] = B
                                }
                                A = m[w.symbol]
                            }
                            A.opacity = A.opacity ? A.opacity : 1,
                                t[w.symbol] = v,
                                u.push(A),
                                n = A,
                                n.name = null  === x.name || "" === x.name ? x.id : x.name,
                                v++
                        }
                    var C, D = n || new THREE.MeshLambertMaterial({
                            color: 14540253,
                            side: s.doubleSided ? THREE.DoubleSide : THREE.FrontSide
                        }), E = s.mesh.geometry3js;
                    if (v > 1)
                        for (D = new THREE.MultiMaterial(u),
                                 f = 0; f < E.faces.length; f++) {
                            var F = E.faces[f];
                            F.materialIndex = t[F.daeMaterial]
                        }
                    void 0 !== c ? (p(E, c),
                        E.morphTargets.length > 0 ? (D.morphTargets = !0,
                            D.skinning = !1) : (D.morphTargets = !1,
                            D.skinning = !0),
                        C = new THREE.SkinnedMesh(E,D,!1),
                        C.name = "skin_" + Ja.length,
                        Ja.push(C)) : void 0 !== d ? (k(E, d),
                        D.morphTargets = !0,
                        C = new THREE.Mesh(E,D),
                        C.name = "morph_" + Ia.length,
                        Ia.push(C)) : C = E.isLineStrip === !0 ? new THREE.Line(E) : new THREE.Mesh(E,D),
                        g.add(C)
                }
            }
            for (e = 0; e < a.cameras.length; e++) {
                var G = a.cameras[e]
                    , H = Ua[G.url]
                    , I = new THREE.PerspectiveCamera(H.yfov,parseFloat(H.aspect_ratio),parseFloat(H.znear),parseFloat(H.zfar));
                g.add(I)
            }
            for (e = 0; e < a.lights.length; e++) {
                var K = null
                    , L = a.lights[e]
                    , M = Va[L.url];
                if (M && M.technique) {
                    var N = M.color.getHex()
                        , O = M.intensity
                        , P = M.distance
                        , Q = M.falloff_angle;
                    switch (M.technique) {
                        case "directional":
                            K = new THREE.DirectionalLight(N,O,P),
                                K.position.set(0, 0, 1);
                            break;
                        case "point":
                            K = new THREE.PointLight(N,O,P);
                            break;
                        case "spot":
                            K = new THREE.SpotLight(N,O,P,Q),
                                K.position.set(0, 0, 1);
                            break;
                        case "ambient":
                            K = new THREE.AmbientLight(N)
                    }
                }
                K && g.add(K)
            }
            if (g.name = a.name || a.id || "",
                    g.colladaId = a.id || "",
                    g.layer = a.layer || "",
                    g.matrix = a.matrix,
                    g.matrix.decompose(g.position, g.quaternion, g.scale),
                Xa.centerGeometry && g.geometry) {
                var R = g.geometry.center();
                R.multiply(g.scale),
                    R.applyQuaternion(g.quaternion),
                    g.position.sub(R)
            }
            for (e = 0; e < a.nodes.length; e++)
                g.add(r(a.nodes[e], a));
            return g
        }
        function s(a) {
            for (var b = Ka.querySelectorAll("library_nodes node"), c = 0; c < b.length; c++) {
                var d = b[c].attributes.getNamedItem("id");
                if (d && d.value === a)
                    return b[c]
            }
        }
        function t(a) {
            var b = []
                , c = 1e6
                , d = -1e6;
            for (var e in Pa)
                for (var f = Pa[e], g = 0; g < f.channel.length; g++) {
                    var h = f.channel[g]
                        , i = f.sampler[g]
                        , e = h.target.split("/")[0];
                    e == a.id && (i.create(),
                        h.sampler = i,
                        c = Math.min(c, i.startTime),
                        d = Math.max(d, i.endTime),
                        b.push(h))
                }
            return b.length && (a.startTime = c,
                a.endTime = d),
                b
        }
        function u(a) {
            if (a.channels && a.channels.length) {
                for (var b = [], c = [], d = 0, e = a.channels.length; e > d; d++) {
                    var f, g = a.channels[d], h = g.fullSid, i = g.sampler, j = i.input, k = a.getTransformBySid(g.sid);
                    if (g.arrIndices) {
                        f = [];
                        for (var l = 0, m = g.arrIndices.length; m > l; l++)
                            f[l] = za(g.arrIndices[l])
                    } else
                        f = Aa(g.member);
                    if (k) {
                        -1 === c.indexOf(h) && c.push(h);
                        for (var l = 0, m = j.length; m > l; l++) {
                            var n = j[l]
                                , o = i.getData(k.type, l, f)
                                , p = v(b, n);
                            if (!p) {
                                p = new ca(n);
                                var q = w(b, n);
                                b.splice(-1 === q ? b.length : q, 0, p)
                            }
                            p.addTarget(h, k, f, o)
                        }
                    } else
                        console.log('Could not find transform "' + g.sid + '" in node ' + a.id)
                }
                for (var d = 0; d < c.length; d++)
                    for (var r = c[d], l = 0; l < b.length; l++) {
                        var p = b[l];
                        p.hasTarget(r) || x(b, p, l, r)
                    }
                a.keys = b,
                    a.sids = c
            }
        }
        function v(a, b) {
            for (var c = null , d = 0, e = a.length; e > d && null  === c; d++) {
                var f = a[d];
                if (f.time === b)
                    c = f;
                else if (f.time > b)
                    break
            }
            return c
        }
        function w(a, b) {
            for (var c = -1, d = 0, e = a.length; e > d && -1 === c; d++) {
                var f = a[d];
                f.time >= b && (c = d)
            }
            return c
        }
        function x(a, b, c, d) {
            var e = z(a, d, c ? c - 1 : 0)
                , f = y(a, d, c + 1);
            if (e && f) {
                var g, h = (b.time - e.time) / (f.time - e.time), i = e.getTarget(d), j = f.getTarget(d).data, k = i.data;
                if ("matrix" === i.type)
                    g = k;
                else if (k.length) {
                    g = [];
                    for (var l = 0; l < k.length; ++l)
                        g[l] = k[l] + (j[l] - k[l]) * h
                } else
                    g = k + (j - k) * h;
                b.addTarget(d, i.transform, i.member, g)
            }
        }
        function y(a, b, c) {
            for (; c < a.length; c++) {
                var d = a[c];
                if (d.hasTarget(b))
                    return d
            }
            return null
        }
        function z(a, b, c) {
            for (c = c >= 0 ? c : c + a.length; c >= 0; c--) {
                var d = a[c];
                if (d.hasTarget(b))
                    return d
            }
            return null
        }
        function A() {
            this.id = "",
                this.init_from = ""
        }
        function B() {
            this.id = "",
                this.name = "",
                this.type = "",
                this.skin = null ,
                this.morph = null
        }
        function C() {
            this.method = null ,
                this.source = null ,
                this.targets = null ,
                this.weights = null
        }
        function D() {
            this.source = "",
                this.bindShapeMatrix = null ,
                this.invBindMatrices = [],
                this.joints = [],
                this.weights = []
        }
        function E() {
            this.id = "",
                this.name = "",
                this.nodes = [],
                this.scene = new THREE.Group
        }
        function F() {
            this.id = "",
                this.name = "",
                this.sid = "",
                this.nodes = [],
                this.controllers = [],
                this.transforms = [],
                this.geometries = [],
                this.channels = [],
                this.matrix = new THREE.Matrix4
        }
        function G() {
            this.sid = "",
                this.type = "",
                this.data = [],
                this.obj = null
        }
        function H() {
            this.url = "",
                this.skeleton = [],
                this.instance_material = []
        }
        function I() {
            this.symbol = "",
                this.target = ""
        }
        function J() {
            this.url = "",
                this.instance_material = []
        }
        function K() {
            this.id = "",
                this.mesh = null
        }
        function L(a) {
            this.geometry = a.id,
                this.primitives = [],
                this.vertices = null ,
                this.geometry3js = null
        }
        function M() {
            this.material = "",
                this.count = 0,
                this.inputs = [],
                this.vcount = null ,
                this.p = [],
                this.geometry = new THREE.Geometry
        }
        function N() {
            M.call(this),
                this.vcount = []
        }
        function O() {
            M.call(this),
                this.vcount = 1
        }
        function P() {
            M.call(this),
                this.vcount = 3
        }
        function Q() {
            this.source = "",
                this.count = 0,
                this.stride = 0,
                this.params = []
        }
        function R() {
            this.input = {}
        }
        function S() {
            this.semantic = "",
                this.offset = 0,
                this.source = "",
                this.set = 0
        }
        function T(a) {
            this.id = a,
                this.type = null
        }
        function U() {
            this.id = "",
                this.name = "",
                this.instance_effect = null
        }
        function V() {
            this.color = new THREE.Color,
                this.color.setRGB(Math.random(), Math.random(), Math.random()),
                this.color.a = 1,
                this.texture = null ,
                this.texcoord = null ,
                this.texOpts = null
        }
        function W(a, b) {
            this.type = a,
                this.effect = b,
                this.material = null
        }
        function X(a) {
            this.effect = a,
                this.init_from = null ,
                this.format = null
        }
        function Y(a) {
            this.effect = a,
                this.source = null ,
                this.wrap_s = null ,
                this.wrap_t = null ,
                this.minfilter = null ,
                this.magfilter = null ,
                this.mipfilter = null
        }
        function Z() {
            this.id = "",
                this.name = "",
                this.shader = null ,
                this.surface = {},
                this.sampler = {}
        }
        function $() {
            this.url = ""
        }
        function _() {
            this.id = "",
                this.name = "",
                this.source = {},
                this.sampler = [],
                this.channel = []
        }
        function aa(a) {
            this.animation = a,
                this.source = "",
                this.target = "",
                this.fullSid = null ,
                this.sid = null ,
                this.dotSyntax = null ,
                this.arrSyntax = null ,
                this.arrIndices = null ,
                this.member = null
        }
        function ba(a) {
            this.id = "",
                this.animation = a,
                this.inputs = [],
                this.input = null ,
                this.output = null ,
                this.strideOut = null ,
                this.interpolation = null ,
                this.startTime = null ,
                this.endTime = null ,
                this.duration = 0
        }
        function ca(a) {
            this.targets = [],
                this.time = a
        }
        function da() {
            this.id = "",
                this.name = "",
                this.technique = ""
        }
        function ea() {
            this.url = ""
        }
        function fa() {
            this.id = "",
                this.name = "",
                this.technique = ""
        }
        function ga() {
            this.url = ""
        }
        function ha() {
            this.id = "",
                this.name = "",
                this.joints = [],
                this.links = []
        }
        function ia() {
            this.sid = "",
                this.name = "",
                this.axis = new THREE.Vector3,
                this.limits = {
                    min: 0,
                    max: 0
                },
                this.type = "",
                this.static = !1,
                this.zeroPosition = 0,
                this.middlePosition = 0
        }
        function ja() {
            this.sid = "",
                this.name = "",
                this.transforms = [],
                this.attachments = []
        }
        function ka() {
            this.joint = "",
                this.transforms = [],
                this.links = []
        }
        function la(a) {
            var b = a.getAttribute("id");
            return void 0 != Na[b] ? Na[b] : (Na[b] = new T(b).parse(a),
                Na[b])
        }
        function ma(a) {
            for (var b = pa(a), c = [], d = 0, e = b.length; e > d; d++)
                c.push("true" === b[d] || "1" === b[d]);
            return c
        }
        function na(a) {
            for (var b = pa(a), c = [], d = 0, e = b.length; e > d; d++)
                c.push(parseFloat(b[d]));
            return c
        }
        function oa(a) {
            for (var b = pa(a), c = [], d = 0, e = b.length; e > d; d++)
                c.push(parseInt(b[d], 10));
            return c
        }
        function pa(a) {
            return a.length > 0 ? qa(a).split(/\s+/) : []
        }
        function qa(a) {
            return a.replace(/^\s+/, "").replace(/\s+$/, "")
        }
        function ra(a, b, c) {
            return a.hasAttribute(b) ? parseInt(a.getAttribute(b), 10) : c
        }
        function sa(a, b) {
            var c = new THREE.ImageLoader;
            c.load(b, function(b) {
                a.image = b,
                    a.needsUpdate = !0
            })
        }
        function ta(a, b) {
            a.doubleSided = !1;
            var c = b.querySelectorAll("extra double_sided")[0];
            c && c && 1 === parseInt(c.textContent, 10) && (a.doubleSided = !0)
        }
        function ua() {
            if (Xa.convertUpAxis !== !0 || Za === Xa.upAxis)
                $a = null ;
            else
                switch (Za) {
                    case "X":
                        $a = "Y" === Xa.upAxis ? "XtoY" : "XtoZ";
                        break;
                    case "Y":
                        $a = "X" === Xa.upAxis ? "YtoX" : "YtoZ";
                        break;
                    case "Z":
                        $a = "X" === Xa.upAxis ? "ZtoX" : "ZtoY"
                }
        }
        function va(a, b) {
            if (Xa.convertUpAxis === !0 && Za !== Xa.upAxis)
                switch ($a) {
                    case "XtoY":
                        var c = a[0];
                        a[0] = b * a[1],
                            a[1] = c;
                        break;
                    case "XtoZ":
                        var c = a[2];
                        a[2] = a[1],
                            a[1] = a[0],
                            a[0] = c;
                        break;
                    case "YtoX":
                        var c = a[0];
                        a[0] = a[1],
                            a[1] = b * c;
                        break;
                    case "YtoZ":
                        var c = a[1];
                        a[1] = b * a[2],
                            a[2] = c;
                        break;
                    case "ZtoX":
                        var c = a[0];
                        a[0] = a[1],
                            a[1] = a[2],
                            a[2] = c;
                        break;
                    case "ZtoY":
                        var c = a[1];
                        a[1] = a[2],
                            a[2] = b * c
                }
        }
        function wa(a, b) {
            if (Xa.convertUpAxis !== !0 || Za === Xa.upAxis)
                return b;
            switch (a) {
                case "X":
                    b = "XtoY" === $a ? -1 * b : b;
                    break;
                case "Y":
                    b = "YtoZ" === $a || "YtoX" === $a ? -1 * b : b;
                    break;
                case "Z":
                    b = "ZtoY" === $a ? -1 * b : b
            }
            return b
        }
        function xa(a, b) {
            var c = [a[b], a[b + 1], a[b + 2]];
            return va(c, -1),
                new THREE.Vector3(c[0],c[1],c[2])
        }
        function ya(a) {
            if (Xa.convertUpAxis) {
                var b = [a[0], a[4], a[8]];
                va(b, -1),
                    a[0] = b[0],
                    a[4] = b[1],
                    a[8] = b[2],
                    b = [a[1], a[5], a[9]],
                    va(b, -1),
                    a[1] = b[0],
                    a[5] = b[1],
                    a[9] = b[2],
                    b = [a[2], a[6], a[10]],
                    va(b, -1),
                    a[2] = b[0],
                    a[6] = b[1],
                    a[10] = b[2],
                    b = [a[0], a[1], a[2]],
                    va(b, -1),
                    a[0] = b[0],
                    a[1] = b[1],
                    a[2] = b[2],
                    b = [a[4], a[5], a[6]],
                    va(b, -1),
                    a[4] = b[0],
                    a[5] = b[1],
                    a[6] = b[2],
                    b = [a[8], a[9], a[10]],
                    va(b, -1),
                    a[8] = b[0],
                    a[9] = b[1],
                    a[10] = b[2],
                    b = [a[3], a[7], a[11]],
                    va(b, -1),
                    a[3] = b[0],
                    a[7] = b[1],
                    a[11] = b[2]
            }
            return (new THREE.Matrix4).set(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15])
        }
        function za(a) {
            if (a > -1 && 3 > a) {
                var b = ["X", "Y", "Z"]
                    , c = {
                    X: 0,
                    Y: 1,
                    Z: 2
                };
                a = Aa(b[a]),
                    a = c[a]
            }
            return a
        }
        function Aa(a) {
            if (Xa.convertUpAxis)
                switch (a) {
                    case "X":
                        switch ($a) {
                            case "XtoY":
                            case "XtoZ":
                            case "YtoX":
                                a = "Y";
                                break;
                            case "ZtoX":
                                a = "Z"
                        }
                        break;
                    case "Y":
                        switch ($a) {
                            case "XtoY":
                            case "YtoX":
                            case "ZtoX":
                                a = "X";
                                break;
                            case "XtoZ":
                            case "YtoZ":
                            case "ZtoY":
                                a = "Z"
                        }
                        break;
                    case "Z":
                        switch ($a) {
                            case "XtoZ":
                                a = "X";
                                break;
                            case "YtoZ":
                            case "ZtoX":
                            case "ZtoY":
                                a = "Y"
                        }
                }
            return a
        }
        var Ba, Ca, Da, Ea, Fa, Ga, Ha, Ia, Ja, Ka = null , La = null , Ma = null , Na = {}, Oa = {}, Pa = {}, Qa = {}, Ra = {}, Sa = {}, Ta = {}, Ua = {}, Va = {}, Wa = THREE.SmoothShading, Xa = {
            centerGeometry: !1,
            convertUpAxis: !1,
            subdivideFaces: !0,
            upAxis: "Y",
            defaultEnvMap: null
        }, Ya = 1, Za = "Y", $a = null ;
        return A.prototype.parse = function(a) {
            this.id = a.getAttribute("id");
            for (var b = 0; b < a.childNodes.length; b++) {
                var c = a.childNodes[b];
                "init_from" === c.nodeName && (this.init_from = c.textContent)
            }
            return this
        }
            ,
            B.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name"),
                    this.type = "none";
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "skin":
                            this.skin = (new D).parse(c),
                                this.type = c.nodeName;
                            break;
                        case "morph":
                            this.morph = (new C).parse(c),
                                this.type = c.nodeName
                    }
                }
                return this
            }
            ,
            C.prototype.parse = function(a) {
                var b, c = {}, d = [];
                for (this.method = a.getAttribute("method"),
                         this.source = a.getAttribute("source").replace(/^#/, ""),
                         b = 0; b < a.childNodes.length; b++) {
                    var e = a.childNodes[b];
                    if (1 == e.nodeType)
                        switch (e.nodeName) {
                            case "source":
                                var f = (new T).parse(e);
                                c[f.id] = f;
                                break;
                            case "targets":
                                d = this.parseInputs(e);
                                break;
                            default:
                                console.log(e.nodeName)
                        }
                }
                for (b = 0; b < d.length; b++) {
                    var g = d[b]
                        , f = c[g.source];
                    switch (g.semantic) {
                        case "MORPH_TARGET":
                            this.targets = f.read();
                            break;
                        case "MORPH_WEIGHT":
                            this.weights = f.read()
                    }
                }
                return this
            }
            ,
            C.prototype.parseInputs = function(a) {
                for (var b = [], c = 0; c < a.childNodes.length; c++) {
                    var d = a.childNodes[c];
                    if (1 == d.nodeType)
                        switch (d.nodeName) {
                            case "input":
                                b.push((new S).parse(d))
                        }
                }
                return b
            }
            ,
            D.prototype.parse = function(a) {
                var b, c, d = {};
                this.source = a.getAttribute("source").replace(/^#/, ""),
                    this.invBindMatrices = [],
                    this.joints = [],
                    this.weights = [];
                for (var e = 0; e < a.childNodes.length; e++) {
                    var f = a.childNodes[e];
                    if (1 == f.nodeType)
                        switch (f.nodeName) {
                            case "bind_shape_matrix":
                                var g = na(f.textContent);
                                this.bindShapeMatrix = ya(g);
                                break;
                            case "source":
                                var h = (new T).parse(f);
                                d[h.id] = h;
                                break;
                            case "joints":
                                b = f;
                                break;
                            case "vertex_weights":
                                c = f;
                                break;
                            default:
                                console.log(f.nodeName)
                        }
                }
                return this.parseJoints(b, d),
                    this.parseWeights(c, d),
                    this
            }
            ,
            D.prototype.parseJoints = function(a, b) {
                for (var c = 0; c < a.childNodes.length; c++) {
                    var d = a.childNodes[c];
                    if (1 == d.nodeType)
                        switch (d.nodeName) {
                            case "input":
                                var e = (new S).parse(d)
                                    , f = b[e.source];
                                "JOINT" === e.semantic ? this.joints = f.read() : "INV_BIND_MATRIX" === e.semantic && (this.invBindMatrices = f.read())
                        }
                }
            }
            ,
            D.prototype.parseWeights = function(a, b) {
                for (var c, d, e = [], f = 0; f < a.childNodes.length; f++) {
                    var g = a.childNodes[f];
                    if (1 == g.nodeType)
                        switch (g.nodeName) {
                            case "input":
                                e.push((new S).parse(g));
                                break;
                            case "v":
                                c = oa(g.textContent);
                                break;
                            case "vcount":
                                d = oa(g.textContent)
                        }
                }
                for (var h = 0, f = 0; f < d.length; f++) {
                    for (var i = d[f], j = [], k = 0; i > k; k++) {
                        for (var l = {}, m = 0; m < e.length; m++) {
                            var n = e[m]
                                , o = c[h + n.offset];
                            switch (n.semantic) {
                                case "JOINT":
                                    l.joint = o;
                                    break;
                                case "WEIGHT":
                                    l.weight = b[n.source].data[o]
                            }
                        }
                        j.push(l),
                            h += e.length
                    }
                    for (var k = 0; k < j.length; k++)
                        j[k].index = f;
                    this.weights.push(j)
                }
            }
            ,
            E.prototype.getChildById = function(a, b) {
                for (var c = 0; c < this.nodes.length; c++) {
                    var d = this.nodes[c].getChildById(a, b);
                    if (d)
                        return d
                }
                return null
            }
            ,
            E.prototype.getChildBySid = function(a, b) {
                for (var c = 0; c < this.nodes.length; c++) {
                    var d = this.nodes[c].getChildBySid(a, b);
                    if (d)
                        return d
                }
                return null
            }
            ,
            E.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name"),
                    this.nodes = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "node":
                                this.nodes.push((new F).parse(c))
                        }
                }
                return this
            }
            ,
            F.prototype.getChannelForTransform = function(a) {
                for (var b = 0; b < this.channels.length; b++) {
                    var c, d, e = this.channels[b], f = e.target.split("/"), g = (f.shift(),
                        f.shift()), h = g.indexOf(".") >= 0, i = g.indexOf("(") >= 0;
                    if (h)
                        f = g.split("."),
                            g = f.shift(),
                            d = f.shift();
                    else if (i) {
                        c = g.split("("),
                            g = c.shift();
                        for (var j = 0; j < c.length; j++)
                            c[j] = parseInt(c[j].replace(/\)/, ""))
                    }
                    if (g === a)
                        return e.info = {
                            sid: g,
                            dotSyntax: h,
                            arrSyntax: i,
                            arrIndices: c
                        },
                            e
                }
                return null
            }
            ,
            F.prototype.getChildById = function(a, b) {
                if (this.id === a)
                    return this;
                if (b)
                    for (var c = 0; c < this.nodes.length; c++) {
                        var d = this.nodes[c].getChildById(a, b);
                        if (d)
                            return d
                    }
                return null
            }
            ,
            F.prototype.getChildBySid = function(a, b) {
                if (this.sid === a)
                    return this;
                if (b)
                    for (var c = 0; c < this.nodes.length; c++) {
                        var d = this.nodes[c].getChildBySid(a, b);
                        if (d)
                            return d
                    }
                return null
            }
            ,
            F.prototype.getTransformBySid = function(a) {
                for (var b = 0; b < this.transforms.length; b++)
                    if (this.transforms[b].sid === a)
                        return this.transforms[b];
                return null
            }
            ,
            F.prototype.parse = function(a) {
                var b;
                this.id = a.getAttribute("id"),
                    this.sid = a.getAttribute("sid"),
                    this.name = a.getAttribute("name"),
                    this.type = a.getAttribute("type"),
                    this.layer = a.getAttribute("layer"),
                    this.type = "JOINT" === this.type ? this.type : "NODE",
                    this.nodes = [],
                    this.transforms = [],
                    this.geometries = [],
                    this.cameras = [],
                    this.lights = [],
                    this.controllers = [],
                    this.matrix = new THREE.Matrix4;
                for (var c = 0; c < a.childNodes.length; c++) {
                    var d = a.childNodes[c];
                    if (1 == d.nodeType)
                        switch (d.nodeName) {
                            case "node":
                                this.nodes.push((new F).parse(d));
                                break;
                            case "instance_camera":
                                this.cameras.push((new ea).parse(d));
                                break;
                            case "instance_controller":
                                this.controllers.push((new H).parse(d));
                                break;
                            case "instance_geometry":
                                this.geometries.push((new J).parse(d));
                                break;
                            case "instance_light":
                                this.lights.push((new ga).parse(d));
                                break;
                            case "instance_node":
                                b = d.getAttribute("url").replace(/^#/, "");
                                var e = s(b);
                                e && this.nodes.push((new F).parse(e));
                                break;
                            case "rotate":
                            case "translate":
                            case "scale":
                            case "matrix":
                            case "lookat":
                            case "skew":
                                this.transforms.push((new G).parse(d));
                                break;
                            case "extra":
                                break;
                            default:
                                console.log(d.nodeName)
                        }
                }
                return this.channels = t(this),
                    u(this),
                    this.updateMatrix(),
                    this
            }
            ,
            F.prototype.updateMatrix = function() {
                this.matrix.identity();
                for (var a = 0; a < this.transforms.length; a++)
                    this.transforms[a].apply(this.matrix)
            }
            ,
            G.prototype.parse = function(a) {
                return this.sid = a.getAttribute("sid"),
                    this.type = a.nodeName,
                    this.data = na(a.textContent),
                    this.convert(),
                    this
            }
            ,
            G.prototype.convert = function() {
                switch (this.type) {
                    case "matrix":
                        this.obj = ya(this.data);
                        break;
                    case "rotate":
                        this.angle = THREE.Math.degToRad(this.data[3]);
                    case "translate":
                        va(this.data, -1),
                            this.obj = new THREE.Vector3(this.data[0],this.data[1],this.data[2]);
                        break;
                    case "scale":
                        va(this.data, 1),
                            this.obj = new THREE.Vector3(this.data[0],this.data[1],this.data[2]);
                        break;
                    default:
                        console.log("Can not convert Transform of type " + this.type)
                }
            }
            ,
            G.prototype.apply = function() {
                var a = new THREE.Matrix4;
                return function(b) {
                    switch (this.type) {
                        case "matrix":
                            b.multiply(this.obj);
                            break;
                        case "translate":
                            b.multiply(a.makeTranslation(this.obj.x, this.obj.y, this.obj.z));
                            break;
                        case "rotate":
                            b.multiply(a.makeRotationAxis(this.obj, this.angle));
                            break;
                        case "scale":
                            b.scale(this.obj)
                    }
                }
            }(),
            G.prototype.update = function(a, b) {
                var c = ["X", "Y", "Z", "ANGLE"];
                switch (this.type) {
                    case "matrix":
                        if (b)
                            if (1 === b.length)
                                switch (b[0]) {
                                    case 0:
                                        this.obj.n11 = a[0],
                                            this.obj.n21 = a[1],
                                            this.obj.n31 = a[2],
                                            this.obj.n41 = a[3];
                                        break;
                                    case 1:
                                        this.obj.n12 = a[0],
                                            this.obj.n22 = a[1],
                                            this.obj.n32 = a[2],
                                            this.obj.n42 = a[3];
                                        break;
                                    case 2:
                                        this.obj.n13 = a[0],
                                            this.obj.n23 = a[1],
                                            this.obj.n33 = a[2],
                                            this.obj.n43 = a[3];
                                        break;
                                    case 3:
                                        this.obj.n14 = a[0],
                                            this.obj.n24 = a[1],
                                            this.obj.n34 = a[2],
                                            this.obj.n44 = a[3]
                                }
                            else if (2 === b.length) {
                                var d = "n" + (b[0] + 1) + (b[1] + 1);
                                this.obj[d] = a
                            } else
                                console.log("Incorrect addressing of matrix in transform.");
                        else
                            this.obj.copy(a);
                        break;
                    case "translate":
                    case "scale":
                        switch ("[object Array]" === Object.prototype.toString.call(b) && (b = c[b[0]]),
                            b) {
                            case "X":
                                this.obj.x = a;
                                break;
                            case "Y":
                                this.obj.y = a;
                                break;
                            case "Z":
                                this.obj.z = a;
                                break;
                            default:
                                this.obj.x = a[0],
                                    this.obj.y = a[1],
                                    this.obj.z = a[2]
                        }
                        break;
                    case "rotate":
                        switch ("[object Array]" === Object.prototype.toString.call(b) && (b = c[b[0]]),
                            b) {
                            case "X":
                                this.obj.x = a;
                                break;
                            case "Y":
                                this.obj.y = a;
                                break;
                            case "Z":
                                this.obj.z = a;
                                break;
                            case "ANGLE":
                                this.angle = THREE.Math.degToRad(a);
                                break;
                            default:
                                this.obj.x = a[0],
                                    this.obj.y = a[1],
                                    this.obj.z = a[2],
                                    this.angle = THREE.Math.degToRad(a[3])
                        }
                }
            }
            ,
            H.prototype.parse = function(a) {
                this.url = a.getAttribute("url").replace(/^#/, ""),
                    this.skeleton = [],
                    this.instance_material = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 === c.nodeType)
                        switch (c.nodeName) {
                            case "skeleton":
                                this.skeleton.push(c.textContent.replace(/^#/, ""));
                                break;
                            case "bind_material":
                                for (var d = c.querySelectorAll("instance_material"), e = 0; e < d.length; e++) {
                                    var f = d[e];
                                    this.instance_material.push((new I).parse(f))
                                }
                                break;
                            case "extra":
                        }
                }
                return this
            }
            ,
            I.prototype.parse = function(a) {
                return this.symbol = a.getAttribute("symbol"),
                    this.target = a.getAttribute("target").replace(/^#/, ""),
                    this
            }
            ,
            J.prototype.parse = function(a) {
                this.url = a.getAttribute("url").replace(/^#/, ""),
                    this.instance_material = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType && "bind_material" === c.nodeName) {
                        for (var d = c.querySelectorAll("instance_material"), e = 0; e < d.length; e++) {
                            var f = d[e];
                            this.instance_material.push((new I).parse(f))
                        }
                        break
                    }
                }
                return this
            }
            ,
            K.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    ta(this, a);
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "mesh":
                            this.mesh = new L(this).parse(c);
                            break;
                        case "extra":
                    }
                }
                return this
            }
            ,
            L.prototype.parse = function(a) {
                this.primitives = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "source":
                            la(c);
                            break;
                        case "vertices":
                            this.vertices = (new R).parse(c);
                            break;
                        case "linestrips":
                            this.primitives.push((new O).parse(c));
                            break;
                        case "triangles":
                            this.primitives.push((new P).parse(c));
                            break;
                        case "polygons":
                            this.primitives.push((new M).parse(c));
                            break;
                        case "polylist":
                            this.primitives.push((new N).parse(c))
                    }
                }
                if (this.geometry3js = new THREE.Geometry,
                    null  === this.vertices)
                    return this;
                for (var d = Na[this.vertices.input.POSITION.source].data, b = 0; b < d.length; b += 3)
                    this.geometry3js.vertices.push(xa(d, b).clone());
                for (var b = 0; b < this.primitives.length; b++) {
                    var e = this.primitives[b];
                    e.setVertices(this.vertices),
                        this.handlePrimitive(e, this.geometry3js)
                }
                return this.geometry3js.calcNormals && (this.geometry3js.computeVertexNormals(),
                    delete this.geometry3js.calcNormals),
                    this
            }
            ,
            L.prototype.handlePrimitive = function(a, b) {
                if (a instanceof O)
                    return void (b.isLineStrip = !0);
                var c, d, e, f, g, h, i, j = a.p, k = a.inputs, l = 0, m = 3, n = 0, o = [];
                for (c = 0; c < k.length; c++) {
                    e = k[c];
                    var p = e.offset + 1;
                    switch (n = p > n ? p : n,
                        e.semantic) {
                        case "TEXCOORD":
                            o.push(e.set)
                    }
                }
                for (var q = 0; q < j.length; ++q)
                    for (var r = j[q], s = 0; s < r.length; ) {
                        var t = []
                            , u = []
                            , v = null
                            , w = [];
                        for (m = a.vcount ? a.vcount.length ? a.vcount[l++] : a.vcount : r.length / n,
                                 c = 0; m > c; c++)
                            for (d = 0; d < k.length; d++)
                                switch (e = k[d],
                                    h = Na[e.source],
                                    f = r[s + c * n + e.offset],
                                    i = h.accessor.params.length,
                                    g = f * i,
                                    e.semantic) {
                                    case "VERTEX":
                                        t.push(f);
                                        break;
                                    case "NORMAL":
                                        u.push(xa(h.data, g));
                                        break;
                                    case "TEXCOORD":
                                        v = v || {},
                                        void 0 === v[e.set] && (v[e.set] = []),
                                            v[e.set].push(new THREE.Vector2(h.data[g],h.data[g + 1]));
                                        break;
                                    case "COLOR":
                                        w.push((new THREE.Color).setRGB(h.data[g], h.data[g + 1], h.data[g + 2]))
                                }
                        if (0 === u.length)
                            if (e = this.vertices.input.NORMAL) {
                                h = Na[e.source],
                                    i = h.accessor.params.length;
                                for (var x = 0, y = t.length; y > x; x++)
                                    u.push(xa(h.data, t[x] * i))
                            } else
                                b.calcNormals = !0;
                        if (!v && (v = {},
                                e = this.vertices.input.TEXCOORD)) {
                            o.push(e.set),
                                h = Na[e.source],
                                i = h.accessor.params.length;
                            for (var x = 0, y = t.length; y > x; x++)
                                g = t[x] * i,
                                void 0 === v[e.set] && (v[e.set] = []),
                                    v[e.set].push(new THREE.Vector2(h.data[g],1 - h.data[g + 1]))
                        }
                        if (0 === w.length && (e = this.vertices.input.COLOR)) {
                            h = Na[e.source],
                                i = h.accessor.params.length;
                            for (var x = 0, y = t.length; y > x; x++)
                                g = t[x] * i,
                                    w.push((new THREE.Color).setRGB(h.data[g], h.data[g + 1], h.data[g + 2]))
                        }
                        var z, A, B = null , C = [];
                        if (3 === m)
                            C.push(new THREE.Face3(t[0],t[1],t[2],u,w.length ? w : new THREE.Color));
                        else if (4 === m)
                            C.push(new THREE.Face3(t[0],t[1],t[3],u.length ? [u[0].clone(), u[1].clone(), u[3].clone()] : [],w.length ? [w[0], w[1], w[3]] : new THREE.Color)),
                                C.push(new THREE.Face3(t[1],t[2],t[3],u.length ? [u[1].clone(), u[2].clone(), u[3].clone()] : [],w.length ? [w[1], w[2], w[3]] : new THREE.Color));
                        else if (m > 4 && Xa.subdivideFaces) {
                            var D = w.length ? w : new THREE.Color;
                            for (d = 1; m - 1 > d; )
                                C.push(new THREE.Face3(t[0],t[d],t[d + 1],u.length ? [u[0].clone(), u[d++].clone(), u[d].clone()] : [],D))
                        }
                        if (C.length)
                            for (var x = 0, y = C.length; y > x; x++)
                                for (B = C[x],
                                         B.daeMaterial = a.material,
                                         b.faces.push(B),
                                         d = 0; d < o.length; d++)
                                    z = v[o[d]],
                                        A = m > 4 ? [z[0], z[x + 1], z[x + 2]] : 4 === m ? 0 === x ? [z[0], z[1], z[3]] : [z[1].clone(), z[2], z[3].clone()] : [z[0], z[1], z[2]],
                                    void 0 === b.faceVertexUvs[d] && (b.faceVertexUvs[d] = []),
                                        b.faceVertexUvs[d].push(A);
                        else
                            console.log("dropped face with vcount " + m + " for geometry with id: " + b.id);
                        s += n * m
                    }
            }
            ,
            M.prototype.setVertices = function(a) {
                for (var b = 0; b < this.inputs.length; b++)
                    this.inputs[b].source === a.id && (this.inputs[b].source = a.input.POSITION.source)
            }
            ,
            M.prototype.parse = function(a) {
                this.material = a.getAttribute("material"),
                    this.count = ra(a, "count", 0);
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "input":
                            this.inputs.push((new S).parse(a.childNodes[b]));
                            break;
                        case "vcount":
                            this.vcount = oa(c.textContent);
                            break;
                        case "p":
                            this.p.push(oa(c.textContent));
                            break;
                        case "ph":
                            console.warn("polygon holes not yet supported!")
                    }
                }
                return this
            }
            ,
            N.prototype = Object.create(M.prototype),
            N.prototype.constructor = N,
            O.prototype = Object.create(M.prototype),
            O.prototype.constructor = O,
            P.prototype = Object.create(M.prototype),
            P.prototype.constructor = P,
            Q.prototype.parse = function(a) {
                this.params = [],
                    this.source = a.getAttribute("source"),
                    this.count = ra(a, "count", 0),
                    this.stride = ra(a, "stride", 0);
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if ("param" === c.nodeName) {
                        var d = {};
                        d.name = c.getAttribute("name"),
                            d.type = c.getAttribute("type"),
                            this.params.push(d)
                    }
                }
                return this
            }
            ,
            R.prototype.parse = function(a) {
                this.id = a.getAttribute("id");
                for (var b = 0; b < a.childNodes.length; b++)
                    if ("input" === a.childNodes[b].nodeName) {
                        var c = (new S).parse(a.childNodes[b]);
                        this.input[c.semantic] = c
                    }
                return this
            }
            ,
            S.prototype.parse = function(a) {
                return this.semantic = a.getAttribute("semantic"),
                    this.source = a.getAttribute("source").replace(/^#/, ""),
                    this.set = ra(a, "set", -1),
                    this.offset = ra(a, "offset", 0),
                "TEXCOORD" === this.semantic && this.set < 0 && (this.set = 0),
                    this
            }
            ,
            T.prototype.parse = function(a) {
                this.id = a.getAttribute("id");
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "bool_array":
                            this.data = ma(c.textContent),
                                this.type = c.nodeName;
                            break;
                        case "float_array":
                            this.data = na(c.textContent),
                                this.type = c.nodeName;
                            break;
                        case "int_array":
                            this.data = oa(c.textContent),
                                this.type = c.nodeName;
                            break;
                        case "IDREF_array":
                        case "Name_array":
                            this.data = pa(c.textContent),
                                this.type = c.nodeName;
                            break;
                        case "technique_common":
                            for (var d = 0; d < c.childNodes.length; d++)
                                if ("accessor" === c.childNodes[d].nodeName) {
                                    this.accessor = (new Q).parse(c.childNodes[d]);
                                    break
                                }
                    }
                }
                return this
            }
            ,
            T.prototype.read = function() {
                var a = []
                    , b = this.accessor.params[0];
                switch (b.type) {
                    case "IDREF":
                    case "Name":
                    case "name":
                    case "float":
                        return this.data;
                    case "float4x4":
                        for (var c = 0; c < this.data.length; c += 16) {
                            var d = this.data.slice(c, c + 16)
                                , e = ya(d);
                            a.push(e)
                        }
                        break;
                    default:
                        console.log("ColladaLoader: Source: Read dont know how to read " + b.type + ".")
                }
                return a
            }
            ,
            U.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name");
                for (var b = 0; b < a.childNodes.length; b++)
                    if ("instance_effect" === a.childNodes[b].nodeName) {
                        this.instance_effect = (new $).parse(a.childNodes[b]);
                        break
                    }
                return this
            }
            ,
            V.prototype.isColor = function() {
                return null  === this.texture
            }
            ,
            V.prototype.isTexture = function() {
                return null  != this.texture
            }
            ,
            V.prototype.parse = function(a) {
                "transparent" === a.nodeName && (this.opaque = a.getAttribute("opaque"));
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "color":
                                var d = na(c.textContent);
                                this.color = new THREE.Color,
                                    this.color.setRGB(d[0], d[1], d[2]),
                                    this.color.a = d[3];
                                break;
                            case "texture":
                                this.texture = c.getAttribute("texture"),
                                    this.texcoord = c.getAttribute("texcoord"),
                                    this.texOpts = {
                                        offsetU: 0,
                                        offsetV: 0,
                                        repeatU: 1,
                                        repeatV: 1,
                                        wrapU: 1,
                                        wrapV: 1
                                    },
                                    this.parseTexture(c)
                        }
                }
                return this
            }
            ,
            V.prototype.parseTexture = function(a) {
                if (!a.childNodes)
                    return this;
                a.childNodes[1] && "extra" === a.childNodes[1].nodeName && (a = a.childNodes[1],
                a.childNodes[1] && "technique" === a.childNodes[1].nodeName && (a = a.childNodes[1]));
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "offsetU":
                        case "offsetV":
                        case "repeatU":
                        case "repeatV":
                            this.texOpts[c.nodeName] = parseFloat(c.textContent);
                            break;
                        case "wrapU":
                        case "wrapV":
                            "TRUE" === c.textContent.toUpperCase() ? this.texOpts[c.nodeName] = 1 : this.texOpts[c.nodeName] = parseInt(c.textContent);
                            break;
                        default:
                            this.texOpts[c.nodeName] = c.textContent
                    }
                }
                return this
            }
            ,
            W.prototype.parse = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "emission":
                            case "diffuse":
                            case "specular":
                            case "transparent":
                                this[c.nodeName] = (new V).parse(c);
                                break;
                            case "bump":
                                var d = c.getAttribute("bumptype");
                                d ? "heightfield" === d.toLowerCase() ? this.bump = (new V).parse(c) : "normalmap" === d.toLowerCase() ? this.normal = (new V).parse(c) : (console.error("Shader.prototype.parse: Invalid value for attribute 'bumptype' (" + d + ") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'"),
                                    this.bump = (new V).parse(c)) : (console.warn("Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'"),
                                    this.bump = (new V).parse(c));
                                break;
                            case "shininess":
                            case "reflectivity":
                            case "index_of_refraction":
                            case "transparency":
                                var e = c.querySelectorAll("float");
                                e.length > 0 && (this[c.nodeName] = parseFloat(e[0].textContent))
                        }
                }
                return this.create(),
                    this
            }
            ,
            W.prototype.create = function() {
                var a = {}
                    , b = !1;
                if (void 0 !== this.transparency && void 0 !== this.transparent) {
                    var c = (this.transparent,
                    (this.transparent.color.r + this.transparent.color.g + this.transparent.color.b) / 3 * this.transparency);
                    c > 0 && (b = !0,
                        a.transparent = !0,
                        a.opacity = 1 - c)
                }
                var d = {
                    diffuse: "map",
                    ambient: "lightMap",
                    specular: "specularMap",
                    emission: "emissionMap",
                    bump: "bumpMap",
                    normal: "normalMap"
                };
                for (var e in this)
                    switch (e) {
                        case "ambient":
                        case "emission":
                        case "diffuse":
                        case "specular":
                        case "bump":
                        case "normal":
                            var f = this[e];
                            if (f instanceof V)
                                if (f.isTexture()) {
                                    var g = f.texture
                                        , h = this.effect.sampler[g];
                                    if (void 0 !== h && void 0 !== h.source) {
                                        var i = this.effect.surface[h.source];
                                        if (void 0 !== i) {
                                            var j = Oa[i.init_from];
                                            if (j) {
                                                var k, l = Ha + j.init_from, m = THREE.Loader.Handlers.get(l);
                                                null  !== m ? k = m.load(l) : (k = new THREE.Texture,
                                                    sa(k, l)),
                                                    k.wrapS = f.texOpts.wrapU ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping,
                                                    k.wrapT = f.texOpts.wrapV ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping,
                                                    k.offset.x = f.texOpts.offsetU,
                                                    k.offset.y = f.texOpts.offsetV,
                                                    k.repeat.x = f.texOpts.repeatU,
                                                    k.repeat.y = f.texOpts.repeatV,
                                                    a[d[e]] = k,
                                                "emission" === e && (a.emissive = 16777215)
                                            }
                                        }
                                    }
                                } else
                                    "diffuse" !== e && b || ("emission" === e ? a.emissive = f.color.getHex() : a[e] = f.color.getHex());
                            break;
                        case "shininess":
                            a[e] = this[e];
                            break;
                        case "reflectivity":
                            a[e] = this[e],
                            a[e] > 0 && (a.envMap = Xa.defaultEnvMap),
                                a.combine = THREE.MixOperation;
                            break;
                        case "index_of_refraction":
                            a.refractionRatio = this[e],
                            1 !== this[e] && (a.envMap = Xa.defaultEnvMap);
                            break;
                        case "transparency":
                    }
                switch (a.shading = Wa,
                    a.side = this.effect.doubleSided ? THREE.DoubleSide : THREE.FrontSide,
                void 0 !== a.diffuse && (a.color = a.diffuse,
                    delete a.diffuse),
                    this.type) {
                    case "constant":
                        void 0 != a.emissive && (a.color = a.emissive),
                            this.material = new THREE.MeshBasicMaterial(a);
                        break;
                    case "phong":
                    case "blinn":
                        this.material = new THREE.MeshPhongMaterial(a);
                        break;
                    case "lambert":
                    default:
                        this.material = new THREE.MeshLambertMaterial(a)
                }
                return this.material
            }
            ,
            X.prototype.parse = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "init_from":
                                this.init_from = c.textContent;
                                break;
                            case "format":
                                this.format = c.textContent;
                                break;
                            default:
                                console.log("unhandled Surface prop: " + c.nodeName)
                        }
                }
                return this
            }
            ,
            Y.prototype.parse = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "source":
                                this.source = c.textContent;
                                break;
                            case "minfilter":
                                this.minfilter = c.textContent;
                                break;
                            case "magfilter":
                                this.magfilter = c.textContent;
                                break;
                            case "mipfilter":
                                this.mipfilter = c.textContent;
                                break;
                            case "wrap_s":
                                this.wrap_s = c.textContent;
                                break;
                            case "wrap_t":
                                this.wrap_t = c.textContent;
                                break;
                            default:
                                console.log("unhandled Sampler2D prop: " + c.nodeName)
                        }
                }
                return this
            }
            ,
            Z.prototype.create = function() {
                return null  === this.shader ? null  : void 0
            }
            ,
            Z.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name"),
                    ta(this, a),
                    this.shader = null ;
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "profile_COMMON":
                                this.parseTechnique(this.parseProfileCOMMON(c))
                        }
                }
                return this
            }
            ,
            Z.prototype.parseNewparam = function(a) {
                for (var b = a.getAttribute("sid"), c = 0; c < a.childNodes.length; c++) {
                    var d = a.childNodes[c];
                    if (1 == d.nodeType)
                        switch (d.nodeName) {
                            case "surface":
                                this.surface[b] = new X(this).parse(d);
                                break;
                            case "sampler2D":
                                this.sampler[b] = new Y(this).parse(d);
                                break;
                            case "extra":
                                break;
                            default:
                                console.log(d.nodeName)
                        }
                }
            }
            ,
            Z.prototype.parseProfileCOMMON = function(a) {
                for (var b, c = 0; c < a.childNodes.length; c++) {
                    var d = a.childNodes[c];
                    if (1 == d.nodeType)
                        switch (d.nodeName) {
                            case "profile_COMMON":
                                this.parseProfileCOMMON(d);
                                break;
                            case "technique":
                                b = d;
                                break;
                            case "newparam":
                                this.parseNewparam(d);
                                break;
                            case "image":
                                var e = (new A).parse(d);
                                Oa[e.id] = e;
                                break;
                            case "extra":
                                break;
                            default:
                                console.log(d.nodeName)
                        }
                }
                return b
            }
            ,
            Z.prototype.parseTechnique = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "constant":
                            case "lambert":
                            case "blinn":
                            case "phong":
                                this.shader = new W(c.nodeName,this).parse(c);
                                break;
                            case "extra":
                                this.parseExtra(c)
                        }
                }
            }
            ,
            Z.prototype.parseExtra = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "technique":
                                this.parseExtraTechnique(c)
                        }
                }
            }
            ,
            Z.prototype.parseExtraTechnique = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "bump":
                                this.shader.parse(a)
                        }
                }
            }
            ,
            $.prototype.parse = function(a) {
                return this.url = a.getAttribute("url").replace(/^#/, ""),
                    this
            }
            ,
            _.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name"),
                    this.source = {};
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "animation":
                                var d = (new _).parse(c);
                                for (var e in d.source)
                                    this.source[e] = d.source[e];
                                for (var f = 0; f < d.channel.length; f++)
                                    this.channel.push(d.channel[f]),
                                        this.sampler.push(d.sampler[f]);
                                break;
                            case "source":
                                var e = (new T).parse(c);
                                this.source[e.id] = e;
                                break;
                            case "sampler":
                                this.sampler.push(new ba(this).parse(c));
                                break;
                            case "channel":
                                this.channel.push(new aa(this).parse(c))
                        }
                }
                return this
            }
            ,
            aa.prototype.parse = function(a) {
                this.source = a.getAttribute("source").replace(/^#/, ""),
                    this.target = a.getAttribute("target");
                var b = this.target.split("/")
                    , c = (b.shift(),
                    b.shift())
                    , d = c.indexOf(".") >= 0
                    , e = c.indexOf("(") >= 0;
                if (d)
                    b = c.split("."),
                        this.sid = b.shift(),
                        this.member = b.shift();
                else if (e) {
                    var f = c.split("(");
                    this.sid = f.shift();
                    for (var g = 0; g < f.length; g++)
                        f[g] = parseInt(f[g].replace(/\)/, ""));
                    this.arrIndices = f
                } else
                    this.sid = c;
                return this.fullSid = c,
                    this.dotSyntax = d,
                    this.arrSyntax = e,
                    this
            }
            ,
            ba.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.inputs = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "input":
                                this.inputs.push((new S).parse(c))
                        }
                }
                return this
            }
            ,
            ba.prototype.create = function() {
                for (var a = 0; a < this.inputs.length; a++) {
                    var b = this.inputs[a]
                        , c = this.animation.source[b.source];
                    switch (b.semantic) {
                        case "INPUT":
                            this.input = c.read();
                            break;
                        case "OUTPUT":
                            this.output = c.read(),
                                this.strideOut = c.accessor.stride;
                            break;
                        case "INTERPOLATION":
                            this.interpolation = c.read();
                            break;
                        case "IN_TANGENT":
                            break;
                        case "OUT_TANGENT":
                            break;
                        default:
                            console.log(b.semantic)
                    }
                }
                if (this.startTime = 0,
                        this.endTime = 0,
                        this.duration = 0,
                        this.input.length) {
                    this.startTime = 1e8,
                        this.endTime = -1e8;
                    for (var a = 0; a < this.input.length; a++)
                        this.startTime = Math.min(this.startTime, this.input[a]),
                            this.endTime = Math.max(this.endTime, this.input[a]);
                    this.duration = this.endTime - this.startTime
                }
            }
            ,
            ba.prototype.getData = function(a, b, c) {
                var d;
                if ("matrix" === a && 16 === this.strideOut)
                    d = this.output[b];
                else if (this.strideOut > 1) {
                    d = [],
                        b *= this.strideOut;
                    for (var e = 0; e < this.strideOut; ++e)
                        d[e] = this.output[b + e];
                    if (3 === this.strideOut)
                        switch (a) {
                            case "rotate":
                            case "translate":
                                va(d, -1);
                                break;
                            case "scale":
                                va(d, 1)
                        }
                    else
                        4 === this.strideOut && "matrix" === a && va(d, -1)
                } else
                    d = this.output[b],
                    c && "translate" === a && (d = wa(c, d));
                return d
            }
            ,
            ca.prototype.addTarget = function(a, b, c, d) {
                this.targets.push({
                    sid: a,
                    member: c,
                    transform: b,
                    data: d
                })
            }
            ,
            ca.prototype.apply = function(a) {
                for (var b = 0; b < this.targets.length; ++b) {
                    var c = this.targets[b];
                    a && c.sid !== a || c.transform.update(c.data, c.member)
                }
            }
            ,
            ca.prototype.getTarget = function(a) {
                for (var b = 0; b < this.targets.length; ++b)
                    if (this.targets[b].sid === a)
                        return this.targets[b];
                return null
            }
            ,
            ca.prototype.hasTarget = function(a) {
                for (var b = 0; b < this.targets.length; ++b)
                    if (this.targets[b].sid === a)
                        return !0;
                return !1
            }
            ,
            ca.prototype.interpolate = function(a, b) {
                for (var c = 0, d = this.targets.length; d > c; c++) {
                    var e, f = this.targets[c], g = a.getTarget(f.sid);
                    if ("matrix" !== f.transform.type && g) {
                        var h = (b - this.time) / (a.time - this.time)
                            , i = g.data
                            , j = f.data;
                        if (0 > h && (h = 0),
                            h > 1 && (h = 1),
                                j.length) {
                            e = [];
                            for (var k = 0; k < j.length; ++k)
                                e[k] = j[k] + (i[k] - j[k]) * h
                        } else
                            e = j + (i - j) * h
                    } else
                        e = f.data;
                    f.transform.update(e, f.member)
                }
            }
            ,
            da.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name");
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "optics":
                                this.parseOptics(c)
                        }
                }
                return this
            }
            ,
            da.prototype.parseOptics = function(a) {
                for (var b = 0; b < a.childNodes.length; b++)
                    if ("technique_common" === a.childNodes[b].nodeName)
                        for (var c = a.childNodes[b], d = 0; d < c.childNodes.length; d++)
                            if (this.technique = c.childNodes[d].nodeName,
                                "perspective" === this.technique)
                                for (var e = c.childNodes[d], f = 0; f < e.childNodes.length; f++) {
                                    var g = e.childNodes[f];
                                    switch (g.nodeName) {
                                        case "yfov":
                                            this.yfov = g.textContent;
                                            break;
                                        case "xfov":
                                            this.xfov = g.textContent;
                                            break;
                                        case "znear":
                                            this.znear = g.textContent;
                                            break;
                                        case "zfar":
                                            this.zfar = g.textContent;
                                            break;
                                        case "aspect_ratio":
                                            this.aspect_ratio = g.textContent
                                    }
                                }
                            else if ("orthographic" === this.technique)
                                for (var h = c.childNodes[d], f = 0; f < h.childNodes.length; f++) {
                                    var g = h.childNodes[f];
                                    switch (g.nodeName) {
                                        case "xmag":
                                            this.xmag = g.textContent;
                                            break;
                                        case "ymag":
                                            this.ymag = g.textContent;
                                            break;
                                        case "znear":
                                            this.znear = g.textContent;
                                            break;
                                        case "zfar":
                                            this.zfar = g.textContent;
                                            break;
                                        case "aspect_ratio":
                                            this.aspect_ratio = g.textContent
                                    }
                                }
                return this
            }
            ,
            ea.prototype.parse = function(a) {
                return this.url = a.getAttribute("url").replace(/^#/, ""),
                    this
            }
            ,
            fa.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name");
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "technique_common":
                                this.parseCommon(c);
                                break;
                            case "technique":
                                this.parseTechnique(c)
                        }
                }
                return this
            }
            ,
            fa.prototype.parseCommon = function(a) {
                for (var b = 0; b < a.childNodes.length; b++)
                    switch (a.childNodes[b].nodeName) {
                        case "directional":
                        case "point":
                        case "spot":
                        case "ambient":
                            this.technique = a.childNodes[b].nodeName;
                            for (var c = a.childNodes[b], d = 0; d < c.childNodes.length; d++) {
                                var e = c.childNodes[d];
                                switch (e.nodeName) {
                                    case "color":
                                        var f = na(e.textContent);
                                        this.color = new THREE.Color(0),
                                            this.color.setRGB(f[0], f[1], f[2]),
                                            this.color.a = f[3];
                                        break;
                                    case "falloff_angle":
                                        this.falloff_angle = parseFloat(e.textContent);
                                        break;
                                    case "quadratic_attenuation":
                                        var g = parseFloat(e.textContent);
                                        this.distance = g ? Math.sqrt(1 / g) : 0
                                }
                            }
                    }
                return this
            }
            ,
            fa.prototype.parseTechnique = function(a) {
                this.profile = a.getAttribute("profile");
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    switch (c.nodeName) {
                        case "intensity":
                            this.intensity = parseFloat(c.textContent)
                    }
                }
                return this
            }
            ,
            ga.prototype.parse = function(a) {
                return this.url = a.getAttribute("url").replace(/^#/, ""),
                    this
            }
            ,
            ha.prototype.parse = function(a) {
                this.id = a.getAttribute("id"),
                    this.name = a.getAttribute("name"),
                    this.joints = [],
                    this.links = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "technique_common":
                                this.parseCommon(c)
                        }
                }
                return this
            }
            ,
            ha.prototype.parseCommon = function(a) {
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (a.childNodes[b].nodeName) {
                            case "joint":
                                this.joints.push((new ia).parse(c));
                                break;
                            case "link":
                                this.links.push((new ja).parse(c))
                        }
                }
                return this
            }
            ,
            ia.prototype.parse = function(a) {
                this.sid = a.getAttribute("sid"),
                    this.name = a.getAttribute("name"),
                    this.axis = new THREE.Vector3,
                    this.limits = {
                        min: 0,
                        max: 0
                    },
                    this.type = "",
                    this.static = !1,
                    this.zeroPosition = 0,
                    this.middlePosition = 0;
                var b = a.querySelector("axis")
                    , c = na(b.textContent);
                this.axis = xa(c, 0);
                var d = a.querySelector("limits min") ? parseFloat(a.querySelector("limits min").textContent) : -360
                    , e = a.querySelector("limits max") ? parseFloat(a.querySelector("limits max").textContent) : 360;
                this.limits = {
                    min: d,
                    max: e
                };
                for (var f = ["prismatic", "revolute"], g = 0; g < f.length; g++) {
                    var h = f[g]
                        , i = a.querySelector(h);
                    i && (this.type = h)
                }
                return this.limits.min >= this.limits.max && (this.static = !0),
                    this.middlePosition = (this.limits.min + this.limits.max) / 2,
                    this
            }
            ,
            ja.prototype.parse = function(a) {
                this.sid = a.getAttribute("sid"),
                    this.name = a.getAttribute("name"),
                    this.transforms = [],
                    this.attachments = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "attachment_full":
                                this.attachments.push((new ka).parse(c));
                                break;
                            case "rotate":
                            case "translate":
                            case "matrix":
                                this.transforms.push((new G).parse(c))
                        }
                }
                return this
            }
            ,
            ka.prototype.parse = function(a) {
                this.joint = a.getAttribute("joint").split("/").pop(),
                    this.links = [];
                for (var b = 0; b < a.childNodes.length; b++) {
                    var c = a.childNodes[b];
                    if (1 == c.nodeType)
                        switch (c.nodeName) {
                            case "link":
                                this.links.push((new ja).parse(c));
                                break;
                            case "rotate":
                            case "translate":
                            case "matrix":
                                this.transforms.push((new G).parse(c))
                        }
                }
                return this
            }
            ,
        {
            load: a,
            parse: b,
            setPreferredShading: c,
            applySkin: p,
            geometries: Ra,
            options: Xa
        }
    }
    ,
    THREE.Animation = function(a, b) {
        this.root = a,
            this.data = THREE.AnimationHandler.init(b),
            this.hierarchy = THREE.AnimationHandler.parse(a),
            this.currentTime = 0,
            this.timeScale = 1,
            this.isPlaying = !1,
            this.loop = !0,
            this.weight = 0,
            this.interpolationType = THREE.AnimationHandler.LINEAR
    }
    ,
    THREE.Animation.prototype = {
        constructor: THREE.Animation,
        keyTypes: ["pos", "rot", "scl"],
        play: function(a, b) {
            this.currentTime = void 0 !== a ? a : 0,
                this.weight = void 0 !== b ? b : 1,
                this.isPlaying = !0,
                this.reset(),
                THREE.AnimationHandler.play(this)
        },
        stop: function() {
            this.isPlaying = !1,
                THREE.AnimationHandler.stop(this)
        },
        reset: function() {
            for (var a = 0, b = this.hierarchy.length; b > a; a++) {
                var c = this.hierarchy[a];
                void 0 === c.animationCache && (c.animationCache = {
                    animations: {},
                    blending: {
                        positionWeight: 0,
                        quaternionWeight: 0,
                        scaleWeight: 0
                    }
                });
                var d = this.data.name
                    , e = c.animationCache.animations
                    , f = e[d];
                void 0 === f && (f = {
                    prevKey: {
                        pos: 0,
                        rot: 0,
                        scl: 0
                    },
                    nextKey: {
                        pos: 0,
                        rot: 0,
                        scl: 0
                    },
                    originalMatrix: c.matrix
                },
                    e[d] = f);
                for (var g = 0; 3 > g; g++) {
                    for (var h = this.keyTypes[g], i = this.data.hierarchy[a].keys[0], j = this.getNextKeyWith(h, a, 1); j.time < this.currentTime && j.index > i.index; )
                        i = j,
                            j = this.getNextKeyWith(h, a, j.index + 1);
                    f.prevKey[h] = i,
                        f.nextKey[h] = j
                }
            }
        },
        resetBlendWeights: function() {
            for (var a = 0, b = this.hierarchy.length; b > a; a++) {
                var c = this.hierarchy[a]
                    , d = c.animationCache;
                if (void 0 !== d) {
                    var e = d.blending;
                    e.positionWeight = 0,
                        e.quaternionWeight = 0,
                        e.scaleWeight = 0
                }
            }
        },
        update: function() {
            var a = []
                , b = new THREE.Vector3
                , c = new THREE.Vector3
                , d = new THREE.Quaternion
                , e = function(a, b) {
                    var c, d, e, g, h, i, j, k, l, m = [], n = [];
                    return c = (a.length - 1) * b,
                        d = Math.floor(c),
                        e = c - d,
                        m[0] = 0 === d ? d : d - 1,
                        m[1] = d,
                        m[2] = d > a.length - 2 ? d : d + 1,
                        m[3] = d > a.length - 3 ? d : d + 2,
                        i = a[m[0]],
                        j = a[m[1]],
                        k = a[m[2]],
                        l = a[m[3]],
                        g = e * e,
                        h = e * g,
                        n[0] = f(i[0], j[0], k[0], l[0], e, g, h),
                        n[1] = f(i[1], j[1], k[1], l[1], e, g, h),
                        n[2] = f(i[2], j[2], k[2], l[2], e, g, h),
                        n
                }
                , f = function(a, b, c, d, e, f, g) {
                    var h = .5 * (c - a)
                        , i = .5 * (d - b);
                    return (2 * (b - c) + h + i) * g + (-3 * (b - c) - 2 * h - i) * f + h * e + b
                }
                ;
            return function(f) {
                if (this.isPlaying !== !1 && (this.currentTime += f * this.timeScale,
                    0 !== this.weight)) {
                    var g = this.data.length;
                    (this.currentTime > g || this.currentTime < 0) && (this.loop ? (this.currentTime %= g,
                    this.currentTime < 0 && (this.currentTime += g),
                        this.reset()) : this.stop());
                    for (var h = 0, i = this.hierarchy.length; i > h; h++)
                        for (var j = this.hierarchy[h], k = j.animationCache.animations[this.data.name], l = j.animationCache.blending, m = 0; 3 > m; m++) {
                            var n = this.keyTypes[m]
                                , o = k.prevKey[n]
                                , p = k.nextKey[n];
                            if (this.timeScale > 0 && p.time <= this.currentTime || this.timeScale < 0 && o.time >= this.currentTime) {
                                for (o = this.data.hierarchy[h].keys[0],
                                         p = this.getNextKeyWith(n, h, 1); p.time < this.currentTime && p.index > o.index; )
                                    o = p,
                                        p = this.getNextKeyWith(n, h, p.index + 1);
                                k.prevKey[n] = o,
                                    k.nextKey[n] = p
                            }
                            var q = (this.currentTime - o.time) / (p.time - o.time)
                                , r = o[n]
                                , s = p[n];
                            if (0 > q && (q = 0),
                                q > 1 && (q = 1),
                                "pos" === n) {
                                if (this.interpolationType === THREE.AnimationHandler.LINEAR) {
                                    c.x = r[0] + (s[0] - r[0]) * q,
                                        c.y = r[1] + (s[1] - r[1]) * q,
                                        c.z = r[2] + (s[2] - r[2]) * q;
                                    var t = this.weight / (this.weight + l.positionWeight);
                                    j.position.lerp(c, t),
                                        l.positionWeight += this.weight
                                } else if (this.interpolationType === THREE.AnimationHandler.CATMULLROM || this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD) {
                                    a[0] = this.getPrevKeyWith("pos", h, o.index - 1).pos,
                                        a[1] = r,
                                        a[2] = s,
                                        a[3] = this.getNextKeyWith("pos", h, p.index + 1).pos,
                                        q = .33 * q + .33;
                                    var u = e(a, q)
                                        , t = this.weight / (this.weight + l.positionWeight);
                                    l.positionWeight += this.weight;
                                    var v = j.position;
                                    if (v.x = v.x + (u[0] - v.x) * t,
                                            v.y = v.y + (u[1] - v.y) * t,
                                            v.z = v.z + (u[2] - v.z) * t,
                                        this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD) {
                                        var w = e(a, 1.01 * q);
                                        b.set(w[0], w[1], w[2]),
                                            b.sub(v),
                                            b.y = 0,
                                            b.normalize();
                                        var x = Math.atan2(b.x, b.z);
                                        j.rotation.set(0, x, 0)
                                    }
                                }
                            } else if ("rot" === n)
                                if (THREE.Quaternion.slerp(r, s, d, q),
                                    0 === l.quaternionWeight)
                                    j.quaternion.copy(d),
                                        l.quaternionWeight = this.weight;
                                else {
                                    var t = this.weight / (this.weight + l.quaternionWeight);
                                    THREE.Quaternion.slerp(j.quaternion, d, j.quaternion, t),
                                        l.quaternionWeight += this.weight
                                }
                            else if ("scl" === n) {
                                c.x = r[0] + (s[0] - r[0]) * q,
                                    c.y = r[1] + (s[1] - r[1]) * q,
                                    c.z = r[2] + (s[2] - r[2]) * q;
                                var t = this.weight / (this.weight + l.scaleWeight);
                                j.scale.lerp(c, t),
                                    l.scaleWeight += this.weight
                            }
                        }
                    return !0
                }
            }
        }(),
        getNextKeyWith: function(a, b, c) {
            var d = this.data.hierarchy[b].keys;
            for (this.interpolationType === THREE.AnimationHandler.CATMULLROM || this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ? c = c < d.length - 1 ? c : d.length - 1 : c %= d.length; c < d.length; c++)
                if (void 0 !== d[c][a])
                    return d[c];
            return this.data.hierarchy[b].keys[0]
        },
        getPrevKeyWith: function(a, b, c) {
            var d = this.data.hierarchy[b].keys;
            for (c = this.interpolationType === THREE.AnimationHandler.CATMULLROM || this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ? c > 0 ? c : 0 : c >= 0 ? c : c + d.length; c >= 0; c--)
                if (void 0 !== d[c][a])
                    return d[c];
            return this.data.hierarchy[b].keys[d.length - 1]
        }
    },
    THREE.AnimationHandler = {
        LINEAR: 0,
        CATMULLROM: 1,
        CATMULLROM_FORWARD: 2,
        add: function() {
            console.warn("THREE.AnimationHandler.add() has been deprecated.")
        },
        get: function() {
            console.warn("THREE.AnimationHandler.get() has been deprecated.")
        },
        remove: function() {
            console.warn("THREE.AnimationHandler.remove() has been deprecated.")
        },
        animations: [],
        init: function(a) {
            if (a.initialized === !0)
                return a;
            for (var b = 0; b < a.hierarchy.length; b++) {
                for (var c = 0; c < a.hierarchy[b].keys.length; c++)
                    if (a.hierarchy[b].keys[c].time < 0 && (a.hierarchy[b].keys[c].time = 0),
                        void 0 !== a.hierarchy[b].keys[c].rot && !(a.hierarchy[b].keys[c].rot instanceof THREE.Quaternion)) {
                        var d = a.hierarchy[b].keys[c].rot;
                        a.hierarchy[b].keys[c].rot = (new THREE.Quaternion).fromArray(d)
                    }
                if (a.hierarchy[b].keys.length && void 0 !== a.hierarchy[b].keys[0].morphTargets) {
                    for (var e = {}, c = 0; c < a.hierarchy[b].keys.length; c++)
                        for (var f = 0; f < a.hierarchy[b].keys[c].morphTargets.length; f++) {
                            var g = a.hierarchy[b].keys[c].morphTargets[f];
                            e[g] = -1
                        }
                    a.hierarchy[b].usedMorphTargets = e;
                    for (var c = 0; c < a.hierarchy[b].keys.length; c++) {
                        var h = {};
                        for (var g in e) {
                            for (var f = 0; f < a.hierarchy[b].keys[c].morphTargets.length; f++)
                                if (a.hierarchy[b].keys[c].morphTargets[f] === g) {
                                    h[g] = a.hierarchy[b].keys[c].morphTargetsInfluences[f];
                                    break
                                }
                            f === a.hierarchy[b].keys[c].morphTargets.length && (h[g] = 0)
                        }
                        a.hierarchy[b].keys[c].morphTargetsInfluences = h
                    }
                }
                for (var c = 1; c < a.hierarchy[b].keys.length; c++)
                    a.hierarchy[b].keys[c].time === a.hierarchy[b].keys[c - 1].time && (a.hierarchy[b].keys.splice(c, 1),
                        c--);
                for (var c = 0; c < a.hierarchy[b].keys.length; c++)
                    a.hierarchy[b].keys[c].index = c
            }
            return a.initialized = !0,
                a
        },
        parse: function(a) {
            var b = function(a, c) {
                c.push(a);
                for (var d = 0; d < a.children.length; d++)
                    b(a.children[d], c)
            }
                , c = [];
            if (a instanceof THREE.SkinnedMesh)
                for (var d = 0; d < a.skeleton.bones.length; d++)
                    c.push(a.skeleton.bones[d]);
            else
                b(a, c);
            return c
        },
        play: function(a) {
            -1 === this.animations.indexOf(a) && this.animations.push(a)
        },
        stop: function(a) {
            var b = this.animations.indexOf(a);
            -1 !== b && this.animations.splice(b, 1)
        },
        update: function(a) {
            for (var b = 0; b < this.animations.length; b++)
                this.animations[b].resetBlendWeights();
            for (var b = 0; b < this.animations.length; b++)
                this.animations[b].update(a)
        }
    },
    THREE.KeyFrameAnimation = function(a) {
        this.root = a.node,
            this.data = THREE.AnimationHandler.init(a),
            this.hierarchy = THREE.AnimationHandler.parse(this.root),
            this.currentTime = 0,
            this.timeScale = .001,
            this.isPlaying = !1,
            this.isPaused = !0,
            this.loop = !0;
        for (var b = 0, c = this.hierarchy.length; c > b; b++) {
            var d = this.data.hierarchy[b].keys
                , e = this.data.hierarchy[b].sids
                , f = this.hierarchy[b];
            if (d.length && e) {
                for (var g = 0; g < e.length; g++) {
                    var h = e[g]
                        , i = this.getNextKeyWith(h, b, 0);
                    i && i.apply(h)
                }
                f.matrixAutoUpdate = !1,
                    this.data.hierarchy[b].node.updateMatrix(),
                    f.matrixWorldNeedsUpdate = !0
            }
        }
    }
    ,
    THREE.KeyFrameAnimation.prototype = {
        constructor: THREE.KeyFrameAnimation,
        play: function(a) {
            if (this.currentTime = void 0 !== a ? a : 0,
                this.isPlaying === !1) {
                this.isPlaying = !0;
                var b, c, d, e = this.hierarchy.length;
                for (b = 0; e > b; b++) {
                    c = this.hierarchy[b],
                        d = this.data.hierarchy[b],
                    void 0 === d.animationCache && (d.animationCache = {},
                        d.animationCache.prevKey = null ,
                        d.animationCache.nextKey = null ,
                        d.animationCache.originalMatrix = c.matrix);
                    var f = this.data.hierarchy[b].keys;
                    f.length > 1 && (d.animationCache.prevKey = f[0],
                        d.animationCache.nextKey = f[1],
                        this.startTime = Math.min(f[0].time, this.startTime),
                        this.endTime = Math.max(f[f.length - 1].time, this.endTime))
                }
                this.update(0)
            }
            this.isPaused = !1
        },
        stop: function() {
            this.isPlaying = !1,
                this.isPaused = !1;
            for (var a = 0; a < this.data.hierarchy.length; a++) {
                var b = this.hierarchy[a]
                    , c = this.data.hierarchy[a];
                if (void 0 !== c.animationCache) {
                    var d = c.animationCache.originalMatrix;
                    d.copy(b.matrix),
                        b.matrix = d,
                        delete c.animationCache
                }
            }
        },
        update: function(a) {
            if (this.isPlaying !== !1) {
                this.currentTime += a * this.timeScale;
                var b = this.data.length;
                this.loop === !0 && this.currentTime > b && (this.currentTime %= b),
                    this.currentTime = Math.min(this.currentTime, b);
                for (var c = 0, d = this.hierarchy.length; d > c; c++) {
                    var e = this.hierarchy[c]
                        , f = this.data.hierarchy[c]
                        , g = f.keys
                        , h = f.animationCache;
                    if (g.length) {
                        var i = h.prevKey
                            , j = h.nextKey;
                        if (j.time <= this.currentTime) {
                            for (; j.time < this.currentTime && j.index > i.index; )
                                i = j,
                                    j = g[i.index + 1];
                            h.prevKey = i,
                                h.nextKey = j
                        }
                        j.time >= this.currentTime ? i.interpolate(j, this.currentTime) : i.interpolate(j, j.time),
                            this.data.hierarchy[c].node.updateMatrix(),
                            e.matrixWorldNeedsUpdate = !0
                    }
                }
            }
        },
        getNextKeyWith: function(a, b, c) {
            var d = this.data.hierarchy[b].keys;
            for (c %= d.length; c < d.length; c++)
                if (d[c].hasTarget(a))
                    return d[c];
            return d[0]
        },
        getPrevKeyWith: function(a, b, c) {
            var d = this.data.hierarchy[b].keys;
            for (c = c >= 0 ? c : c + d.length; c >= 0; c--)
                if (d[c].hasTarget(a))
                    return d[c];
            return d[d.length - 1]
        }
    },
    THREE.OrbitControls = function(a, b) {
        function c() {
            return 2 * Math.PI / 60 / 60 * H.autoRotateSpeed
        }
        function d() {
            return Math.pow(.95, H.zoomSpeed)
        }
        function e(a) {
            P.theta -= a
        }
        function f(a) {
            P.phi -= a
        }
        function g(a) {
            H.object instanceof THREE.PerspectiveCamera ? Q /= a : H.object instanceof THREE.OrthographicCamera ? (H.object.zoom = Math.max(H.minZoom, Math.min(H.maxZoom, H.object.zoom * a)),
                H.object.updateProjectionMatrix(),
                S = !0) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),
                H.enableZoom = !1)
        }
        function h(a) {
            H.object instanceof THREE.PerspectiveCamera ? Q *= a : H.object instanceof THREE.OrthographicCamera ? (H.object.zoom = Math.max(H.minZoom, Math.min(H.maxZoom, H.object.zoom / a)),
                H.object.updateProjectionMatrix(),
                S = !0) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),
                H.enableZoom = !1)
        }
        function i(a) {
            T.set(a.clientX, a.clientY)
        }
        function j(a) {
            Z.set(a.clientX, a.clientY)
        }
        function k(a) {
            W.set(a.clientX, a.clientY)
        }
        function l(a) {
            U.set(a.clientX, a.clientY),
                V.subVectors(U, T);
            var b = H.domElement === document ? H.domElement.body : H.domElement;
            e(2 * Math.PI * V.x / b.clientWidth * H.rotateSpeed),
                f(2 * Math.PI * V.y / b.clientHeight * H.rotateSpeed),
                T.copy(U),
                H.update()
        }
        function m(a) {
            $.set(a.clientX, a.clientY),
                _.subVectors($, Z),
                _.y > 0 ? g(d()) : _.y < 0 && h(d()),
                Z.copy($),
                H.update()
        }
        function n(a) {
            X.set(a.clientX, a.clientY),
                Y.subVectors(X, W),
                ca(Y.x, Y.y),
                W.copy(X),
                H.update()
        }
        function o(a) {}
        function p(a) {
            var b = 0;
            void 0 !== a.wheelDelta ? b = a.wheelDelta : void 0 !== a.detail && (b = -a.detail),
                b > 0 ? h(d()) : 0 > b && g(d()),
                H.update()
        }
        function q(a) {
            switch (a.keyCode) {
                case H.keys.UP:
                    ca(0, H.keyPanSpeed),
                        H.update();
                    break;
                case H.keys.BOTTOM:
                    ca(0, -H.keyPanSpeed),
                        H.update();
                    break;
                case H.keys.LEFT:
                    ca(H.keyPanSpeed, 0),
                        H.update();
                    break;
                case H.keys.RIGHT:
                    ca(-H.keyPanSpeed, 0),
                        H.update()
            }
        }
        function r(a) {
            T.set(a.touches[0].pageX, a.touches[0].pageY)
        }
        function s(a) {
            var b = a.touches[0].pageX - a.touches[1].pageX
                , c = a.touches[0].pageY - a.touches[1].pageY
                , d = Math.sqrt(b * b + c * c);
            Z.set(0, d)
        }
        function t(a) {
            W.set(a.touches[0].pageX, a.touches[0].pageY)
        }
        function u(a) {
            U.set(a.touches[0].pageX, a.touches[0].pageY),
                V.subVectors(U, T);
            var b = H.domElement === document ? H.domElement.body : H.domElement;
            e(2 * Math.PI * V.x / b.clientWidth * H.rotateSpeed),
                f(2 * Math.PI * V.y / b.clientHeight * H.rotateSpeed),
                T.copy(U),
                H.update()
        }
        function v(a) {
            var b = a.touches[0].pageX - a.touches[1].pageX
                , c = a.touches[0].pageY - a.touches[1].pageY
                , e = Math.sqrt(b * b + c * c);
            $.set(0, e),
                _.subVectors($, Z),
                _.y > 0 ? h(d()) : _.y < 0 && g(d()),
                Z.copy($),
                H.update()
        }
        function w(a) {
            X.set(a.touches[0].pageX, a.touches[0].pageY),
                Y.subVectors(X, W),
                ca(Y.x, Y.y),
                W.copy(X),
                H.update()
        }
        function x(a) {}
        function y(a) {
            if (H.enabled !== !1) {
                if (a.preventDefault(),
                    a.button === H.mouseButtons.ORBIT) {
                    if (H.enableRotate === !1)
                        return;
                    i(a),
                        M = L.ROTATE
                } else if (a.button === H.mouseButtons.ZOOM) {
                    if (H.enableZoom === !1)
                        return;
                    j(a),
                        M = L.DOLLY
                } else if (a.button === H.mouseButtons.PAN) {
                    if (H.enablePan === !1)
                        return;
                    k(a),
                        M = L.PAN
                }
                M !== L.NONE && (document.addEventListener("mousemove", z, !1),
                    document.addEventListener("mouseup", A, !1),
                    document.addEventListener("mouseout", A, !1),
                    H.dispatchEvent(J))
            }
        }
        function z(a) {
            if (H.enabled !== !1)
                if (a.preventDefault(),
                    M === L.ROTATE) {
                    if (H.enableRotate === !1)
                        return;
                    l(a)
                } else if (M === L.DOLLY) {
                    if (H.enableZoom === !1)
                        return;
                    m(a)
                } else if (M === L.PAN) {
                    if (H.enablePan === !1)
                        return;
                    n(a)
                }
        }
        function A(a) {
            H.enabled !== !1 && (o(a),
                document.removeEventListener("mousemove", z, !1),
                document.removeEventListener("mouseup", A, !1),
                document.removeEventListener("mouseout", A, !1),
                H.dispatchEvent(K),
                M = L.NONE)
        }
        function B(a) {
            H.enabled === !1 || H.enableZoom === !1 || M !== L.NONE && M !== L.ROTATE || (a.preventDefault(),
                a.stopPropagation(),
                p(a),
                H.dispatchEvent(J),
                H.dispatchEvent(K))
        }
        function C(a) {
            H.enabled !== !1 && H.enableKeys !== !1 && H.enablePan !== !1 && q(a)
        }
        function D(a) {
            if (H.enabled !== !1) {
                switch (a.touches.length) {
                    case 1:
                        if (H.enableRotate === !1)
                            return;
                        r(a),
                            M = L.TOUCH_ROTATE;
                        break;
                    case 2:
                        if (H.enableZoom === !1)
                            return;
                        s(a),
                            M = L.TOUCH_DOLLY;
                        break;
                    case 3:
                        if (H.enablePan === !1)
                            return;
                        t(a),
                            M = L.TOUCH_PAN;
                        break;
                    default:
                        M = L.NONE
                }
                M !== L.NONE && H.dispatchEvent(J)
            }
        }
        function E(a) {
            if (H.enabled !== !1)
                switch (a.preventDefault(),
                    a.stopPropagation(),
                    a.touches.length) {
                    case 1:
                        if (H.enableRotate === !1)
                            return;
                        if (M !== L.TOUCH_ROTATE)
                            return;
                        u(a);
                        break;
                    case 2:
                        if (H.enableZoom === !1)
                            return;
                        if (M !== L.TOUCH_DOLLY)
                            return;
                        v(a);
                        break;
                    case 3:
                        if (H.enablePan === !1)
                            return;
                        if (M !== L.TOUCH_PAN)
                            return;
                        w(a);
                        break;
                    default:
                        M = L.NONE
                }
        }
        function F(a) {
            H.enabled !== !1 && (x(a),
                H.dispatchEvent(K),
                M = L.NONE)
        }
        function G(a) {
            a.preventDefault()
        }
        this.object = a,
            this.domElement = void 0 !== b ? b : document,
            this.enabled = !0,
            this.target = new THREE.Vector3,
            this.minDistance = 0,
            this.maxDistance = 1 / 0,
            this.minZoom = 0,
            this.maxZoom = 1 / 0,
            this.minPolarAngle = 0,
            this.maxPolarAngle = Math.PI,
            this.minAzimuthAngle = -(1 / 0),
            this.maxAzimuthAngle = 1 / 0,
            this.enableDamping = !1,
            this.dampingFactor = .25,
            this.enableZoom = !0,
            this.zoomSpeed = 1,
            this.enableRotate = !0,
            this.rotateSpeed = 1,
            this.enablePan = !0,
            this.keyPanSpeed = 7,
            this.autoRotate = !1,
            this.autoRotateSpeed = 2,
            this.enableKeys = !0,
            this.keys = {
                LEFT: 37,
                UP: 38,
                RIGHT: 39,
                BOTTOM: 40
            },
            this.mouseButtons = {
                ORBIT: THREE.MOUSE.LEFT,
                ZOOM: THREE.MOUSE.MIDDLE,
                PAN: THREE.MOUSE.RIGHT
            },
            this.target0 = this.target.clone(),
            this.position0 = this.object.position.clone(),
            this.zoom0 = this.object.zoom,
            this.getPolarAngle = function() {
                return O.phi
            }
            ,
            this.getAzimuthalAngle = function() {
                return O.theta
            }
            ,
            this.reset = function() {
                H.target.copy(H.target0),
                    H.object.position.copy(H.position0),
                    H.object.zoom = H.zoom0,
                    H.object.updateProjectionMatrix(),
                    H.dispatchEvent(I),
                    H.update(),
                    M = L.NONE
            }
            ,
            this.update = function() {
                var b = new THREE.Vector3
                    , d = (new THREE.Quaternion).setFromUnitVectors(a.up, new THREE.Vector3(0,1,0))
                    , f = d.clone().inverse()
                    , g = new THREE.Vector3
                    , h = new THREE.Quaternion;
                return function() {
                    var a = H.object.position;
                    return b.copy(a).sub(H.target),
                        b.applyQuaternion(d),
                        O.setFromVector3(b),
                    H.autoRotate && M === L.NONE && e(c()),
                        O.theta += P.theta,
                        O.phi += P.phi,
                        O.theta = Math.max(H.minAzimuthAngle, Math.min(H.maxAzimuthAngle, O.theta)),
                        O.phi = Math.max(H.minPolarAngle, Math.min(H.maxPolarAngle, O.phi)),
                        O.makeSafe(),
                        O.radius *= Q,
                        O.radius = Math.max(H.minDistance, Math.min(H.maxDistance, O.radius)),
                        H.target.add(R),
                        b.setFromSpherical(O),
                        b.applyQuaternion(f),
                        a.copy(H.target).add(b),
                        H.object.lookAt(H.target),
                        H.enableDamping === !0 ? (P.theta *= 1 - H.dampingFactor,
                            P.phi *= 1 - H.dampingFactor) : P.set(0, 0, 0),
                        Q = 1,
                        R.set(0, 0, 0),
                    !!(S || g.distanceToSquared(H.object.position) > N || 8 * (1 - h.dot(H.object.quaternion)) > N) && (H.dispatchEvent(I),
                        g.copy(H.object.position),
                        h.copy(H.object.quaternion),
                        S = !1,
                        !0)
                }
            }(),
            this.dispose = function() {
                H.domElement.removeEventListener("contextmenu", G, !1),
                    H.domElement.removeEventListener("mousedown", y, !1),
                    H.domElement.removeEventListener("mousewheel", B, !1),
                    H.domElement.removeEventListener("MozMousePixelScroll", B, !1),
                    H.domElement.removeEventListener("touchstart", D, !1),
                    H.domElement.removeEventListener("touchend", F, !1),
                    H.domElement.removeEventListener("touchmove", E, !1),
                    document.removeEventListener("mousemove", z, !1),
                    document.removeEventListener("mouseup", A, !1),
                    document.removeEventListener("mouseout", A, !1),
                    window.removeEventListener("keydown", C, !1)
            }
        ;
        var H = this
            , I = {
            type: "change"
        }
            , J = {
            type: "start"
        }
            , K = {
            type: "end"
        }
            , L = {
            NONE: -1,
            ROTATE: 0,
            DOLLY: 1,
            PAN: 2,
            TOUCH_ROTATE: 3,
            TOUCH_DOLLY: 4,
            TOUCH_PAN: 5
        }
            , M = L.NONE
            , N = 1e-6
            , O = new THREE.Spherical
            , P = new THREE.Spherical
            , Q = 1
            , R = new THREE.Vector3
            , S = !1
            , T = new THREE.Vector2
            , U = new THREE.Vector2
            , V = new THREE.Vector2
            , W = new THREE.Vector2
            , X = new THREE.Vector2
            , Y = new THREE.Vector2
            , Z = new THREE.Vector2
            , $ = new THREE.Vector2
            , _ = new THREE.Vector2
            , aa = function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                a.setFromMatrixColumn(c, 0),
                    a.multiplyScalar(-b),
                    R.add(a)
            }
        }()
            , ba = function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                a.setFromMatrixColumn(c, 1),
                    a.multiplyScalar(b),
                    R.add(a)
            }
        }()
            , ca = function() {
            var a = new THREE.Vector3;
            return function(b, c) {
                var d = H.domElement === document ? H.domElement.body : H.domElement;
                if (H.object instanceof THREE.PerspectiveCamera) {
                    var e = H.object.position;
                    a.copy(e).sub(H.target);
                    var f = a.length();
                    f *= Math.tan(H.object.fov / 2 * Math.PI / 180),
                        aa(2 * b * f / d.clientHeight, H.object.matrix),
                        ba(2 * c * f / d.clientHeight, H.object.matrix)
                } else
                    H.object instanceof THREE.OrthographicCamera ? (aa(b * (H.object.right - H.object.left) / H.object.zoom / d.clientWidth, H.object.matrix),
                        ba(c * (H.object.top - H.object.bottom) / H.object.zoom / d.clientHeight, H.object.matrix)) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),
                        H.enablePan = !1)
            }
        }();
        H.domElement.addEventListener("contextmenu", G, !1),
            H.domElement.addEventListener("mousedown", y, !1),
            H.domElement.addEventListener("mousewheel", B, !1),
            H.domElement.addEventListener("MozMousePixelScroll", B, !1),
            H.domElement.addEventListener("touchstart", D, !1),
            H.domElement.addEventListener("touchend", F, !1),
            H.domElement.addEventListener("touchmove", E, !1),
            window.addEventListener("keydown", C, !1),
            this.update()
    }
    ,
    THREE.OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype),
    THREE.OrbitControls.prototype.constructor = THREE.OrbitControls,
    Object.defineProperties(THREE.OrbitControls.prototype, {
        center: {
            get: function() {
                return console.warn("THREE.OrbitControls: .center has been renamed to .target"),
                    this.target
            }
        },
        noZoom: {
            get: function() {
                return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),
                    !this.enableZoom
            },
            set: function(a) {
                console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),
                    this.enableZoom = !a
            }
        },
        noRotate: {
            get: function() {
                return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),
                    !this.enableRotate
            },
            set: function(a) {
                console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),
                    this.enableRotate = !a
            }
        },
        noPan: {
            get: function() {
                return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),
                    !this.enablePan
            },
            set: function(a) {
                console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),
                    this.enablePan = !a
            }
        },
        noKeys: {
            get: function() {
                return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),
                    !this.enableKeys
            },
            set: function(a) {
                console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),
                    this.enableKeys = !a
            }
        },
        staticMoving: {
            get: function() {
                return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),
                    !this.enableDamping
            },
            set: function(a) {
                console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),
                    this.enableDamping = !a
            }
        },
        dynamicDampingFactor: {
            get: function() {
                return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),
                    this.dampingFactor
            },
            set: function(a) {
                console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),
                    this.dampingFactor = a
            }
        }
    });
var Detector = {
    canvas: !!window.CanvasRenderingContext2D,
    webgl: function() {
        try {
            var a = document.createElement("canvas");
            return !(!window.WebGLRenderingContext || !a.getContext("webgl") && !a.getContext("experimental-webgl"))
        } catch (a) {
            return !1
        }
    }(),
    workers: !!window.Worker,
    fileapi: window.File && window.FileReader && window.FileList && window.Blob,
    getWebGLErrorMessage: function() {
        var a = document.createElement("div");
        return a.id = "webgl-error-message",
            a.style.fontFamily = "monospace",
            a.style.fontSize = "13px",
            a.style.fontWeight = "normal",
            a.style.textAlign = "center",
            a.style.background = "#fff",
            a.style.color = "#000",
            a.style.padding = "1.5em",
            a.style.width = "400px",
            a.style.margin = "5em auto 0",
        this.webgl || (a.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />', 'Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n") : ['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>', 'Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),
            a
    },
    addGetWebGLMessage: function(a) {
        var b, c, d;
        a = a || {},
            b = void 0 !== a.parent ? a.parent : document.body,
            c = void 0 !== a.id ? a.id : "oldie",
            d = Detector.getWebGLErrorMessage(),
            d.id = c,
            b.appendChild(d)
    }
};
"object" == typeof module && (module.exports = Detector);
var SPE = {
    distributions: {
        BOX: 1,
        SPHERE: 2,
        DISC: 3
    },
    valueOverLifetimeLength: 4
};
"function" == typeof define && define.amd ? define("spe", SPE) : "undefined" != typeof exports && "undefined" != typeof module && (module.exports = SPE),
    SPE.TypedArrayHelper = function(a, b, c, d) {
        this.componentSize = c || 1,
            this.size = b || 1,
            this.TypedArrayConstructor = a || Float32Array,
            this.array = new a(b * this.componentSize),
            this.indexOffset = d || 0
    }
    ,
    SPE.TypedArrayHelper.constructor = SPE.TypedArrayHelper,
    SPE.TypedArrayHelper.prototype.setSize = function(a, b) {
        var c = this.array.length;
        return b || (a *= this.componentSize),
            c > a ? this.shrink(a) : a > c ? this.grow(a) : void console.info("TypedArray is already of size:", a + ".", "Will not resize.")
    }
    ,
    SPE.TypedArrayHelper.prototype.shrink = function(a) {
        return this.array = this.array.subarray(0, a),
            this.size = a,
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.grow = function(a) {
        var b = this.array
            , c = new this.TypedArrayConstructor(a);
        return c.set(b),
            this.array = c,
            this.size = a,
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.splice = function(a, b) {
        a *= this.componentSize,
            b *= this.componentSize;
        for (var c = [], d = this.array, e = d.length, f = 0; e > f; ++f)
            (a > f || f >= b) && c.push(d[f]);
        return this.setFromArray(0, c),
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.setFromArray = function(a, b) {
        var c = b.length
            , d = a + c;
        return d > this.array.length ? this.grow(d) : d < this.array.length && this.shrink(d),
            this.array.set(b, this.indexOffset + a),
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.setVec2 = function(a, b) {
        return this.setVec2Components(a, b.x, b.y)
    }
    ,
    SPE.TypedArrayHelper.prototype.setVec2Components = function(a, b, c) {
        var d = this.array
            , e = this.indexOffset + a * this.componentSize;
        return d[e] = b,
            d[e + 1] = c,
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.setVec3 = function(a, b) {
        return this.setVec3Components(a, b.x, b.y, b.z)
    }
    ,
    SPE.TypedArrayHelper.prototype.setVec3Components = function(a, b, c, d) {
        var e = this.array
            , f = this.indexOffset + a * this.componentSize;
        return e[f] = b,
            e[f + 1] = c,
            e[f + 2] = d,
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.setVec4 = function(a, b) {
        return this.setVec4Components(a, b.x, b.y, b.z, b.w)
    }
    ,
    SPE.TypedArrayHelper.prototype.setVec4Components = function(a, b, c, d, e) {
        var f = this.array
            , g = this.indexOffset + a * this.componentSize;
        return f[g] = b,
            f[g + 1] = c,
            f[g + 2] = d,
            f[g + 3] = e,
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.setMat3 = function(a, b) {
        return this.setFromArray(this.indexOffset + a * this.componentSize, b.elements)
    }
    ,
    SPE.TypedArrayHelper.prototype.setMat4 = function(a, b) {
        return this.setFromArray(this.indexOffset + a * this.componentSize, b.elements)
    }
    ,
    SPE.TypedArrayHelper.prototype.setColor = function(a, b) {
        return this.setVec3Components(a, b.r, b.g, b.b)
    }
    ,
    SPE.TypedArrayHelper.prototype.setNumber = function(a, b) {
        return this.array[this.indexOffset + a * this.componentSize] = b,
            this
    }
    ,
    SPE.TypedArrayHelper.prototype.getValueAtIndex = function(a) {
        return this.array[this.indexOffset + a]
    }
    ,
    SPE.TypedArrayHelper.prototype.getComponentValueAtIndex = function(a) {
        return this.array.subarray(this.indexOffset + a * this.componentSize)
    }
    ,
    SPE.ShaderAttribute = function(a, b, c) {
        var d = SPE.ShaderAttribute.typeSizeMap;
        this.type = "string" == typeof a && d.hasOwnProperty(a) ? a : "f",
            this.componentSize = d[this.type],
            this.arrayType = c || Float32Array,
            this.typedArray = null ,
            this.bufferAttribute = null ,
            this.dynamicBuffer = !!b,
            this.updateMin = 0,
            this.updateMax = 0
    }
    ,
    SPE.ShaderAttribute.constructor = SPE.ShaderAttribute,
    SPE.ShaderAttribute.typeSizeMap = {
        f: 1,
        v2: 2,
        v3: 3,
        v4: 4,
        c: 3,
        m3: 9,
        m4: 16
    },
    SPE.ShaderAttribute.prototype.setUpdateRange = function(a, b) {
        this.updateMin = Math.min(a * this.componentSize, this.updateMin * this.componentSize),
            this.updateMax = Math.max(b * this.componentSize, this.updateMax * this.componentSize)
    }
    ,
    SPE.ShaderAttribute.prototype.flagUpdate = function() {
        var a = this.bufferAttribute
            , b = a.updateRange;
        b.offset = this.updateMin,
            b.count = Math.min(this.updateMax - this.updateMin + this.componentSize, this.typedArray.array.length),
            a.needsUpdate = !0
    }
    ,
    SPE.ShaderAttribute.prototype.resetUpdateRange = function() {
        this.updateMin = 0,
            this.updateMax = 0
    }
    ,
    SPE.ShaderAttribute.prototype.resetDynamic = function() {
        this.bufferAttribute.dynamic = this.dynamicBuffer
    }
    ,
    SPE.ShaderAttribute.prototype.splice = function(a, b) {
        this.typedArray.splice(a, b),
            this.forceUpdateAll()
    }
    ,
    SPE.ShaderAttribute.prototype.forceUpdateAll = function() {
        this.bufferAttribute.array = this.typedArray.array,
            this.bufferAttribute.updateRange.offset = 0,
            this.bufferAttribute.updateRange.count = -1,
            this.bufferAttribute.dynamic = !1,
            this.bufferAttribute.needsUpdate = !0
    }
    ,
    SPE.ShaderAttribute.prototype._ensureTypedArray = function(a) {
        (null  === this.typedArray || this.typedArray.size !== a * this.componentSize) && (null  !== this.typedArray && this.typedArray.size !== a ? this.typedArray.setSize(a) : null  === this.typedArray && (this.typedArray = new SPE.TypedArrayHelper(this.arrayType,a,this.componentSize)))
    }
    ,
    SPE.ShaderAttribute.prototype._createBufferAttribute = function(a) {
        return this._ensureTypedArray(a),
            null  !== this.bufferAttribute ? (this.bufferAttribute.array = this.typedArray.array,
                void (this.bufferAttribute.needsUpdate = !0)) : (this.bufferAttribute = new THREE.BufferAttribute(this.typedArray.array,this.componentSize),
                void (this.bufferAttribute.dynamic = this.dynamicBuffer))
    }
    ,
    SPE.ShaderAttribute.prototype.getLength = function() {
        return null  === this.typedArray ? 0 : this.typedArray.array.length
    }
    ,
    SPE.shaderChunks = {
        defines: ["#define PACKED_COLOR_SIZE 256.0", "#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),
        uniforms: ["uniform float deltaTime;", "uniform float runTime;", "uniform sampler2D texture;", "uniform vec4 textureAnimation;", "uniform float scale;"].join("\n"),
        attributes: ["attribute vec4 acceleration;", "attribute vec3 velocity;", "attribute vec4 rotation;", "attribute vec3 rotationCenter;", "attribute vec4 params;", "attribute vec4 size;", "attribute vec4 angle;", "attribute vec4 color;", "attribute vec4 opacity;"].join("\n"),
        varyings: ["varying vec4 vColor;", "#ifdef SHOULD_ROTATE_TEXTURE", "    varying float vAngle;", "#endif", "#ifdef SHOULD_CALCULATE_SPRITE", "    varying vec4 vSpriteSheet;", "#endif"].join("\n"),
        branchAvoidanceFunctions: ["float when_gt(float x, float y) {", "    return max(sign(x - y), 0.0);", "}", "float when_lt(float x, float y) {", "    return min( max(1.0 - sign(x - y), 0.0), 1.0 );", "}", "float when_eq( float x, float y ) {", "    return 1.0 - abs( sign( x - y ) );", "}", "float when_ge(float x, float y) {", "  return 1.0 - when_lt(x, y);", "}", "float when_le(float x, float y) {", "  return 1.0 - when_gt(x, y);", "}", "float and(float a, float b) {", "    return a * b;", "}", "float or(float a, float b) {", "    return min(a + b, 1.0);", "}"].join("\n"),
        unpackColor: ["vec3 unpackColor( in float hex ) {", "   vec3 c = vec3( 0.0 );", "   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );", "   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );", "   float b = mod( hex, PACKED_COLOR_SIZE );", "   c.r = r / PACKED_COLOR_DIVISOR;", "   c.g = g / PACKED_COLOR_DIVISOR;", "   c.b = b / PACKED_COLOR_DIVISOR;", "   return c;", "}"].join("\n"),
        unpackRotationAxis: ["vec3 unpackRotationAxis( in float hex ) {", "   vec3 c = vec3( 0.0 );", "   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );", "   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );", "   float b = mod( hex, PACKED_COLOR_SIZE );", "   c.r = r / PACKED_COLOR_DIVISOR;", "   c.g = g / PACKED_COLOR_DIVISOR;", "   c.b = b / PACKED_COLOR_DIVISOR;", "   c *= vec3( 2.0 );", "   c -= vec3( 1.0 );", "   return c;", "}"].join("\n"),
        floatOverLifetime: ["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {", "    highp float value = 0.0;", "    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );", "    float fIndex = 0.0;", "    float shouldApplyValue = 0.0;", "    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );", "", "    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {", "       fIndex = float( i );", "       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );", "       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );", "    }", "", "    return value;", "}"].join("\n"),
        colorOverLifetime: ["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {", "    vec3 value = vec3( 0.0 );", "    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );", "    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );", "    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );", "    return value;", "}"].join("\n"),
        paramFetchingFunctions: ["float getAlive() {", "   return params.x;", "}", "float getAge() {", "   return params.y;", "}", "float getMaxAge() {", "   return params.z;", "}", "float getWiggle() {", "   return params.w;", "}"].join("\n"),
        forceFetchingFunctions: ["vec4 getPosition( in float age ) {", "   return modelViewMatrix * vec4( position, 1.0 );", "}", "vec3 getVelocity( in float age ) {", "   return velocity * age;", "}", "vec3 getAcceleration( in float age ) {", "   return acceleration.xyz * age;", "}"].join("\n"),
        rotationFunctions: ["#ifdef SHOULD_ROTATE_PARTICLES", "   mat4 getRotationMatrix( in vec3 axis, in float angle) {", "       axis = normalize(axis);", "       float s = sin(angle);", "       float c = cos(angle);", "       float oc = 1.0 - c;", "", "       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,", "                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,", "                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,", "                   0.0,                                0.0,                                0.0,                                1.0);", "   }", "", "   vec3 getRotation( in vec3 pos, in float positionInTime ) {", "      if( rotation.y == 0.0 ) {", "           return pos;", "      }", "", "      vec3 axis = unpackRotationAxis( rotation.x );", "      vec3 center = rotationCenter;", "      vec3 translated;", "      mat4 rotationMatrix;", "      float angle = 0.0;", "      angle += when_eq( rotation.z, 0.0 ) * rotation.y;", "      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );", "      translated = rotationCenter - pos;", "      rotationMatrix = getRotationMatrix( axis, angle );", "      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );", "   }", "#endif"].join("\n"),
        rotateTexture: ["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );", "", "    #ifdef SHOULD_ROTATE_TEXTURE", "       float x = gl_PointCoord.x - 0.5;", "       float y = 1.0 - gl_PointCoord.y - 0.5;", "       float c = cos( -vAngle );", "       float s = sin( -vAngle );", "       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );", "    #endif", "", "    #ifdef SHOULD_CALCULATE_SPRITE", "        float framesX = vSpriteSheet.x;", "        float framesY = vSpriteSheet.y;", "        float columnNorm = vSpriteSheet.z;", "        float rowNorm = vSpriteSheet.w;", "        vUv.x = gl_PointCoord.x * framesX + columnNorm;", "        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);", "    #endif", "", "    vec4 rotatedTexture = texture2D( texture, vUv );"].join("\n")
    },
    SPE.shaders = {
        vertex: [SPE.shaderChunks.defines, SPE.shaderChunks.uniforms, SPE.shaderChunks.attributes, SPE.shaderChunks.varyings, THREE.ShaderChunk.common, THREE.ShaderChunk.logdepthbuf_pars_vertex, SPE.shaderChunks.branchAvoidanceFunctions, SPE.shaderChunks.unpackColor, SPE.shaderChunks.unpackRotationAxis, SPE.shaderChunks.floatOverLifetime, SPE.shaderChunks.colorOverLifetime, SPE.shaderChunks.paramFetchingFunctions, SPE.shaderChunks.forceFetchingFunctions, SPE.shaderChunks.rotationFunctions, "void main() {", "    highp float age = getAge();", "    highp float alive = getAlive();", "    highp float maxAge = getMaxAge();", "    highp float positionInTime = (age / maxAge);", "    highp float isAlive = when_gt( alive, 0.0 );", "    #ifdef SHOULD_WIGGLE_PARTICLES", "        float wiggleAmount = positionInTime * getWiggle();", "        float wiggleSin = isAlive * sin( wiggleAmount );", "        float wiggleCos = isAlive * cos( wiggleAmount );", "    #endif", "    vec3 vel = getVelocity( age );", "    vec3 accel = getAcceleration( age );", "    vec3 force = vec3( 0.0 );", "    vec3 pos = vec3( position );", "    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;", "    force += vel;", "    force *= drag;", "    force += accel * age;", "    pos += force;", "    #ifdef SHOULD_WIGGLE_PARTICLES", "        pos.x += wiggleSin;", "        pos.y += wiggleCos;", "        pos.z += wiggleSin;", "    #endif", "    #ifdef SHOULD_ROTATE_PARTICLES", "        pos = getRotation( pos, positionInTime );", "    #endif", "    vec4 mvPos = modelViewMatrix * vec4( pos, 1.0 );", "    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;", "    #ifdef HAS_PERSPECTIVE", "        float perspective = scale / length( mvPos.xyz );", "    #else", "        float perspective = 1.0;", "    #endif", "    float pointSizePerspective = pointSize * perspective;", "    #ifdef COLORIZE", "       vec3 c = isAlive * getColorOverLifetime(", "           positionInTime,", "           unpackColor( color.x ),", "           unpackColor( color.y ),", "           unpackColor( color.z ),", "           unpackColor( color.w )", "       );", "    #else", "       vec3 c = vec3(1.0);", "    #endif", "    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );", "    vColor = vec4( c, o );", "    #ifdef SHOULD_ROTATE_TEXTURE", "        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );", "    #endif", "    #ifdef SHOULD_CALCULATE_SPRITE", "        float framesX = textureAnimation.x;", "        float framesY = textureAnimation.y;", "        float loopCount = textureAnimation.w;", "        float totalFrames = textureAnimation.z;", "        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );", "        float column = floor(mod( frameNumber, framesX ));", "        float row = floor( (frameNumber - column) / framesX );", "        float columnNorm = column / framesX;", "        float rowNorm = row / framesY;", "        vSpriteSheet.x = 1.0 / framesX;", "        vSpriteSheet.y = 1.0 / framesY;", "        vSpriteSheet.z = columnNorm;", "        vSpriteSheet.w = rowNorm;", "    #endif", "    gl_PointSize = pointSizePerspective;", "    gl_Position = projectionMatrix * mvPos;", THREE.ShaderChunk.logdepthbuf_vertex, "}"].join("\n"),
        fragment: [SPE.shaderChunks.uniforms, THREE.ShaderChunk.common, THREE.ShaderChunk.fog_pars_fragment, THREE.ShaderChunk.logdepthbuf_pars_fragment, SPE.shaderChunks.varyings, SPE.shaderChunks.branchAvoidanceFunctions, "void main() {", "    vec3 outgoingLight = vColor.xyz;", "    ", "    #ifdef ALPHATEST", "       if ( vColor.w < float(ALPHATEST) ) discard;", "    #endif", SPE.shaderChunks.rotateTexture, THREE.ShaderChunk.logdepthbuf_fragment, "    outgoingLight = vColor.xyz * rotatedTexture.xyz;", THREE.ShaderChunk.fog_fragment, "    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );", "}"].join("\n")
    },
    SPE.utils = {
        types: {
            BOOLEAN: "boolean",
            STRING: "string",
            NUMBER: "number",
            OBJECT: "object"
        },
        ensureTypedArg: function(a, b, c) {
            return typeof a === b ? a : c
        },
        ensureArrayTypedArg: function(a, b, c) {
            if (Array.isArray(a)) {
                for (var d = a.length - 1; d >= 0; --d)
                    if (typeof a[d] !== b)
                        return c;
                return a
            }
            return this.ensureTypedArg(a, b, c)
        },
        ensureInstanceOf: function(a, b, c) {
            return void 0 !== b && a instanceof b ? a : c
        },
        ensureArrayInstanceOf: function(a, b, c) {
            if (Array.isArray(a)) {
                for (var d = a.length - 1; d >= 0; --d)
                    if (void 0 !== b && a[d] instanceof b == 0)
                        return c;
                return a
            }
            return this.ensureInstanceOf(a, b, c)
        },
        ensureValueOverLifetimeCompliance: function(a, b, c) {
            b = b || 3,
                c = c || 3,
            Array.isArray(a._value) === !1 && (a._value = [a._value]),
            Array.isArray(a._spread) === !1 && (a._spread = [a._spread]);
            var d = this.clamp(a._value.length, b, c)
                , e = this.clamp(a._spread.length, b, c)
                , f = Math.max(d, e);
            a._value.length !== f && (a._value = this.interpolateArray(a._value, f)),
            a._spread.length !== f && (a._spread = this.interpolateArray(a._spread, f))
        },
        interpolateArray: function(a, b) {
            for (var c = a.length, d = ["function" == typeof a[0].clone ? a[0].clone() : a[0]], e = (c - 1) / (b - 1), f = 1; b - 1 > f; ++f) {
                var g = f * e
                    , h = Math.floor(g)
                    , i = Math.ceil(g)
                    , j = g - h;
                d[f] = this.lerpTypeAgnostic(a[h], a[i], j)
            }
            return d.push("function" == typeof a[c - 1].clone ? a[c - 1].clone() : a[c - 1]),
                d
        },
        clamp: function(a, b, c) {
            return Math.max(b, Math.min(a, c))
        },
        zeroToEpsilon: function(a, b) {
            var c = 1e-5
                , d = a;
            return d = b ? Math.random() * c * 10 : c,
            0 > a && a > -c && (d = -d),
                d
        },
        lerpTypeAgnostic: function(a, b, c) {
            var d, e = this.types;
            return typeof a === e.NUMBER && typeof b === e.NUMBER ? a + (b - a) * c : a instanceof THREE.Vector2 && b instanceof THREE.Vector2 ? (d = a.clone(),
                d.x = this.lerp(a.x, b.x, c),
                d.y = this.lerp(a.y, b.y, c),
                d) : a instanceof THREE.Vector3 && b instanceof THREE.Vector3 ? (d = a.clone(),
                d.x = this.lerp(a.x, b.x, c),
                d.y = this.lerp(a.y, b.y, c),
                d.z = this.lerp(a.z, b.z, c),
                d) : a instanceof THREE.Vector4 && b instanceof THREE.Vector4 ? (d = a.clone(),
                d.x = this.lerp(a.x, b.x, c),
                d.y = this.lerp(a.y, b.y, c),
                d.z = this.lerp(a.z, b.z, c),
                d.w = this.lerp(a.w, b.w, c),
                d) : a instanceof THREE.Color && b instanceof THREE.Color ? (d = a.clone(),
                d.r = this.lerp(a.r, b.r, c),
                d.g = this.lerp(a.g, b.g, c),
                d.b = this.lerp(a.b, b.b, c),
                d) : void console.warn("Invalid argument types, or argument types do not match:", a, b)
        },
        lerp: function(a, b, c) {
            return a + (b - a) * c
        },
        roundToNearestMultiple: function(a, b) {
            var c = 0;
            return 0 === b ? a : (c = Math.abs(a) % b,
                0 === c ? a : 0 > a ? -(Math.abs(a) - c) : a + b - c)
        },
        arrayValuesAreEqual: function(a) {
            for (var b = 0; b < a.length - 1; ++b)
                if (a[b] !== a[b + 1])
                    return !1;
            return !0
        },
        randomFloat: function(a, b) {
            return a + b * (Math.random() - .5)
        },
        randomVector3: function(a, b, c, d, e) {
            var f = c.x + (Math.random() * d.x - .5 * d.x)
                , g = c.y + (Math.random() * d.y - .5 * d.y)
                , h = c.z + (Math.random() * d.z - .5 * d.z);
            e && (f = .5 * -e.x + this.roundToNearestMultiple(f, e.x),
                g = .5 * -e.y + this.roundToNearestMultiple(g, e.y),
                h = .5 * -e.z + this.roundToNearestMultiple(h, e.z)),
                a.typedArray.setVec3Components(b, f, g, h)
        },
        randomColor: function(a, b, c, d) {
            var e = c.r + Math.random() * d.x
                , f = c.g + Math.random() * d.y
                , g = c.b + Math.random() * d.z;
            e = this.clamp(e, 0, 1),
                f = this.clamp(f, 0, 1),
                g = this.clamp(g, 0, 1),
                a.typedArray.setVec3Components(b, e, f, g)
        },
        randomColorAsHex: function() {
            var a = new THREE.Color;
            return function(b, c, d, e) {
                for (var f = d.length, g = [], h = 0; f > h; ++h) {
                    var i = e[h];
                    a.copy(d[h]),
                        a.r += Math.random() * i.x - .5 * i.x,
                        a.g += Math.random() * i.y - .5 * i.y,
                        a.b += Math.random() * i.z - .5 * i.z,
                        a.r = this.clamp(a.r, 0, 1),
                        a.g = this.clamp(a.g, 0, 1),
                        a.b = this.clamp(a.b, 0, 1),
                        g.push(a.getHex())
                }
                b.typedArray.setVec4Components(c, g[0], g[1], g[2], g[3])
            }
        }(),
        randomVector3OnSphere: function(a, b, c, d, e, f, g, h) {
            var i = 2 * Math.random() - 1
                , j = 6.2832 * Math.random()
                , k = Math.sqrt(1 - i * i)
                , l = this.randomFloat(d, e)
                , m = 0
                , n = 0
                , o = 0;
            g && (l = Math.round(l / g) * g),
                m = k * Math.cos(j) * l,
                n = k * Math.sin(j) * l,
                o = i * l,
                m *= f.x,
                n *= f.y,
                o *= f.z,
                m += c.x,
                n += c.y,
                o += c.z,
                a.typedArray.setVec3Components(b, m, n, o)
        },
        seededRandom: function(a) {
            var b = 1e4 * Math.sin(a);
            return b - (0 | b)
        },
        randomVector3OnDisc: function(a, b, c, d, e, f, g) {
            var h = 6.2832 * Math.random()
                , i = Math.abs(this.randomFloat(d, e))
                , j = 0
                , k = 0
                , l = 0;
            g && (i = Math.round(i / g) * g),
                j = Math.cos(h) * i,
                k = Math.sin(h) * i,
                j *= f.x,
                k *= f.y,
                j += c.x,
                k += c.y,
                l += c.z,
                a.typedArray.setVec3Components(b, j, k, l)
        },
        randomDirectionVector3OnSphere: function() {
            var a = new THREE.Vector3;
            return function(b, c, d, e, f, g, h, i) {
                a.copy(g),
                    a.x -= d,
                    a.y -= e,
                    a.z -= f,
                    a.normalize().multiplyScalar(-this.randomFloat(h, i)),
                    b.typedArray.setVec3Components(c, a.x, a.y, a.z)
            }
        }(),
        randomDirectionVector3OnDisc: function() {
            var a = new THREE.Vector3;
            return function(b, c, d, e, f, g, h, i) {
                a.copy(g),
                    a.x -= d,
                    a.y -= e,
                    a.z -= f,
                    a.normalize().multiplyScalar(-this.randomFloat(h, i)),
                    b.typedArray.setVec3Components(c, a.x, a.y, 0)
            }
        }(),
        getPackedRotationAxis: function() {
            var a = new THREE.Vector3
                , b = new THREE.Vector3
                , c = new THREE.Color
                , d = new THREE.Vector3(1,1,1);
            return function(e, f) {
                return a.copy(e).normalize(),
                    b.copy(f).normalize(),
                    a.x += .5 * -f.x + Math.random() * f.x,
                    a.y += .5 * -f.y + Math.random() * f.y,
                    a.z += .5 * -f.z + Math.random() * f.z,
                    a.normalize().add(d).multiplyScalar(.5),
                    c.setRGB(a.x, a.y, a.z),
                    c.getHex()
            }
        }()
    },
    SPE.Group = function(a) {
        var b = SPE.utils
            , c = b.types;
        a = b.ensureTypedArg(a, c.OBJECT, {}),
            a.texture = b.ensureTypedArg(a.texture, c.OBJECT, {}),
            this.uuid = THREE.Math.generateUUID(),
            this.fixedTimeStep = b.ensureTypedArg(a.fixedTimeStep, c.NUMBER, .016),
            this.texture = b.ensureInstanceOf(a.texture.value, THREE.Texture, null ),
            this.textureFrames = b.ensureInstanceOf(a.texture.frames, THREE.Vector2, new THREE.Vector2(1,1)),
            this.textureFrameCount = b.ensureTypedArg(a.texture.frameCount, c.NUMBER, this.textureFrames.x * this.textureFrames.y),
            this.textureLoop = b.ensureTypedArg(a.texture.loop, c.NUMBER, 1),
            this.textureFrames.max(new THREE.Vector2(1,1)),
            this.hasPerspective = b.ensureTypedArg(a.hasPerspective, c.BOOLEAN, !0),
            this.colorize = b.ensureTypedArg(a.colorize, c.BOOLEAN, !0),
            this.maxParticleCount = b.ensureTypedArg(a.maxParticleCount, c.NUMBER, null ),
            this.blending = b.ensureTypedArg(a.blending, c.NUMBER, THREE.AdditiveBlending),
            this.transparent = b.ensureTypedArg(a.transparent, c.BOOLEAN, !0),
            this.alphaTest = parseFloat(b.ensureTypedArg(a.alphaTest, c.NUMBER, 0)),
            this.depthWrite = b.ensureTypedArg(a.depthWrite, c.BOOLEAN, !1),
            this.depthTest = b.ensureTypedArg(a.depthTest, c.BOOLEAN, !0),
            this.fog = b.ensureTypedArg(a.fog, c.BOOLEAN, !0),
            this.scale = b.ensureTypedArg(a.scale, c.NUMBER, 300),
            this.emitters = [],
            this.emitterIDs = [],
            this._pool = [],
            this._poolCreationSettings = null ,
            this._createNewWhenPoolEmpty = 0,
            this._attributesNeedRefresh = !1,
            this._attributesNeedDynamicReset = !1,
            this.particleCount = 0,
            this.uniforms = {
                texture: {
                    type: "t",
                    value: this.texture
                },
                textureAnimation: {
                    type: "v4",
                    value: new THREE.Vector4(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math.max(Math.abs(this.textureLoop), 1))
                },
                fogColor: {
                    type: "c",
                    value: null
                },
                fogNear: {
                    type: "f",
                    value: 10
                },
                fogFar: {
                    type: "f",
                    value: 200
                },
                fogDensity: {
                    type: "f",
                    value: .5
                },
                deltaTime: {
                    type: "f",
                    value: 0
                },
                runTime: {
                    type: "f",
                    value: 0
                },
                scale: {
                    type: "f",
                    value: this.scale
                }
            },
            this.defines = {
                HAS_PERSPECTIVE: this.hasPerspective,
                COLORIZE: this.colorize,
                VALUE_OVER_LIFETIME_LENGTH: SPE.valueOverLifetimeLength,
                SHOULD_ROTATE_TEXTURE: !1,
                SHOULD_ROTATE_PARTICLES: !1,
                SHOULD_WIGGLE_PARTICLES: !1,
                SHOULD_CALCULATE_SPRITE: this.textureFrames.x > 1 || this.textureFrames.y > 1
            },
            this.attributes = {
                position: new SPE.ShaderAttribute("v3",!0),
                acceleration: new SPE.ShaderAttribute("v4",!0),
                velocity: new SPE.ShaderAttribute("v3",!0),
                rotation: new SPE.ShaderAttribute("v4",!0),
                rotationCenter: new SPE.ShaderAttribute("v3",!0),
                params: new SPE.ShaderAttribute("v4",!0),
                size: new SPE.ShaderAttribute("v4",!0),
                angle: new SPE.ShaderAttribute("v4",!0),
                color: new SPE.ShaderAttribute("v4",!0),
                opacity: new SPE.ShaderAttribute("v4",!0)
            },
            this.attributeKeys = Object.keys(this.attributes),
            this.attributeCount = this.attributeKeys.length,
            this.material = new THREE.ShaderMaterial({
                uniforms: this.uniforms,
                vertexShader: SPE.shaders.vertex,
                fragmentShader: SPE.shaders.fragment,
                blending: this.blending,
                transparent: this.transparent,
                alphaTest: this.alphaTest,
                depthWrite: this.depthWrite,
                depthTest: this.depthTest,
                defines: this.defines,
                fog: this.fog
            }),
            this.geometry = new THREE.BufferGeometry,
            this.mesh = new THREE.Points(this.geometry,this.material),
        null  === this.maxParticleCount && console.warn("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")
    }
    ,
    SPE.Group.constructor = SPE.Group,
    SPE.Group.prototype._updateDefines = function() {
        var a, b = this.emitters, c = b.length - 1, d = this.defines;
        for (c; c >= 0; --c)
            a = b[c],
            d.SHOULD_CALCULATE_SPRITE || (d.SHOULD_ROTATE_TEXTURE = d.SHOULD_ROTATE_TEXTURE || !!Math.max(Math.max.apply(null , a.angle.value), Math.max.apply(null , a.angle.spread))),
                d.SHOULD_ROTATE_PARTICLES = d.SHOULD_ROTATE_PARTICLES || !!Math.max(a.rotation.angle, a.rotation.angleSpread),
                d.SHOULD_WIGGLE_PARTICLES = d.SHOULD_WIGGLE_PARTICLES || !!Math.max(a.wiggle.value, a.wiggle.spread);
        this.material.needsUpdate = !0
    }
    ,
    SPE.Group.prototype._applyAttributesToGeometry = function() {
        var a, b, c = this.attributes, d = this.geometry, e = d.attributes;
        for (var f in c)
            c.hasOwnProperty(f) && (a = c[f],
                b = e[f],
                b ? b.array = a.typedArray.array : d.addAttribute(f, a.bufferAttribute),
                a.bufferAttribute.needsUpdate = !0);
        this.geometry.setDrawRange(0, this.particleCount)
    }
    ,
    SPE.Group.prototype.addEmitter = function(a) {
        if (a instanceof SPE.Emitter == 0)
            return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:", a);
        if (this.emitterIDs.indexOf(a.uuid) > -1)
            return void console.error("Emitter already exists in this group. Will not add again.");
        if (null  !== a.group)
            return void console.error("Emitter already belongs to another group. Will not add to requested group.");
        var b = this.attributes
            , c = this.particleCount
            , d = c + a.particleCount;
        this.particleCount = d,
        null  !== this.maxParticleCount && this.particleCount > this.maxParticleCount && console.warn("SPE.Group: maxParticleCount exceeded. Requesting", this.particleCount, "particles, can support only", this.maxParticleCount),
            a._calculatePPSValue(a.maxAge._value + a.maxAge._spread),
            a._setBufferUpdateRanges(this.attributeKeys),
            a._setAttributeOffset(c),
            a.group = this,
            a.attributes = this.attributes;
        for (var e in b)
            b.hasOwnProperty(e) && b[e]._createBufferAttribute(null  !== this.maxParticleCount ? this.maxParticleCount : this.particleCount);
        for (var f = c; d > f; ++f)
            a._assignPositionValue(f),
                a._assignForceValue(f, "velocity"),
                a._assignForceValue(f, "acceleration"),
                a._assignAbsLifetimeValue(f, "opacity"),
                a._assignAbsLifetimeValue(f, "size"),
                a._assignAngleValue(f),
                a._assignRotationValue(f),
                a._assignParamsValue(f),
                a._assignColorValue(f);
        return this._applyAttributesToGeometry(),
            this.emitters.push(a),
            this.emitterIDs.push(a.uuid),
            this._updateDefines(a),
            this.material.needsUpdate = !0,
            this.geometry.needsUpdate = !0,
            this._attributesNeedRefresh = !0,
            this
    }
    ,
    SPE.Group.prototype.removeEmitter = function(a) {
        var b = this.emitterIDs.indexOf(a.uuid);
        if (a instanceof SPE.Emitter == 0)
            return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:", a);
        if (-1 === b)
            return void console.error("Emitter does not exist in this group. Will not remove.");
        for (var c = a.attributeOffset, d = c + a.particleCount, e = this.attributes.params.typedArray, f = c; d > f; ++f)
            e.array[4 * f] = 0,
                e.array[4 * f + 1] = 0;
        this.emitters.splice(b, 1),
            this.emitterIDs.splice(b, 1);
        for (var g in this.attributes)
            this.attributes.hasOwnProperty(g) && this.attributes[g].splice(c, d);
        this.particleCount -= a.particleCount,
            a._onRemove(),
            this._attributesNeedRefresh = !0
    }
    ,
    SPE.Group.prototype.getFromPool = function() {
        var a = this._pool
            , b = this._createNewWhenPoolEmpty;
        return a.length ? a.pop() : b ? new SPE.Emitter(this._poolCreationSettings) : null
    }
    ,
    SPE.Group.prototype.releaseIntoPool = function(a) {
        return a instanceof SPE.Emitter == 0 ? void console.error("Argument is not instanceof SPE.Emitter:", a) : (a.reset(),
            this._pool.unshift(a),
            this)
    }
    ,
    SPE.Group.prototype.getPool = function() {
        return this._pool
    }
    ,
    SPE.Group.prototype.addPool = function(a, b, c) {
        var d;
        this._poolCreationSettings = b,
            this._createNewWhenPoolEmpty = !!c;
        for (var e = 0; a > e; ++e)
            d = Array.isArray(b) ? new SPE.Emitter(b[e]) : new SPE.Emitter(b),
                this.addEmitter(d),
                this.releaseIntoPool(d);
        return this
    }
    ,
    SPE.Group.prototype._triggerSingleEmitter = function(a) {
        var b = this.getFromPool()
            , c = this;
        return null  === b ? void console.log("SPE.Group pool ran out.") : (a instanceof THREE.Vector3 && (b.position.value.copy(a),
            b.position.value = b.position.value),
            b.enable(),
            setTimeout(function() {
                b.disable(),
                    c.releaseIntoPool(b)
            }, 1e3 * (b.maxAge.value + b.maxAge.spread)),
            this)
    }
    ,
    SPE.Group.prototype.triggerPoolEmitter = function(a, b) {
        if ("number" == typeof a && a > 1)
            for (var c = 0; a > c; ++c)
                this._triggerSingleEmitter(b);
        else
            this._triggerSingleEmitter(b);
        return this
    }
    ,
    SPE.Group.prototype._updateUniforms = function(a) {
        this.uniforms.runTime.value += a,
            this.uniforms.deltaTime.value = a
    }
    ,
    SPE.Group.prototype._resetBufferRanges = function() {
        var a = this.attributeKeys
            , b = this.attributeCount - 1
            , c = this.attributes;
        for (b; b >= 0; --b)
            c[a[b]].resetUpdateRange()
    }
    ,
    SPE.Group.prototype._updateBuffers = function(a) {
        var b, c, d, e = this.attributeKeys, f = this.attributeCount - 1, g = this.attributes, h = a.bufferUpdateRanges;
        for (f; f >= 0; --f)
            b = e[f],
                c = h[b],
                d = g[b],
                d.setUpdateRange(c.min, c.max),
                d.flagUpdate()
    }
    ,
    SPE.Group.prototype.tick = function(a) {
        var b, c = this.emitters, d = c.length, e = a || this.fixedTimeStep, f = this.attributeKeys, g = this.attributes;
        if (this._updateUniforms(e),
                this._resetBufferRanges(),
            0 !== d || this._attributesNeedRefresh !== !1 || this._attributesNeedDynamicReset !== !1) {
            for (var h, b = 0; d > b; ++b)
                h = c[b],
                    h.tick(e),
                    this._updateBuffers(h);
            if (this._attributesNeedDynamicReset === !0) {
                for (b = this.attributeCount - 1; b >= 0; --b)
                    g[f[b]].resetDynamic();
                this._attributesNeedDynamicReset = !1
            }
            if (this._attributesNeedRefresh === !0) {
                for (b = this.attributeCount - 1; b >= 0; --b)
                    g[f[b]].forceUpdateAll();
                this._attributesNeedRefresh = !1,
                    this._attributesNeedDynamicReset = !0
            }
        }
    }
    ,
    SPE.Group.prototype.dispose = function() {
        return this.geometry.dispose(),
            this.material.dispose(),
            this
    }
    ,
    SPE.Emitter = function(a) {
        var b = SPE.utils
            , c = b.types
            , d = SPE.valueOverLifetimeLength;
        a = b.ensureTypedArg(a, c.OBJECT, {}),
            a.position = b.ensureTypedArg(a.position, c.OBJECT, {}),
            a.velocity = b.ensureTypedArg(a.velocity, c.OBJECT, {}),
            a.acceleration = b.ensureTypedArg(a.acceleration, c.OBJECT, {}),
            a.radius = b.ensureTypedArg(a.radius, c.OBJECT, {}),
            a.drag = b.ensureTypedArg(a.drag, c.OBJECT, {}),
            a.rotation = b.ensureTypedArg(a.rotation, c.OBJECT, {}),
            a.color = b.ensureTypedArg(a.color, c.OBJECT, {}),
            a.opacity = b.ensureTypedArg(a.opacity, c.OBJECT, {}),
            a.size = b.ensureTypedArg(a.size, c.OBJECT, {}),
            a.angle = b.ensureTypedArg(a.angle, c.OBJECT, {}),
            a.wiggle = b.ensureTypedArg(a.wiggle, c.OBJECT, {}),
            a.maxAge = b.ensureTypedArg(a.maxAge, c.OBJECT, {}),
        a.onParticleSpawn && console.warn("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),
            this.uuid = THREE.Math.generateUUID(),
            this.type = b.ensureTypedArg(a.type, c.NUMBER, SPE.distributions.BOX),
            this.position = {
                _value: b.ensureInstanceOf(a.position.value, THREE.Vector3, new THREE.Vector3),
                _spread: b.ensureInstanceOf(a.position.spread, THREE.Vector3, new THREE.Vector3),
                _spreadClamp: b.ensureInstanceOf(a.position.spreadClamp, THREE.Vector3, new THREE.Vector3),
                _distribution: b.ensureTypedArg(a.position.distribution, c.NUMBER, this.type),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1),
                _radius: b.ensureTypedArg(a.position.radius, c.NUMBER, 10),
                _radiusScale: b.ensureInstanceOf(a.position.radiusScale, THREE.Vector3, new THREE.Vector3(1,1,1)),
                _distributionClamp: b.ensureTypedArg(a.position.distributionClamp, c.NUMBER, 0)
            },
            this.velocity = {
                _value: b.ensureInstanceOf(a.velocity.value, THREE.Vector3, new THREE.Vector3),
                _spread: b.ensureInstanceOf(a.velocity.spread, THREE.Vector3, new THREE.Vector3),
                _distribution: b.ensureTypedArg(a.velocity.distribution, c.NUMBER, this.type),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.acceleration = {
                _value: b.ensureInstanceOf(a.acceleration.value, THREE.Vector3, new THREE.Vector3),
                _spread: b.ensureInstanceOf(a.acceleration.spread, THREE.Vector3, new THREE.Vector3),
                _distribution: b.ensureTypedArg(a.acceleration.distribution, c.NUMBER, this.type),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.drag = {
                _value: b.ensureTypedArg(a.drag.value, c.NUMBER, 0),
                _spread: b.ensureTypedArg(a.drag.spread, c.NUMBER, 0),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.wiggle = {
                _value: b.ensureTypedArg(a.wiggle.value, c.NUMBER, 0),
                _spread: b.ensureTypedArg(a.wiggle.spread, c.NUMBER, 0)
            },
            this.rotation = {
                _axis: b.ensureInstanceOf(a.rotation.axis, THREE.Vector3, new THREE.Vector3(0,1,0)),
                _axisSpread: b.ensureInstanceOf(a.rotation.axisSpread, THREE.Vector3, new THREE.Vector3),
                _angle: b.ensureTypedArg(a.rotation.angle, c.NUMBER, 0),
                _angleSpread: b.ensureTypedArg(a.rotation.angleSpread, c.NUMBER, 0),
                _static: b.ensureTypedArg(a.rotation.static, c.BOOLEAN, !1),
                _center: b.ensureInstanceOf(a.rotation.center, THREE.Vector3, this.position._value.clone()),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.maxAge = {
                _value: b.ensureTypedArg(a.maxAge.value, c.NUMBER, 2),
                _spread: b.ensureTypedArg(a.maxAge.spread, c.NUMBER, 0)
            },
            this.color = {
                _value: b.ensureArrayInstanceOf(a.color.value, THREE.Color, new THREE.Color),
                _spread: b.ensureArrayInstanceOf(a.color.spread, THREE.Vector3, new THREE.Vector3),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.opacity = {
                _value: b.ensureArrayTypedArg(a.opacity.value, c.NUMBER, 1),
                _spread: b.ensureArrayTypedArg(a.opacity.spread, c.NUMBER, 0),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.size = {
                _value: b.ensureArrayTypedArg(a.size.value, c.NUMBER, 1),
                _spread: b.ensureArrayTypedArg(a.size.spread, c.NUMBER, 0),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.angle = {
                _value: b.ensureArrayTypedArg(a.angle.value, c.NUMBER, 0),
                _spread: b.ensureArrayTypedArg(a.angle.spread, c.NUMBER, 0),
                _randomise: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1)
            },
            this.particleCount = b.ensureTypedArg(a.particleCount, c.NUMBER, 100),
            this.duration = b.ensureTypedArg(a.duration, c.NUMBER, null ),
            this.isStatic = b.ensureTypedArg(a.isStatic, c.BOOLEAN, !1),
            this.activeMultiplier = b.ensureTypedArg(a.activeMultiplier, c.NUMBER, 1),
            this.direction = b.ensureTypedArg(a.direction, c.NUMBER, 1),
            this.alive = b.ensureTypedArg(a.alive, c.BOOLEAN, !0),
            this.particlesPerSecond = 0,
            this.activationIndex = 0,
            this.attributeOffset = 0,
            this.attributeEnd = 0,
            this.age = 0,
            this.activeParticleCount = 0,
            this.group = null ,
            this.attributes = null ,
            this.paramsArray = null ,
            this.resetFlags = {
                position: b.ensureTypedArg(a.position.randomise, c.BOOLEAN, !1) || b.ensureTypedArg(a.radius.randomise, c.BOOLEAN, !1),
                velocity: b.ensureTypedArg(a.velocity.randomise, c.BOOLEAN, !1),
                acceleration: b.ensureTypedArg(a.acceleration.randomise, c.BOOLEAN, !1) || b.ensureTypedArg(a.drag.randomise, c.BOOLEAN, !1),
                rotation: b.ensureTypedArg(a.rotation.randomise, c.BOOLEAN, !1),
                rotationCenter: b.ensureTypedArg(a.rotation.randomise, c.BOOLEAN, !1),
                size: b.ensureTypedArg(a.size.randomise, c.BOOLEAN, !1),
                color: b.ensureTypedArg(a.color.randomise, c.BOOLEAN, !1),
                opacity: b.ensureTypedArg(a.opacity.randomise, c.BOOLEAN, !1),
                angle: b.ensureTypedArg(a.angle.randomise, c.BOOLEAN, !1)
            },
            this.updateFlags = {},
            this.updateCounts = {},
            this.updateMap = {
                maxAge: "params",
                position: "position",
                velocity: "velocity",
                acceleration: "acceleration",
                drag: "acceleration",
                wiggle: "params",
                rotation: "rotation",
                size: "size",
                color: "color",
                opacity: "opacity",
                angle: "angle"
            };
        for (var e in this.updateMap)
            this.updateMap.hasOwnProperty(e) && (this.updateCounts[this.updateMap[e]] = 0,
                this.updateFlags[this.updateMap[e]] = !1,
                this._createGetterSetters(this[e], e));
        this.bufferUpdateRanges = {},
            this.attributeKeys = null ,
            this.attributeCount = 0,
            b.ensureValueOverLifetimeCompliance(this.color, d, d),
            b.ensureValueOverLifetimeCompliance(this.opacity, d, d),
            b.ensureValueOverLifetimeCompliance(this.size, d, d),
            b.ensureValueOverLifetimeCompliance(this.angle, d, d)
    }
    ,
    SPE.Emitter.constructor = SPE.Emitter,
    SPE.Emitter.prototype._createGetterSetters = function(a, b) {
        var c = this;
        for (var d in a)
            if (a.hasOwnProperty(d)) {
                var e = d.replace("_", "");
                Object.defineProperty(a, e, {
                    get: function(a) {
                        return function() {
                            return this[a]
                        }
                    }(d),
                    set: function(a) {
                        return function(d) {
                            var e = c.updateMap[b]
                                , f = this[a]
                                , g = SPE.valueOverLifetimeLength;
                            "_rotationCenter" === a ? (c.updateFlags.rotationCenter = !0,
                                c.updateCounts.rotationCenter = 0) : "_randomise" === a ? c.resetFlags[e] = d : (c.updateFlags[e] = !0,
                                c.updateCounts[e] = 0),
                                c.group._updateDefines(),
                                this[a] = d,
                            Array.isArray(f) && SPE.utils.ensureValueOverLifetimeCompliance(c[b], g, g)
                        }
                    }(d)
                })
            }
    }
    ,
    SPE.Emitter.prototype._setBufferUpdateRanges = function(a) {
        this.attributeKeys = a,
            this.attributeCount = a.length;
        for (var b = this.attributeCount - 1; b >= 0; --b)
            this.bufferUpdateRanges[a[b]] = {
                min: Number.POSITIVE_INFINITY,
                max: Number.NEGATIVE_INFINITY
            }
    }
    ,
    SPE.Emitter.prototype._calculatePPSValue = function(a) {
        var b = this.particleCount;
        this.duration ? this.particlesPerSecond = b / (a < this.duration ? a : this.duration) : this.particlesPerSecond = b / a
    }
    ,
    SPE.Emitter.prototype._setAttributeOffset = function(a) {
        this.attributeOffset = a,
            this.activationIndex = a,
            this.activationEnd = a + this.particleCount
    }
    ,
    SPE.Emitter.prototype._assignValue = function(a, b) {
        switch (a) {
            case "position":
                this._assignPositionValue(b);
                break;
            case "velocity":
            case "acceleration":
                this._assignForceValue(b, a);
                break;
            case "size":
            case "opacity":
                this._assignAbsLifetimeValue(b, a);
                break;
            case "angle":
                this._assignAngleValue(b);
                break;
            case "params":
                this._assignParamsValue(b);
                break;
            case "rotation":
                this._assignRotationValue(b);
                break;
            case "color":
                this._assignColorValue(b)
        }
    }
    ,
    SPE.Emitter.prototype._assignPositionValue = function(a) {
        var b = SPE.distributions
            , c = SPE.utils
            , d = this.position
            , e = this.attributes.position
            , f = d._value
            , g = d._spread
            , h = d._distribution;
        switch (h) {
            case b.BOX:
                c.randomVector3(e, a, f, g, d._spreadClamp);
                break;
            case b.SPHERE:
                c.randomVector3OnSphere(e, a, f, d._radius, d._spread.x, d._radiusScale, d._spreadClamp.x, d._distributionClamp || this.particleCount);
                break;
            case b.DISC:
                c.randomVector3OnDisc(e, a, f, d._radius, d._spread.x, d._radiusScale, d._spreadClamp.x)
        }
    }
    ,
    SPE.Emitter.prototype._assignForceValue = function(a, b) {
        var c, d, e, f, g, h = SPE.distributions, i = SPE.utils, j = this[b], k = j._value, l = j._spread, m = j._distribution;
        switch (m) {
            case h.BOX:
                i.randomVector3(this.attributes[b], a, k, l);
                break;
            case h.SPHERE:
                c = this.attributes.position.typedArray.array,
                    g = 3 * a,
                    d = c[g],
                    e = c[g + 1],
                    f = c[g + 2],
                    i.randomDirectionVector3OnSphere(this.attributes[b], a, d, e, f, this.position._value, j._value.x, j._spread.x);
                break;
            case h.DISC:
                c = this.attributes.position.typedArray.array,
                    g = 3 * a,
                    d = c[g],
                    e = c[g + 1],
                    f = c[g + 2],
                    i.randomDirectionVector3OnDisc(this.attributes[b], a, d, e, f, this.position._value, j._value.x, j._spread.x)
        }
        if ("acceleration" === b) {
            var n = i.clamp(i.randomFloat(this.drag._value, this.drag._spread), 0, 1);
            this.attributes.acceleration.typedArray.array[4 * a + 3] = n
        }
    }
    ,
    SPE.Emitter.prototype._assignAbsLifetimeValue = function(a, b) {
        var c, d = this.attributes[b].typedArray, e = this[b], f = SPE.utils;
        f.arrayValuesAreEqual(e._value) && f.arrayValuesAreEqual(e._spread) ? (c = Math.abs(f.randomFloat(e._value[0], e._spread[0])),
            d.setVec4Components(a, c, c, c, c)) : d.setVec4Components(a, Math.abs(f.randomFloat(e._value[0], e._spread[0])), Math.abs(f.randomFloat(e._value[1], e._spread[1])), Math.abs(f.randomFloat(e._value[2], e._spread[2])), Math.abs(f.randomFloat(e._value[3], e._spread[3])))
    }
    ,
    SPE.Emitter.prototype._assignAngleValue = function(a) {
        var b, c = this.attributes.angle.typedArray, d = this.angle, e = SPE.utils;
        e.arrayValuesAreEqual(d._value) && e.arrayValuesAreEqual(d._spread) ? (b = e.randomFloat(d._value[0], d._spread[0]),
            c.setVec4Components(a, b, b, b, b)) : c.setVec4Components(a, e.randomFloat(d._value[0], d._spread[0]), e.randomFloat(d._value[1], d._spread[1]), e.randomFloat(d._value[2], d._spread[2]), e.randomFloat(d._value[3], d._spread[3]))
    }
    ,
    SPE.Emitter.prototype._assignParamsValue = function(a) {
        this.attributes.params.typedArray.setVec4Components(a, this.isStatic ? 1 : 0, 0, Math.abs(SPE.utils.randomFloat(this.maxAge._value, this.maxAge._spread)), SPE.utils.randomFloat(this.wiggle._value, this.wiggle._spread))
    }
    ,
    SPE.Emitter.prototype._assignRotationValue = function(a) {
        this.attributes.rotation.typedArray.setVec3Components(a, SPE.utils.getPackedRotationAxis(this.rotation._axis, this.rotation._axisSpread), SPE.utils.randomFloat(this.rotation._angle, this.rotation._angleSpread), this.rotation._static ? 0 : 1),
            this.attributes.rotationCenter.typedArray.setVec3(a, this.rotation._center)
    }
    ,
    SPE.Emitter.prototype._assignColorValue = function(a) {
        SPE.utils.randomColorAsHex(this.attributes.color, a, this.color._value, this.color._spread)
    }
    ,
    SPE.Emitter.prototype._resetParticle = function(a) {
        for (var b, c, d = this.resetFlags, e = this.updateFlags, f = this.updateCounts, g = this.attributeKeys, h = this.attributeCount - 1; h >= 0; --h)
            b = g[h],
                c = e[b],
            (d[b] === !0 || c === !0) && (this._assignValue(b, a),
                this._updateAttributeUpdateRange(b, a),
                c === !0 && f[b] === this.particleCount ? (e[b] = !1,
                    f[b] = 0) : 1 == c && ++f[b])
    }
    ,
    SPE.Emitter.prototype._updateAttributeUpdateRange = function(a, b) {
        var c = this.bufferUpdateRanges[a];
        c.min = Math.min(b, c.min),
            c.max = Math.max(b, c.max)
    }
    ,
    SPE.Emitter.prototype._resetBufferRanges = function() {
        var a, b = this.bufferUpdateRanges, c = this.bufferUpdateKeys, d = this.bufferUpdateCount - 1;
        for (d; d >= 0; --d)
            a = c[d],
                b[a].min = Number.POSITIVE_INFINITY,
                b[a].max = Number.NEGATIVE_INFINITY
    }
    ,
    SPE.Emitter.prototype._onRemove = function() {
        this.particlesPerSecond = 0,
            this.attributeOffset = 0,
            this.activationIndex = 0,
            this.activeParticleCount = 0,
            this.group = null ,
            this.attributes = null ,
            this.paramsArray = null ,
            this.age = 0
    }
    ,
    SPE.Emitter.prototype._decrementParticleCount = function() {
        --this.activeParticleCount
    }
    ,
    SPE.Emitter.prototype._incrementParticleCount = function() {
        ++this.activeParticleCount
    }
    ,
    SPE.Emitter.prototype._checkParticleAges = function(a, b, c, d) {
        for (var e, f, g, h, i = b - 1; i >= a; --i)
            e = 4 * i,
                h = c[e],
            0 !== h && (g = c[e + 1],
                f = c[e + 2],
                1 === this.direction ? (g += d,
                g >= f && (g = 0,
                    h = 0,
                    this._decrementParticleCount())) : (g -= d,
                0 >= g && (g = f,
                    h = 0,
                    this._decrementParticleCount())),
                c[e] = h,
                c[e + 1] = g,
                this._updateAttributeUpdateRange("params", i))
    }
    ,
    SPE.Emitter.prototype._activateParticles = function(a, b, c, d) {
        for (var e, f, g = this.direction, h = a; b > h; ++h)
            e = 4 * h,
            (0 == c[e] || 1 === this.particleCount) && (this._incrementParticleCount(),
                c[e] = 1,
                this._resetParticle(h),
                f = d * (h - a),
                c[e + 1] = -1 === g ? c[e + 2] - f : f,
                this._updateAttributeUpdateRange("params", h))
    }
    ,
    SPE.Emitter.prototype.tick = function(a) {
        if (!this.isStatic) {
            null  === this.paramsArray && (this.paramsArray = this.attributes.params.typedArray.array);
            var b = this.attributeOffset
                , c = b + this.particleCount
                , d = this.paramsArray
                , e = this.particlesPerSecond * this.activeMultiplier * a
                , f = this.activationIndex;
            if (this._resetBufferRanges(),
                    this._checkParticleAges(b, c, d, a),
                this.alive === !1)
                return void (this.age = 0);
            if (null  !== this.duration && this.age > this.duration)
                return this.alive = !1,
                    void (this.age = 0);
            var g = 1 === this.particleCount ? f : 0 | f
                , h = Math.min(g + e, this.activationEnd)
                , i = h - this.activationIndex | 0
                , j = i > 0 ? a / i : 0;
            this._activateParticles(g, h, d, j),
                this.activationIndex += e,
            this.activationIndex > c && (this.activationIndex = b),
                this.age += a
        }
    }
    ,
    SPE.Emitter.prototype.reset = function(a) {
        if (this.age = 0,
                this.alive = !1,
            a === !0) {
            for (var b, c = this.attributeOffset, d = c + this.particleCount, e = this.paramsArray, f = this.attributes.params.bufferAttribute, g = d - 1; g >= c; --g)
                b = 4 * g,
                    e[b] = 0,
                    e[b + 1] = 0;
            f.updateRange.offset = 0,
                f.updateRange.count = -1,
                f.needsUpdate = !0
        }
        return this
    }
    ,
    SPE.Emitter.prototype.enable = function() {
        return this.alive = !0,
            this
    }
    ,
    SPE.Emitter.prototype.disable = function() {
        return this.alive = !1,
            this
    }
    ,
    SPE.Emitter.prototype.remove = function() {
        return null  !== this.group ? this.group.removeEmitter(this) : console.error("Emitter does not belong to a group, cannot remove."),
            this
    }
    ,
    function(a) {
        a.fn.animatedModal = function(b) {
            function c() {
                i.css({
                    "z-index": f.zIndexOut
                }),
                    f.afterClose()
            }
            function d() {
                f.afterOpen()
            }
            var e = a(this)
                , f = a.extend({
                modalTarget: "animatedModal",
                position: "fixed",
                width: "100%",
                height: "100%",
                top: "0px",
                left: "0px",
                zIndexIn: "9999",
                zIndexOut: "-9999",
                color: "#39BEB9",
                opacityIn: "1",
                opacityOut: "0",
                animatedIn: "zoomIn",
                animatedOut: "zoomOut",
                animationDuration: ".6s",
                overflow: "auto",
                beforeOpen: function() {},
                afterOpen: function() {},
                beforeClose: function() {},
                afterClose: function() {}
            }, b)
                , g = a(".close-" + f.modalTarget)
                , h = a(e).attr("href")
                , i = a("body").find("#" + f.modalTarget)
                , j = "#" + i.attr("id");
            i.addClass("animated"),
                i.addClass(f.modalTarget + "-off");
            var k = {
                position: f.position,
                width: f.width,
                height: f.height,
                top: f.top,
                left: f.left,
                "background-color": f.color,
                "overflow-y": f.overflow,
                "z-index": f.zIndexOut,
                opacity: f.opacityOut,
                "-webkit-animation-duration": f.animationDuration,
                "-moz-animation-duration": f.animationDuration,
                "-ms-animation-duration": f.animationDuration,
                "animation-duration": f.animationDuration
            };
            i.css(k),
                e.click(function(b) {
                    b.preventDefault(),
                        a("body, html").css({
                            overflow: "hidden"
                        }),
                    h == j && (i.hasClass(f.modalTarget + "-off") && (i.removeClass(f.animatedOut),
                        i.removeClass(f.modalTarget + "-off"),
                        i.addClass(f.modalTarget + "-on")),
                    i.hasClass(f.modalTarget + "-on") && (f.beforeOpen(),
                        i.css({
                            opacity: f.opacityIn,
                            "z-index": f.zIndexIn
                        }),
                        i.addClass(f.animatedIn),
                        i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", d)))
                }),
                g.click(function(b) {
                    b.preventDefault(),
                        a("body, html").css({
                            overflow: "auto"
                        }),
                        f.beforeClose(),
                    i.hasClass(f.modalTarget + "-on") && (i.removeClass(f.modalTarget + "-on"),
                        i.addClass(f.modalTarget + "-off")),
                    i.hasClass(f.modalTarget + "-off") && (i.removeClass(f.animatedIn),
                        i.addClass(f.animatedOut),
                        i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", c))
                })
        }
    }(jQuery),
    function(a) {
        function b() {
            function b() {
                k.find(".gl-loading img").one("load", function() {
                    a(this).closest(".gl-loading").removeClass("gl-loading"),
                        k.isotope()
                }).each(function() {
                    this.complete && a(this).load()
                })
            }
            function c() {
                p = k.find(".gl-item:visible").each(function() {
                    a(this).attr("data-order", 10 * (a(this).index() + 1))
                })
            }
            function d() {
                var a = window.innerWidth < m ? 1 : window.innerWidth < n ? 2 : window.innerWidth < o ? 3 : k.hasClass("gl-cols-3") ? 3 : k.hasClass("gl-cols-4") ? 4 : k.hasClass("gl-cols-5") ? 5 : 4;
                return a
            }
            function e(b) {
                setTimeout(function() {
                    a("html, body").animate({
                        scrollTop: b.offset().top - (window.innerHeight - b.outerHeight(!0)) / 2 - 50
                    }, 500)
                }, 300)
            }
            function f() {
                var a = k.find("> .gl-preview");
                a.length && k.isotope("remove", a).isotope("layout")
            }
            function g(a) {
                var b = a.siblings(":visible").andSelf().index(a)
                    , c = a.find(".gl-preview")
                    , d = h(a, b, c);
                i(b, d),
                    setTimeout(function() {
                        k.isotope("layout")
                    }, 10),
                    e(d),
                    j(d.find(".carousel")),
                    l = a
            }
            function h(b, c, d) {
                var e = Math.floor(c / q)
                    , f = (e + 1) * q
                    , g = k.find(".gl-item:not(.gl-preview):visible");
                f > g.length - 1 && (f = g.length);
                var h = g.eq(f - 1).data("order")
                    , i = h + 1
                    , j = a('<li class="gl-item gl-preview" data-category="' + b.data("category") + '" data-order="' + i + '">' + d.html() + "</li>");
                return k.append(j.show()),
                    k.isotope("insert", j),
                    j.find("img").one("load", function() {
                        k.isotope("layout")
                    }),
                    j
            }
            function i(a, b) {
                var c = Math.floor(a / q)
                    , d = a - ((c + 1) * q - q);
                b.find(".glp-arrow").css({
                    left: (d + 1) * (100 / q) - 100 / q / 2 + "%"
                })
            }
            function j(a) {
                var b = a.attr("id") + "-a";
                a.attr("id", b),
                    a.find(".carousel-control").attr("href", "#" + b),
                    a.find(".carousel-indicators li").attr("data-target", "#" + b),
                    a.carousel()
            }
            var k = a("#about-gallery");
            if (0 == k.length)
                return !1;
            var l = a()
                , m = 768
                , n = 992
                , o = 1200
                , k = a(".ab-gallery")
                , p = a();
            c();
            var q = d();
            k.isotope({
                itemSelector: ".gl-item",
                resizable: !1,
                layoutMode: "masonry",
                sortBy: "origorder",
                getSortData: {
                    origorder: function(b) {
                        return a(b).data("order")
                    }
                }
            }),
                b(),
                a(".gallety-filters").on("click", "> li > a", function(b) {
                    b.preventDefault(),
                        f(),
                        p = k.find(".gl-item:not(.gl-preview):visible"),
                        a(".gallety-filters > li").removeClass("active"),
                        a(this).closest("li").addClass("active");
                    var c = a(this).attr("data-filter");
                    k.isotope({
                        filter: function() {
                            return "*" == c || -1 != a.inArray(c, a(this).data("category").split(/[\s,]+/))
                        }
                    })
                }),
                a(".footer-loadmore").on("click", function(d) {
                    d.preventDefault(),
                        f();
                    var e = (a(this).hide(),
                        a(this).siblings(".loading-spinner").show());
                    a.ajax({
                        type: "POST",
                        url: "ajax/gallery-previews.html",
                        data: JSON.stringify({
                            active_category: a(".gallety-filters li.active a").data("filter"),
                            offset: k.find(".gl-item").length,
                            somedata: "some data"
                        }),
                        success: function(d) {
                            var e = a("<div>" + d + "</div>").find(".gl-item");
                            k.append(e),
                                c(),
                                k.isotope("appended", e),
                                b()
                        },
                        complete: function() {
                            e.hide()
                        },
                        error: function(a, b) {
                            console.log(b)
                        }
                    })
                }),
                a("#menu-bar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function() {
                    k.isotope("layout")
                }),
                k.on("click", ".gl-item:not(.gl-preview) > a", function(b) {
                    b.preventDefault();
                    var c = a(this).parent();
                    f(),
                        l.is(c) ? l = a() : g(c)
                }),
                k.on("click", ".glp-close", function(b) {
                    b.preventDefault(),
                        f(),
                        l = a()
                }),
                k.on("click", ".glp-zoom", function(b) {
                    b.preventDefault();
                    var c = a(this).siblings("img");
                    c.attr("orig-src", c.attr("src")),
                        c.addClass("glp-zoomed").attr("src", a(this).attr("href"))
                }),
                k.on("click", ".glp-zoomed", function(b) {
                    a(this).removeClass("glp-zoomed").attr("src", a(this).attr("orig-src"))
                }),
                k.on("mousemove", ".glp-zoomed", function(b) {
                    var c = a(this)
                        , d = (b.pageY - a(window).scrollTop()) / window.innerHeight;
                    c.css({
                        top: -Math.ceil(d * (c.height() - window.innerHeight)) + "px"
                    })
                }),
                a(window).resize(function() {
                    f(),
                        q = d(),
                        l = a()
                })
        }
        a(document).ready(function() {
            a.fn.isotope && b()
        }),
            a("#menu-bar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function() {
                $gallery.isotope("layout")
            })
    }(jQuery),
    function(a) {
        function b() {
            U = _ ? window.innerHeight + .15 * window.innerHeight : window.innerHeight,
                T = window.innerWidth,
                V.style.backgroundSize = "100% 100%",
                Q = new THREE.PerspectiveCamera(50,T / U,50,2e4),
                Q.position.set(0, 0, 1400),
                R.add(Q),
                aa = new THREE.PerspectiveCamera(40,T / U,5,2e4),
                ba = new THREE.PerspectiveCamera(70,T / U,3,2e4),
                da = new THREE.PerspectiveCamera(65,T / U,1,25),
                ca = new THREE.PerspectiveCamera(60,T / U,5,2e4),
                R.fog = new THREE.FogExp2(0,5e-4);
            var a = new THREE.DirectionalLight(10481646,1);
            a.color.setHSL(1, 0, 1),
                a.position.set(300, 350, -300),
                a.rotation.set(.52, 0, 0),
                R.add(a),
                Z = new THREE.Object3D,
                ga = new THREE.Object3D,
                ha = new THREE.Object3D,
                fa = new THREE.Object3D,
                ia = new THREE.Object3D,
                ja = new THREE.Object3D,
                ka = new THREE.Object3D,
                ma = new THREE.Object3D,
                la = new THREE.Object3D,
                Z.add(fa),
                fa.add(ia),
                ia.position.set(0, 30, 0),
                ha.add(ma),
                ma.add(ka),
                Z.add(ha),
                Z.add(ga),
                ga.add(la),
                la.position.set(-100, 100, 0),
                la.rotation.set(-1, -2.5, 0),
                $ = new THREE.Object3D,
                R.add($),
                $.position.set(0, 450, 0),
                R.add(Z),
                Z.position.set(0, 0, 0),
                Z.rotation.set(0, 0, 0),
                la.add(aa),
                ia.add(ba),
                ga.add(da),
                ma.add(ca),
                X = new THREE.Clock,
                S = new THREE.WebGLRenderer({
                    antialias: !0
                }),
                _ && 1023 >= T ? /webOS|iPhone/i.test(navigator.userAgent) && T >= 375 ? S.setPixelRatio(window.devicePixelRatio) : S.setPixelRatio(1) : S.setPixelRatio(window.devicePixelRatio),
                S.setSize(T, U),
                V.appendChild(S.domElement),
                Q.updateProjectionMatrix(),
                document.addEventListener("mousemove", J, !1),
                document.addEventListener("mousedown", I, !1),
            /Android/i.test(navigator.userAgent) || (document.addEventListener("touchstart", O, !1),
                document.addEventListener("touchmove", P, !1))
        }
        function c() {
            d("objects/planet.dae", "planet", 0, 0, 0, 1, 0, 0, 0),
                d("objects/lab.dae", "lab", 0, 0, 0, .9, 0, 0, 0),
                d("objects/factory.dae", "factory", 0, 0, 0, .8, 0, 0, 0),
                d("objects/stadium.dae", "stadium", 0, 0, 0, .8, 0, 0, 0),
                d("objects/cloud_03.dae", "cloud", -40, 380, 50, 1, 0, 0, 0),
                d("objects/cargo_ship.dae", "cargo", 0, 0, 0, .8, 0, 0, 0),
                d("objects/satellite.dae", "satellite", 0, 0, 0, .8, 0, 8, 0),
                d("objects/blimp.dae", "blimp", 0, 0, 20, 1, 0, -1.5, 0),
                d("objects/gantry.dae", "gantry", 10, 4, -7, .4, 0, 1.6, 0),
                d("objects/rocket_factory.dae", "rocketfactory", 0, 0, 0, .4, 0, 1.6, 0),
                d("objects/billboard0.dae", "billboard0", 80, -10, 30, 3, 0, 1.2, 0),
                d("objects/billboard.dae", "billboard1", 65, -5, -38, 3, 0, 1.2, 0),
                d("objects/billboard2.dae", "billboard2", -30, -1, 20, 3, -.1, 2, 0)
        }
        function d(a, b, c, d, f, g, h, i, j) {
            var k = new THREE.LoadingManager;
            k.onProgress = function(a, b, c) {
                console.log(a, b, c)
            }
            ;
            var l = new THREE.ColladaLoader(k);
            l.options.convertUpAxis = !0,
                l.load(a, function(a) {
                    var e = a.scene;
                    switch (e.name = b,
                        e.position.set(c, d, f),
                        e.rotation.y = i,
                        e.rotation.x = h,
                        e.rotation.z = j,
                        e.scale.x = e.scale.y = e.scale.z = g,
                        e.name) {
                        case "planet":
                            Z.add(e);
                            break;
                        case "rocket":
                            q(),
                                e.add(Y.mesh);
                            break;
                        case "factory":
                            ha.add(e),
                                ha.position.set(0, 317, 0),
                                ha.rotation.set(0, 0, 0);
                            break;
                        case "lab":
                            var k = a.animations;
                            Ra = k.length,
                                ga.add(e),
                                ga.position.set(-162, 277, -2),
                                ga.rotation.set(0, 0, .523599),
                                da.position.set(17, 15, -9),
                                da.rotation.set(0, 2.6, 0);
                            for (var l = 0; Ra > l; ++l) {
                                var m = k[l]
                                    , n = new THREE.KeyFrameAnimation(m);
                                n.timeScale = 1,
                                    Qa.push(n)
                            }
                            v(Qa, Ra);
                            break;
                        case "cargo":
                            ja.position.set(10, 15, 0),
                                ja.rotation.set(0, 0, 0),
                                ja.add(e),
                                e.rotation.set(0, 1.5, 0),
                                ga.add(ja),
                            R.getObjectByName("cargo", !0) && (ea = R.getObjectByName("cargo", !0));
                            break;
                        case "cloud":
                            $.add(e);
                            for (var o = 0; 10 > o; o++)
                                s(e, $, B(.5, 1), B(-300, 300), B(50, 150), B(-400, 400), 0, B(0, 6), 0);
                            break;
                        case "stadium":
                            fa.add(e),
                                fa.position.set(155, 280, -1),
                                fa.rotation.set(.025, 0, -.523599);
                            break;
                        case "asteroid":
                            for (var l = 0; 50 > l; l++) {
                                var p = a.scene;
                                p.name = b + "_" + l,
                                    p.position.set(r(c + 100, c - 100), 0)
                            }
                            Z.add(p);
                            break;
                        case "blimp":
                            ia.add(e),
                                ba.position.set(-4, 20, 8),
                                ba.rotation.set(-1.5, 0, 0);
                            break;
                        case "satellite":
                            la.add(e),
                                aa.position.set(50, 60, 20),
                                aa.rotation.set(1.8, 2.3, 3);
                            break;
                        case "gantry":
                            ma.add(e);
                            var t = a.animations;
                            Va = t.length;
                            for (var o = 0; Va > o; ++o) {
                                var u = t[o]
                                    , w = new THREE.KeyFrameAnimation(u);
                                w.timeScale = 1,
                                    Ua.push(w)
                            }
                            v(Ua, Va),
                                ca.position.set(36, 23, -12),
                                ca.rotation.set(.2, 0, 0);
                            break;
                        case "rocketfactory":
                            ka.add(e),
                                q(),
                                e.add(Y.mesh),
                                ka.position.set(10, 4, -7),
                                ka.rotation.set(0, 0, 0);
                            break;
                        case "billboard0":
                            ga.add(e);
                            break;
                        case "billboard1":
                            ha.add(e);
                            break;
                        case "billboard2":
                            fa.add(e)
                    }
                }, function(a) {
                    Ea++,
                    12 == Ea && e()
                }, function(a) {})
        }
        function e() {
            _ || (TweenMax.set(a("#ideas-link"), {
                opacity: 0
            }),
                TweenMax.set(a("#production-link"), {
                    opacity: 0
                }),
                TweenMax.set(a("#social-link"), {
                    opacity: 0
                })),
                a("#fullpage").fullpage({
                    verticalCentered: !1,
                    autoScrolling: !0,
                    scrollBar: !1,
                    fitToSection: !1,
                    easing: "easeInOutCubic",
                    css3: !0,
                    touchSensitivity: 10,
                    scrollingSpeed: 1e3,
                    hybrid: !1,
                    navigation: !0,
                    anchors: ["intro", "home-overview", "home-ideas", "home-production", "home-social-media", "contact-us", "the-end"],
                    navigationTooltips: ["Intro", "Home", "Ideas", "Production Services", "Social Media home", "Contact Us", "The End"],
                    afterLoad: function(a) {
                        M()
                    },
                    onLeave: function(b, c, d) {
                        N(),
                            "up" == d ? Ba = -80 : "down" == d && (Ba = 80),
                        1 == b && "down" == d && (T >= 916 && o("down"),
                        _ || (TweenMax.to(a("#tagline"), .2, {
                            opacity: 0
                        }),
                            TweenMax.to(a(".intro-copy"), .2, {
                                opacity: 0
                            }),
                            TweenMax.to(a(".main-button"), .2, {
                                opacity: 0
                            }),
                            TweenMax.to(a(".scroll-down"), .1, {
                                opacity: 0
                            }))),
                        1 == c && f(),
                        2 == c && g(),
                        2 == b && (_ || (TweenMax.to(a("#ideas-link"), .25, {
                            opacity: 0
                        }),
                            TweenMax.to(a("#production-link"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#social-link"), .25, {
                                opacity: 0
                            }),
                            TweenMax.killTweensOf(a("#home-main .section-title")),
                            TweenMax.killTweensOf(a("#home-main .section-text")),
                            TweenMax.to(a("#home-main .section-title"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#home-main .section-text"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#ideas-link"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#production-link"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#social-link"), .25, {
                                opacity: 0
                            }))),
                        3 == c && h(),
                        3 == b && (_ || (TweenMax.to(a("#ideas .section-title"), .25, {
                            opacity: 0
                        }),
                            TweenMax.to(a("#ideas .section-text"), .25, {
                                opacity: 0
                            }))),
                        3 == b && 4 == c && (p(),
                            n(),
                            Ma = !0,
                            TweenMax.to(ja.position, .7, {
                                y: 30,
                                ease: Power3.easeOut
                            }),
                            TweenMax.to(ja.position, 3, {
                                delay: .5,
                                bezier: {
                                    type: "soft",
                                    curviness: 2,
                                    values: [{
                                        x: 30,
                                        y: 30
                                    }, {
                                        x: 80,
                                        y: 5
                                    }, {
                                        x: 120,
                                        y: -15
                                    }, {
                                        x: 155,
                                        y: -36
                                    }]
                                },
                                ease: Power2.easeInOut
                            }),
                            TweenMax.to(ja.rotation, 2, {
                                delay: 1.25,
                                z: -.5
                            })),
                        4 == c && (za = !1,
                            i()),
                        4 == b && (_ || (TweenMax.to(a("#production .section-title"), .25, {
                            opacity: 0
                        }),
                            TweenMax.to(a("#production .section-text"), .25, {
                                opacity: 0
                            }))),
                        4 == b && 5 == c && (TweenMax.to(ma.position, .5, {
                            x: 20,
                            ease: Quad.easeInOut,
                            onComplete: function() {
                                Ya = !0
                            }
                        }),
                            TweenMax.to(ma.position, 1, {
                                x: 0,
                                ease: Quad.easeInOut,
                                delay: 2
                            }),
                            TweenMax.to(ka.position, 6, {
                                z: 1,
                                bezier: {
                                    type: "soft",
                                    curviness: 2,
                                    delay: 1,
                                    values: [{
                                        x: 35,
                                        y: 50
                                    }, {
                                        x: 160,
                                        y: 80
                                    }, {
                                        x: 156,
                                        y: -38
                                    }]
                                },
                                onStart: function() {
                                    Ka = !0,
                                        Y.mesh.visible = !0
                                },
                                onComplete: function() {
                                    Ka = !1,
                                        Wa = !0,
                                        Y.mesh.visible = !1
                                },
                                ease: Power1.easeInOut
                            }),
                            TweenMax.to(ka.rotation, 4, {
                                bezier: {
                                    type: "soft",
                                    values: [{
                                        z: -2
                                    }, {
                                        z: -.52
                                    }]
                                },
                                ease: Quad.easeInOut,
                                delay: .5
                            })),
                        5 == c && j(),
                        5 == b && (_ || (TweenMax.to(a("#socialmedia .section-title"), .25, {
                            opacity: 0
                        }),
                            TweenMax.to(a("#socialmedia .section-text"), .25, {
                                opacity: 0
                            }))),
                        6 == b && (_ || (TweenMax.to(a("#contact-home .section-title"), .25, {
                            opacity: 0
                        }),
                            TweenMax.to(a("#contact-home .section-text"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#question-2"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#formName"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#formEmail"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#formMessage"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#submitBtn"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#nextBtn"), .25, {
                                opacity: 0
                            }),
                            TweenMax.to(a("#backBtn"), .25, {
                                opacity: 0
                            }))),
                        6 == c && (k(),
                            document.removeEventListener("mousedown", I, !1)),
                        6 == b && "up" == d && document.addEventListener("mousedown", I, !1),
                        7 == c && l()
                    }
                })
        }
        function f() {
            p(),
            T >= 916 && o("up"),
                TweenMax.to(Q.position, 3, {
                    y: 0,
                    z: 1400,
                    ease: Quad.easeInOut
                }),
                TweenMax.to(Z.rotation, 3, {
                    y: 0,
                    ease: Quad.easeInOut
                }),
            _ || (TweenMax.fromTo(a("#tagline"), 1, {
                opacity: 0,
                y: 50
            }, {
                y: 0,
                opacity: 1,
                delay: 1,
                ease: Quad.easeOut
            }),
                TweenMax.fromTo(a(".intro-copy"), 1, {
                    opacity: 0,
                    y: 50
                }, {
                    y: 0,
                    opacity: 1,
                    delay: 1.25,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a(".main-button"), 2, {
                    opacity: 0,
                    scale: 1.2
                }, {
                    scale: 1,
                    y: 0,
                    opacity: 1,
                    delay: 1.5,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a(".scroll-down"), .5, {
                    opacity: 0,
                    y: -50
                }, {
                    y: 0,
                    opacity: 1,
                    delay: 1.75,
                    ease: Back.easeOut
                }))
        }
        function g() {
            p(),
                TweenMax.to(Q.position, 3, {
                    z: 800,
                    y: 420,
                    immediateRender: !1,
                    ease: Quad.easeInOut
                }),
                TweenMax.to(Z.rotation, 3, {
                    z: 0,
                    y: 0,
                    ease: Quad.easeInOut
                }),
            _ || (TweenMax.killTweensOf(a("#home-main .section-title")),
                TweenMax.killTweensOf(a("#home-main .section-text")),
                TweenMax.fromTo(a("#home-main .section-title"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#home-main .section-text"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    opacity: 1,
                    y: 0,
                    delay: 1.5,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#ideas-link"), .5, {
                    scale: 1.2,
                    opacity: 0
                }, {
                    opacity: 1,
                    scale: 1,
                    ease: Quad.easeOut,
                    delay: 1.75
                }),
                TweenMax.fromTo(a("#production-link"), .5, {
                    scale: 1.2,
                    opacity: 0
                }, {
                    opacity: 1,
                    scale: 1,
                    ease: Quad.easeOut,
                    delay: 2
                }),
                TweenMax.fromTo(a("#social-link"), .5, {
                    scale: 1.2,
                    opacity: 0
                }, {
                    scale: 1,
                    ease: Quad.easeOut,
                    opacity: 1,
                    delay: 2.25
                }))
        }
        function h() {
            n(),
                p(),
                TweenMax.to(Z.rotation, 2, {
                    z: -.52,
                    y: -1,
                    ease: Quad.easeInOut
                }),
                TweenMax.to(Q.position, 2, {
                    z: 170,
                    y: 350,
                    ease: Quad.easeInOut
                }),
            _ || (TweenMax.killTweensOf(a("#ideas .section-title")),
                TweenMax.killTweensOf(a("#ideas .section-text")),
                TweenMax.fromTo(a("#ideas .section-title"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#ideas .section-text"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1.5,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#expandideas"), 1, {
                    opacity: 0,
                    scale: 1.2
                }, {
                    scale: 1,
                    delay: 2,
                    opacity: 1,
                    ease: Quad.easeOut
                }))
        }
        function i() {
            p(),
            (1 == Wa || 1 == Ka) && (Wa = !1,
                TweenMax.killTweensOf(ka.position),
                TweenMax.killTweensOf(ka.rotation),
                TweenMax.to(ka.position, 1.5, {
                    y: 300,
                    x: 300,
                    ease: Expo.easeIn,
                    onStart: function() {
                        Ka = !0,
                            Y.mesh.visible = !0
                    },
                    onComplete: function() {
                        Ka = !1,
                            za = !0,
                            m(),
                            Y.mesh.visible = !1
                    }
                })),
                TweenMax.to(Z.rotation, 3, {
                    z: 0,
                    delay: .25,
                    ease: Quad.easeInOut
                }),
                TweenMax.to(Q.position, 3, {
                    z: 170,
                    y: 350,
                    delay: .25,
                    ease: Quad.easeInOut
                }),
            _ || (TweenMax.killTweensOf(a("#production .section-title")),
                TweenMax.killTweensOf(a("#production .section-text")),
                TweenMax.fromTo(a("#production .section-title"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#production .section-text"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1.5,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#expandProduction"), 1, {
                    opacity: 0,
                    scale: 1.2
                }, {
                    scale: 1,
                    delay: 2,
                    opacity: 1,
                    ease: Quad.easeOut
                }))
        }
        function j() {
            p(),
                TweenMax.to(Z.rotation, 4, {
                    z: .52,
                    y: -2,
                    ease: Quad.easeInOut
                }),
                TweenMax.to(Q.position, 4, {
                    z: 170,
                    y: 350,
                    ease: Quad.easeInOut
                }),
            _ || (TweenMax.killTweensOf(a("#socialmedia .section-title")),
                TweenMax.killTweensOf(a("#socialmedia .section-text")),
                TweenMax.fromTo(a("#socialmedia .section-title"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#socialmedia .section-text"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1.5,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#expandSocial"), 1, {
                    opacity: 0,
                    scale: 1.2
                }, {
                    scale: 1,
                    delay: 2,
                    opacity: 1,
                    ease: Quad.easeOut
                }))
        }
        function k() {
            p(),
                TweenMax.to(Q.position, 4, {
                    y: 700,
                    z: 100,
                    ease: Expo.easeInOut,
                    delay: .5
                }),
            (1 == Wa || 1 == Ka) && (Ka = !0,
                console.log("launched"),
                TweenMax.killTweensOf(ka.position),
                TweenMax.to(ka.position, 4, {
                    y: 270,
                    x: 350,
                    ease: Expo.easeInOut,
                    delay: .5
                }),
                Y.mesh.visible = !0),
            _ || (TweenMax.killTweensOf(a("#contact-home .section-title")),
                TweenMax.killTweensOf(a("#contact-home .section-text")),
                TweenMax.fromTo(a("#contact-home .section-title"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#contact-home .section-text"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1.5,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#formName"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 1.75,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#formEmail"), 1, {
                    opacity: 0,
                    y: Ba
                }, {
                    y: 0,
                    delay: 2,
                    opacity: 1,
                    ease: Quad.easeOut
                }),
                TweenMax.fromTo(a("#nextBtn"), 1, {
                    opacity: 0,
                    scale: 1.2
                }, {
                    scale: 1,
                    delay: 2.5,
                    opacity: 1,
                    ease: Quad.easeOut
                }))
        }
        function l() {
            p(),
                TweenMax.to(Q.position, 2, {
                    y: 300,
                    z: 1400,
                    delay: 2,
                    ease: Quad.easeInOut
                }),
                TweenMax.to(Z.rotation, 2, {
                    y: 0,
                    delay: 2,
                    ease: Quad.easeInOut
                }),
            1 == Ka && (TweenMax.killTweensOf(ka.position),
                TweenMax.to(ka.position, 3, {
                    y: 500,
                    ease: Expo.easeInOut,
                    delay: .25
                }),
                Y.mesh.visible = !0)
        }
        function m() {
            TweenMax.killTweensOf(ka),
                ka.position.set(10, 4, -7),
                ka.rotation.set(0, 0, 0)
        }
        function n() {
            TweenMax.killTweensOf(ja),
                ja.position.set(10, 15, 0),
                ja.rotation.set(0, 0, 0)
        }
        function o(a) {
            H();
            for (var b = 0; b < Oa.length; b++)
                Na.to(Oa[b], .5, {
                    delay: b / 25,
                    ease: Expo.easeinOut,
                    opacity: 1,
                    scale: 1.5,
                    morphSVG: Pa[b]
                }, 0),
                    Na.to(Oa[b], .5, {
                        delay: .25 + b / 25,
                        ease: Quad.easeInOut,
                        opacity: 0,
                        y: 80 * Math.random() - 50,
                        x: 30 * Math.random() - 10
                    }, .25);
            Na.to(".main-nav .nav-wrapper", .5, {
                opacity: 1
            }, .25),
                Na.to("#dotsAll", .5, {
                    scale: oa,
                    x: -40,
                    y: na,
                    delay: .25,
                    ease: Quad.easeInOut
                }, .35),
                Na.stop(),
                "down" == a ? Na.play(0) : "up" == a && Na.reverse()
        }
        function p() {
            Da = 0,
                TweenMax.killTweensOf(Q.position),
                TweenMax.killTweensOf(Z.rotation),
                Aa = "cam1",
            Za && (Za = !1,
                a("#ideas-main").css({
                    display: "block",
                    opacity: "1"
                }),
                a("#collapseideas").css({
                    display: "none"
                }, {
                    opacity: "0"
                })),
            $a && ($a = !1,
                a("#production-main").css({
                    display: "block",
                    opacity: "1"
                }),
                a("#collapseProduction").css({
                    display: "none",
                    opacity: "0"
                })),
            _a && (_a = !1,
                a("#social-main").css({
                    display: "block",
                    opacity: "1"
                }),
                a("#collapseSocial").css({
                    display: "none",
                    opacity: "0"
                }))
        }
        function q() {
            Y = new SPE.Group({
                maxParticleCount: 50,
                texture: {
                    value: THREE.ImageUtils.loadTexture("images/emitter/flameparticle.png")
                }
            }),
                W = new SPE.Emitter({
                    particleCount: 30,
                    maxAge: {
                        value: 1
                    },
                    position: {
                        value: new THREE.Vector3(0,10,0),
                        spread: new THREE.Vector3(0,0,0)
                    },
                    acceleration: {
                        value: new THREE.Vector3(0,-5,0),
                        spread: new THREE.Vector3(2,0,2)
                    },
                    velocity: {
                        value: new THREE.Vector3(0,-5,0),
                        spread: new THREE.Vector3(3,1,3)
                    },
                    color: {
                        value: [new THREE.Color(3327), new THREE.Color(34489)]
                    },
                    size: {
                        value: 10
                    }
                }),
                Y.addEmitter(W)
        }
        function s(a, b, c, d, e, f, g, h, i) {
            var j = a.clone();
            j.position.set(d, e, f),
                j.rotation.set(g, h, i),
                j.scale.x = j.scale.y = j.scale.z = c,
                b.add(j)
        }
        function t() {
            for (var a = new THREE.Geometry, b = 0; 200 > b; b++) {
                var c = new THREE.Vector3;
                c.x = THREE.Math.randFloatSpread(2e3),
                    c.y = THREE.Math.randFloatSpread(2e3),
                    c.z = THREE.Math.randFloatSpread(1e3),
                    a.vertices.push(c)
            }
            var d = new THREE.Points(a,new THREE.PointsMaterial({
                color: 16777215,
                size: 1,
                depthWrite: !1
            }));
            d.renderOrder = 0,
                R.add(d)
        }
        function u() {
            var a = new THREE.HemisphereLight(16777215,16777215,1);
            a.color.setHSL(1, 1, 0),
                a.position.set(0, 0, 0),
                R.add(a);
            var b = document.getElementById("vertexShader").textContent
                , c = document.getElementById("fragmentShader").textContent
                , d = {
                topColor: {
                    type: "c",
                    value: new THREE.Color(ta[va])
                },
                bottomColor: {
                    type: "c",
                    value: new THREE.Color(ua[va])
                },
                offset: {
                    type: "f",
                    value: 0
                },
                exponent: {
                    type: "f",
                    value: .8
                }
            };
            d.topColor.value.copy(a.color),
                R.fog.color.copy(d.bottomColor.value);
            var e = new THREE.SphereGeometry(3e3,100,15)
                , f = new THREE.ShaderMaterial({
                vertexShader: b,
                fragmentShader: c,
                uniforms: d,
                side: THREE.BackSide
            })
                , g = new THREE.Mesh(e,f);
            R.add(g)
        }
        function v(a, b) {
            for (var c = 0; b > c; ++c) {
                for (var d = a[c], e = 0, f = d.hierarchy.length; f > e; e++) {
                    var g = d.data.hierarchy[e].keys
                        , h = d.data.hierarchy[e].sids
                        , i = d.hierarchy[e];
                    if (g.length && h) {
                        for (var j = 0; j < h.length; j++) {
                            var k = h[j]
                                , l = d.getNextKeyWith(k, e, 0);
                            l && l.apply(k)
                        }
                        i.matrixAutoUpdate = !1,
                            d.data.hierarchy[e].node.updateMatrix(),
                            i.matrixWorldNeedsUpdate = !0
                    }
                }
                a[c].loop = !0,
                    d.play()
            }
        }
        function w(a) {
            if (R.getObjectByName("lab", !0)) {
                var b = .001 * (a - Sa)
                    , c = .001 * (a - Sa);
                1 == Ma && (.4812 >= Ta ? Qa[1].update(c) : Ta > .4812 && (Ma = !1,
                    Ta = 0,
                    Qa[1].update(0))),
                    Qa[0].update(b),
                    1 == Ma ? Ta += c : (Ta = 0,
                        Qa[1].update(0))
            }
            if (R.getObjectByName("gantry", !0)) {
                var d = .7339
                    , e = .001 * (a - Sa);
                1 == Ya && (d >= Xa ? (Ua[0].update(e),
                    Ua[1].update(e),
                    Ua[2].update(e)) : Xa > d && (Ya = !1,
                    Xa = 0,
                    Ua[0].update(0),
                    Ua[1].update(0),
                    Ua[2].update(0)),
                    1 == Ya ? Xa += e : (Xa = 0,
                        Ua[0].update(0),
                        Ua[1].update(0),
                        Ua[2].update(0)))
            }
            Sa = a,
                y(),
                z(),
                A(),
                requestAnimationFrame(w),
                x(X.getDelta())
        }
        function x(a) {
            switch (Aa) {
                case "cam1":
                    Da >= 150 ? Da = 150 : -150 >= Da && (Da = -150),
                        Z.rotation.y >= -6.28319 && Z.rotation.y <= 6.28319 ? Z.rotation.y -= 1e-4 * (Da - Z.rotation.y) : Z.rotation.y = 0,
                        Q.updateProjectionMatrix(),
                        S.render(R, Q),
                    1 == Ka && Y.tick(a);
                    break;
                case "camFooter":
                    S.render(R, aa);
                    break;
                case "cameraBlimp":
                    S.render(R, ba);
                    break;
                case "cameraRocket":
                    ca.lookAt(ma.position),
                        S.render(R, ca);
                    break;
                case "cameraCargo":
                    S.render(R, da)
            }
        }
        function y() {
            $.rotation.y += 1e-4
        }
        function z() {
            ia.rotation.y += 5e-4
        }
        function A() {
            if (R.getObjectByName("satellite", !0)) {
                var a = R.getObjectByName("satellite", !0);
                a.rotation.z += .001
            }
        }
        function B(a, b) {
            return Math.floor(Math.random() * (b - a + 1)) + a
        }
        function C(a) {
            qa = .03 * (a.clientX - T / 2),
                ra = .03 * (a.clientY - U / 2)
        }
        function D() {
            window.addEventListener("resize", E, !1),
            _ || document.addEventListener("mousemove", C, !1)
        }
        function E() {
            _ ? window.innerWidth != T && F() : F()
        }
        function F() {
            U = _ ? 1.15 * window.innerHeight : window.innerHeight,
                T = window.innerWidth,
                Q.aspect = T / U,
                aa.aspect = T / U,
                ba.aspect = T / U,
                ca.aspect = T / U,
                da.aspect = T / U,
                Q.updateProjectionMatrix(),
                aa.updateProjectionMatrix(),
                ba.updateProjectionMatrix(),
                da.updateProjectionMatrix(),
                ca.updateProjectionMatrix(),
                _ && 1023 >= T ? /webOS|iPhone/i.test(navigator.userAgent) && T >= 375 ? S.setPixelRatio(window.devicePixelRatio) : S.setPixelRatio(1) : S.setPixelRatio(window.devicePixelRatio),
                S.setSize(T, U),
                H()
        }
        function G() {
            H()
        }
        function H() {
            U = window.innerHeight,
                T = window.innerWidth,
                915 >= T ? (na = 10,
                    oa = 2.6,
                    pa = 1) : (na = -4,
                    oa = 1.9,
                    pa = 0)
        }
        function I(a) {
            a.preventDefault(),
                M(),
                Ha = a.clientX - La,
                Fa = Da
        }
        function J(a) {
            sa = a.clientX - La,
                Da = Fa - .01 * (sa - Ha)
        }
        function K(a) {
            N()
        }
        function L(a) {
            N()
        }
        function M() {
            document.addEventListener("mousemove", J, !1),
                document.addEventListener("mouseup", K, !1),
                document.addEventListener("mouseout", L, !1)
        }
        function N() {
            document.removeEventListener("mousemove", J, !1),
                document.removeEventListener("mouseup", K, !1),
                document.removeEventListener("mouseout", L, !1)
        }
        function O(a) {
            1 === a.touches.length && (a.preventDefault(),
                Ha = a.touches[0].pageX - La,
                Fa = Da)
        }
        function P(a) {
            1 === a.touches.length && (a.preventDefault(),
                sa = a.touches[0].pageX - La,
                Da = Fa - .05 * (sa - Ha))
        }
        var Q, R, S, T, U, V, W, X, Y, Z, $, _, aa, ba, ca, da, ea, fa, ga, ha, ia, ja, ka, la, ma, na, oa, pa, qa = 0, ra = 0, sa = 0, ta = [21681, 16712114, 10277881, 12417023, 2690352, 465531], ua = [36569, 11693567, 4429, 3100, 14770253, 1219281], va = 0, wa = new TimelineMax({
            repeat: -1
        }), xa = new TimelineMax({
            repeat: -1,
            repeatDelay: .25
        }), ya = new TimelineMax({
            repeat: -1,
            yoyo: !0
        }), za = !1, Aa = "cam1", Ba = 80, Ca = !1, Da = 0, Ea = 0, Fa = 0, Ga = 0, Ha = 0, Ia = !0, Ja = !1, Ka = !1, La = window.innerWidth / 2, Ma = (window.innerHeight / 2,
            !1), Na = new TimelineMax, Oa = ["#e1", "#l1", "#e2", "#c1", "#t1", "#r1", "#i1a", "#i1b", "#c2", "#leftbracket", "#rightbracket", "#e3", "#n1", "#j1", "#i2", "#n2"], Pa = ["#c_e1", "#c_l1", "#c_e2", "#c_c1", "#c_t1", "#c_r1", "#c_i1a", "#c_i1b", "#c_c2", "#c_leftbracket", "#c_rightbracket", "#c_e3", "#c_n1", "#c_j1", "#c_i2", "#c_n2"], Qa = [], Ra = 0, Sa = 0, Ta = 0, Ua = [], Va = 0, Wa = !1, Xa = 0, Ya = !1, Za = !1, $a = !1, _a = !1;
        a(window).scroll(function() {
            0 != a("#jumbotron").length || _ || (a(window).scrollTop() > 0 ? 0 == Ca && (Ca = !0,
                o("down")) : 0 == a(window).scrollTop() && 1 == Ca && (Ca = !1,
                o("up")))
        }),
            a("#se-pr").hover(function() {
                wa.add(TweenMax.to(a("#wheel1"), 1, {
                    rotation: "180",
                    transformOrigin: "50% 50%",
                    ease: Linear.easeNone
                }), 0),
                    wa.add(TweenMax.to(a("#wheel2"), 1, {
                        rotation: "270",
                        transformOrigin: "50% 50%",
                        ease: Linear.easeNone
                    }), 0),
                    wa.add(TweenMax.to(a("#wheel3"), 1, {
                        rotation: "360",
                        transformOrigin: "50% 50%",
                        ease: Linear.easeNone
                    }), 0),
                    wa.resume()
            }, function() {
                wa.stop()
            }),
            a("#se-ma").hover(function() {
                TweenMax.to(a("#market"), .25, {
                    width: 18,
                    height: 10,
                    ease: Expo.easeInOut
                }),
                    ya.add(TweenMax.to(a(".ma2"), .35, {
                        drawSVG: 5,
                        ease: Quad.easeInOut
                    }), 0),
                    ya.add(TweenMax.to(a(".ma3"), .35, {
                        drawSVG: 2,
                        ease: Quad.easeInOu
                    }), 0),
                    ya.resume()
            }, function() {
                ya.seek(0),
                    ya.stop(),
                    TweenMax.to(a("#market"), .5, {
                        width: 0,
                        height: 10,
                        ease: Quad.easeOut
                    })
            }),
            a("#se-sm").hover(function() {
                xa.add(TweenMax.fromTo(a("#bubble1"), .25, {
                    scale: 1,
                    transformOrigin: "50% 50%"
                }, {
                    scale: 0,
                    ease: Back.easeIn
                }), 0),
                    xa.add(TweenMax.fromTo(a("#bubble2"), .25, {
                        scale: 1,
                        transformOrigin: "50% 50%"
                    }, {
                        scale: 0,
                        ease: Back.easeIn
                    }), .25),
                    xa.add(TweenMax.to(a("#bubble1"), .25, {
                        scale: 1,
                        ease: Back.easeOut,
                        transformOrigin: "50% 50%"
                    }), .45),
                    xa.add(TweenMax.to(a("#bubble2"), .25, {
                        scale: 1,
                        ease: Back.easeOut,
                        transformOrigin: "50% 50%"
                    }), .7),
                    xa.add(TweenMax.fromTo(a("#dot1"), .1, {
                        opacity: 0
                    }, {
                        opacity: 1,
                        ease: Linear.easeNone
                    }), .25),
                    xa.add(TweenMax.fromTo(a("#dot2"), .1, {
                        opacity: 0
                    }, {
                        opacity: 1,
                        ease: Linear.easeNone
                    }), .4),
                    xa.add(TweenMax.fromTo(a("#dot3"), .1, {
                        opacity: 0
                    }, {
                        opacity: 1,
                        ease: Linear.easeNone
                    }), .55),
                    xa.resume()
            }, function() {
                xa.seek(0),
                    xa.stop(),
                    TweenMax.set(a("#dot1"), {
                        opacity: 1
                    }),
                    TweenMax.set(a("#dot2"), {
                        opacity: 1
                    }),
                    TweenMax.set(a("#dot3"), {
                        opacity: 1
                    })
            }),
            a("#expandideas").click(function() {
                Za || (Za = !0,
                    Aa = "cameraCargo",
                    TweenMax.to(a("#ideas-main"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#ideas-main").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#collapseideas"), 0, {
                        opacity: 1,
                        delay: .25,
                        onStart: function() {
                            a("#collapseideas").css("display", "block")
                        }
                    }),
                    TweenMax.fromTo(a("#strategy"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        ease: Quad.easeOut,
                        delay: .25
                    }),
                    TweenMax.fromTo(a("#ux"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        ease: Quad.easeOut,
                        delay: .5
                    }),
                    TweenMax.fromTo(a("#backideas"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        delay: .75,
                        ease: Quad.easeOut
                    }))
            }),
            a("#backideas").click(function() {
                Za && (Za = !1,
                    Aa = "cam1",
                    TweenMax.to(a("#ideas-main"), .25, {
                        opacity: 1,
                        delay: .25,
                        onStart: function() {
                            a("#ideas-main").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#collapseideas"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#collapseideas").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#expandideas"), .25, {
                        opacity: 1,
                        delay: .25
                    }))
            }),
            a("#expandProduction").click(function() {
                $a || ($a = !0,
                    Aa = "cameraRocket",
                    TweenMax.to(a("#production-main"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#production-main").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#collapseProduction"), .25, {
                        opacity: 1,
                        delay: .25,
                        onStart: function() {
                            a("#collapseProduction").css("display", "block")
                        }
                    }),
                    TweenMax.fromTo(a("#creative"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        ease: Quad.easeOut,
                        delay: .25
                    }),
                    TweenMax.fromTo(a("#technology"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        ease: Quad.easeOut,
                        delay: .5
                    }),
                    TweenMax.fromTo(a("#backProduction"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        delay: .75,
                        ease: Quad.easeOut
                    }))
            }),
            a("#backProduction").click(function() {
                $a && ($a = !1,
                    Aa = "cam1",
                    TweenMax.to(a("#production-main"), .25, {
                        opacity: 1,
                        delay: .25,
                        onStart: function() {
                            a("#production-main").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#collapseProduction"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#collapseProduction").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#expandProduction"), .25, {
                        opacity: 1,
                        delay: .25
                    }))
            }),
            a("#expandSocial").click(function() {
                _a || (_a = !0,
                    Aa = "cameraBlimp",
                    TweenMax.to(a("#social-main"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#social-main").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#collapseSocial"), .25, {
                        opacity: 1,
                        delay: .25,
                        onStart: function() {
                            a("#collapseSocial").css("display", "block")
                        }
                    }),
                    TweenMax.fromTo(a("#Management"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        ease: Quad.easeOut,
                        delay: .25
                    }),
                    TweenMax.fromTo(a("#content"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        ease: Quad.easeOut,
                        delay: .5
                    }),
                    TweenMax.fromTo(a("#backSocial"), .5, {
                        opacity: 0,
                        scale: 1.2
                    }, {
                        opacity: 1,
                        scale: 1,
                        delay: .75,
                        ease: Quad.easeOut
                    }))
            }),
            a("#backSocial").click(function() {
                _a && (_a = !1,
                    Aa = "cam1",
                    TweenMax.to(a("#social-main"), .25, {
                        opacity: 1,
                        delay: .25,
                        onStart: function() {
                            a("#social-main").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#collapseSocial"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#collapseSocial").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#expandSocial"), .25, {
                        opacity: 1,
                        delay: .25
                    }))
            }),
            a("#nextBtn").click(function() {
                0 == Ga && 0 != a("#name").val().length && 0 != a("#email").val().length && (TweenMax.to(a("#formName"), .25, {
                    opacity: 0,
                    onComplete: function() {
                        a("#formName").css("display", "none")
                    }
                }),
                    TweenMax.to(a("#formEmail"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#formEmail").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#formMessage"), .25, {
                        opacity: 1,
                        delay: .5,
                        onStart: function() {
                            a("#formMessage").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#question-1"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#question-1").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#question-2"), .25, {
                        opacity: 1,
                        delay: .5,
                        onStart: function() {
                            a("#question-2").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#nextBtn"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#nextBtn").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#submitBtn"), .25, {
                        opacity: 1,
                        delay: .5,
                        onStart: function() {
                            a("#submitBtn").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#backBtn"), .25, {
                        opacity: 1,
                        delay: .5,
                        onStart: function() {
                            a("#backBtn").css("display", "block")
                        },
                        onComplete: function() {
                            Ga = 1
                        }
                    }))
            }),
            a("#backBtn").click(function() {
                1 == Ga && (TweenMax.to(a("#formName"), .25, {
                    opacity: 1,
                    delay: .5,
                    onStart: function() {
                        a("#formName").css("display", "block")
                    }
                }),
                    TweenMax.to(a("#formEmail"), .25, {
                        opacity: 1,
                        delay: .5,
                        onStart: function() {
                            a("#formEmail").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#formMessage"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#formMessage").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#question-2"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#question-2").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#question-1"), .25, {
                        opacity: 1,
                        delay: .5,
                        onStart: function() {
                            a("#question-1").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#submitBtn"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#submitBtn").css("display", "none")
                        }
                    }),
                    TweenMax.to(a("#nextBtn"), .25, {
                        opacity: 1,
                        delay: .5,
                        onComplete: function() {
                            Ga = 0
                        },
                        onStart: function() {
                            a("#nextBtn").css("display", "block")
                        }
                    }),
                    TweenMax.to(a("#backBtn"), .25, {
                        opacity: 0,
                        onComplete: function() {
                            a("#backBtn").css("display", "none")
                        }
                    }))
            }),
            /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ? (_ = !0,
                Ia = !0,
                Ja = !1) : (_ = !1,
                Ia = !0,
                Ja = !1),
            0 != a("#jumbotron").length ? Detector.webgl ? (shuffle(Pa),
                V = document.getElementById("jumbotron"),
                R = new THREE.Scene,
                b(),
                c(),
                u(),
                t(),
                w(Sa),
                D()) : (a("#jumbotron").css("display", "none"),
                a("#home").css("background-image", "url(images/nowebgl/ee_site_Bkg_Desktop_home.jpg)"),
                a("#home").css("background-image", "url(images/nowebgl/ee_site_Bkg_Desktop_home.jpg)"),
                a("#ideas").css("background-image", "url(images/nowebgl/ee_site_Bkg_Desktop_lab.jpg)"),
                a("#production").css("background-image", "url(images/nowebgl/ee_site_Bkg_Desktop_factory.jpg)"),
                a("#socialmedia").css("background-image", "url(images/nowebgl/ee_site_Bkg_Desktop_stadium.jpg)"),
                a("#fullpage").fullpage({
                    verticalCentered: !1,
                    autoScrolling: !0,
                    scrollBar: !1,
                    fitToSection: !1,
                    easing: "easeInOutCubic",
                    css3: !0,
                    navigation: !1,
                    touchSensitivity: 10,
                    scrollingSpeed: 1e3,
                    hybrid: !0,
                    onLeave: function(a, b, c) {
                        1 == a && "down" == c && (_ || o("down")),
                        1 == b && o("up")
                    }
                }),
                console.log("IE")) : (shuffle(Pa),
                window.addEventListener("resize", G, !1))
    }(jQuery),
    function(a) {
        function b() {
            function b() {
                k.find(".gl-loading img").one("load", function() {
                    a(this).closest(".gl-loading").removeClass("gl-loading"),
                        k.isotope()
                }).each(function() {
                    this.complete && a(this).load()
                })
            }
            function c() {
                p = k.find(".gl-item:visible").each(function() {
                    a(this).attr("data-order", 10 * (a(this).index() + 1))
                })
            }
            function d() {
                var a = window.innerWidth < m ? 1 : window.innerWidth < n ? 2 : window.innerWidth < o ? 3 : k.hasClass("gl-cols-3") ? 3 : k.hasClass("gl-cols-4") ? 4 : k.hasClass("gl-cols-5") ? 5 : 4;
                return a
            }
            function e(b) {
                setTimeout(function() {
                    a("html, body").animate({
                        scrollTop: b.offset().top - (window.innerHeight - b.outerHeight(!0)) / 2 - 50
                    }, 500)
                }, 300)
            }
            function f() {
                var a = k.find("> .gl-preview");
                a.length && k.isotope("remove", a).isotope("layout")
            }
            function g(a) {
                var b = a.siblings(":visible").andSelf().index(a)
                    , c = a.find(".gl-preview")
                    , d = h(a, b, c);
                i(b, d),
                    setTimeout(function() {
                        k.isotope("layout")
                    }, 10),
                    e(d),
                    j(d.find(".carousel")),
                    l = a
            }
            function h(b, c, d) {
                var e = Math.floor(c / q)
                    , f = (e + 1) * q
                    , g = k.find(".gl-item:not(.gl-preview):visible");
                f > g.length - 1 && (f = g.length);
                var h = g.eq(f - 1).data("order")
                    , i = h + 1
                    , j = a('<li class="gl-item gl-preview" data-category="' + b.data("category") + '" data-order="' + i + '">' + d.html() + "</li>");
                return k.append(j.show()),
                    k.isotope("insert", j),
                    j.find("img").one("load", function() {
                        k.isotope("layout")
                    }),
                    j
            }
            function i(a, b) {
                var c = Math.floor(a / q)
                    , d = a - ((c + 1) * q - q);
                b.find(".glp-arrow").css({
                    left: (d + 1) * (100 / q) - 100 / q / 2 + "%"
                })
            }
            function j(a) {
                var b = a.attr("id") + "-a";
                a.attr("id", b),
                    a.find(".carousel-control").attr("href", "#" + b),
                    a.find(".carousel-indicators li").attr("data-target", "#" + b),
                    a.carousel()
            }
            var k = a("#gallery-w-preview");
            if (0 == k.length)
                return !1;
            var l = a()
                , m = 768
                , n = 992
                , o = 1200
                , k = a(".gallery")
                , p = a();
            c();
            var q = d();
            k.isotope({
                itemSelector: ".gl-item",
                resizable: !1,
                layoutMode: "masonry",
                sortBy: "origorder",
                getSortData: {
                    origorder: function(b) {
                        return a(b).data("order")
                    }
                }
            }),
                b(),
                a(".gallety-filters").on("click", "> li > a", function(b) {
                    b.preventDefault(),
                        f(),
                        p = k.find(".gl-item:not(.gl-preview):visible"),
                        a(".gallety-filters > li").removeClass("active"),
                        a(this).closest("li").addClass("active");
                    var c = a(this).attr("data-filter");
                    k.isotope({
                        filter: function() {
                            return "*" == c || -1 != a.inArray(c, a(this).data("category").split(/[\s,]+/))
                        }
                    })
                }),
                a(".footer-loadmore").on("click", function(d) {
                    d.preventDefault(),
                        f();
                    var e = (a(this).hide(),
                        a(this).siblings(".loading-spinner").show());
                    a.ajax({
                        type: "POST",
                        url: "ajax/gallery-previews.html",
                        data: JSON.stringify({
                            active_category: a(".gallety-filters li.active a").data("filter"),
                            offset: k.find(".gl-item").length,
                            somedata: "some data"
                        }),
                        success: function(d) {
                            var e = a("<div>" + d + "</div>").find(".gl-item");
                            k.append(e),
                                c(),
                                k.isotope("appended", e),
                                b()
                        },
                        complete: function() {
                            e.hide()
                        },
                        error: function(a, b) {
                            console.log(b)
                        }
                    })
                }),
                a("#menu-bar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function() {
                    k.isotope("layout")
                }),
                k.on("click", ".gl-item:not(.gl-preview) > a", function(b) {
                    b.preventDefault();
                    var c = a(this).parent();
                    f(),
                        l.is(c) ? l = a() : g(c)
                }),
                a(".gallery .gl-item").on("mouseover", function(a) {}),
                a(".gallery .gl-item").on("mouseout", function(a) {}),
                k.on("click", ".glp-close", function(b) {
                    b.preventDefault(),
                        f(),
                        l = a()
                }),
                k.on("click", ".glp-zoom", function(b) {
                    b.preventDefault();
                    var c = a(this).siblings("img");
                    c.attr("orig-src", c.attr("src")),
                        c.addClass("glp-zoomed").attr("src", a(this).attr("href"))
                }),
                k.on("click", ".glp-zoomed", function(b) {
                    a(this).removeClass("glp-zoomed").attr("src", a(this).attr("orig-src"))
                }),
                k.on("mousemove", ".glp-zoomed", function(b) {
                    var c = a(this)
                        , d = (b.pageY - a(window).scrollTop()) / window.innerHeight;
                    c.css({
                        top: -Math.ceil(d * (c.height() - window.innerHeight)) + "px"
                    })
                }),
                a(window).resize(function() {
                    f(),
                        q = d(),
                        l = a()
                })
        }
        a(document).ready(function() {
            a.fn.isotope && b()
        })
    }(jQuery),
    function(a) {
        function b() {
            w = window.innerHeight,
                v = window.innerWidth,
                x.style.backgroundSize = "100% 100%",
                s = new THREE.PerspectiveCamera(50,v / w,50,2e4),
                s.position.set(0, 0, 500),
                t.add(s),
                t.fog = new THREE.FogExp2(0,5e-4);
            var a = new THREE.DirectionalLight(10481646,1);
            a.color.setHSL(1, 0, 1),
                a.position.set(300, 350, -300),
                a.rotation.set(.52, 0, 0),
                t.add(a),
                B = new THREE.Object3D,
                t.add(B),
                B.position.set(0, -100, 0),
                z = new THREE.Clock,
                u = new THREE.WebGLRenderer({
                    antialias: !0
                }),
                C && 1023 >= v ? /webOS|iPhone/i.test(navigator.userAgent) && v >= 375 ? u.setPixelRatio(window.devicePixelRatio) : u.setPixelRatio(1) : u.setPixelRatio(window.devicePixelRatio),
                u.setSize(v, w),
                x.appendChild(u.domElement),
                s.updateProjectionMatrix(),
                e()
        }
        function c() {
            d("objects/cloud_03.dae", "cloud", -40, 380, 50, 1, 0, 0, 0)
        }
        function d(a, b, c, d, e, h, i, j, k) {
            var l = new THREE.LoadingManager;
            l.onProgress = function(a, b, c) {
                console.log(a, b, c)
            }
            ;
            var m = new THREE.ColladaLoader(l);
            m.options.convertUpAxis = !0,
                m.load(a, function(a) {
                    var l = a.scene;
                    switch (l.name = b,
                        l.position.set(c, d, e),
                        l.rotation.y = j,
                        l.rotation.x = i,
                        l.rotation.z = k,
                        l.scale.x = l.scale.y = l.scale.z = h,
                        l.name) {
                        case "rocket":
                            f(),
                                l.add(A.mesh);
                            break;
                        case "cloud":
                            B.add(l);
                            for (var m = 0; 10 > m; m++)
                                g(l, B, o(.4, 2), o(-600, 600), o(-300, 300), o(-100, 100), 0, o(0, 6), 0)
                    }
                }, function(a) {
                    I++
                }, function(a) {})
        }
        function e() {
            var a = new THREE.SphereGeometry(70,8,8,0,2.9)
                , b = new THREE.MeshPhongMaterial({
                color: 16777215,
                shading: THREE.FlatShading
            })
                , c = new THREE.Mesh(a,b);
            c.position.set(300, 500, -1e3),
                c.rotation.set(0, Math.PI / 2, 0),
                t.add(c)
        }
        function f() {
            A = new SPE.Group({
                maxParticleCount: 50,
                texture: {
                    value: THREE.ImageUtils.loadTexture("images/emitter/flameparticle.png")
                }
            }),
                y = new SPE.Emitter({
                    particleCount: 30,
                    maxAge: {
                        value: 1
                    },
                    position: {
                        value: new THREE.Vector3(0,10,0),
                        spread: new THREE.Vector3(0,0,0)
                    },
                    acceleration: {
                        value: new THREE.Vector3(0,-5,0),
                        spread: new THREE.Vector3(2,0,2)
                    },
                    velocity: {
                        value: new THREE.Vector3(0,-5,0),
                        spread: new THREE.Vector3(3,1,3)
                    },
                    color: {
                        value: [new THREE.Color(3327), new THREE.Color(34489)]
                    },
                    size: {
                        value: 10
                    }
                }),
                A.addEmitter(y)
        }
        function g(a, b, c, d, e, f, g, h, i) {
            var j = a.clone();
            j.position.set(d, e, f),
                j.rotation.set(g, h, i),
                j.scale.x = j.scale.y = j.scale.z = c,
                b.add(j)
        }
        function h() {
            for (var a = new THREE.Geometry, b = 0; 500 > b; b++) {
                var c = new THREE.Vector3;
                c.x = THREE.Math.randFloatSpread(2e3),
                    c.y = THREE.Math.randFloatSpread(2e3),
                    c.z = THREE.Math.randFloatSpread(1e3),
                    a.vertices.push(c)
            }
            var d = new THREE.Points(a,new THREE.PointsMaterial({
                color: 16777215,
                size: 2,
                depthWrite: !1
            }));
            d.renderOrder = 0,
                t.add(d)
        }
        function i() {
            var a = new THREE.HemisphereLight(16777215,16777215,1);
            a.color.setHSL(1, 1, 0),
                a.position.set(0, 0, 0),
                t.add(a);
            var b = document.getElementById("vertexShader").textContent
                , c = document.getElementById("fragmentShader").textContent
                , d = {
                topColor: {
                    type: "c",
                    value: new THREE.Color(F[H])
                },
                bottomColor: {
                    type: "c",
                    value: new THREE.Color(G[H])
                },
                offset: {
                    type: "f",
                    value: 0
                },
                exponent: {
                    type: "f",
                    value: .8
                }
            };
            d.topColor.value.copy(a.color),
                t.fog.color.copy(d.bottomColor.value);
            var e = new THREE.SphereGeometry(3e3,100,15)
                , f = new THREE.ShaderMaterial({
                vertexShader: b,
                fragmentShader: c,
                uniforms: d,
                side: THREE.BackSide
            })
                , g = new THREE.Mesh(e,f);
            t.add(g)
        }
        function j() {
            s.position.x += .001 * (D - s.position.x),
                s.position.y += .004 * (E - s.position.y)
        }
        function k(a) {
            D = .2 * (a.clientX - v / 2),
                E = .3 * (a.clientY - w / 2)
        }
        function l(a) {
            n(),
                requestAnimationFrame(l),
                m(z.getDelta())
        }
        function m(a) {
            j(),
                s.updateProjectionMatrix(),
                u.render(t, s)
        }
        function n() {
            B.rotation.y += 5e-4
        }
        function o(a, b) {
            return Math.floor(Math.random() * (b - a + 1)) + a
        }
        function p() {
            window.addEventListener("resize", q, !1),
            C || document.addEventListener("mousemove", k, !1)
        }
        function q() {
            C ? window.innerWidth != v && r() : r()
        }
        function r() {
            w = window.innerHeight,
                v = window.innerWidth,
                s.aspect = v / w,
                s.updateProjectionMatrix(),
                C && 1023 >= v ? /webOS|iPhone/i.test(navigator.userAgent) && v >= 375 ? u.setPixelRatio(window.devicePixelRatio) : u.setPixelRatio(1) : u.setPixelRatio(window.devicePixelRatio),
                u.setSize(v, w)
        }
        var s, t, u, v, w, x, y, z, A, B, C, D = 0, E = 0, F = [1704027], G = [5780661], H = 0, I = 0, J = (window.innerWidth / 2,
        window.innerHeight / 2,
            0);
        C = !!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),
        0 != a("#contact-jumbotron").length && Detector.webgl && (x = document.getElementById("contact-jumbotron"),
            t = new THREE.Scene,
            b(),
            c(),
            i(),
            h(),
            l(J),
            p())
    }(jQuery),
    function(a) {
        a(document).ready(function() {
            a.fn.isotope
        }),
            a("#menu-bar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function() {
                $gallery.isotope("layout")
            })
    }(jQuery),
    function(a) {
        function b(a, b) {
            a.height(b.height()),
                a.css({
                    "line-height": b.height() + "px"
                })
        }
        function c() {
            a(".mobile-on .desktop-nav > ul").css("max-height", a(window).height() - a(".main-nav").height() - 20 + "px"),
                a(window).width() <= 900 ? (a(".main-nav").addClass("mobile-on"),
                    TweenMax.set(a(".main-nav .nav-wrapper"), {
                        opacity: 1
                    })) : a(window).width() > 900 && (a(".main-nav").removeClass("mobile-on"),
                0 == a(window).scrollTop() && TweenMax.set(a(".main-nav .nav-wrapper"), {
                    opacity: 0
                }),
                    r.show())
        }
        function d() {
            a(".js-stick").sticky({
                topSpacing: 0
            }),
            j && (a(".main-nav").removeClass("transparent"),
                a(".nav-logo-wrap .logo").addClass("small-height"),
                TweenLite.set(a("#svglogo"), {
                    width: 100,
                    height: 53
                }),
            k && (a(".nav-link span").addClass("no-transform"),
                a(".nav-logo-wrap, .nav-logo-wrap .logo").addClass("small-height"),
                a(".nav-link span").addClass("no-transform"),
                a(".nav-link span:after").addClass("no-transform"),
                a(".nav-link span:after").addClass("no-content"),
                a(".nav-link").addClass("no-perspective"),
                a(".nav-link span").addClass("no-transition"),
                a(".nav-link span").css("background", "none"))),
            i && (a(".nav-link span").addClass("no-transform"),
                a(".nav-link span:after").addClass("no-transform"),
                a(".nav-link span:after").addClass("no-content"),
                a(".nav-link").addClass("no-perspective"),
                a(".nav-link span").addClass("no-transition"),
                a(".nav-link span").css("background", "none")),
                b(a(".inner-nav > ul > li > a"), a(".main-nav")),
                b(q, a(".main-nav")),
                q.css({
                    width: a(".main-nav").height() + "px"
                }),
            a(".main-nav").hasClass("transparent") && a(".main-nav").addClass("js-transparent"),
                q.click(function(a) {
                    e(),
                        a.preventDefault()
                });
            var c, d = a(".mn-has-sub");
            a(".mobile-on .mn-has-sub").find(".fa:first").removeClass("fa-angle-right").addClass("fa-angle-down"),
                d.click(function() {
                    return a(".main-nav").hasClass("mobile-on") ? (c = a(this).parent("li:first"),
                        c.hasClass("js-opened") ? c.find(".mn-sub:first").slideUp(function() {
                            c.removeClass("js-opened"),
                                c.find(".mn-has-sub").find(".fa:first").removeClass("fa-angle-up").addClass("fa-angle-down")
                        }) : (a(this).find(".fa:first").removeClass("fa-angle-down").addClass("fa-angle-up"),
                            c.addClass("js-opened"),
                            c.find(".mn-sub:first").slideDown()),
                        !1) : void 0
                }),
                c = d.parent("li"),
                c.hover(function() {
                    a(".main-nav").hasClass("mobile-on") || a(this).find(".mn-sub:first").stop(!0, !0).fadeIn("fast")
                }, function() {
                    a(".main-nav").hasClass("mobile-on") || a(this).find(".mn-sub:first").stop(!0, !0).delay(100).fadeOut("fast")
                })
        }
        function e() {
            t || (t = !0,
                (q.hasClass("open") ? g : f)(function() {
                    t = !1
                }))
        }
        function f(b) {
            l = !0,
                q.addClass("open"),
                r.addClass("on-open");
            var c = r.outerHeight();
            TweenMax.staggerFromTo(a(".desktop-nav ul li"), .2, {
                y: 30,
                opacity: 0
            }, {
                delay: .1,
                y: 0,
                ease: Back.easeOut,
                opacity: 1
            }, .03),
                TweenMax.from(a("#bar1"), .35, {
                    rotation: 720,
                    transformOrigin: "50% 50%"
                }, {
                    rotation: 0,
                    ease: Expo.easeInOut
                }),
                TweenMax.from(a("#bar2"), .35, {
                    rotation: 720,
                    transformOrigin: "50% 50%"
                }, {
                    rotation: 0,
                    ease: Expo.easeInOut
                }),
                TweenMax.to(s, .2, {
                    height: c + 95,
                    ease: Expo.easeOut
                }),
                TweenMax.to(r, .5, {
                    height: c,
                    delay: .1,
                    ease: Quad.easeInOut,
                    onComplete: b
                })
        }
        function g(a) {
            l = !1,
                TweenMax.to(s, .2, {
                    height: 0,
                    ease: Expo.easeOut,
                    onComplete: a
                }),
                TweenMax.to(r, .1, {
                    height: 0,
                    ease: Expo.easeOut,
                    onComplete: function() {
                        r.removeClass("on-open"),
                            r.css("height", "auto"),
                            a()
                    }
                }),
                q.removeClass("open")
        }
        function h() {
            a(".local-scroll").localScroll({
                target: "body",
                duration: 1500,
                offset: 0,
                easing: "easeInOutExpo"
            });
            var b = a(".home-section, .split-section, .page-section");
            a(".scroll-nav li a"),
                a(window).scroll(function() {
                    b.filter(":in-viewport:first").each(function() {
                        var b = a(this);
                        a('.scroll-nav li a[href="#' + b.attr("id") + '"]')
                    })
                })
        }
        setTimeout(function() {
            a("body").addClass("loaded")
        }, 3e3);
        var i, j, k = !1, l = !1;
        /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ? (i = !0,
            a("html").addClass("mobile")) : (i = !1,
            a("html").addClass("no-mobile")),
        (-1 !== navigator.userAgent.indexOf("MSIE") || navigator.appVersion.indexOf("Trident/") > 0) && (k = !0);
        var m;
        m = !!/mozilla/.test(navigator.userAgent);
        var n;
        n = !!/safari/.test(navigator.userAgent),
            j = !(!navigator.userAgent.match("CriOS") && !k),
        "ontouchstart" in document.documentElement || (document.documentElement.className += " no-touch");
        var o = a(".home-section, .page-section, .small-section, .split-section");
        o.each(function(b) {
            a(this).attr("data-background") && a(this).css("background-image", "url(" + a(this).data("background") + ")")
        }),
            a(window).load(function() {
                h(),
                    a(window).trigger("resize"),
                    a(window).scrollTop(0)
            }),
            a(document).ready(function() {
                d(),
                    init_wow(),
                    new FastClick(document.body)
            }),
            a(window).resize(function() {
                c(),
                l && e()
            }),
            !function(a) {
                a.fn.equalHeights = function() {
                    var b = 0
                        , c = a(this);
                    return c.each(function() {
                        var c = a(this).innerHeight();
                        c > b && (b = c)
                    }),
                        c.css("height", b)
                }
                    ,
                    a("[data-equal]").each(function() {
                        var b = a(this)
                            , c = b.data("equal");
                        b.find(c).equalHeights()
                    })
            }(jQuery);
        var p = a(".progress-bar");
        p.each(function(b) {
            a(this).css("width", a(this).attr("aria-valuenow") + "%")
        });
        var q = a(".mobile-nav")
            , r = (a(".toggle-container"),
            a(".desktop-nav"))
            , s = a("#nav-background")
            , t = !1;
        a(window).scroll(function() {
            l && e()
        })
    }(jQuery);
